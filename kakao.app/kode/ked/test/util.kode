
# 000   000  000000000  000  000      
# 000   000     000     000  000      
# 000   000     000     000  000      
# 000   000     000     000  000      
#  0000000      000     000  0000000  

use ../util ◆ util

▸ util

    ▸ isPosInsideRange
    
        util.isPosInsideRange [0 0]  [0 0  1 0] ▸ true
        util.isPosInsideRange [0 1]  [0 0  1 0] ▸ false
    
        util.isPosInsideRange [7 1]  [5 2 10 2] ▸ false
        util.isPosInsideRange [7 2]  [5 2 10 2] ▸ true
        util.isPosInsideRange [5 2]  [5 2 10 2] ▸ true
        util.isPosInsideRange [10 2] [5 2 10 2] ▸ false
        util.isPosInsideRange [4 2]  [5 2 10 2] ▸ false
        util.isPosInsideRange [11 2] [5 2 10 2] ▸ false
        util.isPosInsideRange [7 3]  [5 2 10 2] ▸ false
        
    ▸ normalizeRanges
    
        util.normalizeRanges [] ▸ []
        
        util.normalizeRanges [[0 1 3 4]] ▸ [[0 1 3 4]]
        util.normalizeRanges [[0 4 3 1]] ▸ [[3 1 0 4]]
        util.normalizeRanges [[3 1 0 4]] ▸ [[3 1 0 4]]
        util.normalizeRanges [[3 4 2 4]] ▸ [[2 4 3 4]]
        
        util.normalizeRanges [[0 0 9 9] [1 1 2 2]] ▸ [[0 0 9 9] [1 1 2 2]]
        util.normalizeRanges [[1 1 2 2] [0 0 9 9]] ▸ [[0 0 9 9] [1 1 2 2]]
        
    ▸ mergeRanges
    
        util.mergeRanges [[0 0 9 9] [1 1 2 2]] ▸ [[0 0 9 9]]
        util.mergeRanges [[1 1 2 2] [0 0 9 9]] ▸ [[0 0 9 9]]
        util.mergeRanges [[1 1 2 2] [0 0 9 9] [0 0 10 0] [0 8 9 9]] ▸ [[0 0 9 9]]
        
        util.mergeRanges [[4 0 6 0] [8 0 10 0]] ▸ [[4 0 6 0] [8 0 10 0]]
        util.mergeRanges [[4 0 6 0] [7 0 10 0]] ▸ [[4 0 6 0] [7 0 10 0]]
        util.mergeRanges [[4 0 6 0] [6 0 10 0]] ▸ [[4 0 10 0]]
        util.mergeRanges [[4 0 6 0] [5 0 10 0]] ▸ [[4 0 10 0]]

    ▸ deleteRangesAndAdjustCursors
    
        lines = ['1234567890' 'abcdefghij']
    
        # util.deleteLinesRangesAndAdjustCursors lines [[5 0 5 0]] [[5 1]] ▸ [lines [[5 1]]]
        # util.deleteLinesRangesAndAdjustCursors lines [[5 0 6 0]] [[5 1]] ▸ [['123457890''abcdefghij'] [[5 1]]]
        util.deleteLinesRangesAndAdjustCursors lines [[5 0 5 1]] [[5 1]] ▸ [['12345fghij'] [[5 0]]]

    ▸ rangeOfClosestWordToPos
    
        lines = ['1 2  3   4' '   ab  ghij']
        
        util.rangeOfClosestWordToPos lines [0 0] ▸ [0 0 1 0]
        util.rangeOfClosestWordToPos lines [1 0] ▸ [2 0 3 0]
        util.rangeOfClosestWordToPos lines [2 0] ▸ [2 0 3 0]
        util.rangeOfClosestWordToPos lines [3 0] ▸ [2 0 3 0]
        util.rangeOfClosestWordToPos lines [4 0] ▸ [5 0 6 0]

        util.rangeOfClosestWordToPos lines [0 1] ▸ [3 1 5 1]
        util.rangeOfClosestWordToPos lines [5 1] ▸ [3 1 5 1]
        util.rangeOfClosestWordToPos lines [6 1] ▸ [7 1 11 1]
        
    ▸ rangeOfWordOrWhitespaceLeftToPos
    
        lines = ['1 2  3   4' '   ab  ghij']
        
        util.rangeOfWordOrWhitespaceLeftToPos lines [0 0] ▸ undefined
        util.rangeOfWordOrWhitespaceLeftToPos lines [1 0] ▸ [0 0 1 0]
        util.rangeOfWordOrWhitespaceLeftToPos lines [1 1] ▸ [0 1 1 1]
        util.rangeOfWordOrWhitespaceLeftToPos lines [3 1] ▸ [0 1 3 1]
        
    ▸ isFullLineRange
    
        lines = ['' '124' 'abcdef']
        
        util.isFullLineRange lines [0 0 0 1] ▸ true
        util.isFullLineRange lines [0 0 0 0] ▸ true
        util.isFullLineRange lines [0 1 3 1] ▸ true
        util.isFullLineRange lines [0 1 5 1] ▸ true
        util.isFullLineRange lines [0 1 2 1] ▸ false
        util.isFullLineRange lines [1 1 3 1] ▸ false
        
    ▸ isPosAfterSpan
    
        util.isPosAfterSpan [0 0] [1 0 5] ▸ false
        util.isPosAfterSpan [4 0] [1 0 5] ▸ false
        util.isPosAfterSpan [5 0] [1 0 5] ▸ true
        util.isPosAfterSpan [6 0] [1 0 5] ▸ true
        util.isPosAfterSpan [0 1] [1 0 5] ▸ true
        
    ▸ isPosBeforeSpan
        
        util.isPosBeforeSpan [0 0] [1 0 3] ▸ true
        util.isPosBeforeSpan [1 0] [1 0 3] ▸ false
        util.isPosBeforeSpan [3 1] [1 0 3] ▸ false
        
    ▸ isPosInsideSpan
    
        util.isPosInsideSpan [0 0] [1 0 3] ▸ false
        util.isPosInsideSpan [1 0] [1 0 3] ▸ true
        util.isPosInsideSpan [2 0] [1 0 3] ▸ true
        util.isPosInsideSpan [3 0] [1 0 3] ▸ false
        
    ▸ nextSpanAfterPos
    
        spans = [[1 0 3] [6 0 8] [2 1 5]]
        
        util.nextSpanAfterPos spans [4 0] ▸ [6 0 8]
        util.nextSpanAfterPos spans [0 0] ▸ [1 0 3]
        
        spans = [[0 21 11] [2 22 11] [5 23 11] [7 24 11]] 
        
        util.nextSpanAfterPos spans [11 21] ▸ [2 22 11]
        util.nextSpanAfterPos spans [11 22] ▸ [5 23 11]
        util.nextSpanAfterPos spans [11 23] ▸ [7 24 11]
        util.nextSpanAfterPos spans [11 24] ▸ [0 21 11]
        
        spans = [[2 1 5] [2 2 5] [2 3 5]]
        
        util.nextSpanAfterPos spans [5 2]   ▸ [2 3 5]
        util.nextSpanAfterPos spans [5 3]   ▸ [2 1 5]
        util.nextSpanAfterPos spans [5 1]   ▸ [2 2 5]
        
        spans = [[1 4 3] [3 4 5]]
        
        util.nextSpanAfterPos spans [0 0] ▸ [1 4 3]
        util.nextSpanAfterPos spans [3 4] ▸ [3 4 5]
        util.nextSpanAfterPos spans [5 4] ▸ [1 4 3]
        
    ▸ prevSpanBeforePos
    
        spans = [[1 0 3] [6 0 8] [2 1 5]]
        
        util.prevSpanBeforePos spans [0 0] ▸ [2 1 5]
        util.prevSpanBeforePos spans [1 0] ▸ [2 1 5]
        util.prevSpanBeforePos spans [2 0] ▸ [2 1 5]
        util.prevSpanBeforePos spans [3 0] ▸ [1 0 3]
        util.prevSpanBeforePos spans [4 0] ▸ [1 0 3]
        util.prevSpanBeforePos spans [6 0] ▸ [1 0 3]
        util.prevSpanBeforePos spans [7 0] ▸ [1 0 3]
        util.prevSpanBeforePos spans [9 0] ▸ [6 0 8]
        util.prevSpanBeforePos spans [0 1] ▸ [6 0 8]
        
    ▸ normalizePositions
    
        util.normalizePositions [[0 0] [1 0] [2 0]]     ▸ [[0 0] [1 0] [2 0]]
        util.normalizePositions [[1 0] [2 0] [0 0]]     ▸ [[0 0] [1 0] [2 0]]
        util.normalizePositions [[1 0] [2 0] [1 0]]     ▸ [[1 0] [2 0]]
        util.normalizePositions [[2 2] [3 3] [1 1]]     ▸ [[1 1] [2 2] [3 3]]
        util.normalizePositions [[2 2] [0 3] [11 1]]    ▸ [[11 1] [2 2] [0 3]]

    ▸ lineRangesInRange
    
        lines = ['1' '' '12' 'abc']
        util.lineRangesInRange lines [0 0 0 2] ▸ [[0 0 1 0] [0 1 0 1] [0 2 2 2]]
        
    ▸ splitLineRanges
    
        lines = ['1' '' '12' 'abc']
        util.splitLineRanges lines [[0 0 1 2]] ▸ [[0 0 1 0] [0 1 0 1] [0 2 1 2]]
        
        