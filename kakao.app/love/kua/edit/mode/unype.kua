###
000   000  000   000  000   000  00000000   00000000
000   000  0000  000   000 000   000   000  000     
000   000  000 0 000    00000    00000000   0000000 
000   000  000  0000     000     000        000     
 0000000   000   000     000     000        00000000
###

fontlist = """
    default
        the quick brown fox jumps over the lazy dog
        THE QUICK BROWN FOX JUMPS OVER THE LAZY DOG 0123456789!@#$%^&*()-+=<>,./?;:'"
    
    crazy
        ùùâùñçœµ ùô¶ùìäùöí‚äÇùõã ùîü…º‚äö‚üí‚à© œù‚äöùìç ùöìùìä‚´ôùî≠ùñò ‚äö‚©óœµ…º ùúèùñçœµ ‚üÖùïíùìèùõæ ùíπ‚äöùöê
        ‚üô‚ÑçŒæ ‚Ñö‚ãÉ‚å∂‚ãêùìö ùö©‚Ñú‚óØùïéùìù ùüä‚äöùîõ ùîç‚ãÉùïÑŒ°ùì¢ ‚óØùì•Œæ‚Ñú ‚üô‚ÑçŒæ ‚é£‚©ú‚ò°ùöº ‚´ê‚óØùô∂
        
    greek
        ùûΩùû±ùüÑ ùüáùûæùû≤ùûªùû≥ ùû´ùûπùû∏ùüÇùû∞ ùûøùû∏ùüÜ ùüÖùûæùûµùû∫ùûº ùû∏ùû∂ùüÑùûπ ùûΩùû±ùüÑ ùû¥ùû™ùûØùû¨ ùû≠ùû∏ùüà
    
    bold
        ùê≠ùê°ùêû ùê™ùêÆùê¢ùêúùê§ ùêõùê´ùê®ùê∞ùêß ùêüùê®ùê± ùê£ùêÆùê¶ùê©ùê¨ ùê®ùêØùêûùê´ ùê≠ùê°ùêû ùê•ùêöùê≥ùê≤ ùêùùê®ùê†
        ùêìùêáùêÑ ùêêùêîùêàùêÇùêä ùêÅùêëùêéùêñùêç ùêÖùêéùêó ùêâùêîùêåùêèùêí ùêéùêïùêÑùêë ùêìùêáùêÑ ùêãùêÄùêôùêò ùêÉùêéùêÜ ùüéùüèùüêùüëùüíùüìùüîùüïùüñùüó
    
    sans
        ùóçùóÅùñæ ùóäùóéùóÇùñºùóÑ ùñªùóãùóàùóêùóá ùñøùóàùóë ùóÉùóéùóÜùóâùóå ùóàùóèùñæùóã ùóçùóÅùñæ ùóÖùñ∫ùóìùóí ùñΩùóàùóÄ
        ùñ≥ùñßùñ§ ùñ∞ùñ¥ùñ®ùñ¢ùñ™ ùñ°ùñ±ùñÆùñ∂ùñ≠ ùñ•ùñÆùñ∑ ùñ©ùñ¥ùñ¨ùñØùñ≤ ùñÆùñµùñ§ùñ± ùñ≥ùñßùñ§ ùñ´ùñ†ùñπùñ∏ ùñ£ùñÆùñ¶ ùü¢ùü£ùü§ùü•ùü¶ùüßùü®ùü©ùü™ùü´
    
    sans bold
        ùòÅùóµùó≤ ùóæùòÇùó∂ùó∞ùó∏ ùóØùóøùóºùòÑùóª ùó≥ùóºùòÖ ùó∑ùòÇùó∫ùóΩùòÄ ùóºùòÉùó≤ùóø ùòÅùóµùó≤ ùóπùóÆùòáùòÜ ùó±ùóºùó¥
        ùóßùóõùóò ùó§ùó®ùóúùóñùóû ùóïùó•ùó¢ùó™ùó° ùóôùó¢ùó´ ùóùùó®ùó†ùó£ùó¶ ùó¢ùó©ùóòùó• ùóßùóõùóò ùóüùóîùó≠ùó¨ ùóóùó¢ùóö ùü¨ùü≠ùüÆùüØùü∞ùü±ùü≤ùü≥ùü¥ùüµ
    
    mono
        ùöùùöëùöé ùööùöûùöíùöåùöî ùöãùöõùöòùö†ùöó ùöèùöòùö° ùöìùöûùöñùöôùöú ùöòùöüùöéùöõ ùöùùöëùöé ùöïùöäùö£ùö¢ ùöçùöòùöê
        ùöÉùô∑ùô¥ ùöÄùöÑùô∏ùô≤ùô∫ ùô±ùöÅùôæùöÜùôΩ ùôµùôæùöá ùôπùöÑùôºùôøùöÇ ùôæùöÖùô¥ùöÅ ùöÉùô∑ùô¥ ùôªùô∞ùöâùöà ùô≥ùôæùô∂ ùü∂ùü∑ùü∏ùüπùü∫ùüªùüºùüΩùüæùüø
    
    double
        ùï•ùïôùïñ ùï¢ùï¶ùïöùïîùïú ùïìùï£ùï†ùï®ùïü ùïóùï†ùï© ùïõùï¶ùïûùï°ùï§ ùï†ùïßùïñùï£ ùï•ùïôùïñ ùïùùïíùï´ùï™ ùïïùï†ùïò
        ùïã‚Ñçùîº ‚ÑöùïåùïÄ‚ÑÇùïÇ ùîπ‚ÑùùïÜùïé‚Ñï ùîΩùïÜùïè ùïÅùïåùïÑ‚Ñôùïä ùïÜùïçùîº‚Ñù ùïã‚Ñçùîº ùïÉùî∏‚Ñ§ùïê ùîªùïÜùîæ ùüòùüôùüöùüõùüúùüùùüûùüüùü†ùü°
    
    italic
        ùë°‚Ñéùëí ùëûùë¢ùëñùëêùëò ùëèùëüùëúùë§ùëõ ùëìùëúùë• ùëóùë¢ùëöùëùùë† ùëúùë£ùëíùëü ùë°‚Ñéùëí ùëôùëéùëßùë¶ ùëëùëúùëî
        ùëáùêªùê∏ ùëÑùëàùêºùê∂ùêæ ùêµùëÖùëÇùëäùëÅ ùêπùëÇùëã ùêΩùëàùëÄùëÉùëÜ ùëÇùëâùê∏ùëÖ ùëáùêªùê∏ ùêøùê¥ùëçùëå ùê∑ùëÇùê∫
    
    italic bold
        ùíïùíâùíÜ ùííùíñùíäùíÑùíå ùíÉùíìùíêùíòùíè ùíáùíêùíô ùíãùíñùíéùíëùíî ùíêùíóùíÜùíì ùíïùíâùíÜ ùíçùíÇùíõùíö ùíÖùíêùíà
        ùëªùëØùë¨ ùë∏ùëºùë∞ùë™ùë≤ ùë©ùëπùë∂ùëæùëµ ùë≠ùë∂ùëø ùë±ùëºùë¥ùë∑ùë∫ ùë∂ùëΩùë¨ùëπ ùëªùëØùë¨ ùë≥ùë®ùíÅùíÄ ùë´ùë∂ùëÆ
    
    sans italic
        ùòµùò©ùò¶ ùò≤ùò∂ùò™ùò§ùò¨ ùò£ùò≥ùò∞ùò∏ùòØ ùòßùò∞ùòπ ùò´ùò∂ùòÆùò±ùò¥ ùò∞ùò∑ùò¶ùò≥ ùòµùò©ùò¶ ùò≠ùò¢ùòªùò∫ ùò•ùò∞ùò®
        ùòõùòèùòå ùòòùòúùòêùòäùòí ùòâùòôùòñùòûùòï ùòçùòñùòü ùòëùòúùòîùòóùòö ùòñùòùùòåùòô ùòõùòèùòå ùòìùòàùò°ùò† ùòãùòñùòé
    
    sans italic bold
        ùô©ùôùùôö ùô¶ùô™ùôûùôòùô† ùôóùôßùô§ùô¨ùô£ ùôõùô§ùô≠ ùôüùô™ùô¢ùô•ùô® ùô§ùô´ùôöùôß ùô©ùôùùôö ùô°ùôñùôØùôÆ ùôôùô§ùôú
        ùôèùôÉùôÄ ùôåùôêùôÑùòæùôÜ ùòΩùôçùôäùôíùôâ ùôÅùôäùôì ùôÖùôêùôàùôãùôé ùôäùôëùôÄùôç ùôèùôÉùôÄ ùôáùòºùôïùôî ùòøùôäùôÇ
    
    script
        ùìâùíΩ‚ÑØ ùìÜùìäùíæùí∏ùìÄ ùí∑ùìá‚Ñ¥ùìåùìÉ ùíª‚Ñ¥ùìç ùíøùìäùìÇùìÖùìà ‚Ñ¥ùìã‚ÑØùìá ùìâùíΩ‚ÑØ ùìÅùí∂ùìèùìé ùíπ‚Ñ¥ùì∞
        ùíØ‚Ñã‚Ñ∞ ùí¨ùí∞‚Ñêùíûùí¶ ‚Ñ¨‚Ñõùí™ùí≤ùí© ‚Ñ±ùí™ùí≥ ùí•ùí∞‚Ñ≥ùí´ùíÆ ùí™ùí±‚Ñ∞‚Ñõ ùíØ‚Ñã‚Ñ∞ ‚Ñíùíúùíµùí¥ ùíüùí™ùí¢
    
    script bold
        ùìΩùì±ùìÆ ùì∫ùìæùì≤ùì¨ùì¥ ùì´ùìªùì∏ùîÄùì∑ ùìØùì∏ùîÅ ùì≥ùìæùì∂ùìπùìº ùì∏ùìøùìÆùìª ùìΩùì±ùìÆ ùìµùì™ùîÉùîÇ ùì≠ùì∏ùì∞
        ùì£ùìóùìî ùì†ùì§ùìòùìíùìö ùìëùì°ùìûùì¶ùìù ùìïùìûùìß ùìôùì§ùìúùìüùì¢ ùìûùì•ùìîùì° ùì£ùìóùìî ùìõùìêùì©ùì® ùììùìûùìñ
    
    fraktur
        ùî±ùî•ùî¢ ùîÆùî≤ùî¶ùî†ùî® ùîüùîØùî¨ùî¥ùî´ ùî£ùî¨ùîµ ùîßùî≤ùî™ùî≠ùî∞ ùî¨ùî≥ùî¢ùîØ ùî±ùî•ùî¢ ùî©ùîûùî∑ùî∂ ùî°ùî¨ùî§
        ùîó‚Ñåùîà ùîîùîò‚Ñë‚Ñ≠ùîé ùîÖ‚Ñúùîíùîöùîë ùîâùîíùîõ ùîçùîòùîêùîìùîñ ùîíùîôùîà‚Ñú ùîó‚Ñåùîà ùîèùîÑ‚Ñ®ùîú ùîáùîíùîä
    
    fraktur bold
        ùñôùñçùñä ùññùñöùñéùñàùñê ùñáùñóùñîùñúùñì ùñãùñîùñù ùñèùñöùñíùñïùñò ùñîùñõùñäùñó ùñôùñçùñä ùñëùñÜùñüùñû ùñâùñîùñå
        ùïøùï≥ùï∞ ùïºùñÄùï¥ùïÆùï∂ ùï≠ùïΩùï∫ùñÇùïπ ùï±ùï∫ùñÉ ùïµùñÄùï∏ùïªùïæ ùï∫ùñÅùï∞ùïΩ ùïøùï≥ùï∞ ùï∑ùï¨ùñÖùñÑ ùïØùï∫ùï≤
        
    small caps
        ·¥õ ú·¥á ÍûØ·¥ú…™·¥Ñ·¥ã  ô Ä·¥è·¥°…¥ Íú∞·¥èùìç ·¥ä·¥ú·¥ç·¥òÍú± ·¥è·¥†·¥á Ä ·¥õ ú·¥á  ü·¥Ä·¥¢ è ·¥Ö·¥è…¢
    
    full width
        ÔΩîÔΩàÔΩÖ„ÄÄÔΩëÔΩïÔΩâÔΩÉÔΩã„ÄÄÔΩÇÔΩíÔΩèÔΩóÔΩé„ÄÄÔΩÜÔΩèÔΩò„ÄÄÔΩäÔΩïÔΩçÔΩêÔΩì„ÄÄÔΩèÔΩñÔΩÖÔΩí„ÄÄÔΩîÔΩàÔΩÖ„ÄÄÔΩåÔΩÅÔΩöÔΩô„ÄÄÔΩÑÔΩèÔΩá
        Ôº¥Ôº®Ôº•„ÄÄÔº±ÔºµÔº©Ôº£Ôº´„ÄÄÔº¢Ôº≤ÔºØÔº∑ÔºÆ„ÄÄÔº¶ÔºØÔº∏„ÄÄÔº™ÔºµÔº≠Ôº∞Ôº≥„ÄÄÔºØÔº∂Ôº•Ôº≤„ÄÄÔº¥Ôº®Ôº•„ÄÄÔº¨Ôº°Ôº∫Ôºπ„ÄÄÔº§ÔºØÔºß
        ÔºêÔºëÔºíÔºìÔºîÔºïÔºñÔºóÔºòÔºôÔºÅÔº†ÔºÉÔºÑÔºÖÔºæÔºÜÔºäÔºàÔºâÔºçÔºãÔºùÔºúÔºûÔºåÔºéÔºèÔºüÔºõÔºöÔºáÔºÇ
    """

class unype

    @map: {}
    
    @: ->   
    
        @name = 'unype'
        @font = 'crazy'
        
        fonts = noon.parse fontlist
        
        if empty unype.map
            def = fonts.default.join ' '
            for font text in pairs fonts
                if font != 'default'
                    unype.map[font] = {}
                    for idx char in ipairs kseg(text.join(' '))
                        if def[idx] != ' '
                            unype.map[font][def[idx]] = char
                        
            unype.map['full width'][' '] = '„ÄÄ'
    
    # ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà
    # ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà       ‚ñà‚ñà‚ñà       ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà     ‚ñà‚ñà‚ñà   
    # ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà ‚ñà ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà       ‚ñà‚ñà‚ñà   
    # ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà       ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà       ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà     ‚ñà‚ñà‚ñà   
    # ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà     ‚ñà‚ñà‚ñà   

    insert: text ->
    
        unype.map[@font][text] or text

    #  0000000   0000000   000       0000000   00000000   
    # 000       000   000  000      000   000  000   000  
    # 000       000   000  000      000   000  0000000    
    # 000       000   000  000      000   000  000   000  
    #  0000000   0000000   0000000   0000000   000   000  
    
    themeColor: colorName defaultColor ->
        
        switch colorName
            'cursor.multi' ‚ûú ‚Æê  theme.scroll.hover
            'cursor.main'  ‚ûú ‚Æê  theme.scroll.dot
        
        defaultColor

‚Æê  unype
