import {createRequire} from "node:module";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __toESM = (mod, isNodeMode, target) => {
  target = mod != null ? __create(__getProtoOf(mod)) : {};
  const to = isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target;
  for (let key of __getOwnPropNames(mod))
    if (!__hasOwnProp.call(to, key))
      __defProp(to, key, {
        get: () => mod[key],
        enumerable: true
      });
  return to;
};
var __commonJS = (cb, mod) => () => (mod || cb((mod = { exports: {} }).exports, mod), mod.exports);
var __require = createRequire(import.meta.url);

// lib/token.js
var require_token = __commonJS((exports, module) => {
  /*!
   * Stylus - Token
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var inspect = __require("util").inspect;
  exports = module.exports = class Token {
    constructor(type, val) {
      this.type = type;
      this.val = val;
    }
    inspect() {
      var val = " " + inspect(this.val);
      return "[Token:" + this.lineno + ":" + this.column + " " + "\x1B[32m" + this.type + "\x1B[0m" + "\x1B[33m" + (this.val ? val : "") + "\x1B[0m" + "]";
    }
    toString() {
      return (this.val === undefined ? this.type : this.val).toString();
    }
  };
});

// lib/visitor/index.js
var require_visitor = __commonJS((exports, module) => {
  /*!
   * Stylus - Visitor
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  module.exports = class Visitor {
    constructor(root) {
      this.root = root;
    }
    visit(node, fn) {
      var method = "visit" + node.constructor.name;
      if (this[method])
        return this[method](node);
      return node;
    }
  };
});

// lib/units.js
var require_units = __commonJS((exports, module) => {
  /*!
   * Stylus - units
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  module.exports = [
    "em",
    "ex",
    "ch",
    "rem",
    "vw",
    "svw",
    "lvw",
    "dvw",
    "vh",
    "svh",
    "lvh",
    "dvh",
    "vi",
    "svi",
    "lvi",
    "dvi",
    "vb",
    "svb",
    "lvb",
    "dvb",
    "vmin",
    "svmin",
    "lvmin",
    "dvmin",
    "vmax",
    "svmax",
    "lvmax",
    "dvmax",
    "cm",
    "mm",
    "in",
    "pt",
    "pc",
    "px",
    "deg",
    "grad",
    "rad",
    "turn",
    "s",
    "ms",
    "Hz",
    "kHz",
    "dpi",
    "dpcm",
    "dppx",
    "x",
    "%",
    "fr"
  ];
});

// lib/stack/index.js
var require_stack = __commonJS((exports, module) => {
  /*!
   * Stylus - Stack
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  module.exports = class Stack extends Array {
    constructor() {
      super();
      Array.apply(this, arguments);
    }
    push(frame) {
      frame.stack = this;
      frame.parent = this.currentFrame;
      return [].push.apply(this, arguments);
    }
    get currentFrame() {
      return this[this.length - 1];
    }
    getBlockFrame(block) {
      for (var i = 0;i < this.length; ++i) {
        if (block == this[i].block) {
          return this[i];
        }
      }
    }
    lookup(name) {
      var block = this.currentFrame.block, val, ret;
      do {
        var frame = this.getBlockFrame(block);
        if (frame && (val = frame.lookup(name))) {
          return val;
        }
      } while (block = block.parent);
    }
    inspect() {
      return this.reverse().map(function(frame) {
        return frame.inspect();
      }).join("\n");
    }
    toString() {
      var block, node, buf = [], location, len = this.length;
      while (len--) {
        block = this[len].block;
        if (node = block.node) {
          location = "(" + node.filename + ":" + (node.lineno + 1) + ":" + node.column + ")";
          switch (node.nodeName) {
            case "function":
              buf.push("    at " + node.name + "() " + location);
              break;
            case "group":
              buf.push('    at "' + node.nodes[0].val + '" ' + location);
              break;
          }
        }
      }
      return buf.join("\n");
    }
  };
});

// lib/stack/scope.js
var require_scope = __commonJS((exports, module) => {
  /*!
   * Stylus - stack - Scope
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  module.exports = class Scope {
    constructor() {
      this.locals = {};
    }
    add(ident) {
      this.locals[ident.name] = ident.val;
    }
    lookup(name) {
      return this.locals.hasOwnProperty(name) ? this.locals[name] : undefined;
    }
    inspect() {
      var keys = Object.keys(this.locals).map(function(key) {
        return "@" + key;
      });
      return "[Scope" + (keys.length ? " " + keys.join(", ") : "") + "]";
    }
  };
});

// lib/stack/frame.js
var require_frame = __commonJS((exports, module) => {
  /*!
   * Stylus - stack - Frame
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Scope = require_scope();
  module.exports = class Frame {
    constructor(block) {
      this._scope = block.scope === false ? null : new Scope;
      this.block = block;
    }
    get scope() {
      return this._scope || this.parent.scope;
    }
    lookup(name) {
      return this.scope.lookup(name);
    }
    inspect() {
      return "[Frame " + (this.block.scope === false ? "scope-less" : this.scope.inspect()) + "]";
    }
  };
});

// node_modules/fs.realpath/old.js
var require_old = __commonJS((exports) => {
  var rethrow = function() {
    var callback;
    if (DEBUG) {
      var backtrace = new Error;
      callback = debugCallback;
    } else
      callback = missingCallback;
    return callback;
    function debugCallback(err) {
      if (err) {
        backtrace.message = err.message;
        err = backtrace;
        missingCallback(err);
      }
    }
    function missingCallback(err) {
      if (err) {
        if (process.throwDeprecation)
          throw err;
        else if (!process.noDeprecation) {
          var msg = "fs: missing callback " + (err.stack || err.message);
          if (process.traceDeprecation)
            console.trace(msg);
          else
            console.error(msg);
        }
      }
    }
  };
  var maybeCallback = function(cb) {
    return typeof cb === "function" ? cb : rethrow();
  };
  var pathModule = __require("path");
  var isWindows = process.platform === "win32";
  var fs = __require("fs");
  var DEBUG = process.env.NODE_DEBUG && /fs/.test(process.env.NODE_DEBUG);
  var normalize = pathModule.normalize;
  if (isWindows) {
    nextPartRe = /(.*?)(?:[\/\\]+|$)/g;
  } else {
    nextPartRe = /(.*?)(?:[\/]+|$)/g;
  }
  var nextPartRe;
  if (isWindows) {
    splitRootRe = /^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;
  } else {
    splitRootRe = /^[\/]*/;
  }
  var splitRootRe;
  exports.realpathSync = function realpathSync(p, cache) {
    p = pathModule.resolve(p);
    if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {
      return cache[p];
    }
    var original = p, seenLinks = {}, knownHard = {};
    var pos;
    var current;
    var base;
    var previous;
    start();
    function start() {
      var m = splitRootRe.exec(p);
      pos = m[0].length;
      current = m[0];
      base = m[0];
      previous = "";
      if (isWindows && !knownHard[base]) {
        fs.lstatSync(base);
        knownHard[base] = true;
      }
    }
    while (pos < p.length) {
      nextPartRe.lastIndex = pos;
      var result = nextPartRe.exec(p);
      previous = current;
      current += result[0];
      base = previous + result[1];
      pos = nextPartRe.lastIndex;
      if (knownHard[base] || cache && cache[base] === base) {
        continue;
      }
      var resolvedLink;
      if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {
        resolvedLink = cache[base];
      } else {
        var stat = fs.lstatSync(base);
        if (!stat.isSymbolicLink()) {
          knownHard[base] = true;
          if (cache)
            cache[base] = base;
          continue;
        }
        var linkTarget = null;
        if (!isWindows) {
          var id = stat.dev.toString(32) + ":" + stat.ino.toString(32);
          if (seenLinks.hasOwnProperty(id)) {
            linkTarget = seenLinks[id];
          }
        }
        if (linkTarget === null) {
          fs.statSync(base);
          linkTarget = fs.readlinkSync(base);
        }
        resolvedLink = pathModule.resolve(previous, linkTarget);
        if (cache)
          cache[base] = resolvedLink;
        if (!isWindows)
          seenLinks[id] = linkTarget;
      }
      p = pathModule.resolve(resolvedLink, p.slice(pos));
      start();
    }
    if (cache)
      cache[original] = p;
    return p;
  };
  exports.realpath = function realpath(p, cache, cb) {
    if (typeof cb !== "function") {
      cb = maybeCallback(cache);
      cache = null;
    }
    p = pathModule.resolve(p);
    if (cache && Object.prototype.hasOwnProperty.call(cache, p)) {
      return process.nextTick(cb.bind(null, null, cache[p]));
    }
    var original = p, seenLinks = {}, knownHard = {};
    var pos;
    var current;
    var base;
    var previous;
    start();
    function start() {
      var m = splitRootRe.exec(p);
      pos = m[0].length;
      current = m[0];
      base = m[0];
      previous = "";
      if (isWindows && !knownHard[base]) {
        fs.lstat(base, function(err) {
          if (err)
            return cb(err);
          knownHard[base] = true;
          LOOP();
        });
      } else {
        process.nextTick(LOOP);
      }
    }
    function LOOP() {
      if (pos >= p.length) {
        if (cache)
          cache[original] = p;
        return cb(null, p);
      }
      nextPartRe.lastIndex = pos;
      var result = nextPartRe.exec(p);
      previous = current;
      current += result[0];
      base = previous + result[1];
      pos = nextPartRe.lastIndex;
      if (knownHard[base] || cache && cache[base] === base) {
        return process.nextTick(LOOP);
      }
      if (cache && Object.prototype.hasOwnProperty.call(cache, base)) {
        return gotResolvedLink(cache[base]);
      }
      return fs.lstat(base, gotStat);
    }
    function gotStat(err, stat) {
      if (err)
        return cb(err);
      if (!stat.isSymbolicLink()) {
        knownHard[base] = true;
        if (cache)
          cache[base] = base;
        return process.nextTick(LOOP);
      }
      if (!isWindows) {
        var id = stat.dev.toString(32) + ":" + stat.ino.toString(32);
        if (seenLinks.hasOwnProperty(id)) {
          return gotTarget(null, seenLinks[id], base);
        }
      }
      fs.stat(base, function(err2) {
        if (err2)
          return cb(err2);
        fs.readlink(base, function(err3, target) {
          if (!isWindows)
            seenLinks[id] = target;
          gotTarget(err3, target);
        });
      });
    }
    function gotTarget(err, target, base2) {
      if (err)
        return cb(err);
      var resolvedLink = pathModule.resolve(previous, target);
      if (cache)
        cache[base2] = resolvedLink;
      gotResolvedLink(resolvedLink);
    }
    function gotResolvedLink(resolvedLink) {
      p = pathModule.resolve(resolvedLink, p.slice(pos));
      start();
    }
  };
});

// node_modules/fs.realpath/index.js
var require_fs = __commonJS((exports, module) => {
  var newError = function(er) {
    return er && er.syscall === "realpath" && (er.code === "ELOOP" || er.code === "ENOMEM" || er.code === "ENAMETOOLONG");
  };
  var realpath = function(p, cache, cb) {
    if (ok) {
      return origRealpath(p, cache, cb);
    }
    if (typeof cache === "function") {
      cb = cache;
      cache = null;
    }
    origRealpath(p, cache, function(er, result) {
      if (newError(er)) {
        old.realpath(p, cache, cb);
      } else {
        cb(er, result);
      }
    });
  };
  var realpathSync = function(p, cache) {
    if (ok) {
      return origRealpathSync(p, cache);
    }
    try {
      return origRealpathSync(p, cache);
    } catch (er) {
      if (newError(er)) {
        return old.realpathSync(p, cache);
      } else {
        throw er;
      }
    }
  };
  var monkeypatch = function() {
    fs.realpath = realpath;
    fs.realpathSync = realpathSync;
  };
  var unmonkeypatch = function() {
    fs.realpath = origRealpath;
    fs.realpathSync = origRealpathSync;
  };
  module.exports = realpath;
  realpath.realpath = realpath;
  realpath.sync = realpathSync;
  realpath.realpathSync = realpathSync;
  realpath.monkeypatch = monkeypatch;
  realpath.unmonkeypatch = unmonkeypatch;
  var fs = __require("fs");
  var origRealpath = fs.realpath;
  var origRealpathSync = fs.realpathSync;
  var version = process.version;
  var ok = /^v[0-5]\./.test(version);
  var old = require_old();
});

// node_modules/concat-map/index.js
var require_concat_map = __commonJS((exports, module) => {
  module.exports = function(xs, fn) {
    var res = [];
    for (var i = 0;i < xs.length; i++) {
      var x = fn(xs[i], i);
      if (isArray(x))
        res.push.apply(res, x);
      else
        res.push(x);
    }
    return res;
  };
  var isArray = Array.isArray || function(xs) {
    return Object.prototype.toString.call(xs) === "[object Array]";
  };
});

// node_modules/balanced-match/index.js
var require_balanced_match = __commonJS((exports, module) => {
  var balanced = function(a, b, str) {
    if (a instanceof RegExp)
      a = maybeMatch(a, str);
    if (b instanceof RegExp)
      b = maybeMatch(b, str);
    var r = range(a, b, str);
    return r && {
      start: r[0],
      end: r[1],
      pre: str.slice(0, r[0]),
      body: str.slice(r[0] + a.length, r[1]),
      post: str.slice(r[1] + b.length)
    };
  };
  var maybeMatch = function(reg, str) {
    var m = str.match(reg);
    return m ? m[0] : null;
  };
  var range = function(a, b, str) {
    var begs, beg, left, right, result;
    var ai = str.indexOf(a);
    var bi = str.indexOf(b, ai + 1);
    var i = ai;
    if (ai >= 0 && bi > 0) {
      if (a === b) {
        return [ai, bi];
      }
      begs = [];
      left = str.length;
      while (i >= 0 && !result) {
        if (i == ai) {
          begs.push(i);
          ai = str.indexOf(a, i + 1);
        } else if (begs.length == 1) {
          result = [begs.pop(), bi];
        } else {
          beg = begs.pop();
          if (beg < left) {
            left = beg;
            right = bi;
          }
          bi = str.indexOf(b, i + 1);
        }
        i = ai < bi && ai >= 0 ? ai : bi;
      }
      if (begs.length) {
        result = [left, right];
      }
    }
    return result;
  };
  module.exports = balanced;
  balanced.range = range;
});

// node_modules/brace-expansion/index.js
var require_brace_expansion = __commonJS((exports, module) => {
  var numeric = function(str) {
    return parseInt(str, 10) == str ? parseInt(str, 10) : str.charCodeAt(0);
  };
  var escapeBraces = function(str) {
    return str.split("\\\\").join(escSlash).split("\\{").join(escOpen).split("\\}").join(escClose).split("\\,").join(escComma).split("\\.").join(escPeriod);
  };
  var unescapeBraces = function(str) {
    return str.split(escSlash).join("\\").split(escOpen).join("{").split(escClose).join("}").split(escComma).join(",").split(escPeriod).join(".");
  };
  var parseCommaParts = function(str) {
    if (!str)
      return [""];
    var parts = [];
    var m = balanced("{", "}", str);
    if (!m)
      return str.split(",");
    var pre = m.pre;
    var body = m.body;
    var post = m.post;
    var p = pre.split(",");
    p[p.length - 1] += "{" + body + "}";
    var postParts = parseCommaParts(post);
    if (post.length) {
      p[p.length - 1] += postParts.shift();
      p.push.apply(p, postParts);
    }
    parts.push.apply(parts, p);
    return parts;
  };
  var expandTop = function(str) {
    if (!str)
      return [];
    if (str.substr(0, 2) === "{}") {
      str = "\\{\\}" + str.substr(2);
    }
    return expand(escapeBraces(str), true).map(unescapeBraces);
  };
  var embrace = function(str) {
    return "{" + str + "}";
  };
  var isPadded = function(el) {
    return /^-?0\d/.test(el);
  };
  var lte = function(i, y) {
    return i <= y;
  };
  var gte = function(i, y) {
    return i >= y;
  };
  var expand = function(str, isTop) {
    var expansions = [];
    var m = balanced("{", "}", str);
    if (!m || /\$$/.test(m.pre))
      return [str];
    var isNumericSequence = /^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(m.body);
    var isAlphaSequence = /^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(m.body);
    var isSequence = isNumericSequence || isAlphaSequence;
    var isOptions = m.body.indexOf(",") >= 0;
    if (!isSequence && !isOptions) {
      if (m.post.match(/,.*\}/)) {
        str = m.pre + "{" + m.body + escClose + m.post;
        return expand(str);
      }
      return [str];
    }
    var n;
    if (isSequence) {
      n = m.body.split(/\.\./);
    } else {
      n = parseCommaParts(m.body);
      if (n.length === 1) {
        n = expand(n[0], false).map(embrace);
        if (n.length === 1) {
          var post = m.post.length ? expand(m.post, false) : [""];
          return post.map(function(p) {
            return m.pre + n[0] + p;
          });
        }
      }
    }
    var pre = m.pre;
    var post = m.post.length ? expand(m.post, false) : [""];
    var N;
    if (isSequence) {
      var x = numeric(n[0]);
      var y = numeric(n[1]);
      var width = Math.max(n[0].length, n[1].length);
      var incr = n.length == 3 ? Math.abs(numeric(n[2])) : 1;
      var test = lte;
      var reverse = y < x;
      if (reverse) {
        incr *= -1;
        test = gte;
      }
      var pad = n.some(isPadded);
      N = [];
      for (var i = x;test(i, y); i += incr) {
        var c;
        if (isAlphaSequence) {
          c = String.fromCharCode(i);
          if (c === "\\")
            c = "";
        } else {
          c = String(i);
          if (pad) {
            var need = width - c.length;
            if (need > 0) {
              var z = new Array(need + 1).join("0");
              if (i < 0)
                c = "-" + z + c.slice(1);
              else
                c = z + c;
            }
          }
        }
        N.push(c);
      }
    } else {
      N = concatMap(n, function(el) {
        return expand(el, false);
      });
    }
    for (var j = 0;j < N.length; j++) {
      for (var k = 0;k < post.length; k++) {
        var expansion = pre + N[j] + post[k];
        if (!isTop || isSequence || expansion)
          expansions.push(expansion);
      }
    }
    return expansions;
  };
  var concatMap = require_concat_map();
  var balanced = require_balanced_match();
  module.exports = expandTop;
  var escSlash = "\0SLASH" + Math.random() + "\0";
  var escOpen = "\0OPEN" + Math.random() + "\0";
  var escClose = "\0CLOSE" + Math.random() + "\0";
  var escComma = "\0COMMA" + Math.random() + "\0";
  var escPeriod = "\0PERIOD" + Math.random() + "\0";
});

// node_modules/glob/node_modules/minimatch/minimatch.js
var require_minimatch = __commonJS((exports, module) => {
  var charSet = function(s) {
    return s.split("").reduce(function(set, c) {
      set[c] = true;
      return set;
    }, {});
  };
  var filter = function(pattern, options) {
    options = options || {};
    return function(p, i, list) {
      return minimatch(p, pattern, options);
    };
  };
  var ext = function(a, b) {
    b = b || {};
    var t = {};
    Object.keys(a).forEach(function(k) {
      t[k] = a[k];
    });
    Object.keys(b).forEach(function(k) {
      t[k] = b[k];
    });
    return t;
  };
  var minimatch = function(p, pattern, options) {
    assertValidPattern(pattern);
    if (!options)
      options = {};
    if (!options.nocomment && pattern.charAt(0) === "#") {
      return false;
    }
    return new Minimatch(pattern, options).match(p);
  };
  var Minimatch = function(pattern, options) {
    if (!(this instanceof Minimatch)) {
      return new Minimatch(pattern, options);
    }
    assertValidPattern(pattern);
    if (!options)
      options = {};
    pattern = pattern.trim();
    if (!options.allowWindowsEscape && path.sep !== "/") {
      pattern = pattern.split(path.sep).join("/");
    }
    this.options = options;
    this.set = [];
    this.pattern = pattern;
    this.regexp = null;
    this.negate = false;
    this.comment = false;
    this.empty = false;
    this.partial = !!options.partial;
    this.make();
  };
  var make = function() {
    var pattern = this.pattern;
    var options = this.options;
    if (!options.nocomment && pattern.charAt(0) === "#") {
      this.comment = true;
      return;
    }
    if (!pattern) {
      this.empty = true;
      return;
    }
    this.parseNegate();
    var set = this.globSet = this.braceExpand();
    if (options.debug)
      this.debug = function debug() {
        console.error.apply(console, arguments);
      };
    this.debug(this.pattern, set);
    set = this.globParts = set.map(function(s) {
      return s.split(slashSplit);
    });
    this.debug(this.pattern, set);
    set = set.map(function(s, si, set2) {
      return s.map(this.parse, this);
    }, this);
    this.debug(this.pattern, set);
    set = set.filter(function(s) {
      return s.indexOf(false) === -1;
    });
    this.debug(this.pattern, set);
    this.set = set;
  };
  var parseNegate = function() {
    var pattern = this.pattern;
    var negate = false;
    var options = this.options;
    var negateOffset = 0;
    if (options.nonegate)
      return;
    for (var i = 0, l = pattern.length;i < l && pattern.charAt(i) === "!"; i++) {
      negate = !negate;
      negateOffset++;
    }
    if (negateOffset)
      this.pattern = pattern.substr(negateOffset);
    this.negate = negate;
  };
  var braceExpand = function(pattern, options) {
    if (!options) {
      if (this instanceof Minimatch) {
        options = this.options;
      } else {
        options = {};
      }
    }
    pattern = typeof pattern === "undefined" ? this.pattern : pattern;
    assertValidPattern(pattern);
    if (options.nobrace || !/\{(?:(?!\{).)*\}/.test(pattern)) {
      return [pattern];
    }
    return expand(pattern);
  };
  var parse = function(pattern, isSub) {
    assertValidPattern(pattern);
    var options = this.options;
    if (pattern === "**") {
      if (!options.noglobstar)
        return GLOBSTAR;
      else
        pattern = "*";
    }
    if (pattern === "")
      return "";
    var re = "";
    var hasMagic = !!options.nocase;
    var escaping = false;
    var patternListStack = [];
    var negativeLists = [];
    var stateChar;
    var inClass = false;
    var reClassStart = -1;
    var classStart = -1;
    var patternStart = pattern.charAt(0) === "." ? "" : options.dot ? "(?!(?:^|\\/)\\.{1,2}(?:$|\\/))" : "(?!\\.)";
    var self = this;
    function clearStateChar() {
      if (stateChar) {
        switch (stateChar) {
          case "*":
            re += star;
            hasMagic = true;
            break;
          case "?":
            re += qmark;
            hasMagic = true;
            break;
          default:
            re += "\\" + stateChar;
            break;
        }
        self.debug("clearStateChar %j %j", stateChar, re);
        stateChar = false;
      }
    }
    for (var i = 0, len = pattern.length, c;i < len && (c = pattern.charAt(i)); i++) {
      this.debug("%s\t%s %s %j", pattern, i, re, c);
      if (escaping && reSpecials[c]) {
        re += "\\" + c;
        escaping = false;
        continue;
      }
      switch (c) {
        case "/": {
          return false;
        }
        case "\\":
          clearStateChar();
          escaping = true;
          continue;
        case "?":
        case "*":
        case "+":
        case "@":
        case "!":
          this.debug("%s\t%s %s %j <-- stateChar", pattern, i, re, c);
          if (inClass) {
            this.debug("  in class");
            if (c === "!" && i === classStart + 1)
              c = "^";
            re += c;
            continue;
          }
          self.debug("call clearStateChar %j", stateChar);
          clearStateChar();
          stateChar = c;
          if (options.noext)
            clearStateChar();
          continue;
        case "(":
          if (inClass) {
            re += "(";
            continue;
          }
          if (!stateChar) {
            re += "\\(";
            continue;
          }
          patternListStack.push({
            type: stateChar,
            start: i - 1,
            reStart: re.length,
            open: plTypes[stateChar].open,
            close: plTypes[stateChar].close
          });
          re += stateChar === "!" ? "(?:(?!(?:" : "(?:";
          this.debug("plType %j %j", stateChar, re);
          stateChar = false;
          continue;
        case ")":
          if (inClass || !patternListStack.length) {
            re += "\\)";
            continue;
          }
          clearStateChar();
          hasMagic = true;
          var pl = patternListStack.pop();
          re += pl.close;
          if (pl.type === "!") {
            negativeLists.push(pl);
          }
          pl.reEnd = re.length;
          continue;
        case "|":
          if (inClass || !patternListStack.length || escaping) {
            re += "\\|";
            escaping = false;
            continue;
          }
          clearStateChar();
          re += "|";
          continue;
        case "[":
          clearStateChar();
          if (inClass) {
            re += "\\" + c;
            continue;
          }
          inClass = true;
          classStart = i;
          reClassStart = re.length;
          re += c;
          continue;
        case "]":
          if (i === classStart + 1 || !inClass) {
            re += "\\" + c;
            escaping = false;
            continue;
          }
          var cs = pattern.substring(classStart + 1, i);
          try {
            RegExp("[" + cs + "]");
          } catch (er) {
            var sp = this.parse(cs, SUBPARSE);
            re = re.substr(0, reClassStart) + "\\[" + sp[0] + "\\]";
            hasMagic = hasMagic || sp[1];
            inClass = false;
            continue;
          }
          hasMagic = true;
          inClass = false;
          re += c;
          continue;
        default:
          clearStateChar();
          if (escaping) {
            escaping = false;
          } else if (reSpecials[c] && !(c === "^" && inClass)) {
            re += "\\";
          }
          re += c;
      }
    }
    if (inClass) {
      cs = pattern.substr(classStart + 1);
      sp = this.parse(cs, SUBPARSE);
      re = re.substr(0, reClassStart) + "\\[" + sp[0];
      hasMagic = hasMagic || sp[1];
    }
    for (pl = patternListStack.pop();pl; pl = patternListStack.pop()) {
      var tail = re.slice(pl.reStart + pl.open.length);
      this.debug("setting tail", re, pl);
      tail = tail.replace(/((?:\\{2}){0,64})(\\?)\|/g, function(_, $1, $2) {
        if (!$2) {
          $2 = "\\";
        }
        return $1 + $1 + $2 + "|";
      });
      this.debug("tail=%j\n   %s", tail, tail, pl, re);
      var t = pl.type === "*" ? star : pl.type === "?" ? qmark : "\\" + pl.type;
      hasMagic = true;
      re = re.slice(0, pl.reStart) + t + "\\(" + tail;
    }
    clearStateChar();
    if (escaping) {
      re += "\\\\";
    }
    var addPatternStart = false;
    switch (re.charAt(0)) {
      case "[":
      case ".":
      case "(":
        addPatternStart = true;
    }
    for (var n = negativeLists.length - 1;n > -1; n--) {
      var nl = negativeLists[n];
      var nlBefore = re.slice(0, nl.reStart);
      var nlFirst = re.slice(nl.reStart, nl.reEnd - 8);
      var nlLast = re.slice(nl.reEnd - 8, nl.reEnd);
      var nlAfter = re.slice(nl.reEnd);
      nlLast += nlAfter;
      var openParensBefore = nlBefore.split("(").length - 1;
      var cleanAfter = nlAfter;
      for (i = 0;i < openParensBefore; i++) {
        cleanAfter = cleanAfter.replace(/\)[+*?]?/, "");
      }
      nlAfter = cleanAfter;
      var dollar = "";
      if (nlAfter === "" && isSub !== SUBPARSE) {
        dollar = "$";
      }
      var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast;
      re = newRe;
    }
    if (re !== "" && hasMagic) {
      re = "(?=.)" + re;
    }
    if (addPatternStart) {
      re = patternStart + re;
    }
    if (isSub === SUBPARSE) {
      return [re, hasMagic];
    }
    if (!hasMagic) {
      return globUnescape(pattern);
    }
    var flags = options.nocase ? "i" : "";
    try {
      var regExp = new RegExp("^" + re + "$", flags);
    } catch (er) {
      return new RegExp("$.");
    }
    regExp._glob = pattern;
    regExp._src = re;
    return regExp;
  };
  var makeRe = function() {
    if (this.regexp || this.regexp === false)
      return this.regexp;
    var set = this.set;
    if (!set.length) {
      this.regexp = false;
      return this.regexp;
    }
    var options = this.options;
    var twoStar = options.noglobstar ? star : options.dot ? twoStarDot : twoStarNoDot;
    var flags = options.nocase ? "i" : "";
    var re = set.map(function(pattern) {
      return pattern.map(function(p) {
        return p === GLOBSTAR ? twoStar : typeof p === "string" ? regExpEscape(p) : p._src;
      }).join("\\/");
    }).join("|");
    re = "^(?:" + re + ")$";
    if (this.negate)
      re = "^(?!" + re + ").*$";
    try {
      this.regexp = new RegExp(re, flags);
    } catch (ex) {
      this.regexp = false;
    }
    return this.regexp;
  };
  var globUnescape = function(s) {
    return s.replace(/\\(.)/g, "$1");
  };
  var regExpEscape = function(s) {
    return s.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&");
  };
  module.exports = minimatch;
  minimatch.Minimatch = Minimatch;
  var path = function() {
    try {
      return __require("path");
    } catch (e) {
    }
  }() || {
    sep: "/"
  };
  minimatch.sep = path.sep;
  var GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {};
  var expand = require_brace_expansion();
  var plTypes = {
    "!": { open: "(?:(?!(?:", close: "))[^/]*?)" },
    "?": { open: "(?:", close: ")?" },
    "+": { open: "(?:", close: ")+" },
    "*": { open: "(?:", close: ")*" },
    "@": { open: "(?:", close: ")" }
  };
  var qmark = "[^/]";
  var star = qmark + "*?";
  var twoStarDot = "(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?";
  var twoStarNoDot = "(?:(?!(?:\\/|^)\\.).)*?";
  var reSpecials = charSet("().*{}+?[]^$\\!");
  var slashSplit = /\/+/;
  minimatch.filter = filter;
  minimatch.defaults = function(def) {
    if (!def || typeof def !== "object" || !Object.keys(def).length) {
      return minimatch;
    }
    var orig = minimatch;
    var m = function minimatch(p, pattern, options) {
      return orig(p, pattern, ext(def, options));
    };
    m.Minimatch = function Minimatch(pattern, options) {
      return new orig.Minimatch(pattern, ext(def, options));
    };
    m.Minimatch.defaults = function defaults(options) {
      return orig.defaults(ext(def, options)).Minimatch;
    };
    m.filter = function filter(pattern, options) {
      return orig.filter(pattern, ext(def, options));
    };
    m.defaults = function defaults(options) {
      return orig.defaults(ext(def, options));
    };
    m.makeRe = function makeRe(pattern, options) {
      return orig.makeRe(pattern, ext(def, options));
    };
    m.braceExpand = function braceExpand(pattern, options) {
      return orig.braceExpand(pattern, ext(def, options));
    };
    m.match = function(list, pattern, options) {
      return orig.match(list, pattern, ext(def, options));
    };
    return m;
  };
  Minimatch.defaults = function(def) {
    return minimatch.defaults(def).Minimatch;
  };
  Minimatch.prototype.debug = function() {
  };
  Minimatch.prototype.make = make;
  Minimatch.prototype.parseNegate = parseNegate;
  minimatch.braceExpand = function(pattern, options) {
    return braceExpand(pattern, options);
  };
  Minimatch.prototype.braceExpand = braceExpand;
  var MAX_PATTERN_LENGTH = 1024 * 64;
  var assertValidPattern = function(pattern) {
    if (typeof pattern !== "string") {
      throw new TypeError("invalid pattern");
    }
    if (pattern.length > MAX_PATTERN_LENGTH) {
      throw new TypeError("pattern is too long");
    }
  };
  Minimatch.prototype.parse = parse;
  var SUBPARSE = {};
  minimatch.makeRe = function(pattern, options) {
    return new Minimatch(pattern, options || {}).makeRe();
  };
  Minimatch.prototype.makeRe = makeRe;
  minimatch.match = function(list, pattern, options) {
    options = options || {};
    var mm = new Minimatch(pattern, options);
    list = list.filter(function(f) {
      return mm.match(f);
    });
    if (mm.options.nonull && !list.length) {
      list.push(pattern);
    }
    return list;
  };
  Minimatch.prototype.match = function match(f, partial) {
    if (typeof partial === "undefined")
      partial = this.partial;
    this.debug("match", f, this.pattern);
    if (this.comment)
      return false;
    if (this.empty)
      return f === "";
    if (f === "/" && partial)
      return true;
    var options = this.options;
    if (path.sep !== "/") {
      f = f.split(path.sep).join("/");
    }
    f = f.split(slashSplit);
    this.debug(this.pattern, "split", f);
    var set = this.set;
    this.debug(this.pattern, "set", set);
    var filename;
    var i;
    for (i = f.length - 1;i >= 0; i--) {
      filename = f[i];
      if (filename)
        break;
    }
    for (i = 0;i < set.length; i++) {
      var pattern = set[i];
      var file = f;
      if (options.matchBase && pattern.length === 1) {
        file = [filename];
      }
      var hit = this.matchOne(file, pattern, partial);
      if (hit) {
        if (options.flipNegate)
          return true;
        return !this.negate;
      }
    }
    if (options.flipNegate)
      return false;
    return this.negate;
  };
  Minimatch.prototype.matchOne = function(file, pattern, partial) {
    var options = this.options;
    this.debug("matchOne", { this: this, file, pattern });
    this.debug("matchOne", file.length, pattern.length);
    for (var fi = 0, pi = 0, fl = file.length, pl = pattern.length;fi < fl && pi < pl; fi++, pi++) {
      this.debug("matchOne loop");
      var p = pattern[pi];
      var f = file[fi];
      this.debug(pattern, p, f);
      if (p === false)
        return false;
      if (p === GLOBSTAR) {
        this.debug("GLOBSTAR", [pattern, p, f]);
        var fr = fi;
        var pr = pi + 1;
        if (pr === pl) {
          this.debug("** at the end");
          for (;fi < fl; fi++) {
            if (file[fi] === "." || file[fi] === ".." || !options.dot && file[fi].charAt(0) === ".")
              return false;
          }
          return true;
        }
        while (fr < fl) {
          var swallowee = file[fr];
          this.debug("\nglobstar while", file, fr, pattern, pr, swallowee);
          if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {
            this.debug("globstar found match!", fr, fl, swallowee);
            return true;
          } else {
            if (swallowee === "." || swallowee === ".." || !options.dot && swallowee.charAt(0) === ".") {
              this.debug("dot detected!", file, fr, pattern, pr);
              break;
            }
            this.debug("globstar swallow a segment, and continue");
            fr++;
          }
        }
        if (partial) {
          this.debug("\n>>> no match, partial?", file, fr, pattern, pr);
          if (fr === fl)
            return true;
        }
        return false;
      }
      var hit;
      if (typeof p === "string") {
        hit = f === p;
        this.debug("string match", p, f, hit);
      } else {
        hit = f.match(p);
        this.debug("pattern match", p, f, hit);
      }
      if (!hit)
        return false;
    }
    if (fi === fl && pi === pl) {
      return true;
    } else if (fi === fl) {
      return partial;
    } else if (pi === pl) {
      return fi === fl - 1 && file[fi] === "";
    }
    throw new Error("wtf?");
  };
});

// node_modules/inherits/inherits_browser.js
var require_inherits_browser = __commonJS((exports, module) => {
  if (typeof Object.create === "function") {
    module.exports = function inherits(ctor, superCtor) {
      if (superCtor) {
        ctor.super_ = superCtor;
        ctor.prototype = Object.create(superCtor.prototype, {
          constructor: {
            value: ctor,
            enumerable: false,
            writable: true,
            configurable: true
          }
        });
      }
    };
  } else {
    module.exports = function inherits(ctor, superCtor) {
      if (superCtor) {
        ctor.super_ = superCtor;
        var TempCtor = function() {
        };
        TempCtor.prototype = superCtor.prototype;
        ctor.prototype = new TempCtor;
        ctor.prototype.constructor = ctor;
      }
    };
  }
});

// node_modules/inherits/inherits.js
var require_inherits = __commonJS((exports, module) => {
  try {
    util = __require("util");
    if (typeof util.inherits !== "function")
      throw "";
    module.exports = util.inherits;
  } catch (e) {
    module.exports = require_inherits_browser();
  }
  var util;
});

// node_modules/path-is-absolute/index.js
var require_path_is_absolute = __commonJS((exports, module) => {
  var posix = function(path) {
    return path.charAt(0) === "/";
  };
  var win32 = function(path) {
    var splitDeviceRe = /^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/;
    var result = splitDeviceRe.exec(path);
    var device = result[1] || "";
    var isUnc = Boolean(device && device.charAt(1) !== ":");
    return Boolean(result[2] || isUnc);
  };
  module.exports = process.platform === "win32" ? win32 : posix;
  module.exports.posix = posix;
  module.exports.win32 = win32;
});

// node_modules/glob/common.js
var require_common = __commonJS((exports) => {
  var ownProp = function(obj, field) {
    return Object.prototype.hasOwnProperty.call(obj, field);
  };
  var alphasort = function(a, b) {
    return a.localeCompare(b, "en");
  };
  var setupIgnores = function(self, options) {
    self.ignore = options.ignore || [];
    if (!Array.isArray(self.ignore))
      self.ignore = [self.ignore];
    if (self.ignore.length) {
      self.ignore = self.ignore.map(ignoreMap);
    }
  };
  var ignoreMap = function(pattern) {
    var gmatcher = null;
    if (pattern.slice(-3) === "/**") {
      var gpattern = pattern.replace(/(\/\*\*)+$/, "");
      gmatcher = new Minimatch(gpattern, { dot: true });
    }
    return {
      matcher: new Minimatch(pattern, { dot: true }),
      gmatcher
    };
  };
  var setopts = function(self, pattern, options) {
    if (!options)
      options = {};
    if (options.matchBase && pattern.indexOf("/") === -1) {
      if (options.noglobstar) {
        throw new Error("base matching requires globstar");
      }
      pattern = "**/" + pattern;
    }
    self.silent = !!options.silent;
    self.pattern = pattern;
    self.strict = options.strict !== false;
    self.realpath = !!options.realpath;
    self.realpathCache = options.realpathCache || Object.create(null);
    self.follow = !!options.follow;
    self.dot = !!options.dot;
    self.mark = !!options.mark;
    self.nodir = !!options.nodir;
    if (self.nodir)
      self.mark = true;
    self.sync = !!options.sync;
    self.nounique = !!options.nounique;
    self.nonull = !!options.nonull;
    self.nosort = !!options.nosort;
    self.nocase = !!options.nocase;
    self.stat = !!options.stat;
    self.noprocess = !!options.noprocess;
    self.absolute = !!options.absolute;
    self.fs = options.fs || fs;
    self.maxLength = options.maxLength || Infinity;
    self.cache = options.cache || Object.create(null);
    self.statCache = options.statCache || Object.create(null);
    self.symlinks = options.symlinks || Object.create(null);
    setupIgnores(self, options);
    self.changedCwd = false;
    var cwd = process.cwd();
    if (!ownProp(options, "cwd"))
      self.cwd = cwd;
    else {
      self.cwd = path.resolve(options.cwd);
      self.changedCwd = self.cwd !== cwd;
    }
    self.root = options.root || path.resolve(self.cwd, "/");
    self.root = path.resolve(self.root);
    if (process.platform === "win32")
      self.root = self.root.replace(/\\/g, "/");
    self.cwdAbs = isAbsolute(self.cwd) ? self.cwd : makeAbs(self, self.cwd);
    if (process.platform === "win32")
      self.cwdAbs = self.cwdAbs.replace(/\\/g, "/");
    self.nomount = !!options.nomount;
    options.nonegate = true;
    options.nocomment = true;
    options.allowWindowsEscape = false;
    self.minimatch = new Minimatch(pattern, options);
    self.options = self.minimatch.options;
  };
  var finish = function(self) {
    var nou = self.nounique;
    var all = nou ? [] : Object.create(null);
    for (var i = 0, l = self.matches.length;i < l; i++) {
      var matches = self.matches[i];
      if (!matches || Object.keys(matches).length === 0) {
        if (self.nonull) {
          var literal = self.minimatch.globSet[i];
          if (nou)
            all.push(literal);
          else
            all[literal] = true;
        }
      } else {
        var m = Object.keys(matches);
        if (nou)
          all.push.apply(all, m);
        else
          m.forEach(function(m2) {
            all[m2] = true;
          });
      }
    }
    if (!nou)
      all = Object.keys(all);
    if (!self.nosort)
      all = all.sort(alphasort);
    if (self.mark) {
      for (var i = 0;i < all.length; i++) {
        all[i] = self._mark(all[i]);
      }
      if (self.nodir) {
        all = all.filter(function(e) {
          var notDir = !/\/$/.test(e);
          var c = self.cache[e] || self.cache[makeAbs(self, e)];
          if (notDir && c)
            notDir = c !== "DIR" && !Array.isArray(c);
          return notDir;
        });
      }
    }
    if (self.ignore.length)
      all = all.filter(function(m2) {
        return !isIgnored(self, m2);
      });
    self.found = all;
  };
  var mark = function(self, p) {
    var abs = makeAbs(self, p);
    var c = self.cache[abs];
    var m = p;
    if (c) {
      var isDir = c === "DIR" || Array.isArray(c);
      var slash = p.slice(-1) === "/";
      if (isDir && !slash)
        m += "/";
      else if (!isDir && slash)
        m = m.slice(0, -1);
      if (m !== p) {
        var mabs = makeAbs(self, m);
        self.statCache[mabs] = self.statCache[abs];
        self.cache[mabs] = self.cache[abs];
      }
    }
    return m;
  };
  var makeAbs = function(self, f) {
    var abs = f;
    if (f.charAt(0) === "/") {
      abs = path.join(self.root, f);
    } else if (isAbsolute(f) || f === "") {
      abs = f;
    } else if (self.changedCwd) {
      abs = path.resolve(self.cwd, f);
    } else {
      abs = path.resolve(f);
    }
    if (process.platform === "win32")
      abs = abs.replace(/\\/g, "/");
    return abs;
  };
  var isIgnored = function(self, path2) {
    if (!self.ignore.length)
      return false;
    return self.ignore.some(function(item) {
      return item.matcher.match(path2) || !!(item.gmatcher && item.gmatcher.match(path2));
    });
  };
  var childrenIgnored = function(self, path2) {
    if (!self.ignore.length)
      return false;
    return self.ignore.some(function(item) {
      return !!(item.gmatcher && item.gmatcher.match(path2));
    });
  };
  exports.setopts = setopts;
  exports.ownProp = ownProp;
  exports.makeAbs = makeAbs;
  exports.finish = finish;
  exports.mark = mark;
  exports.isIgnored = isIgnored;
  exports.childrenIgnored = childrenIgnored;
  var fs = __require("fs");
  var path = __require("path");
  var minimatch = require_minimatch();
  var isAbsolute = require_path_is_absolute();
  var Minimatch = minimatch.Minimatch;
});

// node_modules/glob/sync.js
var require_sync = __commonJS((exports, module) => {
  var globSync = function(pattern, options) {
    if (typeof options === "function" || arguments.length === 3)
      throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");
    return new GlobSync(pattern, options).found;
  };
  var GlobSync = function(pattern, options) {
    if (!pattern)
      throw new Error("must provide pattern");
    if (typeof options === "function" || arguments.length === 3)
      throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");
    if (!(this instanceof GlobSync))
      return new GlobSync(pattern, options);
    setopts(this, pattern, options);
    if (this.noprocess)
      return this;
    var n = this.minimatch.set.length;
    this.matches = new Array(n);
    for (var i = 0;i < n; i++) {
      this._process(this.minimatch.set[i], i, false);
    }
    this._finish();
  };
  module.exports = globSync;
  globSync.GlobSync = GlobSync;
  var rp = require_fs();
  var minimatch = require_minimatch();
  var Minimatch = minimatch.Minimatch;
  var Glob = require_glob().Glob;
  var util = __require("util");
  var path = __require("path");
  var assert = __require("assert");
  var isAbsolute = require_path_is_absolute();
  var common = require_common();
  var setopts = common.setopts;
  var ownProp = common.ownProp;
  var childrenIgnored = common.childrenIgnored;
  var isIgnored = common.isIgnored;
  GlobSync.prototype._finish = function() {
    assert.ok(this instanceof GlobSync);
    if (this.realpath) {
      var self = this;
      this.matches.forEach(function(matchset, index) {
        var set = self.matches[index] = Object.create(null);
        for (var p in matchset) {
          try {
            p = self._makeAbs(p);
            var real = rp.realpathSync(p, self.realpathCache);
            set[real] = true;
          } catch (er) {
            if (er.syscall === "stat")
              set[self._makeAbs(p)] = true;
            else
              throw er;
          }
        }
      });
    }
    common.finish(this);
  };
  GlobSync.prototype._process = function(pattern, index, inGlobStar) {
    assert.ok(this instanceof GlobSync);
    var n = 0;
    while (typeof pattern[n] === "string") {
      n++;
    }
    var prefix;
    switch (n) {
      case pattern.length:
        this._processSimple(pattern.join("/"), index);
        return;
      case 0:
        prefix = null;
        break;
      default:
        prefix = pattern.slice(0, n).join("/");
        break;
    }
    var remain = pattern.slice(n);
    var read;
    if (prefix === null)
      read = ".";
    else if (isAbsolute(prefix) || isAbsolute(pattern.map(function(p) {
      return typeof p === "string" ? p : "[*]";
    }).join("/"))) {
      if (!prefix || !isAbsolute(prefix))
        prefix = "/" + prefix;
      read = prefix;
    } else
      read = prefix;
    var abs = this._makeAbs(read);
    if (childrenIgnored(this, read))
      return;
    var isGlobStar = remain[0] === minimatch.GLOBSTAR;
    if (isGlobStar)
      this._processGlobStar(prefix, read, abs, remain, index, inGlobStar);
    else
      this._processReaddir(prefix, read, abs, remain, index, inGlobStar);
  };
  GlobSync.prototype._processReaddir = function(prefix, read, abs, remain, index, inGlobStar) {
    var entries = this._readdir(abs, inGlobStar);
    if (!entries)
      return;
    var pn = remain[0];
    var negate = !!this.minimatch.negate;
    var rawGlob = pn._glob;
    var dotOk = this.dot || rawGlob.charAt(0) === ".";
    var matchedEntries = [];
    for (var i = 0;i < entries.length; i++) {
      var e = entries[i];
      if (e.charAt(0) !== "." || dotOk) {
        var m;
        if (negate && !prefix) {
          m = !e.match(pn);
        } else {
          m = e.match(pn);
        }
        if (m)
          matchedEntries.push(e);
      }
    }
    var len = matchedEntries.length;
    if (len === 0)
      return;
    if (remain.length === 1 && !this.mark && !this.stat) {
      if (!this.matches[index])
        this.matches[index] = Object.create(null);
      for (var i = 0;i < len; i++) {
        var e = matchedEntries[i];
        if (prefix) {
          if (prefix.slice(-1) !== "/")
            e = prefix + "/" + e;
          else
            e = prefix + e;
        }
        if (e.charAt(0) === "/" && !this.nomount) {
          e = path.join(this.root, e);
        }
        this._emitMatch(index, e);
      }
      return;
    }
    remain.shift();
    for (var i = 0;i < len; i++) {
      var e = matchedEntries[i];
      var newPattern;
      if (prefix)
        newPattern = [prefix, e];
      else
        newPattern = [e];
      this._process(newPattern.concat(remain), index, inGlobStar);
    }
  };
  GlobSync.prototype._emitMatch = function(index, e) {
    if (isIgnored(this, e))
      return;
    var abs = this._makeAbs(e);
    if (this.mark)
      e = this._mark(e);
    if (this.absolute) {
      e = abs;
    }
    if (this.matches[index][e])
      return;
    if (this.nodir) {
      var c = this.cache[abs];
      if (c === "DIR" || Array.isArray(c))
        return;
    }
    this.matches[index][e] = true;
    if (this.stat)
      this._stat(e);
  };
  GlobSync.prototype._readdirInGlobStar = function(abs) {
    if (this.follow)
      return this._readdir(abs, false);
    var entries;
    var lstat;
    var stat;
    try {
      lstat = this.fs.lstatSync(abs);
    } catch (er) {
      if (er.code === "ENOENT") {
        return null;
      }
    }
    var isSym = lstat && lstat.isSymbolicLink();
    this.symlinks[abs] = isSym;
    if (!isSym && lstat && !lstat.isDirectory())
      this.cache[abs] = "FILE";
    else
      entries = this._readdir(abs, false);
    return entries;
  };
  GlobSync.prototype._readdir = function(abs, inGlobStar) {
    var entries;
    if (inGlobStar && !ownProp(this.symlinks, abs))
      return this._readdirInGlobStar(abs);
    if (ownProp(this.cache, abs)) {
      var c = this.cache[abs];
      if (!c || c === "FILE")
        return null;
      if (Array.isArray(c))
        return c;
    }
    try {
      return this._readdirEntries(abs, this.fs.readdirSync(abs));
    } catch (er) {
      this._readdirError(abs, er);
      return null;
    }
  };
  GlobSync.prototype._readdirEntries = function(abs, entries) {
    if (!this.mark && !this.stat) {
      for (var i = 0;i < entries.length; i++) {
        var e = entries[i];
        if (abs === "/")
          e = abs + e;
        else
          e = abs + "/" + e;
        this.cache[e] = true;
      }
    }
    this.cache[abs] = entries;
    return entries;
  };
  GlobSync.prototype._readdirError = function(f, er) {
    switch (er.code) {
      case "ENOTSUP":
      case "ENOTDIR":
        var abs = this._makeAbs(f);
        this.cache[abs] = "FILE";
        if (abs === this.cwdAbs) {
          var error = new Error(er.code + " invalid cwd " + this.cwd);
          error.path = this.cwd;
          error.code = er.code;
          throw error;
        }
        break;
      case "ENOENT":
      case "ELOOP":
      case "ENAMETOOLONG":
      case "UNKNOWN":
        this.cache[this._makeAbs(f)] = false;
        break;
      default:
        this.cache[this._makeAbs(f)] = false;
        if (this.strict)
          throw er;
        if (!this.silent)
          console.error("glob error", er);
        break;
    }
  };
  GlobSync.prototype._processGlobStar = function(prefix, read, abs, remain, index, inGlobStar) {
    var entries = this._readdir(abs, inGlobStar);
    if (!entries)
      return;
    var remainWithoutGlobStar = remain.slice(1);
    var gspref = prefix ? [prefix] : [];
    var noGlobStar = gspref.concat(remainWithoutGlobStar);
    this._process(noGlobStar, index, false);
    var len = entries.length;
    var isSym = this.symlinks[abs];
    if (isSym && inGlobStar)
      return;
    for (var i = 0;i < len; i++) {
      var e = entries[i];
      if (e.charAt(0) === "." && !this.dot)
        continue;
      var instead = gspref.concat(entries[i], remainWithoutGlobStar);
      this._process(instead, index, true);
      var below = gspref.concat(entries[i], remain);
      this._process(below, index, true);
    }
  };
  GlobSync.prototype._processSimple = function(prefix, index) {
    var exists = this._stat(prefix);
    if (!this.matches[index])
      this.matches[index] = Object.create(null);
    if (!exists)
      return;
    if (prefix && isAbsolute(prefix) && !this.nomount) {
      var trail = /[\/\\]$/.test(prefix);
      if (prefix.charAt(0) === "/") {
        prefix = path.join(this.root, prefix);
      } else {
        prefix = path.resolve(this.root, prefix);
        if (trail)
          prefix += "/";
      }
    }
    if (process.platform === "win32")
      prefix = prefix.replace(/\\/g, "/");
    this._emitMatch(index, prefix);
  };
  GlobSync.prototype._stat = function(f) {
    var abs = this._makeAbs(f);
    var needDir = f.slice(-1) === "/";
    if (f.length > this.maxLength)
      return false;
    if (!this.stat && ownProp(this.cache, abs)) {
      var c = this.cache[abs];
      if (Array.isArray(c))
        c = "DIR";
      if (!needDir || c === "DIR")
        return c;
      if (needDir && c === "FILE")
        return false;
    }
    var exists;
    var stat = this.statCache[abs];
    if (!stat) {
      var lstat;
      try {
        lstat = this.fs.lstatSync(abs);
      } catch (er) {
        if (er && (er.code === "ENOENT" || er.code === "ENOTDIR")) {
          this.statCache[abs] = false;
          return false;
        }
      }
      if (lstat && lstat.isSymbolicLink()) {
        try {
          stat = this.fs.statSync(abs);
        } catch (er) {
          stat = lstat;
        }
      } else {
        stat = lstat;
      }
    }
    this.statCache[abs] = stat;
    var c = true;
    if (stat)
      c = stat.isDirectory() ? "DIR" : "FILE";
    this.cache[abs] = this.cache[abs] || c;
    if (needDir && c === "FILE")
      return false;
    return c;
  };
  GlobSync.prototype._mark = function(p) {
    return common.mark(this, p);
  };
  GlobSync.prototype._makeAbs = function(f) {
    return common.makeAbs(this, f);
  };
});

// node_modules/wrappy/wrappy.js
var require_wrappy = __commonJS((exports, module) => {
  var wrappy = function(fn, cb) {
    if (fn && cb)
      return wrappy(fn)(cb);
    if (typeof fn !== "function")
      throw new TypeError("need wrapper function");
    Object.keys(fn).forEach(function(k) {
      wrapper[k] = fn[k];
    });
    return wrapper;
    function wrapper() {
      var args = new Array(arguments.length);
      for (var i = 0;i < args.length; i++) {
        args[i] = arguments[i];
      }
      var ret = fn.apply(this, args);
      var cb2 = args[args.length - 1];
      if (typeof ret === "function" && ret !== cb2) {
        Object.keys(cb2).forEach(function(k) {
          ret[k] = cb2[k];
        });
      }
      return ret;
    }
  };
  module.exports = wrappy;
});

// node_modules/once/once.js
var require_once = __commonJS((exports, module) => {
  var once = function(fn) {
    var f = function() {
      if (f.called)
        return f.value;
      f.called = true;
      return f.value = fn.apply(this, arguments);
    };
    f.called = false;
    return f;
  };
  var onceStrict = function(fn) {
    var f = function() {
      if (f.called)
        throw new Error(f.onceError);
      f.called = true;
      return f.value = fn.apply(this, arguments);
    };
    var name = fn.name || "Function wrapped with `once`";
    f.onceError = name + " shouldn't be called more than once";
    f.called = false;
    return f;
  };
  var wrappy = require_wrappy();
  module.exports = wrappy(once);
  module.exports.strict = wrappy(onceStrict);
  once.proto = once(function() {
    Object.defineProperty(Function.prototype, "once", {
      value: function() {
        return once(this);
      },
      configurable: true
    });
    Object.defineProperty(Function.prototype, "onceStrict", {
      value: function() {
        return onceStrict(this);
      },
      configurable: true
    });
  });
});

// node_modules/inflight/inflight.js
var require_inflight = __commonJS((exports, module) => {
  var inflight = function(key, cb) {
    if (reqs[key]) {
      reqs[key].push(cb);
      return null;
    } else {
      reqs[key] = [cb];
      return makeres(key);
    }
  };
  var makeres = function(key) {
    return once(function RES() {
      var cbs = reqs[key];
      var len = cbs.length;
      var args = slice(arguments);
      try {
        for (var i = 0;i < len; i++) {
          cbs[i].apply(null, args);
        }
      } finally {
        if (cbs.length > len) {
          cbs.splice(0, len);
          process.nextTick(function() {
            RES.apply(null, args);
          });
        } else {
          delete reqs[key];
        }
      }
    });
  };
  var slice = function(args) {
    var length = args.length;
    var array = [];
    for (var i = 0;i < length; i++)
      array[i] = args[i];
    return array;
  };
  var wrappy = require_wrappy();
  var reqs = Object.create(null);
  var once = require_once();
  module.exports = wrappy(inflight);
});

// node_modules/glob/glob.js
var require_glob = __commonJS((exports, module) => {
  var glob = function(pattern, options, cb) {
    if (typeof options === "function")
      cb = options, options = {};
    if (!options)
      options = {};
    if (options.sync) {
      if (cb)
        throw new TypeError("callback provided to sync glob");
      return globSync(pattern, options);
    }
    return new Glob(pattern, options, cb);
  };
  var extend = function(origin, add) {
    if (add === null || typeof add !== "object") {
      return origin;
    }
    var keys = Object.keys(add);
    var i = keys.length;
    while (i--) {
      origin[keys[i]] = add[keys[i]];
    }
    return origin;
  };
  var Glob = function(pattern, options, cb) {
    if (typeof options === "function") {
      cb = options;
      options = null;
    }
    if (options && options.sync) {
      if (cb)
        throw new TypeError("callback provided to sync glob");
      return new GlobSync(pattern, options);
    }
    if (!(this instanceof Glob))
      return new Glob(pattern, options, cb);
    setopts(this, pattern, options);
    this._didRealPath = false;
    var n = this.minimatch.set.length;
    this.matches = new Array(n);
    if (typeof cb === "function") {
      cb = once(cb);
      this.on("error", cb);
      this.on("end", function(matches) {
        cb(null, matches);
      });
    }
    var self = this;
    this._processing = 0;
    this._emitQueue = [];
    this._processQueue = [];
    this.paused = false;
    if (this.noprocess)
      return this;
    if (n === 0)
      return done();
    var sync = true;
    for (var i = 0;i < n; i++) {
      this._process(this.minimatch.set[i], i, false, done);
    }
    sync = false;
    function done() {
      --self._processing;
      if (self._processing <= 0) {
        if (sync) {
          process.nextTick(function() {
            self._finish();
          });
        } else {
          self._finish();
        }
      }
    }
  };
  var readdirCb = function(self, abs, cb) {
    return function(er, entries) {
      if (er)
        self._readdirError(abs, er, cb);
      else
        self._readdirEntries(abs, entries, cb);
    };
  };
  module.exports = glob;
  var rp = require_fs();
  var minimatch = require_minimatch();
  var Minimatch = minimatch.Minimatch;
  var inherits = require_inherits();
  var EE = __require("events").EventEmitter;
  var path = __require("path");
  var assert = __require("assert");
  var isAbsolute = require_path_is_absolute();
  var globSync = require_sync();
  var common = require_common();
  var setopts = common.setopts;
  var ownProp = common.ownProp;
  var inflight = require_inflight();
  var util = __require("util");
  var childrenIgnored = common.childrenIgnored;
  var isIgnored = common.isIgnored;
  var once = require_once();
  glob.sync = globSync;
  var GlobSync = glob.GlobSync = globSync.GlobSync;
  glob.glob = glob;
  glob.hasMagic = function(pattern, options_) {
    var options = extend({}, options_);
    options.noprocess = true;
    var g = new Glob(pattern, options);
    var set = g.minimatch.set;
    if (!pattern)
      return false;
    if (set.length > 1)
      return true;
    for (var j = 0;j < set[0].length; j++) {
      if (typeof set[0][j] !== "string")
        return true;
    }
    return false;
  };
  glob.Glob = Glob;
  inherits(Glob, EE);
  Glob.prototype._finish = function() {
    assert(this instanceof Glob);
    if (this.aborted)
      return;
    if (this.realpath && !this._didRealpath)
      return this._realpath();
    common.finish(this);
    this.emit("end", this.found);
  };
  Glob.prototype._realpath = function() {
    if (this._didRealpath)
      return;
    this._didRealpath = true;
    var n = this.matches.length;
    if (n === 0)
      return this._finish();
    var self = this;
    for (var i = 0;i < this.matches.length; i++)
      this._realpathSet(i, next);
    function next() {
      if (--n === 0)
        self._finish();
    }
  };
  Glob.prototype._realpathSet = function(index, cb) {
    var matchset = this.matches[index];
    if (!matchset)
      return cb();
    var found = Object.keys(matchset);
    var self = this;
    var n = found.length;
    if (n === 0)
      return cb();
    var set = this.matches[index] = Object.create(null);
    found.forEach(function(p, i) {
      p = self._makeAbs(p);
      rp.realpath(p, self.realpathCache, function(er, real) {
        if (!er)
          set[real] = true;
        else if (er.syscall === "stat")
          set[p] = true;
        else
          self.emit("error", er);
        if (--n === 0) {
          self.matches[index] = set;
          cb();
        }
      });
    });
  };
  Glob.prototype._mark = function(p) {
    return common.mark(this, p);
  };
  Glob.prototype._makeAbs = function(f) {
    return common.makeAbs(this, f);
  };
  Glob.prototype.abort = function() {
    this.aborted = true;
    this.emit("abort");
  };
  Glob.prototype.pause = function() {
    if (!this.paused) {
      this.paused = true;
      this.emit("pause");
    }
  };
  Glob.prototype.resume = function() {
    if (this.paused) {
      this.emit("resume");
      this.paused = false;
      if (this._emitQueue.length) {
        var eq = this._emitQueue.slice(0);
        this._emitQueue.length = 0;
        for (var i = 0;i < eq.length; i++) {
          var e = eq[i];
          this._emitMatch(e[0], e[1]);
        }
      }
      if (this._processQueue.length) {
        var pq = this._processQueue.slice(0);
        this._processQueue.length = 0;
        for (var i = 0;i < pq.length; i++) {
          var p = pq[i];
          this._processing--;
          this._process(p[0], p[1], p[2], p[3]);
        }
      }
    }
  };
  Glob.prototype._process = function(pattern, index, inGlobStar, cb) {
    assert(this instanceof Glob);
    assert(typeof cb === "function");
    if (this.aborted)
      return;
    this._processing++;
    if (this.paused) {
      this._processQueue.push([pattern, index, inGlobStar, cb]);
      return;
    }
    var n = 0;
    while (typeof pattern[n] === "string") {
      n++;
    }
    var prefix;
    switch (n) {
      case pattern.length:
        this._processSimple(pattern.join("/"), index, cb);
        return;
      case 0:
        prefix = null;
        break;
      default:
        prefix = pattern.slice(0, n).join("/");
        break;
    }
    var remain = pattern.slice(n);
    var read;
    if (prefix === null)
      read = ".";
    else if (isAbsolute(prefix) || isAbsolute(pattern.map(function(p) {
      return typeof p === "string" ? p : "[*]";
    }).join("/"))) {
      if (!prefix || !isAbsolute(prefix))
        prefix = "/" + prefix;
      read = prefix;
    } else
      read = prefix;
    var abs = this._makeAbs(read);
    if (childrenIgnored(this, read))
      return cb();
    var isGlobStar = remain[0] === minimatch.GLOBSTAR;
    if (isGlobStar)
      this._processGlobStar(prefix, read, abs, remain, index, inGlobStar, cb);
    else
      this._processReaddir(prefix, read, abs, remain, index, inGlobStar, cb);
  };
  Glob.prototype._processReaddir = function(prefix, read, abs, remain, index, inGlobStar, cb) {
    var self = this;
    this._readdir(abs, inGlobStar, function(er, entries) {
      return self._processReaddir2(prefix, read, abs, remain, index, inGlobStar, entries, cb);
    });
  };
  Glob.prototype._processReaddir2 = function(prefix, read, abs, remain, index, inGlobStar, entries, cb) {
    if (!entries)
      return cb();
    var pn = remain[0];
    var negate = !!this.minimatch.negate;
    var rawGlob = pn._glob;
    var dotOk = this.dot || rawGlob.charAt(0) === ".";
    var matchedEntries = [];
    for (var i = 0;i < entries.length; i++) {
      var e = entries[i];
      if (e.charAt(0) !== "." || dotOk) {
        var m;
        if (negate && !prefix) {
          m = !e.match(pn);
        } else {
          m = e.match(pn);
        }
        if (m)
          matchedEntries.push(e);
      }
    }
    var len = matchedEntries.length;
    if (len === 0)
      return cb();
    if (remain.length === 1 && !this.mark && !this.stat) {
      if (!this.matches[index])
        this.matches[index] = Object.create(null);
      for (var i = 0;i < len; i++) {
        var e = matchedEntries[i];
        if (prefix) {
          if (prefix !== "/")
            e = prefix + "/" + e;
          else
            e = prefix + e;
        }
        if (e.charAt(0) === "/" && !this.nomount) {
          e = path.join(this.root, e);
        }
        this._emitMatch(index, e);
      }
      return cb();
    }
    remain.shift();
    for (var i = 0;i < len; i++) {
      var e = matchedEntries[i];
      var newPattern;
      if (prefix) {
        if (prefix !== "/")
          e = prefix + "/" + e;
        else
          e = prefix + e;
      }
      this._process([e].concat(remain), index, inGlobStar, cb);
    }
    cb();
  };
  Glob.prototype._emitMatch = function(index, e) {
    if (this.aborted)
      return;
    if (isIgnored(this, e))
      return;
    if (this.paused) {
      this._emitQueue.push([index, e]);
      return;
    }
    var abs = isAbsolute(e) ? e : this._makeAbs(e);
    if (this.mark)
      e = this._mark(e);
    if (this.absolute)
      e = abs;
    if (this.matches[index][e])
      return;
    if (this.nodir) {
      var c = this.cache[abs];
      if (c === "DIR" || Array.isArray(c))
        return;
    }
    this.matches[index][e] = true;
    var st = this.statCache[abs];
    if (st)
      this.emit("stat", e, st);
    this.emit("match", e);
  };
  Glob.prototype._readdirInGlobStar = function(abs, cb) {
    if (this.aborted)
      return;
    if (this.follow)
      return this._readdir(abs, false, cb);
    var lstatkey = "lstat\0" + abs;
    var self = this;
    var lstatcb = inflight(lstatkey, lstatcb_);
    if (lstatcb)
      self.fs.lstat(abs, lstatcb);
    function lstatcb_(er, lstat) {
      if (er && er.code === "ENOENT")
        return cb();
      var isSym = lstat && lstat.isSymbolicLink();
      self.symlinks[abs] = isSym;
      if (!isSym && lstat && !lstat.isDirectory()) {
        self.cache[abs] = "FILE";
        cb();
      } else
        self._readdir(abs, false, cb);
    }
  };
  Glob.prototype._readdir = function(abs, inGlobStar, cb) {
    if (this.aborted)
      return;
    cb = inflight("readdir\0" + abs + "\0" + inGlobStar, cb);
    if (!cb)
      return;
    if (inGlobStar && !ownProp(this.symlinks, abs))
      return this._readdirInGlobStar(abs, cb);
    if (ownProp(this.cache, abs)) {
      var c = this.cache[abs];
      if (!c || c === "FILE")
        return cb();
      if (Array.isArray(c))
        return cb(null, c);
    }
    var self = this;
    self.fs.readdir(abs, readdirCb(this, abs, cb));
  };
  Glob.prototype._readdirEntries = function(abs, entries, cb) {
    if (this.aborted)
      return;
    if (!this.mark && !this.stat) {
      for (var i = 0;i < entries.length; i++) {
        var e = entries[i];
        if (abs === "/")
          e = abs + e;
        else
          e = abs + "/" + e;
        this.cache[e] = true;
      }
    }
    this.cache[abs] = entries;
    return cb(null, entries);
  };
  Glob.prototype._readdirError = function(f, er, cb) {
    if (this.aborted)
      return;
    switch (er.code) {
      case "ENOTSUP":
      case "ENOTDIR":
        var abs = this._makeAbs(f);
        this.cache[abs] = "FILE";
        if (abs === this.cwdAbs) {
          var error = new Error(er.code + " invalid cwd " + this.cwd);
          error.path = this.cwd;
          error.code = er.code;
          this.emit("error", error);
          this.abort();
        }
        break;
      case "ENOENT":
      case "ELOOP":
      case "ENAMETOOLONG":
      case "UNKNOWN":
        this.cache[this._makeAbs(f)] = false;
        break;
      default:
        this.cache[this._makeAbs(f)] = false;
        if (this.strict) {
          this.emit("error", er);
          this.abort();
        }
        if (!this.silent)
          console.error("glob error", er);
        break;
    }
    return cb();
  };
  Glob.prototype._processGlobStar = function(prefix, read, abs, remain, index, inGlobStar, cb) {
    var self = this;
    this._readdir(abs, inGlobStar, function(er, entries) {
      self._processGlobStar2(prefix, read, abs, remain, index, inGlobStar, entries, cb);
    });
  };
  Glob.prototype._processGlobStar2 = function(prefix, read, abs, remain, index, inGlobStar, entries, cb) {
    if (!entries)
      return cb();
    var remainWithoutGlobStar = remain.slice(1);
    var gspref = prefix ? [prefix] : [];
    var noGlobStar = gspref.concat(remainWithoutGlobStar);
    this._process(noGlobStar, index, false, cb);
    var isSym = this.symlinks[abs];
    var len = entries.length;
    if (isSym && inGlobStar)
      return cb();
    for (var i = 0;i < len; i++) {
      var e = entries[i];
      if (e.charAt(0) === "." && !this.dot)
        continue;
      var instead = gspref.concat(entries[i], remainWithoutGlobStar);
      this._process(instead, index, true, cb);
      var below = gspref.concat(entries[i], remain);
      this._process(below, index, true, cb);
    }
    cb();
  };
  Glob.prototype._processSimple = function(prefix, index, cb) {
    var self = this;
    this._stat(prefix, function(er, exists) {
      self._processSimple2(prefix, index, er, exists, cb);
    });
  };
  Glob.prototype._processSimple2 = function(prefix, index, er, exists, cb) {
    if (!this.matches[index])
      this.matches[index] = Object.create(null);
    if (!exists)
      return cb();
    if (prefix && isAbsolute(prefix) && !this.nomount) {
      var trail = /[\/\\]$/.test(prefix);
      if (prefix.charAt(0) === "/") {
        prefix = path.join(this.root, prefix);
      } else {
        prefix = path.resolve(this.root, prefix);
        if (trail)
          prefix += "/";
      }
    }
    if (process.platform === "win32")
      prefix = prefix.replace(/\\/g, "/");
    this._emitMatch(index, prefix);
    cb();
  };
  Glob.prototype._stat = function(f, cb) {
    var abs = this._makeAbs(f);
    var needDir = f.slice(-1) === "/";
    if (f.length > this.maxLength)
      return cb();
    if (!this.stat && ownProp(this.cache, abs)) {
      var c = this.cache[abs];
      if (Array.isArray(c))
        c = "DIR";
      if (!needDir || c === "DIR")
        return cb(null, c);
      if (needDir && c === "FILE")
        return cb();
    }
    var exists;
    var stat = this.statCache[abs];
    if (stat !== undefined) {
      if (stat === false)
        return cb(null, stat);
      else {
        var type = stat.isDirectory() ? "DIR" : "FILE";
        if (needDir && type === "FILE")
          return cb();
        else
          return cb(null, type, stat);
      }
    }
    var self = this;
    var statcb = inflight("stat\0" + abs, lstatcb_);
    if (statcb)
      self.fs.lstat(abs, statcb);
    function lstatcb_(er, lstat) {
      if (lstat && lstat.isSymbolicLink()) {
        return self.fs.stat(abs, function(er2, stat2) {
          if (er2)
            self._stat2(f, abs, null, lstat, cb);
          else
            self._stat2(f, abs, er2, stat2, cb);
        });
      } else {
        self._stat2(f, abs, er, lstat, cb);
      }
    }
  };
  Glob.prototype._stat2 = function(f, abs, er, stat, cb) {
    if (er && (er.code === "ENOENT" || er.code === "ENOTDIR")) {
      this.statCache[abs] = false;
      return cb();
    }
    var needDir = f.slice(-1) === "/";
    this.statCache[abs] = stat;
    if (abs.slice(-1) === "/" && stat && !stat.isDirectory())
      return cb(null, false, stat);
    var c = true;
    if (stat)
      c = stat.isDirectory() ? "DIR" : "FILE";
    this.cache[abs] = this.cache[abs] || c;
    if (needDir && c === "FILE")
      return cb();
    return cb(null, c, stat);
  };
});

// lib/selector-parser.js
var require_selector_parser = __commonJS((exports, module) => {
  /*!
   * Stylus - Selector Parser
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var COMBINATORS = [">", "+", "~"];
  module.exports = class SelectorParser {
    constructor(str, stack, parts) {
      this.str = str;
      this.stack = stack || [];
      this.parts = parts || [];
      this.pos = 0;
      this.level = 2;
      this.nested = true;
      this.ignore = false;
    }
    skip(len) {
      this.str = this.str.substr(len);
      this.pos += len;
    }
    skipSpaces() {
      while (this.str[0] == " ")
        this.skip(1);
    }
    advance() {
      return this.root() || this.relative() || this.initial() || this.escaped() || this.parent() || this.partial() || this.char();
    }
    root() {
      if (!this.pos && this.str[0] == "/" && this.str.slice(1, 5) != "deep") {
        this.nested = false;
        this.skip(1);
      }
    }
    relative(multi) {
      if ((!this.pos || multi) && this.str.slice(0, 3) == "../") {
        this.nested = false;
        this.skip(3);
        while (this.relative(true))
          this.level++;
        if (!this.raw) {
          var ret = this.stack[this.stack.length - this.level];
          if (ret) {
            return ret;
          } else {
            this.ignore = true;
          }
        }
      }
    }
    initial() {
      if (!this.pos && this.str[0] == "~" && this.str[1] == "/") {
        this.nested = false;
        this.skip(2);
        return this.stack[0];
      }
    }
    escaped() {
      if (this.str[0] == "\\") {
        var char = this.str[1];
        if (char == "&" || char == "^") {
          this.skip(2);
          return char;
        }
      }
    }
    parent() {
      if (this.str[0] == "&") {
        this.nested = false;
        if (!this.pos && (!this.stack.length || this.raw)) {
          var i = 0;
          while (this.str[++i] == " ")
            ;
          if (~COMBINATORS.indexOf(this.str[i])) {
            this.skip(i + 1);
            return;
          }
        }
        this.skip(1);
        if (!this.raw)
          return this.stack[this.stack.length - 1];
      }
    }
    partial() {
      if (this.str[0] == "^" && this.str[1] == "[") {
        this.skip(2);
        this.skipSpaces();
        var ret = this.range();
        this.skipSpaces();
        if (this.str[0] != "]")
          return "^[";
        this.nested = false;
        this.skip(1);
        if (ret) {
          return ret;
        } else {
          this.ignore = true;
        }
      }
    }
    number() {
      var i = 0, ret = "";
      if (this.str[i] == "-")
        ret += this.str[i++];
      while (this.str.charCodeAt(i) >= 48 && this.str.charCodeAt(i) <= 57)
        ret += this.str[i++];
      if (ret) {
        this.skip(i);
        return Number(ret);
      }
    }
    range() {
      var start = this.number(), ret;
      if (this.str.slice(0, 2) == "..") {
        this.skip(2);
        var end = this.number(), len = this.parts.length;
        if (start < 0)
          start = len + start - 1;
        if (end < 0)
          end = len + end - 1;
        if (start > end) {
          var tmp = start;
          start = end;
          end = tmp;
        }
        if (end < len - 1) {
          ret = this.parts.slice(start, end + 1).map(function(part) {
            var selector = new SelectorParser(part, this.stack, this.parts);
            selector.raw = true;
            return selector.parse();
          }, this).map(function(selector) {
            return (selector.nested ? " " : "") + selector.val;
          }).join("").trim();
        }
      } else {
        ret = this.stack[start < 0 ? this.stack.length + start - 1 : start];
      }
      if (ret) {
        return ret;
      } else {
        this.ignore = true;
      }
    }
    char() {
      var char = this.str[0];
      this.skip(1);
      return char;
    }
    parse() {
      var val = "";
      while (this.str.length) {
        val += this.advance() || "";
        if (this.ignore) {
          val = "";
          break;
        }
      }
      return { val: val.trimRight(), nested: this.nested };
    }
  };
});

// lib/utils.js
var require_utils = __commonJS((exports) => {
  var __dirname = "/Users/kodi/Downloads/stylus-0.62.0/lib";
  /*!
   * Stylus - utils
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var nodes = require_nodes();
  var basename = __require("path").basename;
  var relative = __require("path").relative;
  var join = __require("path").join;
  var isAbsolute = __require("path").isAbsolute;
  var glob = require_glob();
  var fs = __require("fs");
  exports.absolute = isAbsolute || function(path) {
    return path.substr(0, 2) == "\\\\" || path.charAt(0) === "/" || /^[a-z]:[\\\/]/i.test(path);
  };
  exports.lookup = function(path, paths, ignore) {
    var lookup, i = paths.length;
    if (exports.absolute(path)) {
      try {
        fs.statSync(path);
        return path;
      } catch (err) {
      }
    }
    while (i--) {
      try {
        lookup = join(paths[i], path);
        if (ignore == lookup)
          continue;
        fs.statSync(lookup);
        return lookup;
      } catch (err) {
      }
    }
  };
  exports.find = function(path, paths, ignore) {
    var lookup, found, i = paths.length;
    if (exports.absolute(path)) {
      if ((found = glob.sync(path)).length) {
        return found;
      }
    }
    while (i--) {
      lookup = join(paths[i], path);
      if (ignore == lookup)
        continue;
      if ((found = glob.sync(lookup)).length) {
        return found;
      }
    }
  };
  exports.lookupIndex = function(name, paths, filename) {
    var found = exports.find(join(name, "index.styl"), paths, filename);
    if (!found) {
      found = exports.find(join(name, basename(name).replace(/\.styl/i, "") + ".styl"), paths, filename);
    }
    if (!found && !~name.indexOf("node_modules")) {
      found = lookupPackage(join("node_modules", name));
    }
    return found;
    function lookupPackage(dir) {
      var pkg = exports.lookup(join(dir, "package.json"), paths, filename);
      if (!pkg) {
        return /\.styl$/i.test(dir) ? exports.lookupIndex(dir, paths, filename) : lookupPackage(dir + ".styl");
      }
      var main = __require(relative(__dirname, pkg)).main;
      if (main) {
        found = exports.find(join(dir, main), paths, filename);
      } else {
        found = exports.lookupIndex(dir, paths, filename);
      }
      return found;
    }
  };
  exports.formatException = function(err, options) {
    var { lineno, column, filename, input: str } = options, context = options.context || 8, context = context / 2, lines = ("\n" + str).split("\n"), start = Math.max(lineno - context, 1), end = Math.min(lines.length, lineno + context), pad = end.toString().length;
    var context = lines.slice(start, end).map(function(line, i) {
      var curr = i + start;
      return "   " + Array(pad - curr.toString().length + 1).join(" ") + curr + "| " + line + (curr == lineno ? "\n" + Array(curr.toString().length + 5 + column).join("-") + "^" : "");
    }).join("\n");
    err.message = filename + ":" + lineno + ":" + column + "\n" + context + "\n\n" + err.message + "\n" + (err.stylusStack ? err.stylusStack + "\n" : "");
    if (err.fromStylus)
      err.stack = "Error: " + err.message;
    return err;
  };
  exports.assertType = function(node, type, param) {
    exports.assertPresent(node, param);
    if (node.nodeName == type)
      return;
    var actual = node.nodeName, msg = "expected " + (param ? '"' + param + '" to be a ' : "") + type + ", but got " + actual + ":" + node;
    throw new Error("TypeError: " + msg);
  };
  exports.assertString = function(node, param) {
    exports.assertPresent(node, param);
    switch (node.nodeName) {
      case "string":
      case "ident":
      case "literal":
        return;
      default:
        var actual = node.nodeName, msg = "expected string, ident or literal, but got " + actual + ":" + node;
        throw new Error("TypeError: " + msg);
    }
  };
  exports.assertColor = function(node, param) {
    exports.assertPresent(node, param);
    switch (node.nodeName) {
      case "rgba":
      case "hsla":
        return;
      default:
        var actual = node.nodeName, msg = "expected rgba or hsla, but got " + actual + ":" + node;
        throw new Error("TypeError: " + msg);
    }
  };
  exports.assertPresent = function(node, name) {
    if (node)
      return;
    if (name)
      throw new Error('"' + name + '" argument required');
    throw new Error("argument missing");
  };
  exports.unwrap = function(expr) {
    if (expr.preserve)
      return expr;
    if (expr.nodeName != "arguments" && expr.nodeName != "expression")
      return expr;
    if (expr.nodes.length != 1)
      return expr;
    if (expr.nodes[0].nodeName != "arguments" && expr.nodes[0].nodeName != "expression")
      return expr;
    return exports.unwrap(expr.nodes[0]);
  };
  exports.coerce = function(val, raw) {
    switch (typeof val) {
      case "function":
        return val;
      case "string":
        return new nodes.String(val);
      case "boolean":
        return new nodes.Boolean(val);
      case "number":
        return new nodes.Unit(val);
      default:
        if (val == null)
          return nodes.null;
        if (Array.isArray(val))
          return exports.coerceArray(val, raw);
        if (val.nodeName)
          return val;
        return exports.coerceObject(val, raw);
    }
  };
  exports.coerceArray = function(val, raw) {
    var expr = new nodes.Expression;
    val.forEach(function(val2) {
      expr.push(exports.coerce(val2, raw));
    });
    return expr;
  };
  exports.coerceObject = function(obj, raw) {
    var node = raw ? new nodes.Object : new nodes.Expression, val;
    for (var key in obj) {
      val = exports.coerce(obj[key], raw);
      key = new nodes.Ident(key);
      if (raw) {
        node.set(key, val);
      } else {
        node.push(exports.coerceArray([key, val]));
      }
    }
    return node;
  };
  exports.params = function(fn) {
    return fn.toString().match(/\(([^)]*)\)/)[1].split(/ *, */);
  };
  exports.merge = function(a, b, deep) {
    for (var k in b) {
      if (deep && a[k]) {
        var nodeA = exports.unwrap(a[k]).first, nodeB = exports.unwrap(b[k]).first;
        if (nodeA.nodeName == "object" && nodeB.nodeName == "object") {
          a[k].first.vals = exports.merge(nodeA.vals, nodeB.vals, deep);
        } else {
          a[k] = b[k];
        }
      } else {
        a[k] = b[k];
      }
    }
    return a;
  };
  exports.uniq = function(arr) {
    var obj = {}, ret = [];
    for (var i = 0, len = arr.length;i < len; ++i) {
      if (arr[i] in obj)
        continue;
      obj[arr[i]] = true;
      ret.push(arr[i]);
    }
    return ret;
  };
  exports.compileSelectors = function(arr, leaveHidden) {
    var selectors = [], Parser = require_selector_parser(), indent = this.indent || "", buf = [];
    function parse(selector, buf2) {
      var parts = [selector.val], str = new Parser(parts[0], parents, parts).parse().val, parents = [];
      if (buf2.length) {
        for (var i = 0, len = buf2.length;i < len; ++i) {
          parts.push(buf2[i]);
          parents.push(str);
          var child = new Parser(buf2[i], parents, parts).parse();
          if (child.nested) {
            str += " " + child.val;
          } else {
            str = child.val;
          }
        }
      }
      return str.trim();
    }
    function compile(arr2, i) {
      if (i) {
        arr2[i].forEach(function(selector) {
          if (!leaveHidden && selector.isPlaceholder)
            return;
          if (selector.inherits) {
            buf.unshift(selector.val);
            compile(arr2, i - 1);
            buf.shift();
          } else {
            selectors.push(indent + parse(selector, buf));
          }
        });
      } else {
        arr2[0].forEach(function(selector) {
          if (!leaveHidden && selector.isPlaceholder)
            return;
          var str = parse(selector, buf);
          if (str)
            selectors.push(indent + str);
        });
      }
    }
    compile(arr, arr.length - 1);
    return exports.uniq(selectors);
  };
  exports.parseString = function(str) {
    var Parser = require_parser(), parser, ret;
    try {
      parser = new Parser(str);
      ret = parser.list();
    } catch (e) {
      ret = new nodes.Literal(str);
    }
    return ret;
  };
});

// lib/functions/add-property.js
var require_add_property = __commonJS((exports, module) => {
  var utils = require_utils();
  var nodes = require_nodes();
  (module.exports = function addProperty(name, expr) {
    utils.assertType(name, "expression", "name");
    name = utils.unwrap(name).first;
    utils.assertString(name, "name");
    utils.assertType(expr, "expression", "expr");
    var prop = new nodes.Property([name], expr);
    var block = this.closestBlock;
    var len = block.nodes.length, head = block.nodes.slice(0, block.index), tail = block.nodes.slice(block.index++, len);
    head.push(prop);
    block.nodes = head.concat(tail);
    return prop;
  }).raw = true;
});

// lib/functions/adjust.js
var require_adjust = __commonJS((exports, module) => {
  var adjust = function(color, prop, amount) {
    utils.assertColor(color, "color");
    utils.assertString(prop, "prop");
    utils.assertType(amount, "unit", "amount");
    var hsl = color.hsla.clone();
    prop = { hue: "h", saturation: "s", lightness: "l" }[prop.string];
    if (!prop)
      throw new Error("invalid adjustment property");
    var val = amount.val;
    if (amount.type == "%") {
      val = prop == "l" && val > 0 ? (100 - hsl[prop]) * val / 100 : hsl[prop] * (val / 100);
    }
    hsl[prop] += val;
    return hsl.rgba;
  };
  var utils = require_utils();
  adjust.params = ["color", "prop", "amount"];
  module.exports = adjust;
});

// lib/functions/rgba.js
var require_rgba = __commonJS((exports, module) => {
  var rgba = function(red, green, blue, alpha) {
    switch (arguments.length) {
      case 1:
        utils.assertColor(red);
        return red.rgba;
      case 2:
        utils.assertColor(red);
        var color = red.rgba;
        utils.assertType(green, "unit", "alpha");
        alpha = green.clone();
        if (alpha.type == "%")
          alpha.val /= 100;
        return new nodes.RGBA(color.r, color.g, color.b, alpha.val);
      default:
        utils.assertType(red, "unit", "red");
        utils.assertType(green, "unit", "green");
        utils.assertType(blue, "unit", "blue");
        utils.assertType(alpha, "unit", "alpha");
        var r = red.type == "%" ? Math.round(red.val * 2.55) : red.val, g = green.type == "%" ? Math.round(green.val * 2.55) : green.val, b = blue.type == "%" ? Math.round(blue.val * 2.55) : blue.val;
        alpha = alpha.clone();
        if (alpha && alpha.type == "%")
          alpha.val /= 100;
        return new nodes.RGBA(r, g, b, alpha.val);
    }
  };
  var utils = require_utils();
  var nodes = require_nodes();
  rgba.params = ["red", "green", "blue", "alpha"];
  module.exports = rgba;
});

// lib/functions/alpha.js
var require_alpha = __commonJS((exports, module) => {
  var alpha = function(color, value) {
    color = color.rgba;
    if (value) {
      return rgba(new nodes.Unit(color.r), new nodes.Unit(color.g), new nodes.Unit(color.b), value);
    }
    return new nodes.Unit(color.a, "");
  };
  var nodes = require_nodes();
  var rgba = require_rgba();
  alpha.params = ["color", "value"];
  module.exports = alpha;
});

// lib/functions/base-convert.js
var require_base_convert = __commonJS((exports, module) => {
  var utils = require_utils();
  var nodes = require_nodes();
  (module.exports = function(num, base, width) {
    utils.assertPresent(num, "number");
    utils.assertPresent(base, "base");
    num = utils.unwrap(num).nodes[0].val;
    base = utils.unwrap(base).nodes[0].val;
    width = width && utils.unwrap(width).nodes[0].val || 2;
    var result = Number(num).toString(base);
    while (result.length < width) {
      result = "0" + result;
    }
    return new nodes.Literal(result);
  }).raw = true;
});

// lib/functions/basename.js
var require_basename = __commonJS((exports, module) => {
  var basename = function(p, ext) {
    utils.assertString(p, "path");
    return path.basename(p.val, ext && ext.val);
  };
  var utils = require_utils();
  var path = __require("path");
  basename.params = ["p", "ext"];
  module.exports = basename;
});

// lib/functions/blend.js
var require_blend = __commonJS((exports, module) => {
  var blend = function(top, bottom) {
    utils.assertColor(top);
    top = top.rgba;
    bottom = bottom || new nodes.RGBA(255, 255, 255, 1);
    utils.assertColor(bottom);
    bottom = bottom.rgba;
    return new nodes.RGBA(top.r * top.a + bottom.r * (1 - top.a), top.g * top.a + bottom.g * (1 - top.a), top.b * top.a + bottom.b * (1 - top.a), top.a + bottom.a - top.a * bottom.a);
  };
  var utils = require_utils();
  var nodes = require_nodes();
  blend.params = ["top", "bottom"];
  module.exports = blend;
});

// lib/functions/blue.js
var require_blue = __commonJS((exports, module) => {
  var blue = function(color, value) {
    color = color.rgba;
    if (value) {
      return rgba(new nodes.Unit(color.r), new nodes.Unit(color.g), value, new nodes.Unit(color.a));
    }
    return new nodes.Unit(color.b, "");
  };
  var nodes = require_nodes();
  var rgba = require_rgba();
  blue.params = ["color", "value"];
  module.exports = blue;
});

// lib/functions/clone.js
var require_clone = __commonJS((exports, module) => {
  var utils = require_utils();
  (module.exports = function clone(expr) {
    utils.assertPresent(expr, "expr");
    return expr.clone();
  }).raw = true;
});

// lib/functions/component.js
var require_component = __commonJS((exports, module) => {
  var component = function(color, name) {
    utils.assertColor(color, "color");
    utils.assertString(name, "name");
    var name = name.string, unit = unitMap[name], type = typeMap[name], name = componentMap[name];
    if (!name)
      throw new Error('invalid color component "' + name + '"');
    return new nodes.Unit(color[type][name], unit);
  };
  var utils = require_utils();
  var nodes = require_nodes();
  var componentMap = {
    red: "r",
    green: "g",
    blue: "b",
    alpha: "a",
    hue: "h",
    saturation: "s",
    lightness: "l"
  };
  var unitMap = {
    hue: "deg",
    saturation: "%",
    lightness: "%"
  };
  var typeMap = {
    red: "rgba",
    blue: "rgba",
    green: "rgba",
    alpha: "rgba",
    hue: "hsla",
    saturation: "hsla",
    lightness: "hsla"
  };
  component.params = ["color", "name"];
  module.exports = component;
});

// lib/functions/luminosity.js
var require_luminosity = __commonJS((exports, module) => {
  var luminosity = function(color) {
    utils.assertColor(color);
    color = color.rgba;
    function processChannel(channel) {
      channel = channel / 255;
      return 0.03928 > channel ? channel / 12.92 : Math.pow((channel + 0.055) / 1.055, 2.4);
    }
    return new nodes.Unit(0.2126 * processChannel(color.r) + 0.7152 * processChannel(color.g) + 0.0722 * processChannel(color.b));
  };
  var utils = require_utils();
  var nodes = require_nodes();
  luminosity.params = ["color"];
  module.exports = luminosity;
});

// lib/functions/contrast.js
var require_contrast = __commonJS((exports, module) => {
  var contrast = function(top, bottom) {
    if (top.nodeName != "rgba" && top.nodeName != "hsla") {
      return new nodes.Literal("contrast(" + (top.isNull ? "" : top.toString()) + ")");
    }
    var result = new nodes.Object;
    top = top.rgba;
    bottom = bottom || new nodes.RGBA(255, 255, 255, 1);
    utils.assertColor(bottom);
    bottom = bottom.rgba;
    function contrast2(top2, bottom2) {
      if (1 > top2.a) {
        top2 = blend(top2, bottom2);
      }
      var l1 = luminosity(bottom2).val + 0.05, l2 = luminosity(top2).val + 0.05, ratio = l1 / l2;
      if (l2 > l1) {
        ratio = 1 / ratio;
      }
      return Math.round(ratio * 10) / 10;
    }
    if (1 <= bottom.a) {
      var resultRatio = new nodes.Unit(contrast2(top, bottom));
      result.set("ratio", resultRatio);
      result.set("error", new nodes.Unit(0));
      result.set("min", resultRatio);
      result.set("max", resultRatio);
    } else {
      let processChannel2 = function(topChannel, bottomChannel) {
        return Math.min(Math.max(0, (topChannel - bottomChannel * bottom.a) / (1 - bottom.a)), 255);
      };
      var processChannel = processChannel2;
      var onBlack = contrast2(top, blend(bottom, new nodes.RGBA(0, 0, 0, 1))), onWhite = contrast2(top, blend(bottom, new nodes.RGBA(255, 255, 255, 1))), max = Math.max(onBlack, onWhite);
      var closest = new nodes.RGBA(processChannel2(top.r, bottom.r), processChannel2(top.g, bottom.g), processChannel2(top.b, bottom.b), 1);
      var min = contrast2(top, blend(bottom, closest));
      result.set("ratio", new nodes.Unit(Math.round((min + max) * 50) / 100));
      result.set("error", new nodes.Unit(Math.round((max - min) * 50) / 100));
      result.set("min", new nodes.Unit(min));
      result.set("max", new nodes.Unit(max));
    }
    return result;
  };
  var utils = require_utils();
  var nodes = require_nodes();
  var blend = require_blend();
  var luminosity = require_luminosity();
  contrast.params = ["top", "bottom"];
  module.exports = contrast;
});

// lib/functions/convert.js
var require_convert = __commonJS((exports, module) => {
  var convert = function(str) {
    utils.assertString(str, "str");
    return utils.parseString(str.string);
  };
  var utils = require_utils();
  convert.params = ["str"];
  module.exports = convert;
});

// lib/functions/current-media.js
var require_current_media = __commonJS((exports, module) => {
  var nodes = require_nodes();
  module.exports = function currentMedia() {
    var self = this;
    return new nodes.String(lookForMedia(this.closestBlock.node) || "");
    function lookForMedia(node) {
      if (node.nodeName == "media") {
        node.val = self.visit(node.val);
        return node.toString();
      } else if (node.block.parent.node) {
        return lookForMedia(node.block.parent.node);
      }
    }
  };
});

// lib/functions/define.js
var require_define = __commonJS((exports, module) => {
  var define = function(name, expr, global) {
    utils.assertType(name, "string", "name");
    expr = utils.unwrap(expr);
    var scope = this.currentScope;
    if (global && global.toBoolean().isTrue) {
      scope = this.global.scope;
    }
    var node = new nodes.Ident(name.val, expr);
    scope.add(node);
    return nodes.null;
  };
  var utils = require_utils();
  var nodes = require_nodes();
  define.params = ["name", "expr", "global"];
  module.exports = define;
});

// lib/functions/dirname.js
var require_dirname = __commonJS((exports, module) => {
  var dirname = function(p) {
    utils.assertString(p, "path");
    return path.dirname(p.val).replace(/\\/g, "/");
  };
  var utils = require_utils();
  var path = __require("path");
  dirname.params = ["p"];
  module.exports = dirname;
});

// lib/functions/error.js
var require_error = __commonJS((exports, module) => {
  var error = function(msg) {
    utils.assertType(msg, "string", "msg");
    var err = new Error(msg.val);
    err.fromStylus = true;
    throw err;
  };
  var utils = require_utils();
  error.params = ["msg"];
  module.exports = error;
});

// lib/functions/extname.js
var require_extname = __commonJS((exports, module) => {
  var extname = function(p) {
    utils.assertString(p, "path");
    return path.extname(p.val);
  };
  var utils = require_utils();
  var path = __require("path");
  extname.params = ["p"];
  module.exports = extname;
});

// lib/functions/green.js
var require_green = __commonJS((exports, module) => {
  var green = function(color, value) {
    color = color.rgba;
    if (value) {
      return rgba(new nodes.Unit(color.r), value, new nodes.Unit(color.b), new nodes.Unit(color.a));
    }
    return new nodes.Unit(color.g, "");
  };
  var nodes = require_nodes();
  var rgba = require_rgba();
  green.params = ["color", "value"];
  module.exports = green;
});

// lib/functions/hsla.js
var require_hsla = __commonJS((exports, module) => {
  var hsla = function(hue, saturation, lightness, alpha) {
    switch (arguments.length) {
      case 1:
        utils.assertColor(hue);
        return hue.hsla;
      case 2:
        utils.assertColor(hue);
        var color = hue.hsla;
        utils.assertType(saturation, "unit", "alpha");
        var alpha = saturation.clone();
        if (alpha.type == "%")
          alpha.val /= 100;
        return new nodes.HSLA(color.h, color.s, color.l, alpha.val);
      default:
        utils.assertType(hue, "unit", "hue");
        utils.assertType(saturation, "unit", "saturation");
        utils.assertType(lightness, "unit", "lightness");
        utils.assertType(alpha, "unit", "alpha");
        var alpha = alpha.clone();
        if (alpha && alpha.type == "%")
          alpha.val /= 100;
        return new nodes.HSLA(hue.val, saturation.val, lightness.val, alpha.val);
    }
  };
  var utils = require_utils();
  var nodes = require_nodes();
  hsla.params = ["hue", "saturation", "lightness", "alpha"];
  module.exports = hsla;
});

// lib/functions/hsl.js
var require_hsl = __commonJS((exports, module) => {
  var hsl = function(hue, saturation, lightness) {
    if (arguments.length == 1) {
      utils.assertColor(hue, "color");
      return hue.hsla;
    } else {
      return hsla(hue, saturation, lightness, new nodes.Unit(1));
    }
  };
  var utils = require_utils();
  var nodes = require_nodes();
  var hsla = require_hsla();
  hsl.params = ["hue", "saturation", "lightness"];
  module.exports = hsl;
});

// lib/functions/hue.js
var require_hue = __commonJS((exports, module) => {
  var hue = function(color, value) {
    if (value) {
      var hslaColor = color.hsla;
      return hsla(value, new nodes.Unit(hslaColor.s), new nodes.Unit(hslaColor.l), new nodes.Unit(hslaColor.a));
    }
    return component(color, new nodes.String("hue"));
  };
  var nodes = require_nodes();
  var hsla = require_hsla();
  var component = require_component();
  hue.params = ["color", "value"];
  module.exports = hue;
});

// node_modules/sax/lib/sax.js
var require_sax = __commonJS((exports) => {
  (function(sax) {
    sax.parser = function(strict, opt) {
      return new SAXParser(strict, opt);
    };
    sax.SAXParser = SAXParser;
    sax.SAXStream = SAXStream;
    sax.createStream = createStream;
    sax.MAX_BUFFER_LENGTH = 64 * 1024;
    var buffers = [
      "comment",
      "sgmlDecl",
      "textNode",
      "tagName",
      "doctype",
      "procInstName",
      "procInstBody",
      "entity",
      "attribName",
      "attribValue",
      "cdata",
      "script"
    ];
    sax.EVENTS = [
      "text",
      "processinginstruction",
      "sgmldeclaration",
      "doctype",
      "comment",
      "opentagstart",
      "attribute",
      "opentag",
      "closetag",
      "opencdata",
      "cdata",
      "closecdata",
      "error",
      "end",
      "ready",
      "script",
      "opennamespace",
      "closenamespace"
    ];
    function SAXParser(strict, opt) {
      if (!(this instanceof SAXParser)) {
        return new SAXParser(strict, opt);
      }
      var parser = this;
      clearBuffers(parser);
      parser.q = parser.c = "";
      parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH;
      parser.opt = opt || {};
      parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags;
      parser.looseCase = parser.opt.lowercase ? "toLowerCase" : "toUpperCase";
      parser.tags = [];
      parser.closed = parser.closedRoot = parser.sawRoot = false;
      parser.tag = parser.error = null;
      parser.strict = !!strict;
      parser.noscript = !!(strict || parser.opt.noscript);
      parser.state = S.BEGIN;
      parser.strictEntities = parser.opt.strictEntities;
      parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES);
      parser.attribList = [];
      if (parser.opt.xmlns) {
        parser.ns = Object.create(rootNS);
      }
      parser.trackPosition = parser.opt.position !== false;
      if (parser.trackPosition) {
        parser.position = parser.line = parser.column = 0;
      }
      emit(parser, "onready");
    }
    if (!Object.create) {
      Object.create = function(o) {
        function F() {
        }
        F.prototype = o;
        var newf = new F;
        return newf;
      };
    }
    if (!Object.keys) {
      Object.keys = function(o) {
        var a = [];
        for (var i in o)
          if (o.hasOwnProperty(i))
            a.push(i);
        return a;
      };
    }
    function checkBufferLength(parser) {
      var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10);
      var maxActual = 0;
      for (var i = 0, l = buffers.length;i < l; i++) {
        var len = parser[buffers[i]].length;
        if (len > maxAllowed) {
          switch (buffers[i]) {
            case "textNode":
              closeText(parser);
              break;
            case "cdata":
              emitNode(parser, "oncdata", parser.cdata);
              parser.cdata = "";
              break;
            case "script":
              emitNode(parser, "onscript", parser.script);
              parser.script = "";
              break;
            default:
              error(parser, "Max buffer length exceeded: " + buffers[i]);
          }
        }
        maxActual = Math.max(maxActual, len);
      }
      var m = sax.MAX_BUFFER_LENGTH - maxActual;
      parser.bufferCheckPosition = m + parser.position;
    }
    function clearBuffers(parser) {
      for (var i = 0, l = buffers.length;i < l; i++) {
        parser[buffers[i]] = "";
      }
    }
    function flushBuffers(parser) {
      closeText(parser);
      if (parser.cdata !== "") {
        emitNode(parser, "oncdata", parser.cdata);
        parser.cdata = "";
      }
      if (parser.script !== "") {
        emitNode(parser, "onscript", parser.script);
        parser.script = "";
      }
    }
    SAXParser.prototype = {
      end: function() {
        end(this);
      },
      write,
      resume: function() {
        this.error = null;
        return this;
      },
      close: function() {
        return this.write(null);
      },
      flush: function() {
        flushBuffers(this);
      }
    };
    var Stream;
    try {
      Stream = __require("stream").Stream;
    } catch (ex) {
      Stream = function() {
      };
    }
    if (!Stream)
      Stream = function() {
      };
    var streamWraps = sax.EVENTS.filter(function(ev) {
      return ev !== "error" && ev !== "end";
    });
    function createStream(strict, opt) {
      return new SAXStream(strict, opt);
    }
    function SAXStream(strict, opt) {
      if (!(this instanceof SAXStream)) {
        return new SAXStream(strict, opt);
      }
      Stream.apply(this);
      this._parser = new SAXParser(strict, opt);
      this.writable = true;
      this.readable = true;
      var me = this;
      this._parser.onend = function() {
        me.emit("end");
      };
      this._parser.onerror = function(er) {
        me.emit("error", er);
        me._parser.error = null;
      };
      this._decoder = null;
      streamWraps.forEach(function(ev) {
        Object.defineProperty(me, "on" + ev, {
          get: function() {
            return me._parser["on" + ev];
          },
          set: function(h) {
            if (!h) {
              me.removeAllListeners(ev);
              me._parser["on" + ev] = h;
              return h;
            }
            me.on(ev, h);
          },
          enumerable: true,
          configurable: false
        });
      });
    }
    SAXStream.prototype = Object.create(Stream.prototype, {
      constructor: {
        value: SAXStream
      }
    });
    SAXStream.prototype.write = function(data) {
      if (typeof Buffer === "function" && typeof Buffer.isBuffer === "function" && Buffer.isBuffer(data)) {
        if (!this._decoder) {
          var SD = __require("string_decoder").StringDecoder;
          this._decoder = new SD("utf8");
        }
        data = this._decoder.write(data);
      }
      this._parser.write(data.toString());
      this.emit("data", data);
      return true;
    };
    SAXStream.prototype.end = function(chunk) {
      if (chunk && chunk.length) {
        this.write(chunk);
      }
      this._parser.end();
      return true;
    };
    SAXStream.prototype.on = function(ev, handler) {
      var me = this;
      if (!me._parser["on" + ev] && streamWraps.indexOf(ev) !== -1) {
        me._parser["on" + ev] = function() {
          var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments);
          args.splice(0, 0, ev);
          me.emit.apply(me, args);
        };
      }
      return Stream.prototype.on.call(me, ev, handler);
    };
    var CDATA = "[CDATA[";
    var DOCTYPE = "DOCTYPE";
    var XML_NAMESPACE = "http://www.w3.org/XML/1998/namespace";
    var XMLNS_NAMESPACE = "http://www.w3.org/2000/xmlns/";
    var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE };
    var nameStart = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;
    var nameBody = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;
    var entityStart = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;
    var entityBody = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;
    function isWhitespace(c) {
      return c === " " || c === "\n" || c === "\r" || c === "\t";
    }
    function isQuote(c) {
      return c === '"' || c === "\'";
    }
    function isAttribEnd(c) {
      return c === ">" || isWhitespace(c);
    }
    function isMatch(regex, c) {
      return regex.test(c);
    }
    function notMatch(regex, c) {
      return !isMatch(regex, c);
    }
    var S = 0;
    sax.STATE = {
      BEGIN: S++,
      BEGIN_WHITESPACE: S++,
      TEXT: S++,
      TEXT_ENTITY: S++,
      OPEN_WAKA: S++,
      SGML_DECL: S++,
      SGML_DECL_QUOTED: S++,
      DOCTYPE: S++,
      DOCTYPE_QUOTED: S++,
      DOCTYPE_DTD: S++,
      DOCTYPE_DTD_QUOTED: S++,
      COMMENT_STARTING: S++,
      COMMENT: S++,
      COMMENT_ENDING: S++,
      COMMENT_ENDED: S++,
      CDATA: S++,
      CDATA_ENDING: S++,
      CDATA_ENDING_2: S++,
      PROC_INST: S++,
      PROC_INST_BODY: S++,
      PROC_INST_ENDING: S++,
      OPEN_TAG: S++,
      OPEN_TAG_SLASH: S++,
      ATTRIB: S++,
      ATTRIB_NAME: S++,
      ATTRIB_NAME_SAW_WHITE: S++,
      ATTRIB_VALUE: S++,
      ATTRIB_VALUE_QUOTED: S++,
      ATTRIB_VALUE_CLOSED: S++,
      ATTRIB_VALUE_UNQUOTED: S++,
      ATTRIB_VALUE_ENTITY_Q: S++,
      ATTRIB_VALUE_ENTITY_U: S++,
      CLOSE_TAG: S++,
      CLOSE_TAG_SAW_WHITE: S++,
      SCRIPT: S++,
      SCRIPT_ENDING: S++
    };
    sax.XML_ENTITIES = {
      amp: "&",
      gt: ">",
      lt: "<",
      quot: '"',
      apos: "'"
    };
    sax.ENTITIES = {
      amp: "&",
      gt: ">",
      lt: "<",
      quot: '"',
      apos: "'",
      AElig: 198,
      Aacute: 193,
      Acirc: 194,
      Agrave: 192,
      Aring: 197,
      Atilde: 195,
      Auml: 196,
      Ccedil: 199,
      ETH: 208,
      Eacute: 201,
      Ecirc: 202,
      Egrave: 200,
      Euml: 203,
      Iacute: 205,
      Icirc: 206,
      Igrave: 204,
      Iuml: 207,
      Ntilde: 209,
      Oacute: 211,
      Ocirc: 212,
      Ograve: 210,
      Oslash: 216,
      Otilde: 213,
      Ouml: 214,
      THORN: 222,
      Uacute: 218,
      Ucirc: 219,
      Ugrave: 217,
      Uuml: 220,
      Yacute: 221,
      aacute: 225,
      acirc: 226,
      aelig: 230,
      agrave: 224,
      aring: 229,
      atilde: 227,
      auml: 228,
      ccedil: 231,
      eacute: 233,
      ecirc: 234,
      egrave: 232,
      eth: 240,
      euml: 235,
      iacute: 237,
      icirc: 238,
      igrave: 236,
      iuml: 239,
      ntilde: 241,
      oacute: 243,
      ocirc: 244,
      ograve: 242,
      oslash: 248,
      otilde: 245,
      ouml: 246,
      szlig: 223,
      thorn: 254,
      uacute: 250,
      ucirc: 251,
      ugrave: 249,
      uuml: 252,
      yacute: 253,
      yuml: 255,
      copy: 169,
      reg: 174,
      nbsp: 160,
      iexcl: 161,
      cent: 162,
      pound: 163,
      curren: 164,
      yen: 165,
      brvbar: 166,
      sect: 167,
      uml: 168,
      ordf: 170,
      laquo: 171,
      not: 172,
      shy: 173,
      macr: 175,
      deg: 176,
      plusmn: 177,
      sup1: 185,
      sup2: 178,
      sup3: 179,
      acute: 180,
      micro: 181,
      para: 182,
      middot: 183,
      cedil: 184,
      ordm: 186,
      raquo: 187,
      frac14: 188,
      frac12: 189,
      frac34: 190,
      iquest: 191,
      times: 215,
      divide: 247,
      OElig: 338,
      oelig: 339,
      Scaron: 352,
      scaron: 353,
      Yuml: 376,
      fnof: 402,
      circ: 710,
      tilde: 732,
      Alpha: 913,
      Beta: 914,
      Gamma: 915,
      Delta: 916,
      Epsilon: 917,
      Zeta: 918,
      Eta: 919,
      Theta: 920,
      Iota: 921,
      Kappa: 922,
      Lambda: 923,
      Mu: 924,
      Nu: 925,
      Xi: 926,
      Omicron: 927,
      Pi: 928,
      Rho: 929,
      Sigma: 931,
      Tau: 932,
      Upsilon: 933,
      Phi: 934,
      Chi: 935,
      Psi: 936,
      Omega: 937,
      alpha: 945,
      beta: 946,
      gamma: 947,
      delta: 948,
      epsilon: 949,
      zeta: 950,
      eta: 951,
      theta: 952,
      iota: 953,
      kappa: 954,
      lambda: 955,
      mu: 956,
      nu: 957,
      xi: 958,
      omicron: 959,
      pi: 960,
      rho: 961,
      sigmaf: 962,
      sigma: 963,
      tau: 964,
      upsilon: 965,
      phi: 966,
      chi: 967,
      psi: 968,
      omega: 969,
      thetasym: 977,
      upsih: 978,
      piv: 982,
      ensp: 8194,
      emsp: 8195,
      thinsp: 8201,
      zwnj: 8204,
      zwj: 8205,
      lrm: 8206,
      rlm: 8207,
      ndash: 8211,
      mdash: 8212,
      lsquo: 8216,
      rsquo: 8217,
      sbquo: 8218,
      ldquo: 8220,
      rdquo: 8221,
      bdquo: 8222,
      dagger: 8224,
      Dagger: 8225,
      bull: 8226,
      hellip: 8230,
      permil: 8240,
      prime: 8242,
      Prime: 8243,
      lsaquo: 8249,
      rsaquo: 8250,
      oline: 8254,
      frasl: 8260,
      euro: 8364,
      image: 8465,
      weierp: 8472,
      real: 8476,
      trade: 8482,
      alefsym: 8501,
      larr: 8592,
      uarr: 8593,
      rarr: 8594,
      darr: 8595,
      harr: 8596,
      crarr: 8629,
      lArr: 8656,
      uArr: 8657,
      rArr: 8658,
      dArr: 8659,
      hArr: 8660,
      forall: 8704,
      part: 8706,
      exist: 8707,
      empty: 8709,
      nabla: 8711,
      isin: 8712,
      notin: 8713,
      ni: 8715,
      prod: 8719,
      sum: 8721,
      minus: 8722,
      lowast: 8727,
      radic: 8730,
      prop: 8733,
      infin: 8734,
      ang: 8736,
      and: 8743,
      or: 8744,
      cap: 8745,
      cup: 8746,
      int: 8747,
      there4: 8756,
      sim: 8764,
      cong: 8773,
      asymp: 8776,
      ne: 8800,
      equiv: 8801,
      le: 8804,
      ge: 8805,
      sub: 8834,
      sup: 8835,
      nsub: 8836,
      sube: 8838,
      supe: 8839,
      oplus: 8853,
      otimes: 8855,
      perp: 8869,
      sdot: 8901,
      lceil: 8968,
      rceil: 8969,
      lfloor: 8970,
      rfloor: 8971,
      lang: 9001,
      rang: 9002,
      loz: 9674,
      spades: 9824,
      clubs: 9827,
      hearts: 9829,
      diams: 9830
    };
    Object.keys(sax.ENTITIES).forEach(function(key) {
      var e = sax.ENTITIES[key];
      var s2 = typeof e === "number" ? String.fromCharCode(e) : e;
      sax.ENTITIES[key] = s2;
    });
    for (var s in sax.STATE) {
      sax.STATE[sax.STATE[s]] = s;
    }
    S = sax.STATE;
    function emit(parser, event, data) {
      parser[event] && parser[event](data);
    }
    function emitNode(parser, nodeType, data) {
      if (parser.textNode)
        closeText(parser);
      emit(parser, nodeType, data);
    }
    function closeText(parser) {
      parser.textNode = textopts(parser.opt, parser.textNode);
      if (parser.textNode)
        emit(parser, "ontext", parser.textNode);
      parser.textNode = "";
    }
    function textopts(opt, text) {
      if (opt.trim)
        text = text.trim();
      if (opt.normalize)
        text = text.replace(/\s+/g, " ");
      return text;
    }
    function error(parser, er) {
      closeText(parser);
      if (parser.trackPosition) {
        er += "\nLine: " + parser.line + "\nColumn: " + parser.column + "\nChar: " + parser.c;
      }
      er = new Error(er);
      parser.error = er;
      emit(parser, "onerror", er);
      return parser;
    }
    function end(parser) {
      if (parser.sawRoot && !parser.closedRoot)
        strictFail(parser, "Unclosed root tag");
      if (parser.state !== S.BEGIN && parser.state !== S.BEGIN_WHITESPACE && parser.state !== S.TEXT) {
        error(parser, "Unexpected end");
      }
      closeText(parser);
      parser.c = "";
      parser.closed = true;
      emit(parser, "onend");
      SAXParser.call(parser, parser.strict, parser.opt);
      return parser;
    }
    function strictFail(parser, message) {
      if (typeof parser !== "object" || !(parser instanceof SAXParser)) {
        throw new Error("bad call to strictFail");
      }
      if (parser.strict) {
        error(parser, message);
      }
    }
    function newTag(parser) {
      if (!parser.strict)
        parser.tagName = parser.tagName[parser.looseCase]();
      var parent = parser.tags[parser.tags.length - 1] || parser;
      var tag = parser.tag = { name: parser.tagName, attributes: {} };
      if (parser.opt.xmlns) {
        tag.ns = parent.ns;
      }
      parser.attribList.length = 0;
      emitNode(parser, "onopentagstart", tag);
    }
    function qname(name, attribute) {
      var i = name.indexOf(":");
      var qualName = i < 0 ? ["", name] : name.split(":");
      var prefix = qualName[0];
      var local = qualName[1];
      if (attribute && name === "xmlns") {
        prefix = "xmlns";
        local = "";
      }
      return { prefix, local };
    }
    function attrib(parser) {
      if (!parser.strict) {
        parser.attribName = parser.attribName[parser.looseCase]();
      }
      if (parser.attribList.indexOf(parser.attribName) !== -1 || parser.tag.attributes.hasOwnProperty(parser.attribName)) {
        parser.attribName = parser.attribValue = "";
        return;
      }
      if (parser.opt.xmlns) {
        var qn = qname(parser.attribName, true);
        var prefix = qn.prefix;
        var local = qn.local;
        if (prefix === "xmlns") {
          if (local === "xml" && parser.attribValue !== XML_NAMESPACE) {
            strictFail(parser, "xml: prefix must be bound to " + XML_NAMESPACE + "\nActual: " + parser.attribValue);
          } else if (local === "xmlns" && parser.attribValue !== XMLNS_NAMESPACE) {
            strictFail(parser, "xmlns: prefix must be bound to " + XMLNS_NAMESPACE + "\nActual: " + parser.attribValue);
          } else {
            var tag = parser.tag;
            var parent = parser.tags[parser.tags.length - 1] || parser;
            if (tag.ns === parent.ns) {
              tag.ns = Object.create(parent.ns);
            }
            tag.ns[local] = parser.attribValue;
          }
        }
        parser.attribList.push([parser.attribName, parser.attribValue]);
      } else {
        parser.tag.attributes[parser.attribName] = parser.attribValue;
        emitNode(parser, "onattribute", {
          name: parser.attribName,
          value: parser.attribValue
        });
      }
      parser.attribName = parser.attribValue = "";
    }
    function openTag(parser, selfClosing) {
      if (parser.opt.xmlns) {
        var tag = parser.tag;
        var qn = qname(parser.tagName);
        tag.prefix = qn.prefix;
        tag.local = qn.local;
        tag.uri = tag.ns[qn.prefix] || "";
        if (tag.prefix && !tag.uri) {
          strictFail(parser, "Unbound namespace prefix: " + JSON.stringify(parser.tagName));
          tag.uri = qn.prefix;
        }
        var parent = parser.tags[parser.tags.length - 1] || parser;
        if (tag.ns && parent.ns !== tag.ns) {
          Object.keys(tag.ns).forEach(function(p) {
            emitNode(parser, "onopennamespace", {
              prefix: p,
              uri: tag.ns[p]
            });
          });
        }
        for (var i = 0, l = parser.attribList.length;i < l; i++) {
          var nv = parser.attribList[i];
          var name = nv[0];
          var value = nv[1];
          var qualName = qname(name, true);
          var prefix = qualName.prefix;
          var local = qualName.local;
          var uri = prefix === "" ? "" : tag.ns[prefix] || "";
          var a = {
            name,
            value,
            prefix,
            local,
            uri
          };
          if (prefix && prefix !== "xmlns" && !uri) {
            strictFail(parser, "Unbound namespace prefix: " + JSON.stringify(prefix));
            a.uri = prefix;
          }
          parser.tag.attributes[name] = a;
          emitNode(parser, "onattribute", a);
        }
        parser.attribList.length = 0;
      }
      parser.tag.isSelfClosing = !!selfClosing;
      parser.sawRoot = true;
      parser.tags.push(parser.tag);
      emitNode(parser, "onopentag", parser.tag);
      if (!selfClosing) {
        if (!parser.noscript && parser.tagName.toLowerCase() === "script") {
          parser.state = S.SCRIPT;
        } else {
          parser.state = S.TEXT;
        }
        parser.tag = null;
        parser.tagName = "";
      }
      parser.attribName = parser.attribValue = "";
      parser.attribList.length = 0;
    }
    function closeTag(parser) {
      if (!parser.tagName) {
        strictFail(parser, "Weird empty close tag.");
        parser.textNode += "</>";
        parser.state = S.TEXT;
        return;
      }
      if (parser.script) {
        if (parser.tagName !== "script") {
          parser.script += "</" + parser.tagName + ">";
          parser.tagName = "";
          parser.state = S.SCRIPT;
          return;
        }
        emitNode(parser, "onscript", parser.script);
        parser.script = "";
      }
      var t = parser.tags.length;
      var tagName = parser.tagName;
      if (!parser.strict) {
        tagName = tagName[parser.looseCase]();
      }
      var closeTo = tagName;
      while (t--) {
        var close = parser.tags[t];
        if (close.name !== closeTo) {
          strictFail(parser, "Unexpected close tag");
        } else {
          break;
        }
      }
      if (t < 0) {
        strictFail(parser, "Unmatched closing tag: " + parser.tagName);
        parser.textNode += "</" + parser.tagName + ">";
        parser.state = S.TEXT;
        return;
      }
      parser.tagName = tagName;
      var s2 = parser.tags.length;
      while (s2-- > t) {
        var tag = parser.tag = parser.tags.pop();
        parser.tagName = parser.tag.name;
        emitNode(parser, "onclosetag", parser.tagName);
        var x = {};
        for (var i in tag.ns) {
          x[i] = tag.ns[i];
        }
        var parent = parser.tags[parser.tags.length - 1] || parser;
        if (parser.opt.xmlns && tag.ns !== parent.ns) {
          Object.keys(tag.ns).forEach(function(p) {
            var n = tag.ns[p];
            emitNode(parser, "onclosenamespace", { prefix: p, uri: n });
          });
        }
      }
      if (t === 0)
        parser.closedRoot = true;
      parser.tagName = parser.attribValue = parser.attribName = "";
      parser.attribList.length = 0;
      parser.state = S.TEXT;
    }
    function parseEntity(parser) {
      var entity = parser.entity;
      var entityLC = entity.toLowerCase();
      var num;
      var numStr = "";
      if (parser.ENTITIES[entity]) {
        return parser.ENTITIES[entity];
      }
      if (parser.ENTITIES[entityLC]) {
        return parser.ENTITIES[entityLC];
      }
      entity = entityLC;
      if (entity.charAt(0) === "#") {
        if (entity.charAt(1) === "x") {
          entity = entity.slice(2);
          num = parseInt(entity, 16);
          numStr = num.toString(16);
        } else {
          entity = entity.slice(1);
          num = parseInt(entity, 10);
          numStr = num.toString(10);
        }
      }
      entity = entity.replace(/^0+/, "");
      if (isNaN(num) || numStr.toLowerCase() !== entity) {
        strictFail(parser, "Invalid character entity");
        return "&" + parser.entity + ";";
      }
      return String.fromCodePoint(num);
    }
    function beginWhiteSpace(parser, c) {
      if (c === "<") {
        parser.state = S.OPEN_WAKA;
        parser.startTagPosition = parser.position;
      } else if (!isWhitespace(c)) {
        strictFail(parser, "Non-whitespace before first tag.");
        parser.textNode = c;
        parser.state = S.TEXT;
      }
    }
    function charAt(chunk, i) {
      var result = "";
      if (i < chunk.length) {
        result = chunk.charAt(i);
      }
      return result;
    }
    function write(chunk) {
      var parser = this;
      if (this.error) {
        throw this.error;
      }
      if (parser.closed) {
        return error(parser, "Cannot write after close. Assign an onready handler.");
      }
      if (chunk === null) {
        return end(parser);
      }
      if (typeof chunk === "object") {
        chunk = chunk.toString();
      }
      var i = 0;
      var c = "";
      while (true) {
        c = charAt(chunk, i++);
        parser.c = c;
        if (!c) {
          break;
        }
        if (parser.trackPosition) {
          parser.position++;
          if (c === "\n") {
            parser.line++;
            parser.column = 0;
          } else {
            parser.column++;
          }
        }
        switch (parser.state) {
          case S.BEGIN:
            parser.state = S.BEGIN_WHITESPACE;
            if (c === "\uFEFF") {
              continue;
            }
            beginWhiteSpace(parser, c);
            continue;
          case S.BEGIN_WHITESPACE:
            beginWhiteSpace(parser, c);
            continue;
          case S.TEXT:
            if (parser.sawRoot && !parser.closedRoot) {
              var starti = i - 1;
              while (c && c !== "<" && c !== "&") {
                c = charAt(chunk, i++);
                if (c && parser.trackPosition) {
                  parser.position++;
                  if (c === "\n") {
                    parser.line++;
                    parser.column = 0;
                  } else {
                    parser.column++;
                  }
                }
              }
              parser.textNode += chunk.substring(starti, i - 1);
            }
            if (c === "<" && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {
              parser.state = S.OPEN_WAKA;
              parser.startTagPosition = parser.position;
            } else {
              if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {
                strictFail(parser, "Text data outside of root node.");
              }
              if (c === "&") {
                parser.state = S.TEXT_ENTITY;
              } else {
                parser.textNode += c;
              }
            }
            continue;
          case S.SCRIPT:
            if (c === "<") {
              parser.state = S.SCRIPT_ENDING;
            } else {
              parser.script += c;
            }
            continue;
          case S.SCRIPT_ENDING:
            if (c === "/") {
              parser.state = S.CLOSE_TAG;
            } else {
              parser.script += "<" + c;
              parser.state = S.SCRIPT;
            }
            continue;
          case S.OPEN_WAKA:
            if (c === "!") {
              parser.state = S.SGML_DECL;
              parser.sgmlDecl = "";
            } else if (isWhitespace(c)) {
            } else if (isMatch(nameStart, c)) {
              parser.state = S.OPEN_TAG;
              parser.tagName = c;
            } else if (c === "/") {
              parser.state = S.CLOSE_TAG;
              parser.tagName = "";
            } else if (c === "?") {
              parser.state = S.PROC_INST;
              parser.procInstName = parser.procInstBody = "";
            } else {
              strictFail(parser, "Unencoded <");
              if (parser.startTagPosition + 1 < parser.position) {
                var pad = parser.position - parser.startTagPosition;
                c = new Array(pad).join(" ") + c;
              }
              parser.textNode += "<" + c;
              parser.state = S.TEXT;
            }
            continue;
          case S.SGML_DECL:
            if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {
              emitNode(parser, "onopencdata");
              parser.state = S.CDATA;
              parser.sgmlDecl = "";
              parser.cdata = "";
            } else if (parser.sgmlDecl + c === "--") {
              parser.state = S.COMMENT;
              parser.comment = "";
              parser.sgmlDecl = "";
            } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {
              parser.state = S.DOCTYPE;
              if (parser.doctype || parser.sawRoot) {
                strictFail(parser, "Inappropriately located doctype declaration");
              }
              parser.doctype = "";
              parser.sgmlDecl = "";
            } else if (c === ">") {
              emitNode(parser, "onsgmldeclaration", parser.sgmlDecl);
              parser.sgmlDecl = "";
              parser.state = S.TEXT;
            } else if (isQuote(c)) {
              parser.state = S.SGML_DECL_QUOTED;
              parser.sgmlDecl += c;
            } else {
              parser.sgmlDecl += c;
            }
            continue;
          case S.SGML_DECL_QUOTED:
            if (c === parser.q) {
              parser.state = S.SGML_DECL;
              parser.q = "";
            }
            parser.sgmlDecl += c;
            continue;
          case S.DOCTYPE:
            if (c === ">") {
              parser.state = S.TEXT;
              emitNode(parser, "ondoctype", parser.doctype);
              parser.doctype = true;
            } else {
              parser.doctype += c;
              if (c === "[") {
                parser.state = S.DOCTYPE_DTD;
              } else if (isQuote(c)) {
                parser.state = S.DOCTYPE_QUOTED;
                parser.q = c;
              }
            }
            continue;
          case S.DOCTYPE_QUOTED:
            parser.doctype += c;
            if (c === parser.q) {
              parser.q = "";
              parser.state = S.DOCTYPE;
            }
            continue;
          case S.DOCTYPE_DTD:
            parser.doctype += c;
            if (c === "]") {
              parser.state = S.DOCTYPE;
            } else if (isQuote(c)) {
              parser.state = S.DOCTYPE_DTD_QUOTED;
              parser.q = c;
            }
            continue;
          case S.DOCTYPE_DTD_QUOTED:
            parser.doctype += c;
            if (c === parser.q) {
              parser.state = S.DOCTYPE_DTD;
              parser.q = "";
            }
            continue;
          case S.COMMENT:
            if (c === "-") {
              parser.state = S.COMMENT_ENDING;
            } else {
              parser.comment += c;
            }
            continue;
          case S.COMMENT_ENDING:
            if (c === "-") {
              parser.state = S.COMMENT_ENDED;
              parser.comment = textopts(parser.opt, parser.comment);
              if (parser.comment) {
                emitNode(parser, "oncomment", parser.comment);
              }
              parser.comment = "";
            } else {
              parser.comment += "-" + c;
              parser.state = S.COMMENT;
            }
            continue;
          case S.COMMENT_ENDED:
            if (c !== ">") {
              strictFail(parser, "Malformed comment");
              parser.comment += "--" + c;
              parser.state = S.COMMENT;
            } else {
              parser.state = S.TEXT;
            }
            continue;
          case S.CDATA:
            if (c === "]") {
              parser.state = S.CDATA_ENDING;
            } else {
              parser.cdata += c;
            }
            continue;
          case S.CDATA_ENDING:
            if (c === "]") {
              parser.state = S.CDATA_ENDING_2;
            } else {
              parser.cdata += "]" + c;
              parser.state = S.CDATA;
            }
            continue;
          case S.CDATA_ENDING_2:
            if (c === ">") {
              if (parser.cdata) {
                emitNode(parser, "oncdata", parser.cdata);
              }
              emitNode(parser, "onclosecdata");
              parser.cdata = "";
              parser.state = S.TEXT;
            } else if (c === "]") {
              parser.cdata += "]";
            } else {
              parser.cdata += "]]" + c;
              parser.state = S.CDATA;
            }
            continue;
          case S.PROC_INST:
            if (c === "?") {
              parser.state = S.PROC_INST_ENDING;
            } else if (isWhitespace(c)) {
              parser.state = S.PROC_INST_BODY;
            } else {
              parser.procInstName += c;
            }
            continue;
          case S.PROC_INST_BODY:
            if (!parser.procInstBody && isWhitespace(c)) {
              continue;
            } else if (c === "?") {
              parser.state = S.PROC_INST_ENDING;
            } else {
              parser.procInstBody += c;
            }
            continue;
          case S.PROC_INST_ENDING:
            if (c === ">") {
              emitNode(parser, "onprocessinginstruction", {
                name: parser.procInstName,
                body: parser.procInstBody
              });
              parser.procInstName = parser.procInstBody = "";
              parser.state = S.TEXT;
            } else {
              parser.procInstBody += "?" + c;
              parser.state = S.PROC_INST_BODY;
            }
            continue;
          case S.OPEN_TAG:
            if (isMatch(nameBody, c)) {
              parser.tagName += c;
            } else {
              newTag(parser);
              if (c === ">") {
                openTag(parser);
              } else if (c === "/") {
                parser.state = S.OPEN_TAG_SLASH;
              } else {
                if (!isWhitespace(c)) {
                  strictFail(parser, "Invalid character in tag name");
                }
                parser.state = S.ATTRIB;
              }
            }
            continue;
          case S.OPEN_TAG_SLASH:
            if (c === ">") {
              openTag(parser, true);
              closeTag(parser);
            } else {
              strictFail(parser, "Forward-slash in opening tag not followed by >");
              parser.state = S.ATTRIB;
            }
            continue;
          case S.ATTRIB:
            if (isWhitespace(c)) {
              continue;
            } else if (c === ">") {
              openTag(parser);
            } else if (c === "/") {
              parser.state = S.OPEN_TAG_SLASH;
            } else if (isMatch(nameStart, c)) {
              parser.attribName = c;
              parser.attribValue = "";
              parser.state = S.ATTRIB_NAME;
            } else {
              strictFail(parser, "Invalid attribute name");
            }
            continue;
          case S.ATTRIB_NAME:
            if (c === "=") {
              parser.state = S.ATTRIB_VALUE;
            } else if (c === ">") {
              strictFail(parser, "Attribute without value");
              parser.attribValue = parser.attribName;
              attrib(parser);
              openTag(parser);
            } else if (isWhitespace(c)) {
              parser.state = S.ATTRIB_NAME_SAW_WHITE;
            } else if (isMatch(nameBody, c)) {
              parser.attribName += c;
            } else {
              strictFail(parser, "Invalid attribute name");
            }
            continue;
          case S.ATTRIB_NAME_SAW_WHITE:
            if (c === "=") {
              parser.state = S.ATTRIB_VALUE;
            } else if (isWhitespace(c)) {
              continue;
            } else {
              strictFail(parser, "Attribute without value");
              parser.tag.attributes[parser.attribName] = "";
              parser.attribValue = "";
              emitNode(parser, "onattribute", {
                name: parser.attribName,
                value: ""
              });
              parser.attribName = "";
              if (c === ">") {
                openTag(parser);
              } else if (isMatch(nameStart, c)) {
                parser.attribName = c;
                parser.state = S.ATTRIB_NAME;
              } else {
                strictFail(parser, "Invalid attribute name");
                parser.state = S.ATTRIB;
              }
            }
            continue;
          case S.ATTRIB_VALUE:
            if (isWhitespace(c)) {
              continue;
            } else if (isQuote(c)) {
              parser.q = c;
              parser.state = S.ATTRIB_VALUE_QUOTED;
            } else {
              strictFail(parser, "Unquoted attribute value");
              parser.state = S.ATTRIB_VALUE_UNQUOTED;
              parser.attribValue = c;
            }
            continue;
          case S.ATTRIB_VALUE_QUOTED:
            if (c !== parser.q) {
              if (c === "&") {
                parser.state = S.ATTRIB_VALUE_ENTITY_Q;
              } else {
                parser.attribValue += c;
              }
              continue;
            }
            attrib(parser);
            parser.q = "";
            parser.state = S.ATTRIB_VALUE_CLOSED;
            continue;
          case S.ATTRIB_VALUE_CLOSED:
            if (isWhitespace(c)) {
              parser.state = S.ATTRIB;
            } else if (c === ">") {
              openTag(parser);
            } else if (c === "/") {
              parser.state = S.OPEN_TAG_SLASH;
            } else if (isMatch(nameStart, c)) {
              strictFail(parser, "No whitespace between attributes");
              parser.attribName = c;
              parser.attribValue = "";
              parser.state = S.ATTRIB_NAME;
            } else {
              strictFail(parser, "Invalid attribute name");
            }
            continue;
          case S.ATTRIB_VALUE_UNQUOTED:
            if (!isAttribEnd(c)) {
              if (c === "&") {
                parser.state = S.ATTRIB_VALUE_ENTITY_U;
              } else {
                parser.attribValue += c;
              }
              continue;
            }
            attrib(parser);
            if (c === ">") {
              openTag(parser);
            } else {
              parser.state = S.ATTRIB;
            }
            continue;
          case S.CLOSE_TAG:
            if (!parser.tagName) {
              if (isWhitespace(c)) {
                continue;
              } else if (notMatch(nameStart, c)) {
                if (parser.script) {
                  parser.script += "</" + c;
                  parser.state = S.SCRIPT;
                } else {
                  strictFail(parser, "Invalid tagname in closing tag.");
                }
              } else {
                parser.tagName = c;
              }
            } else if (c === ">") {
              closeTag(parser);
            } else if (isMatch(nameBody, c)) {
              parser.tagName += c;
            } else if (parser.script) {
              parser.script += "</" + parser.tagName;
              parser.tagName = "";
              parser.state = S.SCRIPT;
            } else {
              if (!isWhitespace(c)) {
                strictFail(parser, "Invalid tagname in closing tag");
              }
              parser.state = S.CLOSE_TAG_SAW_WHITE;
            }
            continue;
          case S.CLOSE_TAG_SAW_WHITE:
            if (isWhitespace(c)) {
              continue;
            }
            if (c === ">") {
              closeTag(parser);
            } else {
              strictFail(parser, "Invalid characters in closing tag");
            }
            continue;
          case S.TEXT_ENTITY:
          case S.ATTRIB_VALUE_ENTITY_Q:
          case S.ATTRIB_VALUE_ENTITY_U:
            var returnState;
            var buffer;
            switch (parser.state) {
              case S.TEXT_ENTITY:
                returnState = S.TEXT;
                buffer = "textNode";
                break;
              case S.ATTRIB_VALUE_ENTITY_Q:
                returnState = S.ATTRIB_VALUE_QUOTED;
                buffer = "attribValue";
                break;
              case S.ATTRIB_VALUE_ENTITY_U:
                returnState = S.ATTRIB_VALUE_UNQUOTED;
                buffer = "attribValue";
                break;
            }
            if (c === ";") {
              if (parser.opt.unparsedEntities) {
                var parsedEntity = parseEntity(parser);
                parser.entity = "";
                parser.state = returnState;
                parser.write(parsedEntity);
              } else {
                parser[buffer] += parseEntity(parser);
                parser.entity = "";
                parser.state = returnState;
              }
            } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {
              parser.entity += c;
            } else {
              strictFail(parser, "Invalid character in entity name");
              parser[buffer] += "&" + parser.entity + c;
              parser.entity = "";
              parser.state = returnState;
            }
            continue;
          default: {
            throw new Error(parser, "Unknown state: " + parser.state);
          }
        }
      }
      if (parser.position >= parser.bufferCheckPosition) {
        checkBufferLength(parser);
      }
      return parser;
    }
    /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
    if (!String.fromCodePoint) {
      (function() {
        var stringFromCharCode = String.fromCharCode;
        var floor = Math.floor;
        var fromCodePoint = function() {
          var MAX_SIZE = 16384;
          var codeUnits = [];
          var highSurrogate;
          var lowSurrogate;
          var index = -1;
          var length = arguments.length;
          if (!length) {
            return "";
          }
          var result = "";
          while (++index < length) {
            var codePoint = Number(arguments[index]);
            if (!isFinite(codePoint) || codePoint < 0 || codePoint > 1114111 || floor(codePoint) !== codePoint) {
              throw RangeError("Invalid code point: " + codePoint);
            }
            if (codePoint <= 65535) {
              codeUnits.push(codePoint);
            } else {
              codePoint -= 65536;
              highSurrogate = (codePoint >> 10) + 55296;
              lowSurrogate = codePoint % 1024 + 56320;
              codeUnits.push(highSurrogate, lowSurrogate);
            }
            if (index + 1 === length || codeUnits.length > MAX_SIZE) {
              result += stringFromCharCode.apply(null, codeUnits);
              codeUnits.length = 0;
            }
          }
          return result;
        };
        if (Object.defineProperty) {
          Object.defineProperty(String, "fromCodePoint", {
            value: fromCodePoint,
            configurable: true,
            writable: true
          });
        } else {
          String.fromCodePoint = fromCodePoint;
        }
      })();
    }
  })(typeof exports === "undefined" ? exports.sax = {} : exports);
});

// lib/functions/image.js
var require_image = __commonJS((exports, module) => {
  /*!
   * Stylus - plugin - url
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var utils = require_utils();
  var Buffer2 = __require("buffer").Buffer;
  var fs = __require("fs");
  var path = __require("path");
  var sax = require_sax();
  module.exports = class Image {
    constructor(ctx, path2) {
      this.ctx = ctx;
      this.path = utils.lookup(path2, ctx.paths);
      if (!this.path)
        throw new Error("failed to locate file " + path2);
    }
    open() {
      this.fd = fs.openSync(this.path, "r");
      this.length = fs.fstatSync(this.fd).size;
      this.extname = path.extname(this.path).slice(1);
    }
    close() {
      if (this.fd)
        fs.closeSync(this.fd);
    }
    type() {
      var type, buf = Buffer2.alloc(4);
      fs.readSync(this.fd, buf, 0, 4, 0);
      if (buf[0] == 71 && buf[1] == 73 && buf[2] == 70)
        type = "gif";
      else if (buf[1] == 80 && buf[2] == 78 && buf[3] == 71)
        type = "png";
      else if (buf[0] == 255 && buf[1] == 216)
        type = "jpeg";
      else if (this.extname == "svg")
        type = this.extname;
      return type;
    }
    size() {
      var type = this.type(), width, height, buf, offset, blockSize, parser;
      function uint16(b) {
        return b[1] << 8 | b[0];
      }
      function uint32(b) {
        return b[0] << 24 | b[1] << 16 | b[2] << 8 | b[3];
      }
      switch (type) {
        case "jpeg":
          buf = Buffer2.alloc(this.length);
          fs.readSync(this.fd, buf, 0, this.length, 0);
          offset = 4;
          blockSize = buf[offset] << 8 | buf[offset + 1];
          while (offset < this.length) {
            offset += blockSize;
            if (offset >= this.length || buf[offset] != 255)
              break;
            if (buf[offset + 1] == 192 || buf[offset + 1] == 194) {
              height = buf[offset + 5] << 8 | buf[offset + 6];
              width = buf[offset + 7] << 8 | buf[offset + 8];
            } else {
              offset += 2;
              blockSize = buf[offset] << 8 | buf[offset + 1];
            }
          }
          break;
        case "png":
          buf = Buffer2.alloc(8);
          fs.readSync(this.fd, buf, 0, 8, 16);
          width = uint32(buf);
          height = uint32(buf.slice(4, 8));
          break;
        case "gif":
          buf = Buffer2.alloc(4);
          fs.readSync(this.fd, buf, 0, 4, 6);
          width = uint16(buf);
          height = uint16(buf.slice(2, 4));
          break;
        case "svg":
          offset = Math.min(this.length, 1024);
          buf = Buffer2.alloc(offset);
          fs.readSync(this.fd, buf, 0, offset, 0);
          buf = buf.toString("utf8");
          parser = sax.parser(true);
          parser.onopentag = function(node) {
            if (node.name == "svg" && node.attributes.width && node.attributes.height) {
              width = parseInt(node.attributes.width, 10);
              height = parseInt(node.attributes.height, 10);
            }
          };
          parser.write(buf).close();
          break;
      }
      if (typeof width != "number")
        throw new Error('failed to find width of "' + this.path + '"');
      if (typeof height != "number")
        throw new Error('failed to find height of "' + this.path + '"');
      return [width, height];
    }
  };
});

// lib/functions/image-size.js
var require_image_size = __commonJS((exports, module) => {
  var imageSize = function(img, ignoreErr) {
    utils.assertType(img, "string", "img");
    try {
      var img = new Image(this, img.string);
    } catch (err) {
      if (ignoreErr) {
        return [new nodes.Unit(0), new nodes.Unit(0)];
      } else {
        throw err;
      }
    }
    img.open();
    var size = img.size();
    img.close();
    var expr = [];
    expr.push(new nodes.Unit(size[0], "px"));
    expr.push(new nodes.Unit(size[1], "px"));
    return expr;
  };
  var utils = require_utils();
  var nodes = require_nodes();
  var Image = require_image();
  imageSize.params = ["img", "ignoreErr"];
  module.exports = imageSize;
});

// lib/functions/json.js
var require_json = __commonJS((exports, module) => {
  var json = function(path, local, namePrefix) {
    utils.assertString(path, "path");
    path = path.string;
    var found = utils.lookup(path, this.options.paths, this.options.filename), options = local && local.nodeName == "object" && local;
    if (!found) {
      if (options && options.get("optional").toBoolean().isTrue) {
        return nodes.null;
      }
      throw new Error("failed to locate .json file " + path);
    }
    var json2 = JSON.parse(readFile(found, "utf8"));
    if (options) {
      return convert(json2, options);
    } else {
      oldJson.call(this, json2, local, namePrefix);
    }
    function convert(obj, options2) {
      var ret = new nodes.Object, leaveStrings = options2.get("leave-strings").toBoolean();
      for (var key in obj) {
        var val = obj[key];
        if (typeof val == "object") {
          ret.set(key, convert(val, options2));
        } else {
          val = utils.coerce(val);
          if (val.nodeName == "string" && leaveStrings.isFalse) {
            val = utils.parseString(val.string);
          }
          ret.set(key, val);
        }
      }
      return ret;
    }
  };
  var oldJson = function(json2, local, namePrefix) {
    if (namePrefix) {
      utils.assertString(namePrefix, "namePrefix");
      namePrefix = namePrefix.val;
    } else {
      namePrefix = "";
    }
    local = local ? local.toBoolean() : new nodes.Boolean(local);
    var scope = local.isTrue ? this.currentScope : this.global.scope;
    convert(json2);
    return;
    function convert(obj, prefix) {
      prefix = prefix ? prefix + "-" : "";
      for (var key in obj) {
        var val = obj[key];
        var name = prefix + key;
        if (typeof val == "object") {
          convert(val, name);
        } else {
          val = utils.coerce(val);
          if (val.nodeName == "string")
            val = utils.parseString(val.string);
          scope.add({ name: namePrefix + name, val });
        }
      }
    }
  };
  var utils = require_utils();
  var nodes = require_nodes();
  var readFile = __require("fs").readFileSync;
  json.params = ["path", "local", "namePrefix"];
  module.exports = json;
});

// lib/functions/length.js
var require_length = __commonJS((exports, module) => {
  var utils = require_utils();
  (module.exports = function length(expr) {
    if (expr) {
      if (expr.nodes) {
        var nodes = utils.unwrap(expr).nodes;
        if (nodes.length == 1 && nodes[0].nodeName == "object") {
          return nodes[0].length;
        } else if (nodes.length == 1 && nodes[0].nodeName == "string") {
          return nodes[0].val.length;
        } else {
          return nodes.length;
        }
      } else {
        return 1;
      }
    }
    return 0;
  }).raw = true;
});

// lib/functions/lightness.js
var require_lightness = __commonJS((exports, module) => {
  var lightness = function(color, value) {
    if (value) {
      var hslaColor = color.hsla;
      return hsla(new nodes.Unit(hslaColor.h), new nodes.Unit(hslaColor.s), value, new nodes.Unit(hslaColor.a));
    }
    return component(color, new nodes.String("lightness"));
  };
  var nodes = require_nodes();
  var hsla = require_hsla();
  var component = require_component();
  lightness.params = ["color", "value"];
  module.exports = lightness;
});

// lib/functions/list-separator.js
var require_list_separator = __commonJS((exports, module) => {
  var utils = require_utils();
  var nodes = require_nodes();
  (module.exports = function listSeparator(list) {
    list = utils.unwrap(list);
    return new nodes.String(list.isList ? "," : " ");
  }).raw = true;
});

// lib/functions/lookup.js
var require_lookup = __commonJS((exports, module) => {
  var lookup = function(name) {
    utils.assertType(name, "string", "name");
    var node = this.lookup(name.val);
    if (!node)
      return nodes.null;
    return this.visit(node);
  };
  var utils = require_utils();
  var nodes = require_nodes();
  lookup.params = ["name"];
  module.exports = lookup;
});

// lib/functions/match.js
var require_match = __commonJS((exports, module) => {
  var match = function(pattern, val, flags) {
    utils.assertType(pattern, "string", "pattern");
    utils.assertString(val, "val");
    var re = new RegExp(pattern.val, validateFlags(flags) ? flags.string : "");
    return val.string.match(re);
  };
  var validateFlags = function(flags) {
    flags = flags && flags.string;
    if (flags) {
      return flags.split("").every(function(flag) {
        return ~VALID_FLAGS.indexOf(flag);
      });
    }
    return false;
  };
  var utils = require_utils();
  var nodes = require_nodes();
  var VALID_FLAGS = "igm";
  match.params = ["pattern", "val", "flags"];
  module.exports = match;
});

// lib/functions/math.js
var require_math = __commonJS((exports, module) => {
  var math = function(n, fn) {
    utils.assertType(n, "unit", "n");
    utils.assertString(fn, "fn");
    return new nodes.Unit(Math[fn.string](n.val), n.type);
  };
  var utils = require_utils();
  var nodes = require_nodes();
  math.params = ["n", "fn"];
  module.exports = math;
});

// lib/functions/merge.js
var require_merge = __commonJS((exports, module) => {
  var utils = require_utils();
  (module.exports = function merge(dest) {
    utils.assertPresent(dest, "dest");
    dest = utils.unwrap(dest).first;
    utils.assertType(dest, "object", "dest");
    var last = utils.unwrap(arguments[arguments.length - 1]).first, deep = last.val === true;
    for (var i = 1, len = arguments.length - deep;i < len; ++i) {
      utils.merge(dest.vals, utils.unwrap(arguments[i]).first.vals, deep);
    }
    return dest;
  }).raw = true;
});

// lib/functions/operate.js
var require_operate = __commonJS((exports, module) => {
  var operate = function(op, left, right) {
    utils.assertType(op, "string", "op");
    utils.assertPresent(left, "left");
    utils.assertPresent(right, "right");
    return left.operate(op.val, right);
  };
  var utils = require_utils();
  operate.params = ["op", "left", "right"];
  module.exports = operate;
});

// lib/functions/opposite-position.js
var require_opposite_position = __commonJS((exports, module) => {
  var utils = require_utils();
  var nodes = require_nodes();
  (module.exports = function oppositePosition(positions) {
    var expr = [];
    utils.unwrap(positions).nodes.forEach(function(pos, i) {
      utils.assertString(pos, "position " + i);
      pos = function() {
        switch (pos.string) {
          case "top":
            return "bottom";
          case "bottom":
            return "top";
          case "left":
            return "right";
          case "right":
            return "left";
          case "center":
            return "center";
          default:
            throw new Error("invalid position " + pos);
        }
      }();
      expr.push(new nodes.Literal(pos));
    });
    return expr;
  }).raw = true;
});

// lib/functions/p.js
var require_p = __commonJS((exports, module) => {
  var utils = require_utils();
  var nodes = require_nodes();
  (module.exports = function p() {
    [].slice.call(arguments).forEach(function(expr) {
      expr = utils.unwrap(expr);
      if (!expr.nodes.length)
        return;
      console.log("\x1B[90minspect:\x1B[0m %s", expr.toString().replace(/^\(|\)$/g, ""));
    });
    return nodes.null;
  }).raw = true;
});

// lib/functions/pathjoin.js
var require_pathjoin = __commonJS((exports, module) => {
  var path = __require("path");
  (module.exports = function pathjoin() {
    var paths = [].slice.call(arguments).map(function(path2) {
      return path2.first.string;
    });
    return path.join.apply(null, paths).replace(/\\/g, "/");
  }).raw = true;
});

// lib/functions/pop.js
var require_pop = __commonJS((exports, module) => {
  var utils = require_utils();
  (module.exports = function pop(expr) {
    expr = utils.unwrap(expr);
    return expr.nodes.pop();
  }).raw = true;
});

// lib/functions/push.js
var require_push = __commonJS((exports, module) => {
  var utils = require_utils();
  (module.exports = function(expr) {
    expr = utils.unwrap(expr);
    for (var i = 1, len = arguments.length;i < len; ++i) {
      expr.nodes.push(utils.unwrap(arguments[i]).clone());
    }
    return expr.nodes.length;
  }).raw = true;
});

// lib/functions/range.js
var require_range = __commonJS((exports, module) => {
  var range = function(start, stop, step) {
    utils.assertType(start, "unit", "start");
    utils.assertType(stop, "unit", "stop");
    if (step) {
      utils.assertType(step, "unit", "step");
      if (step.val == 0) {
        throw new Error('ArgumentError: "step" argument must not be zero');
      }
    } else {
      step = new nodes.Unit(1);
    }
    var list = new nodes.Expression;
    for (var i = start.val;i <= stop.val; i += step.val) {
      list.push(new nodes.Unit(i, start.type));
    }
    return list;
  };
  var utils = require_utils();
  var nodes = require_nodes();
  range.params = ["start", "stop", "step"];
  module.exports = range;
});

// lib/functions/red.js
var require_red = __commonJS((exports, module) => {
  var red = function(color, value) {
    color = color.rgba;
    if (value) {
      return rgba(value, new nodes.Unit(color.g), new nodes.Unit(color.b), new nodes.Unit(color.a));
    }
    return new nodes.Unit(color.r, "");
  };
  var nodes = require_nodes();
  var rgba = require_rgba();
  red.params = ["color", "value"];
  module.exports = red;
});

// lib/functions/remove.js
var require_remove = __commonJS((exports, module) => {
  var remove = function(object, key) {
    utils.assertType(object, "object", "object");
    utils.assertString(key, "key");
    delete object.vals[key.string];
    return object;
  };
  var utils = require_utils();
  remove.params = ["object", "key"];
  module.exports = remove;
});

// lib/functions/replace.js
var require_replace = __commonJS((exports, module) => {
  var replace = function(pattern, replacement, val) {
    utils.assertString(pattern, "pattern");
    utils.assertString(replacement, "replacement");
    utils.assertString(val, "val");
    pattern = new RegExp(pattern.string, "g");
    var res = val.string.replace(pattern, replacement.string);
    return val instanceof nodes.Ident ? new nodes.Ident(res) : new nodes.String(res);
  };
  var utils = require_utils();
  var nodes = require_nodes();
  replace.params = ["pattern", "replacement", "val"];
  module.exports = replace;
});

// lib/functions/rgb.js
var require_rgb = __commonJS((exports, module) => {
  var rgb = function(red, green, blue) {
    switch (arguments.length) {
      case 1:
        utils.assertColor(red);
        var color = red.rgba;
        return new nodes.RGBA(color.r, color.g, color.b, 1);
      default:
        return rgba(red, green, blue, new nodes.Unit(1));
    }
  };
  var utils = require_utils();
  var nodes = require_nodes();
  var rgba = require_rgba();
  rgb.params = ["red", "green", "blue"];
  module.exports = rgb;
});

// lib/functions/convert-angle.js
var require_convert_angle = __commonJS((exports, module) => {
  module.exports = function convertAngle(value, unitName) {
    var factors = {
      rad: 1,
      deg: 180 / Math.PI,
      turn: 0.5 / Math.PI,
      grad: 200 / Math.PI
    };
    return value * factors[unitName];
  };
});

// lib/functions/atan.js
var require_atan = __commonJS((exports, module) => {
  var nodes = require_nodes();
  var convert = require_convert_angle();
  module.exports = function atan(trigValue, output) {
    var output = typeof output !== "undefined" ? output : "deg";
    var value = Math.atan(trigValue);
    var m = Math.pow(10, 9);
    var convertedValue = convert(value, output);
    convertedValue = Math.round(convertedValue * m) / m;
    return new nodes.Unit(convertedValue, output);
  };
});

// lib/functions/asin.js
var require_asin = __commonJS((exports, module) => {
  var nodes = require_nodes();
  var convert = require_convert_angle();
  module.exports = function atan(trigValue, output) {
    var output = typeof output !== "undefined" ? output : "deg";
    var m = Math.pow(10, 9);
    var value = Math.asin(trigValue);
    var convertedValue = convert(value, output);
    convertedValue = Math.round(convertedValue * m) / m;
    return new nodes.Unit(convertedValue, output);
  };
});

// lib/functions/acos.js
var require_acos = __commonJS((exports, module) => {
  var nodes = require_nodes();
  var convert = require_convert_angle();
  var asin = require_asin();
  module.exports = function acos(trigValue, output) {
    var output = typeof output !== "undefined" ? output : "deg";
    var convertedValue = convert(Math.PI / 2, output) - asin(trigValue, output).val;
    var m = Math.pow(10, 9);
    convertedValue = Math.round(convertedValue * m) / m;
    return new nodes.Unit(convertedValue, output);
  };
});

// lib/visitor/compiler.js
var require_compiler = __commonJS((exports, module) => {
  /*!
   * Stylus - Compiler
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Visitor = require_visitor();
  var utils = require_utils();
  var fs = __require("fs");
  module.exports = class Compiler extends Visitor {
    constructor(root, options) {
      super(root);
      options = options || {};
      this.compress = options.compress;
      this.firebug = options.firebug;
      this.linenos = options.linenos;
      this.spaces = options["indent spaces"] || 2;
      this.indents = 1;
      this.stack = [];
    }
    compile() {
      return this.visit(this.root);
    }
    out(str, node) {
      return str;
    }
    get indent() {
      if (this.compress)
        return "";
      return new Array(this.indents).join(Array(this.spaces + 1).join(" "));
    }
    needBrackets(node) {
      return this.indents == 1 || node.nodeName != "atrule" || node.hasOnlyProperties;
    }
    visitRoot(block) {
      this.buf = "";
      for (var i = 0, len = block.nodes.length;i < len; ++i) {
        var node = block.nodes[i];
        if (this.linenos || this.firebug)
          this.debugInfo(node);
        var ret = this.visit(node);
        if (ret)
          this.buf += this.out(ret + "\n", node);
      }
      return this.buf;
    }
    visitBlock(block) {
      var node, separator = this.compress ? "" : "\n", needBrackets, lastPropertyIndex;
      if (block.hasProperties && !block.lacksRenderedSelectors) {
        needBrackets = this.needBrackets(block.node);
        if (this.compress) {
          for (var i = block.nodes.length - 1;i >= 0; --i) {
            if (block.nodes[i].nodeName === "property") {
              lastPropertyIndex = i;
              break;
            }
          }
        }
        if (needBrackets) {
          this.buf += this.out(this.compress ? "{" : " {\n");
          ++this.indents;
        }
        for (var i = 0, len = block.nodes.length;i < len; ++i) {
          this.last = lastPropertyIndex === i;
          node = block.nodes[i];
          switch (node.nodeName) {
            case "null":
            case "expression":
            case "function":
            case "group":
            case "block":
            case "unit":
            case "media":
            case "keyframes":
            case "atrule":
            case "supports":
              continue;
            case (!this.compress && node.inline && "comment"):
              this.buf = this.buf.slice(0, -1);
              this.buf += this.out(" " + this.visit(node) + "\n", node);
              break;
            case "property":
              var ret = this.visit(node) + separator;
              this.buf += this.compress ? ret : this.out(ret, node);
              break;
            default:
              this.buf += this.out(this.visit(node) + separator, node);
          }
        }
        if (needBrackets) {
          --this.indents;
          this.buf += this.out(this.indent + "}" + separator);
        }
      }
      for (var i = 0, len = block.nodes.length;i < len; ++i) {
        node = block.nodes[i];
        switch (node.nodeName) {
          case "group":
          case "block":
          case "keyframes":
            if (this.linenos || this.firebug)
              this.debugInfo(node);
            this.visit(node);
            break;
          case "media":
          case "import":
          case "atrule":
          case "supports":
            this.visit(node);
            break;
          case "comment":
            if (!node.suppress) {
              this.buf += this.out(this.indent + this.visit(node) + "\n", node);
            }
            break;
          case "charset":
          case "literal":
          case "namespace":
            this.buf += this.out(this.visit(node) + "\n", node);
            break;
        }
      }
    }
    visitKeyframes(node) {
      if (!node.frames)
        return;
      var prefix = node.prefix == "official" ? "" : "-" + node.prefix + "-";
      this.buf += this.out("@" + prefix + "keyframes " + this.visit(node.val) + (this.compress ? "{" : " {\n"), node);
      this.keyframe = true;
      ++this.indents;
      this.visit(node.block);
      --this.indents;
      this.keyframe = false;
      this.buf += this.out("}" + (this.compress ? "" : "\n"));
    }
    visitMedia(media) {
      var val = media.val;
      if (!media.hasOutput || !val.nodes.length)
        return;
      this.buf += this.out("@media ", media);
      this.visit(val);
      this.buf += this.out(this.compress ? "{" : " {\n");
      ++this.indents;
      this.visit(media.block);
      --this.indents;
      this.buf += this.out("}" + (this.compress ? "" : "\n"));
    }
    visitQueryList(queries) {
      for (var i = 0, len = queries.nodes.length;i < len; ++i) {
        this.visit(queries.nodes[i]);
        if (len - 1 != i)
          this.buf += this.out("," + (this.compress ? "" : " "));
      }
    }
    visitQuery(node) {
      var len = node.nodes.length;
      if (node.predicate)
        this.buf += this.out(node.predicate + " ");
      if (node.type)
        this.buf += this.out(node.type + (len ? " and " : ""));
      for (var i = 0;i < len; ++i) {
        this.buf += this.out(this.visit(node.nodes[i]));
        if (len - 1 != i)
          this.buf += this.out(" and ");
      }
    }
    visitFeature(node) {
      if (!node.expr) {
        return node.name;
      } else if (node.expr.isEmpty) {
        return "(" + node.name + ")";
      } else {
        return "(" + node.name + ":" + (this.compress ? "" : " ") + this.visit(node.expr) + ")";
      }
    }
    visitImport(imported) {
      this.buf += this.out("@import " + this.visit(imported.path) + ";\n", imported);
    }
    visitAtrule(atrule) {
      var newline = this.compress ? "" : "\n";
      this.buf += this.out(this.indent + "@" + atrule.type, atrule);
      if (atrule.val)
        this.buf += this.out(" " + atrule.val.trim());
      if (atrule.block) {
        if (atrule.block.isEmpty) {
          this.buf += this.out((this.compress ? "" : " ") + "{}" + newline);
        } else if (atrule.hasOnlyProperties) {
          this.visit(atrule.block);
        } else {
          this.buf += this.out(this.compress ? "{" : " {\n");
          ++this.indents;
          this.visit(atrule.block);
          --this.indents;
          this.buf += this.out(this.indent + "}" + newline);
        }
      } else {
        this.buf += this.out(";" + newline);
      }
    }
    visitSupports(node) {
      if (!node.hasOutput)
        return;
      this.buf += this.out(this.indent + "@supports ", node);
      this.isCondition = true;
      this.buf += this.out(this.visit(node.condition));
      this.isCondition = false;
      this.buf += this.out(this.compress ? "{" : " {\n");
      ++this.indents;
      this.visit(node.block);
      --this.indents;
      this.buf += this.out(this.indent + "}" + (this.compress ? "" : "\n"));
    }
    visitComment(comment) {
      return this.compress ? comment.suppress ? "" : comment.str : comment.str;
    }
    visitFunction(fn) {
      return fn.name;
    }
    visitCharset(charset) {
      return "@charset " + this.visit(charset.val) + ";";
    }
    visitNamespace(namespace) {
      return "@namespace " + (namespace.prefix ? this.visit(namespace.prefix) + " " : "") + this.visit(namespace.val) + ";";
    }
    visitLiteral(lit) {
      var val = lit.val;
      if (lit.css)
        val = val.replace(/^  /gm, "");
      return val;
    }
    visitBoolean(bool) {
      return bool.toString();
    }
    visitRGBA(rgba) {
      return rgba.toString();
    }
    visitHSLA(hsla) {
      return hsla.rgba.toString();
    }
    visitUnit(unit) {
      var type = unit.type || "", n = unit.val, float = n != (n | 0);
      if (this.compress) {
        if (!["%", "s", "ms", "deg", "fr"].includes(type) && n == 0)
          return "0";
        if (float && n < 1 && n > -1) {
          return n.toString().replace("0.", ".") + type;
        }
      }
      return (float ? parseFloat(n.toFixed(15)) : n).toString() + type;
    }
    visitGroup(group) {
      var stack = this.keyframe ? [] : this.stack, comma = this.compress ? "," : ",\n";
      stack.push(group.nodes);
      if (group.block.hasProperties) {
        var selectors = utils.compileSelectors.call(this, stack), len = selectors.length;
        if (len) {
          if (this.keyframe)
            comma = this.compress ? "," : ", ";
          for (var i = 0;i < len; ++i) {
            var selector = selectors[i], last = i == len - 1;
            if (this.keyframe)
              selector = i ? selector.trim() : selector;
            this.buf += this.out(selector + (last ? "" : comma), group.nodes[i]);
          }
        } else {
          group.block.lacksRenderedSelectors = true;
        }
      }
      this.visit(group.block);
      stack.pop();
    }
    visitIdent(ident) {
      return ident.name;
    }
    visitString(string) {
      return this.isURL ? string.val : string.toString();
    }
    visitNull(node) {
      return "";
    }
    visitCall(call) {
      this.isURL = call.name == "url";
      var args = call.args.nodes.map(function(arg) {
        return this.visit(arg);
      }, this).join(this.compress ? "," : ", ");
      if (this.isURL)
        args = '"' + args + '"';
      this.isURL = false;
      return call.name + "(" + args + ")";
    }
    visitExpression(expr) {
      var buf = [], self = this, len = expr.nodes.length, nodes = expr.nodes.map(function(node) {
        return self.visit(node);
      });
      nodes.forEach(function(node, i) {
        var last = i == len - 1;
        buf.push(node);
        if (nodes[i + 1] == "/" || node == "/")
          return;
        if (last)
          return;
        var space = self.isURL || self.isCondition && (nodes[i + 1] == ")" || node == "(") ? "" : " ";
        buf.push(expr.isList ? self.compress ? "," : ", " : space);
      });
      return buf.join("");
    }
    get visitArguments() {
      return this.visitExpression;
    }
    visitProperty(prop) {
      var val = this.visit(prop.expr).trim(), name = prop.name || prop.segments.join(""), arr = [];
      if (name === "@apply") {
        arr.push(this.out(this.indent), this.out(name + " ", prop), this.out(val, prop.expr), this.out(this.compress ? this.last ? "" : ";" : ";"));
        return arr.join("");
      }
      arr.push(this.out(this.indent), this.out(name + (this.compress ? ":" : ": "), prop), this.out(val, prop.expr), this.out(this.compress ? this.last ? "" : ";" : ";"));
      return arr.join("");
    }
    debugInfo(node) {
      var path = node.filename == "stdin" ? "stdin" : fs.realpathSync(node.filename), line = (node.nodes && node.nodes.length ? node.nodes[0].lineno : node.lineno) || 1;
      if (this.linenos) {
        this.buf += "\n/* line " + line + " : " + path + " */\n";
      }
      if (this.firebug) {
        path = "file\\:\\/\\/" + path.replace(/([.:/\\])/g, function(m) {
          return "\\" + (m === "\\" ? "/" : m);
        });
        line = "\\00003" + line;
        this.buf += "\n@media -stylus-debug-info{filename{font-family:" + path + "}line{font-family:" + line + "}}\n";
      }
    }
  };
});

// lib/functions/s.js
var require_s = __commonJS((exports, module) => {
  var utils = require_utils();
  var nodes = require_nodes();
  var Compiler = require_compiler();
  (module.exports = function s(fmt) {
    fmt = utils.unwrap(fmt).nodes[0];
    utils.assertString(fmt);
    var self = this, str = fmt.string, args = arguments, i = 1;
    str = str.replace(/%(s|d)/g, function(_, specifier) {
      var arg = args[i++] || nodes.null;
      switch (specifier) {
        case "s":
          return new Compiler(arg, self.options).compile();
        case "d":
          arg = utils.unwrap(arg).first;
          if (arg.nodeName != "unit")
            throw new Error("%d requires a unit");
          return arg.val;
      }
    });
    return new nodes.Literal(str);
  }).raw = true;
});

// lib/functions/saturation.js
var require_saturation = __commonJS((exports, module) => {
  var saturation = function(color, value) {
    if (value) {
      var hslaColor = color.hsla;
      return hsla(new nodes.Unit(hslaColor.h), value, new nodes.Unit(hslaColor.l), new nodes.Unit(hslaColor.a));
    }
    return component(color, new nodes.String("saturation"));
  };
  var nodes = require_nodes();
  var hsla = require_hsla();
  var component = require_component();
  saturation.params = ["color", "value"];
  module.exports = saturation;
});

// lib/visitor/normalizer.js
var require_normalizer = __commonJS((exports, module) => {
  /*!
   * Stylus - Normalizer
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Visitor = require_visitor();
  var nodes = require_nodes();
  var utils = require_utils();
  module.exports = class Normalizer extends Visitor {
    constructor(root, options) {
      super(root);
      options = options || {};
      this.hoist = options["hoist atrules"];
      this.stack = [];
      this.map = {};
      this.imports = [];
    }
    normalize() {
      var ret = this.visit(this.root);
      if (this.hoist) {
        if (this.imports.length)
          ret.nodes = this.imports.concat(ret.nodes);
        if (this.charset)
          ret.nodes = [this.charset].concat(ret.nodes);
      }
      return ret;
    }
    bubble(node) {
      var props = [], other = [], self = this;
      function filterProps(block2) {
        block2.nodes.forEach(function(node2) {
          node2 = self.visit(node2);
          switch (node2.nodeName) {
            case "property":
              props.push(node2);
              break;
            case "block":
              filterProps(node2);
              break;
            default:
              other.push(node2);
          }
        });
      }
      filterProps(node.block);
      if (props.length) {
        var selector = new nodes.Selector([new nodes.Literal("&")]);
        selector.lineno = node.lineno;
        selector.column = node.column;
        selector.filename = node.filename;
        selector.val = "&";
        var group = new nodes.Group;
        group.lineno = node.lineno;
        group.column = node.column;
        group.filename = node.filename;
        var block = new nodes.Block(node.block, group);
        block.lineno = node.lineno;
        block.column = node.column;
        block.filename = node.filename;
        props.forEach(function(prop) {
          block.push(prop);
        });
        group.push(selector);
        group.block = block;
        node.block.nodes = [];
        node.block.push(group);
        other.forEach(function(n) {
          node.block.push(n);
        });
        var group = this.closestGroup(node.block);
        if (group)
          node.group = group.clone();
        node.bubbled = true;
      }
    }
    closestGroup(block) {
      var parent = block.parent, node;
      while (parent && (node = parent.node)) {
        if (node.nodeName == "group")
          return node;
        parent = node.block && node.block.parent;
      }
    }
    visitRoot(block) {
      var ret = new nodes.Root, node;
      for (var i = 0;i < block.nodes.length; ++i) {
        node = block.nodes[i];
        switch (node.nodeName) {
          case "null":
          case "expression":
          case "function":
          case "unit":
          case "atblock":
            continue;
          default:
            this.rootIndex = i;
            ret.push(this.visit(node));
        }
      }
      return ret;
    }
    visitProperty(prop) {
      this.visit(prop.expr);
      return prop;
    }
    visitExpression(expr) {
      expr.nodes = expr.nodes.map(function(node) {
        if (node.nodeName == "block") {
          var literal = new nodes.Literal("block");
          literal.lineno = expr.lineno;
          literal.column = expr.column;
          return literal;
        }
        return node;
      });
      return expr;
    }
    visitBlock(block) {
      var node;
      if (block.hasProperties) {
        for (var i = 0, len = block.nodes.length;i < len; ++i) {
          node = block.nodes[i];
          switch (node.nodeName) {
            case "null":
            case "expression":
            case "function":
            case "group":
            case "unit":
            case "atblock":
              continue;
            default:
              block.nodes[i] = this.visit(node);
          }
        }
      }
      for (var i = 0, len = block.nodes.length;i < len; ++i) {
        node = block.nodes[i];
        block.nodes[i] = this.visit(node);
      }
      return block;
    }
    visitGroup(group) {
      var stack = this.stack, map = this.map, parts;
      group.nodes.forEach(function(selector, i) {
        if (!~selector.val.indexOf(","))
          return;
        if (~selector.val.indexOf("\\,")) {
          selector.val = selector.val.replace(/\\,/g, ",");
          return;
        }
        parts = selector.val.split(",");
        var root = selector.val.charAt(0) == "/", part, s;
        for (var k = 0, len = parts.length;k < len; ++k) {
          part = parts[k].trim();
          if (root && k > 0 && !~part.indexOf("&")) {
            part = "/" + part;
          }
          s = new nodes.Selector([new nodes.Literal(part)]);
          s.val = part;
          s.block = group.block;
          group.nodes[i++] = s;
        }
      });
      stack.push(group.nodes);
      var selectors = utils.compileSelectors(stack, true);
      selectors.forEach(function(selector) {
        map[selector] = map[selector] || [];
        map[selector].push(group);
      });
      this.extend(group, selectors);
      stack.pop();
      return group;
    }
    visitFunction() {
      return nodes.null;
    }
    visitMedia(media) {
      var medias = [], group = this.closestGroup(media.block), parent;
      function mergeQueries(block) {
        block.nodes.forEach(function(node, i) {
          switch (node.nodeName) {
            case "media":
              node.val = media.val.merge(node.val);
              medias.push(node);
              block.nodes[i] = nodes.null;
              break;
            case "block":
              mergeQueries(node);
              break;
            default:
              if (node.block && node.block.nodes)
                mergeQueries(node.block);
          }
        });
      }
      mergeQueries(media.block);
      this.bubble(media);
      if (medias.length) {
        medias.forEach(function(node) {
          if (group) {
            group.block.push(node);
          } else {
            this.root.nodes.splice(++this.rootIndex, 0, node);
          }
          node = this.visit(node);
          parent = node.block.parent;
          if (node.bubbled && (!group || parent.node.nodeName == "group")) {
            node.group.block = node.block.nodes[0].block;
            node.block.nodes[0] = node.group;
          }
        }, this);
      }
      return media;
    }
    visitSupports(node) {
      this.bubble(node);
      return node;
    }
    visitAtrule(node) {
      if (node.block)
        node.block = this.visit(node.block);
      return node;
    }
    visitKeyframes(node) {
      var frames = node.block.nodes.filter(function(frame) {
        return frame.block && frame.block.hasProperties;
      });
      node.frames = frames.length;
      return node;
    }
    visitImport(node) {
      this.imports.push(node);
      return this.hoist ? nodes.null : node;
    }
    visitCharset(node) {
      this.charset = node;
      return this.hoist ? nodes.null : node;
    }
    extend(group, selectors) {
      var map = this.map, self = this, parent = this.closestGroup(group.block);
      group.extends.forEach(function(extend) {
        var groups = map[extend.selector];
        if (!groups) {
          if (extend.optional)
            return;
          groups = self._checkForPrefixedGroups(extend.selector);
          if (!groups) {
            var err = new Error('Failed to @extend "' + extend.selector + '"');
            err.lineno = extend.lineno;
            err.column = extend.column;
            throw err;
          }
        }
        selectors.forEach(function(selector) {
          var node = new nodes.Selector;
          node.val = selector;
          node.inherits = false;
          groups.forEach(function(group2) {
            if (!parent || parent != group2)
              self.extend(group2, selectors);
            group2.push(node);
          });
        });
      });
      group.block = this.visit(group.block);
    }
    _checkForPrefixedGroups(selector) {
      var prefix = [];
      var map = this.map;
      var result = null;
      for (var i = 0;i < this.stack.length; i++) {
        var stackElementArray = this.stack[i];
        var stackElement = stackElementArray[0];
        prefix.push(stackElement.val);
        var fullSelector = prefix.join(" ") + " " + selector;
        result = map[fullSelector];
        if (result)
          break;
      }
      return result;
    }
  };
});

// lib/functions/selector-exists.js
var require_selector_exists = __commonJS((exports, module) => {
  var selectorExists = function(sel) {
    utils.assertString(sel, "selector");
    if (!this.__selectorsMap__) {
      var Normalizer = require_normalizer(), visitor = new Normalizer(this.root.clone());
      visitor.visit(visitor.root);
      this.__selectorsMap__ = visitor.map;
    }
    return sel.string in this.__selectorsMap__;
  };
  var utils = require_utils();
  selectorExists.params = ["sel"];
  module.exports = selectorExists;
});

// lib/functions/selector.js
var require_selector = __commonJS((exports, module) => {
  var pushToStack = function(selectors, stack) {
    selectors.forEach(function(sel) {
      sel = sel.first;
      utils.assertString(sel, "selector");
      stack.push(parse(sel.string));
    });
  };
  var parse = function(selector) {
    var Parser = new __require("../parser"), parser = new Parser(selector), nodes;
    parser.state.push("selector-parts");
    nodes = parser.selector();
    nodes.forEach(function(node) {
      node.val = node.segments.map(function(seg) {
        return seg.toString();
      }).join("");
    });
    return nodes;
  };
  var utils = require_utils();
  (module.exports = function selector() {
    var stack = this.selectorStack, args = [].slice.call(arguments);
    if (args.length == 1) {
      var expr = utils.unwrap(args[0]), len = expr.nodes.length;
      if (len == 1) {
        utils.assertString(expr.first, "selector");
        var SelectorParser = require_selector_parser(), val = expr.first.string, parsed = new SelectorParser(val).parse().val;
        if (parsed == val)
          return val;
        stack.push(parse(val));
      } else if (len > 1) {
        if (expr.isList) {
          pushToStack(expr.nodes, stack);
        } else {
          stack.push(parse(expr.nodes.map(function(node) {
            utils.assertString(node, "selector");
            return node.string;
          }).join(" ")));
        }
      }
    } else if (args.length > 1) {
      pushToStack(args, stack);
    }
    return stack.length ? utils.compileSelectors(stack).join(",") : "&";
  }).raw = true;
});

// lib/functions/selectors.js
var require_selectors = __commonJS((exports, module) => {
  var nodes = require_nodes();
  var Parser = require_selector_parser();
  module.exports = function selectors() {
    var stack = this.selectorStack, expr = new nodes.Expression(true);
    if (stack.length) {
      for (var i = 0;i < stack.length; i++) {
        var group = stack[i], nested;
        if (group.length > 1) {
          expr.push(new nodes.String(group.map(function(selector2) {
            nested = new Parser(selector2.val).parse().nested;
            return (nested && i ? "& " : "") + selector2.val;
          }).join(",")));
        } else {
          var selector = group[0].val;
          nested = new Parser(selector).parse().nested;
          expr.push(new nodes.String((nested && i ? "& " : "") + selector));
        }
      }
    } else {
      expr.push(new nodes.String("&"));
    }
    return expr;
  };
});

// lib/functions/shift.js
var require_shift = __commonJS((exports, module) => {
  var utils = require_utils();
  (module.exports = function(expr) {
    expr = utils.unwrap(expr);
    return expr.nodes.shift();
  }).raw = true;
});

// lib/functions/split.js
var require_split = __commonJS((exports, module) => {
  var split = function(delim, val) {
    utils.assertString(delim, "delimiter");
    utils.assertString(val, "val");
    var splitted = val.string.split(delim.string);
    var expr = new nodes.Expression;
    var ItemNode = val instanceof nodes.Ident ? nodes.Ident : nodes.String;
    for (var i = 0, len = splitted.length;i < len; ++i) {
      expr.nodes.push(new ItemNode(splitted[i]));
    }
    return expr;
  };
  var utils = require_utils();
  var nodes = require_nodes();
  split.params = ["delim", "val"];
  module.exports = split;
});

// lib/functions/substr.js
var require_substr = __commonJS((exports, module) => {
  var substr = function(val, start, length) {
    utils.assertString(val, "val");
    utils.assertType(start, "unit", "start");
    length = length && length.val;
    var res = val.string.substr(start.val, length);
    return val instanceof nodes.Ident ? new nodes.Ident(res) : new nodes.String(res);
  };
  var utils = require_utils();
  var nodes = require_nodes();
  substr.params = ["val", "start", "length"];
  module.exports = substr;
});

// lib/functions/slice.js
var require_slice = __commonJS((exports, module) => {
  var utils = require_utils();
  var nodes = require_nodes();
  (module.exports = function slice(val, start, end) {
    start = start && start.nodes[0].val;
    end = end && end.nodes[0].val;
    val = utils.unwrap(val).nodes;
    if (val.length > 1) {
      return utils.coerce(val.slice(start, end), true);
    }
    var result = val[0].string.slice(start, end);
    return val[0] instanceof nodes.Ident ? new nodes.Ident(result) : new nodes.String(result);
  }).raw = true;
});

// lib/functions/tan.js
var require_tan = __commonJS((exports, module) => {
  var tan = function(angle) {
    utils.assertType(angle, "unit", "angle");
    var radians = angle.val;
    if (angle.type === "deg") {
      radians *= Math.PI / 180;
    }
    var m = Math.pow(10, 9);
    var sin = Math.round(Math.sin(radians) * m) / m, cos = Math.round(Math.cos(radians) * m) / m, tan2 = Math.round(m * sin / cos) / m;
    return new nodes.Unit(tan2, "");
  };
  var utils = require_utils();
  var nodes = require_nodes();
  tan.params = ["angle"];
  module.exports = tan;
});

// lib/functions/trace.js
var require_trace = __commonJS((exports, module) => {
  var nodes = require_nodes();
  module.exports = function trace() {
    console.log(this.stack);
    return nodes.null;
  };
});

// lib/functions/transparentify.js
var require_transparentify = __commonJS((exports, module) => {
  var transparentify = function(top, bottom, alpha) {
    utils.assertColor(top);
    top = top.rgba;
    bottom = bottom || new nodes.RGBA(255, 255, 255, 1);
    if (!alpha && bottom && !bottom.rgba) {
      alpha = bottom;
      bottom = new nodes.RGBA(255, 255, 255, 1);
    }
    utils.assertColor(bottom);
    bottom = bottom.rgba;
    var bestAlpha = ["r", "g", "b"].map(function(channel) {
      return (top[channel] - bottom[channel]) / ((0 < top[channel] - bottom[channel] ? 255 : 0) - bottom[channel]);
    }).sort(function(a, b) {
      return b - a;
    })[0];
    if (alpha) {
      utils.assertType(alpha, "unit", "alpha");
      if (alpha.type == "%") {
        bestAlpha = alpha.val / 100;
      } else if (!alpha.type) {
        bestAlpha = alpha = alpha.val;
      }
    }
    bestAlpha = Math.max(Math.min(bestAlpha, 1), 0);
    function processChannel(channel) {
      if (bestAlpha == 0) {
        return bottom[channel];
      } else {
        return bottom[channel] + (top[channel] - bottom[channel]) / bestAlpha;
      }
    }
    return new nodes.RGBA(processChannel("r"), processChannel("g"), processChannel("b"), Math.round(bestAlpha * 100) / 100);
  };
  var utils = require_utils();
  var nodes = require_nodes();
  transparentify.params = ["top", "bottom", "alpha"];
  module.exports = transparentify;
});

// lib/functions/type.js
var require_type = __commonJS((exports, module) => {
  var type = function(node) {
    utils.assertPresent(node, "expression");
    return node.nodeName;
  };
  var utils = require_utils();
  type.params = ["node"];
  module.exports = type;
});

// lib/functions/unit.js
var require_unit = __commonJS((exports, module) => {
  var unit = function(unit2, type) {
    utils.assertType(unit2, "unit", "unit");
    if (type) {
      utils.assertString(type, "type");
      return new nodes.Unit(unit2.val, type.string);
    } else {
      return unit2.type || "";
    }
  };
  var utils = require_utils();
  var nodes = require_nodes();
  unit.params = ["unit", "type"];
  module.exports = unit;
});

// lib/functions/unquote.js
var require_unquote = __commonJS((exports, module) => {
  var unquote = function(string) {
    utils.assertString(string, "string");
    return new nodes.Literal(string.string);
  };
  var utils = require_utils();
  var nodes = require_nodes();
  unquote.params = ["string"];
  module.exports = unquote;
});

// lib/functions/unshift.js
var require_unshift = __commonJS((exports, module) => {
  var utils = require_utils();
  (module.exports = function(expr) {
    expr = utils.unwrap(expr);
    for (var i = 1, len = arguments.length;i < len; ++i) {
      expr.nodes.unshift(utils.unwrap(arguments[i]));
    }
    return expr.nodes.length;
  }).raw = true;
});

// lib/functions/use.js
var require_use = __commonJS((exports, module) => {
  var use = function(plugin, options) {
    utils.assertString(plugin, "plugin");
    if (options) {
      utils.assertType(options, "object", "options");
      options = parseObject(options);
    }
    plugin = plugin.string;
    var found = utils.lookup(plugin, this.options.paths, this.options.filename);
    if (!found)
      throw new Error('failed to locate plugin file "' + plugin + '"');
    var fn = __require(path.resolve(found));
    if (typeof fn != "function") {
      throw new Error('plugin "' + plugin + '" does not export a function');
    }
    this.renderer.use(fn(options || this.options));
  };
  var parseObject = function(obj) {
    obj = obj.vals;
    for (var key in obj) {
      var nodes = obj[key].nodes[0].nodes;
      if (nodes && nodes.length) {
        obj[key] = [];
        for (var i = 0, len = nodes.length;i < len; ++i) {
          obj[key].push(convert(nodes[i]));
        }
      } else {
        obj[key] = convert(obj[key].first);
      }
    }
    return obj;
    function convert(node) {
      switch (node.nodeName) {
        case "object":
          return parseObject(node);
        case "boolean":
          return node.isTrue;
        case "unit":
          return node.type ? node.toString() : +node.val;
        case "string":
        case "literal":
          return node.val;
        default:
          return node.toString();
      }
    }
  };
  var utils = require_utils();
  var path = __require("path");
  use.params = ["plugin", "options"];
  module.exports = use;
});

// lib/functions/warn.js
var require_warn = __commonJS((exports, module) => {
  var warn = function(msg) {
    utils.assertType(msg, "string", "msg");
    console.warn("Warning: %s", msg.val);
    return nodes.null;
  };
  var utils = require_utils();
  var nodes = require_nodes();
  warn.params = ["msg"];
  module.exports = warn;
});

// lib/functions/math-prop.js
var require_math_prop = __commonJS((exports, module) => {
  var math = function(prop) {
    return new nodes.Unit(Math[prop.string]);
  };
  var nodes = require_nodes();
  math.params = ["prop"];
  module.exports = math;
});

// lib/functions/prefix-classes.js
var require_prefix_classes = __commonJS((exports, module) => {
  var prefixClasses = function(prefix, block) {
    utils.assertString(prefix, "prefix");
    utils.assertType(block, "block", "block");
    var _prefix = this.prefix;
    this.options.prefix = this.prefix = prefix.string;
    block = this.visit(block);
    this.options.prefix = this.prefix = _prefix;
    return block;
  };
  var utils = require_utils();
  prefixClasses.params = ["prefix", "block"];
  module.exports = prefixClasses;
});

// lib/functions/index.js
var require_functions = __commonJS((exports) => {
  /*!
   * Stylus - Evaluator - built-in functions
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  exports["add-property"] = require_add_property();
  exports.adjust = require_adjust();
  exports.alpha = require_alpha();
  exports["base-convert"] = require_base_convert();
  exports.basename = require_basename();
  exports.blend = require_blend();
  exports.blue = require_blue();
  exports.clone = require_clone();
  exports.component = require_component();
  exports.contrast = require_contrast();
  exports.convert = require_convert();
  exports["current-media"] = require_current_media();
  exports.define = require_define();
  exports.dirname = require_dirname();
  exports.error = require_error();
  exports.extname = require_extname();
  exports.green = require_green();
  exports.hsl = require_hsl();
  exports.hsla = require_hsla();
  exports.hue = require_hue();
  exports["image-size"] = require_image_size();
  exports.json = require_json();
  exports.length = require_length();
  exports.lightness = require_lightness();
  exports["list-separator"] = require_list_separator();
  exports.lookup = require_lookup();
  exports.luminosity = require_luminosity();
  exports.match = require_match();
  exports.math = require_math();
  exports.merge = exports.extend = require_merge();
  exports.operate = require_operate();
  exports["opposite-position"] = require_opposite_position();
  exports.p = require_p();
  exports.pathjoin = require_pathjoin();
  exports.pop = require_pop();
  exports.push = exports.append = require_push();
  exports.range = require_range();
  exports.red = require_red();
  exports.remove = require_remove();
  exports.replace = require_replace();
  exports.rgb = require_rgb();
  exports.atan = require_atan();
  exports.asin = require_asin();
  exports.acos = require_acos();
  exports.rgba = require_rgba();
  exports.s = require_s();
  exports.saturation = require_saturation();
  exports["selector-exists"] = require_selector_exists();
  exports.selector = require_selector();
  exports.selectors = require_selectors();
  exports.shift = require_shift();
  exports.split = require_split();
  exports.substr = require_substr();
  exports.slice = require_slice();
  exports.tan = require_tan();
  exports.trace = require_trace();
  exports.transparentify = require_transparentify();
  exports.type = exports.typeof = exports["type-of"] = require_type();
  exports.unit = require_unit();
  exports.unquote = require_unquote();
  exports.unshift = exports.prepend = require_unshift();
  exports.use = require_use();
  exports.warn = require_warn();
  exports["-math-prop"] = require_math_prop();
  exports["-prefix-classes"] = require_prefix_classes();
});

// lib/colors.js
var require_colors = __commonJS((exports, module) => {
  /*!
   * Stylus - colors
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  module.exports = {
    aliceblue: [240, 248, 255, 1],
    antiquewhite: [250, 235, 215, 1],
    aqua: [0, 255, 255, 1],
    aquamarine: [127, 255, 212, 1],
    azure: [240, 255, 255, 1],
    beige: [245, 245, 220, 1],
    bisque: [255, 228, 196, 1],
    black: [0, 0, 0, 1],
    blanchedalmond: [255, 235, 205, 1],
    blue: [0, 0, 255, 1],
    blueviolet: [138, 43, 226, 1],
    brown: [165, 42, 42, 1],
    burlywood: [222, 184, 135, 1],
    cadetblue: [95, 158, 160, 1],
    chartreuse: [127, 255, 0, 1],
    chocolate: [210, 105, 30, 1],
    coral: [255, 127, 80, 1],
    cornflowerblue: [100, 149, 237, 1],
    cornsilk: [255, 248, 220, 1],
    crimson: [220, 20, 60, 1],
    cyan: [0, 255, 255, 1],
    darkblue: [0, 0, 139, 1],
    darkcyan: [0, 139, 139, 1],
    darkgoldenrod: [184, 134, 11, 1],
    darkgray: [169, 169, 169, 1],
    darkgreen: [0, 100, 0, 1],
    darkgrey: [169, 169, 169, 1],
    darkkhaki: [189, 183, 107, 1],
    darkmagenta: [139, 0, 139, 1],
    darkolivegreen: [85, 107, 47, 1],
    darkorange: [255, 140, 0, 1],
    darkorchid: [153, 50, 204, 1],
    darkred: [139, 0, 0, 1],
    darksalmon: [233, 150, 122, 1],
    darkseagreen: [143, 188, 143, 1],
    darkslateblue: [72, 61, 139, 1],
    darkslategray: [47, 79, 79, 1],
    darkslategrey: [47, 79, 79, 1],
    darkturquoise: [0, 206, 209, 1],
    darkviolet: [148, 0, 211, 1],
    deeppink: [255, 20, 147, 1],
    deepskyblue: [0, 191, 255, 1],
    dimgray: [105, 105, 105, 1],
    dimgrey: [105, 105, 105, 1],
    dodgerblue: [30, 144, 255, 1],
    firebrick: [178, 34, 34, 1],
    floralwhite: [255, 250, 240, 1],
    forestgreen: [34, 139, 34, 1],
    fuchsia: [255, 0, 255, 1],
    gainsboro: [220, 220, 220, 1],
    ghostwhite: [248, 248, 255, 1],
    gold: [255, 215, 0, 1],
    goldenrod: [218, 165, 32, 1],
    gray: [128, 128, 128, 1],
    green: [0, 128, 0, 1],
    greenyellow: [173, 255, 47, 1],
    grey: [128, 128, 128, 1],
    honeydew: [240, 255, 240, 1],
    hotpink: [255, 105, 180, 1],
    indianred: [205, 92, 92, 1],
    indigo: [75, 0, 130, 1],
    ivory: [255, 255, 240, 1],
    khaki: [240, 230, 140, 1],
    lavender: [230, 230, 250, 1],
    lavenderblush: [255, 240, 245, 1],
    lawngreen: [124, 252, 0, 1],
    lemonchiffon: [255, 250, 205, 1],
    lightblue: [173, 216, 230, 1],
    lightcoral: [240, 128, 128, 1],
    lightcyan: [224, 255, 255, 1],
    lightgoldenrodyellow: [250, 250, 210, 1],
    lightgray: [211, 211, 211, 1],
    lightgreen: [144, 238, 144, 1],
    lightgrey: [211, 211, 211, 1],
    lightpink: [255, 182, 193, 1],
    lightsalmon: [255, 160, 122, 1],
    lightseagreen: [32, 178, 170, 1],
    lightskyblue: [135, 206, 250, 1],
    lightslategray: [119, 136, 153, 1],
    lightslategrey: [119, 136, 153, 1],
    lightsteelblue: [176, 196, 222, 1],
    lightyellow: [255, 255, 224, 1],
    lime: [0, 255, 0, 1],
    limegreen: [50, 205, 50, 1],
    linen: [250, 240, 230, 1],
    magenta: [255, 0, 255, 1],
    maroon: [128, 0, 0, 1],
    mediumaquamarine: [102, 205, 170, 1],
    mediumblue: [0, 0, 205, 1],
    mediumorchid: [186, 85, 211, 1],
    mediumpurple: [147, 112, 219, 1],
    mediumseagreen: [60, 179, 113, 1],
    mediumslateblue: [123, 104, 238, 1],
    mediumspringgreen: [0, 250, 154, 1],
    mediumturquoise: [72, 209, 204, 1],
    mediumvioletred: [199, 21, 133, 1],
    midnightblue: [25, 25, 112, 1],
    mintcream: [245, 255, 250, 1],
    mistyrose: [255, 228, 225, 1],
    moccasin: [255, 228, 181, 1],
    navajowhite: [255, 222, 173, 1],
    navy: [0, 0, 128, 1],
    oldlace: [253, 245, 230, 1],
    olive: [128, 128, 0, 1],
    olivedrab: [107, 142, 35, 1],
    orange: [255, 165, 0, 1],
    orangered: [255, 69, 0, 1],
    orchid: [218, 112, 214, 1],
    palegoldenrod: [238, 232, 170, 1],
    palegreen: [152, 251, 152, 1],
    paleturquoise: [175, 238, 238, 1],
    palevioletred: [219, 112, 147, 1],
    papayawhip: [255, 239, 213, 1],
    peachpuff: [255, 218, 185, 1],
    peru: [205, 133, 63, 1],
    pink: [255, 192, 203, 1],
    plum: [221, 160, 221, 1],
    powderblue: [176, 224, 230, 1],
    purple: [128, 0, 128, 1],
    red: [255, 0, 0, 1],
    rosybrown: [188, 143, 143, 1],
    royalblue: [65, 105, 225, 1],
    saddlebrown: [139, 69, 19, 1],
    salmon: [250, 128, 114, 1],
    sandybrown: [244, 164, 96, 1],
    seagreen: [46, 139, 87, 1],
    seashell: [255, 245, 238, 1],
    sienna: [160, 82, 45, 1],
    silver: [192, 192, 192, 1],
    skyblue: [135, 206, 235, 1],
    slateblue: [106, 90, 205, 1],
    slategray: [112, 128, 144, 1],
    slategrey: [112, 128, 144, 1],
    snow: [255, 250, 250, 1],
    springgreen: [0, 255, 127, 1],
    steelblue: [70, 130, 180, 1],
    tan: [210, 180, 140, 1],
    teal: [0, 128, 128, 1],
    thistle: [216, 191, 216, 1],
    tomato: [255, 99, 71, 1],
    transparent: [0, 0, 0, 0],
    turquoise: [64, 224, 208, 1],
    violet: [238, 130, 238, 1],
    wheat: [245, 222, 179, 1],
    white: [255, 255, 255, 1],
    whitesmoke: [245, 245, 245, 1],
    yellow: [255, 255, 0, 1],
    yellowgreen: [154, 205, 50, 1],
    rebeccapurple: [102, 51, 153, 1]
  };
});

// node_modules/debug/node_modules/ms/index.js
var require_ms = __commonJS((exports, module) => {
  var parse = function(str) {
    str = String(str);
    if (str.length > 100) {
      return;
    }
    var match = /^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(str);
    if (!match) {
      return;
    }
    var n = parseFloat(match[1]);
    var type = (match[2] || "ms").toLowerCase();
    switch (type) {
      case "years":
      case "year":
      case "yrs":
      case "yr":
      case "y":
        return n * y;
      case "weeks":
      case "week":
      case "w":
        return n * w;
      case "days":
      case "day":
      case "d":
        return n * d;
      case "hours":
      case "hour":
      case "hrs":
      case "hr":
      case "h":
        return n * h;
      case "minutes":
      case "minute":
      case "mins":
      case "min":
      case "m":
        return n * m;
      case "seconds":
      case "second":
      case "secs":
      case "sec":
      case "s":
        return n * s;
      case "milliseconds":
      case "millisecond":
      case "msecs":
      case "msec":
      case "ms":
        return n;
      default:
        return;
    }
  };
  var fmtShort = function(ms) {
    var msAbs = Math.abs(ms);
    if (msAbs >= d) {
      return Math.round(ms / d) + "d";
    }
    if (msAbs >= h) {
      return Math.round(ms / h) + "h";
    }
    if (msAbs >= m) {
      return Math.round(ms / m) + "m";
    }
    if (msAbs >= s) {
      return Math.round(ms / s) + "s";
    }
    return ms + "ms";
  };
  var fmtLong = function(ms) {
    var msAbs = Math.abs(ms);
    if (msAbs >= d) {
      return plural(ms, msAbs, d, "day");
    }
    if (msAbs >= h) {
      return plural(ms, msAbs, h, "hour");
    }
    if (msAbs >= m) {
      return plural(ms, msAbs, m, "minute");
    }
    if (msAbs >= s) {
      return plural(ms, msAbs, s, "second");
    }
    return ms + " ms";
  };
  var plural = function(ms, msAbs, n, name) {
    var isPlural = msAbs >= n * 1.5;
    return Math.round(ms / n) + " " + name + (isPlural ? "s" : "");
  };
  var s = 1000;
  var m = s * 60;
  var h = m * 60;
  var d = h * 24;
  var w = d * 7;
  var y = d * 365.25;
  module.exports = function(val, options) {
    options = options || {};
    var type = typeof val;
    if (type === "string" && val.length > 0) {
      return parse(val);
    } else if (type === "number" && isFinite(val)) {
      return options.long ? fmtLong(val) : fmtShort(val);
    }
    throw new Error("val is not a non-empty string or a valid number. val=" + JSON.stringify(val));
  };
});

// node_modules/debug/src/common.js
var require_common2 = __commonJS((exports, module) => {
  var setup = function(env) {
    createDebug.debug = createDebug;
    createDebug.default = createDebug;
    createDebug.coerce = coerce;
    createDebug.disable = disable;
    createDebug.enable = enable;
    createDebug.enabled = enabled;
    createDebug.humanize = require_ms();
    createDebug.destroy = destroy;
    Object.keys(env).forEach((key) => {
      createDebug[key] = env[key];
    });
    createDebug.names = [];
    createDebug.skips = [];
    createDebug.formatters = {};
    function selectColor(namespace) {
      let hash = 0;
      for (let i = 0;i < namespace.length; i++) {
        hash = (hash << 5) - hash + namespace.charCodeAt(i);
        hash |= 0;
      }
      return createDebug.colors[Math.abs(hash) % createDebug.colors.length];
    }
    createDebug.selectColor = selectColor;
    function createDebug(namespace) {
      let prevTime;
      let enableOverride = null;
      let namespacesCache;
      let enabledCache;
      function debug(...args) {
        if (!debug.enabled) {
          return;
        }
        const self = debug;
        const curr = Number(new Date);
        const ms = curr - (prevTime || curr);
        self.diff = ms;
        self.prev = prevTime;
        self.curr = curr;
        prevTime = curr;
        args[0] = createDebug.coerce(args[0]);
        if (typeof args[0] !== "string") {
          args.unshift("%O");
        }
        let index = 0;
        args[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {
          if (match === "%%") {
            return "%";
          }
          index++;
          const formatter = createDebug.formatters[format];
          if (typeof formatter === "function") {
            const val = args[index];
            match = formatter.call(self, val);
            args.splice(index, 1);
            index--;
          }
          return match;
        });
        createDebug.formatArgs.call(self, args);
        const logFn = self.log || createDebug.log;
        logFn.apply(self, args);
      }
      debug.namespace = namespace;
      debug.useColors = createDebug.useColors();
      debug.color = createDebug.selectColor(namespace);
      debug.extend = extend;
      debug.destroy = createDebug.destroy;
      Object.defineProperty(debug, "enabled", {
        enumerable: true,
        configurable: false,
        get: () => {
          if (enableOverride !== null) {
            return enableOverride;
          }
          if (namespacesCache !== createDebug.namespaces) {
            namespacesCache = createDebug.namespaces;
            enabledCache = createDebug.enabled(namespace);
          }
          return enabledCache;
        },
        set: (v) => {
          enableOverride = v;
        }
      });
      if (typeof createDebug.init === "function") {
        createDebug.init(debug);
      }
      return debug;
    }
    function extend(namespace, delimiter) {
      const newDebug = createDebug(this.namespace + (typeof delimiter === "undefined" ? ":" : delimiter) + namespace);
      newDebug.log = this.log;
      return newDebug;
    }
    function enable(namespaces) {
      createDebug.save(namespaces);
      createDebug.namespaces = namespaces;
      createDebug.names = [];
      createDebug.skips = [];
      let i;
      const split = (typeof namespaces === "string" ? namespaces : "").split(/[\s,]+/);
      const len = split.length;
      for (i = 0;i < len; i++) {
        if (!split[i]) {
          continue;
        }
        namespaces = split[i].replace(/\*/g, ".*?");
        if (namespaces[0] === "-") {
          createDebug.skips.push(new RegExp("^" + namespaces.slice(1) + "$"));
        } else {
          createDebug.names.push(new RegExp("^" + namespaces + "$"));
        }
      }
    }
    function disable() {
      const namespaces = [
        ...createDebug.names.map(toNamespace),
        ...createDebug.skips.map(toNamespace).map((namespace) => "-" + namespace)
      ].join(",");
      createDebug.enable("");
      return namespaces;
    }
    function enabled(name) {
      if (name[name.length - 1] === "*") {
        return true;
      }
      let i;
      let len;
      for (i = 0, len = createDebug.skips.length;i < len; i++) {
        if (createDebug.skips[i].test(name)) {
          return false;
        }
      }
      for (i = 0, len = createDebug.names.length;i < len; i++) {
        if (createDebug.names[i].test(name)) {
          return true;
        }
      }
      return false;
    }
    function toNamespace(regexp) {
      return regexp.toString().substring(2, regexp.toString().length - 2).replace(/\.\*\?$/, "*");
    }
    function coerce(val) {
      if (val instanceof Error) {
        return val.stack || val.message;
      }
      return val;
    }
    function destroy() {
      console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
    }
    createDebug.enable(createDebug.load());
    return createDebug;
  };
  module.exports = setup;
});

// node_modules/debug/src/browser.js
var require_browser = __commonJS((exports, module) => {
  var useColors = function() {
    if (typeof window !== "undefined" && window.process && (window.process.type === "renderer" || window.process.__nwjs)) {
      return true;
    }
    if (typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)) {
      return false;
    }
    return typeof document !== "undefined" && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance || typeof window !== "undefined" && window.console && (window.console.firebug || window.console.exception && window.console.table) || typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/) && parseInt(RegExp.$1, 10) >= 31 || typeof navigator !== "undefined" && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/);
  };
  var formatArgs = function(args) {
    args[0] = (this.useColors ? "%c" : "") + this.namespace + (this.useColors ? " %c" : " ") + args[0] + (this.useColors ? "%c " : " ") + "+" + exports.humanize(this.diff);
    if (!this.useColors) {
      return;
    }
    const c = "color: " + this.color;
    args.splice(1, 0, c, "color: inherit");
    let index = 0;
    let lastC = 0;
    args[0].replace(/%[a-zA-Z%]/g, (match) => {
      if (match === "%%") {
        return;
      }
      index++;
      if (match === "%c") {
        lastC = index;
      }
    });
    args.splice(lastC, 0, c);
  };
  var save = function(namespaces) {
    try {
      if (namespaces) {
        exports.storage.setItem("debug", namespaces);
      } else {
        exports.storage.removeItem("debug");
      }
    } catch (error) {
    }
  };
  var load = function() {
    let r;
    try {
      r = exports.storage.getItem("debug");
    } catch (error) {
    }
    if (!r && typeof process !== "undefined" && "env" in process) {
      r = process.env.DEBUG;
    }
    return r;
  };
  var localstorage = function() {
    try {
      return localStorage;
    } catch (error) {
    }
  };
  exports.formatArgs = formatArgs;
  exports.save = save;
  exports.load = load;
  exports.useColors = useColors;
  exports.storage = localstorage();
  exports.destroy = (() => {
    let warned = false;
    return () => {
      if (!warned) {
        warned = true;
        console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
      }
    };
  })();
  exports.colors = [
    "#0000CC",
    "#0000FF",
    "#0033CC",
    "#0033FF",
    "#0066CC",
    "#0066FF",
    "#0099CC",
    "#0099FF",
    "#00CC00",
    "#00CC33",
    "#00CC66",
    "#00CC99",
    "#00CCCC",
    "#00CCFF",
    "#3300CC",
    "#3300FF",
    "#3333CC",
    "#3333FF",
    "#3366CC",
    "#3366FF",
    "#3399CC",
    "#3399FF",
    "#33CC00",
    "#33CC33",
    "#33CC66",
    "#33CC99",
    "#33CCCC",
    "#33CCFF",
    "#6600CC",
    "#6600FF",
    "#6633CC",
    "#6633FF",
    "#66CC00",
    "#66CC33",
    "#9900CC",
    "#9900FF",
    "#9933CC",
    "#9933FF",
    "#99CC00",
    "#99CC33",
    "#CC0000",
    "#CC0033",
    "#CC0066",
    "#CC0099",
    "#CC00CC",
    "#CC00FF",
    "#CC3300",
    "#CC3333",
    "#CC3366",
    "#CC3399",
    "#CC33CC",
    "#CC33FF",
    "#CC6600",
    "#CC6633",
    "#CC9900",
    "#CC9933",
    "#CCCC00",
    "#CCCC33",
    "#FF0000",
    "#FF0033",
    "#FF0066",
    "#FF0099",
    "#FF00CC",
    "#FF00FF",
    "#FF3300",
    "#FF3333",
    "#FF3366",
    "#FF3399",
    "#FF33CC",
    "#FF33FF",
    "#FF6600",
    "#FF6633",
    "#FF9900",
    "#FF9933",
    "#FFCC00",
    "#FFCC33"
  ];
  exports.log = console.debug || console.log || (() => {
  });
  module.exports = require_common2()(exports);
  var { formatters } = module.exports;
  formatters.j = function(v) {
    try {
      return JSON.stringify(v);
    } catch (error) {
      return "[UnexpectedJSONParseError]: " + error.message;
    }
  };
});

// node_modules/has-flag/index.js
var require_has_flag = __commonJS((exports, module) => {
  module.exports = (flag, argv = process.argv) => {
    const prefix = flag.startsWith("-") ? "" : flag.length === 1 ? "-" : "--";
    const position = argv.indexOf(prefix + flag);
    const terminatorPosition = argv.indexOf("--");
    return position !== -1 && (terminatorPosition === -1 || position < terminatorPosition);
  };
});

// node_modules/supports-color/index.js
var require_supports_color = __commonJS((exports, module) => {
  var envForceColor = function() {
    if ("FORCE_COLOR" in env) {
      if (env.FORCE_COLOR === "true") {
        return 1;
      }
      if (env.FORCE_COLOR === "false") {
        return 0;
      }
      return env.FORCE_COLOR.length === 0 ? 1 : Math.min(Number.parseInt(env.FORCE_COLOR, 10), 3);
    }
  };
  var translateLevel = function(level) {
    if (level === 0) {
      return false;
    }
    return {
      level,
      hasBasic: true,
      has256: level >= 2,
      has16m: level >= 3
    };
  };
  var supportsColor = function(haveStream, { streamIsTTY, sniffFlags = true } = {}) {
    const noFlagForceColor = envForceColor();
    if (noFlagForceColor !== undefined) {
      flagForceColor = noFlagForceColor;
    }
    const forceColor = sniffFlags ? flagForceColor : noFlagForceColor;
    if (forceColor === 0) {
      return 0;
    }
    if (sniffFlags) {
      if (hasFlag("color=16m") || hasFlag("color=full") || hasFlag("color=truecolor")) {
        return 3;
      }
      if (hasFlag("color=256")) {
        return 2;
      }
    }
    if (haveStream && !streamIsTTY && forceColor === undefined) {
      return 0;
    }
    const min = forceColor || 0;
    if (env.TERM === "dumb") {
      return min;
    }
    if (process.platform === "win32") {
      const osRelease = os.release().split(".");
      if (Number(osRelease[0]) >= 10 && Number(osRelease[2]) >= 10586) {
        return Number(osRelease[2]) >= 14931 ? 3 : 2;
      }
      return 1;
    }
    if ("CI" in env) {
      if (["TRAVIS", "CIRCLECI", "APPVEYOR", "GITLAB_CI", "GITHUB_ACTIONS", "BUILDKITE", "DRONE"].some((sign) => (sign in env)) || env.CI_NAME === "codeship") {
        return 1;
      }
      return min;
    }
    if ("TEAMCITY_VERSION" in env) {
      return /^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0;
    }
    if (env.COLORTERM === "truecolor") {
      return 3;
    }
    if ("TERM_PROGRAM" in env) {
      const version = Number.parseInt((env.TERM_PROGRAM_VERSION || "").split(".")[0], 10);
      switch (env.TERM_PROGRAM) {
        case "iTerm.app":
          return version >= 3 ? 3 : 2;
        case "Apple_Terminal":
          return 2;
      }
    }
    if (/-256(color)?$/i.test(env.TERM)) {
      return 2;
    }
    if (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {
      return 1;
    }
    if ("COLORTERM" in env) {
      return 1;
    }
    return min;
  };
  var getSupportLevel = function(stream, options = {}) {
    const level = supportsColor(stream, {
      streamIsTTY: stream && stream.isTTY,
      ...options
    });
    return translateLevel(level);
  };
  var os = __require("os");
  var tty = __require("tty");
  var hasFlag = require_has_flag();
  var { env } = process;
  var flagForceColor;
  if (hasFlag("no-color") || hasFlag("no-colors") || hasFlag("color=false") || hasFlag("color=never")) {
    flagForceColor = 0;
  } else if (hasFlag("color") || hasFlag("colors") || hasFlag("color=true") || hasFlag("color=always")) {
    flagForceColor = 1;
  }
  module.exports = {
    supportsColor: getSupportLevel,
    stdout: getSupportLevel({ isTTY: tty.isatty(1) }),
    stderr: getSupportLevel({ isTTY: tty.isatty(2) })
  };
});

// node_modules/debug/src/node.js
var require_node = __commonJS((exports, module) => {
  var useColors = function() {
    return "colors" in exports.inspectOpts ? Boolean(exports.inspectOpts.colors) : tty.isatty(process.stderr.fd);
  };
  var formatArgs = function(args) {
    const { namespace: name, useColors: useColors2 } = this;
    if (useColors2) {
      const c = this.color;
      const colorCode = "\x1B[3" + (c < 8 ? c : "8;5;" + c);
      const prefix = `  ${colorCode};1m${name} \x1B[0m`;
      args[0] = prefix + args[0].split("\n").join("\n" + prefix);
      args.push(colorCode + "m+" + exports.humanize(this.diff) + "\x1B[0m");
    } else {
      args[0] = getDate() + name + " " + args[0];
    }
  };
  var getDate = function() {
    if (exports.inspectOpts.hideDate) {
      return "";
    }
    return new Date().toISOString() + " ";
  };
  var log = function(...args) {
    return process.stderr.write(util.format(...args) + "\n");
  };
  var save = function(namespaces) {
    if (namespaces) {
      process.env.DEBUG = namespaces;
    } else {
      delete process.env.DEBUG;
    }
  };
  var load = function() {
    return process.env.DEBUG;
  };
  var init = function(debug) {
    debug.inspectOpts = {};
    const keys = Object.keys(exports.inspectOpts);
    for (let i = 0;i < keys.length; i++) {
      debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];
    }
  };
  var tty = __require("tty");
  var util = __require("util");
  exports.init = init;
  exports.log = log;
  exports.formatArgs = formatArgs;
  exports.save = save;
  exports.load = load;
  exports.useColors = useColors;
  exports.destroy = util.deprecate(() => {
  }, "Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");
  exports.colors = [6, 2, 3, 4, 5, 1];
  try {
    const supportsColor = require_supports_color();
    if (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {
      exports.colors = [
        20,
        21,
        26,
        27,
        32,
        33,
        38,
        39,
        40,
        41,
        42,
        43,
        44,
        45,
        56,
        57,
        62,
        63,
        68,
        69,
        74,
        75,
        76,
        77,
        78,
        79,
        80,
        81,
        92,
        93,
        98,
        99,
        112,
        113,
        128,
        129,
        134,
        135,
        148,
        149,
        160,
        161,
        162,
        163,
        164,
        165,
        166,
        167,
        168,
        169,
        170,
        171,
        172,
        173,
        178,
        179,
        184,
        185,
        196,
        197,
        198,
        199,
        200,
        201,
        202,
        203,
        204,
        205,
        206,
        207,
        208,
        209,
        214,
        215,
        220,
        221
      ];
    }
  } catch (error) {
  }
  exports.inspectOpts = Object.keys(process.env).filter((key) => {
    return /^debug_/i.test(key);
  }).reduce((obj, key) => {
    const prop = key.substring(6).toLowerCase().replace(/_([a-z])/g, (_, k) => {
      return k.toUpperCase();
    });
    let val = process.env[key];
    if (/^(yes|on|true|enabled)$/i.test(val)) {
      val = true;
    } else if (/^(no|off|false|disabled)$/i.test(val)) {
      val = false;
    } else if (val === "null") {
      val = null;
    } else {
      val = Number(val);
    }
    obj[prop] = val;
    return obj;
  }, {});
  module.exports = require_common2()(exports);
  var { formatters } = module.exports;
  formatters.o = function(v) {
    this.inspectOpts.colors = this.useColors;
    return util.inspect(v, this.inspectOpts).split("\n").map((str) => str.trim()).join(" ");
  };
  formatters.O = function(v) {
    this.inspectOpts.colors = this.useColors;
    return util.inspect(v, this.inspectOpts);
  };
});

// node_modules/debug/src/index.js
var require_src = __commonJS((exports, module) => {
  if (typeof process === "undefined" || process.type === "renderer" || false || process.__nwjs) {
    module.exports = require_browser();
  } else {
    module.exports = require_node();
  }
});

// lib/functions/url.js
var require_url = __commonJS((exports, module) => {
  /*!
   * Stylus - plugin - url
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Compiler = require_compiler();
  var events = require_renderer().events;
  var nodes = require_nodes();
  var parse = __require("url").parse;
  var extname = __require("path").extname;
  var utils = require_utils();
  var fs = __require("fs");
  var defaultMimes = {
    ".gif": "image/gif",
    ".png": "image/png",
    ".jpg": "image/jpeg",
    ".jpeg": "image/jpeg",
    ".svg": "image/svg+xml",
    ".webp": "image/webp",
    ".ttf": "application/x-font-ttf",
    ".eot": "application/vnd.ms-fontobject",
    ".woff": "application/font-woff",
    ".woff2": "application/font-woff2"
  };
  var encodingTypes = {
    BASE_64: "base64",
    UTF8: "charset=utf-8"
  };
  module.exports = function(options) {
    options = options || {};
    var _paths = options.paths || [];
    var sizeLimit = options.limit != null ? options.limit : 30000;
    var mimes = options.mimes || defaultMimes;
    function fn(url, enc) {
      var compiler = new Compiler(url), encoding = encodingTypes.BASE_64;
      compiler.isURL = true;
      url = url.nodes.map(function(node) {
        return compiler.visit(node);
      }).join("");
      url = parse(url);
      var ext = extname(url.pathname || ""), mime = mimes[ext], hash = url.hash || "", literal = new nodes.Literal('url("' + url.href + '")'), paths = _paths.concat(this.paths), buf, result;
      if (!mime)
        return literal;
      if (url.protocol)
        return literal;
      var found = utils.lookup(url.pathname, paths);
      if (!found) {
        events.emit("file not found", "File " + literal + " could not be found, literal url retained!");
        return literal;
      }
      buf = fs.readFileSync(found);
      if (sizeLimit !== false && buf.length > sizeLimit)
        return literal;
      if (enc && enc.first.val.toLowerCase() == "utf8") {
        encoding = encodingTypes.UTF8;
        result = buf.toString().replace(/\s+/g, " ").replace(/[{}\|\\\^~\[\]`"<>#%]/g, function(match) {
          return "%" + match[0].charCodeAt(0).toString(16).toUpperCase();
        }).trim();
      } else {
        result = buf.toString(encoding) + hash;
      }
      return new nodes.Literal('url("data:' + mime + ";" + encoding + "," + result + '")');
    }
    fn.raw = true;
    return fn;
  };
  module.exports.mimes = defaultMimes;
});

// lib/visitor/evaluator.js
var require_evaluator = __commonJS((exports, module) => {
  var importFile = function(node, file, literal) {
    var importStack = this.importStack, Parser = require_parser(), stat;
    if (node.once) {
      if (this.requireHistory[file])
        return nodes.null;
      this.requireHistory[file] = true;
      if (literal && !this.includeCSS) {
        return node;
      }
    }
    if (~importStack.indexOf(file))
      throw new Error("import loop has been found");
    var str = fs.readFileSync(file, "utf8");
    if (!str.trim())
      return nodes.null;
    node.path = file;
    node.dirname = dirname(file);
    stat = fs.statSync(file);
    node.mtime = stat.mtime;
    this.paths.push(node.dirname);
    if (this.options._imports)
      this.options._imports.push(node.clone());
    importStack.push(file);
    nodes.filename = file;
    if (literal) {
      literal = new nodes.Literal(str.replace(/\r\n?/g, "\n"));
      literal.lineno = literal.column = 1;
      if (!this.resolveURL)
        return literal;
    }
    var block = new nodes.Block, parser = new Parser(str, utils.merge({ root: block }, this.options));
    try {
      block = parser.parse();
    } catch (err) {
      var line = parser.lexer.lineno, column = parser.lexer.column;
      if (literal && this.includeCSS && this.resolveURL) {
        this.warn("ParseError: " + file + ":" + line + ":" + column + ". This file included as-is");
        return literal;
      } else {
        err.filename = file;
        err.lineno = line;
        err.column = column;
        err.input = str;
        throw err;
      }
    }
    block = block.clone(this.currentBlock);
    block.parent = this.currentBlock;
    block.scope = false;
    var ret = this.visit(block);
    importStack.pop();
    if (!this.resolveURL || this.resolveURL.nocheck)
      this.paths.pop();
    return ret;
  };
  /*!
   * Stylus - Evaluator
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Visitor = require_visitor();
  var units = require_units();
  var nodes = require_nodes();
  var Stack = require_stack();
  var Frame = require_frame();
  var utils = require_utils();
  var bifs = require_functions();
  var dirname = __require("path").dirname;
  var colors = require_colors();
  var debug = require_src()("stylus:evaluator");
  var fs = __require("fs");
  module.exports = class Evaluator extends Visitor {
    constructor(root, options) {
      super(root);
      options = options || {};
      var functions = this.functions = options.functions || {};
      this.stack = new Stack;
      this.imports = options.imports || [];
      this.globals = options.globals || {};
      this.paths = options.paths || [];
      this.prefix = options.prefix || "";
      this.filename = options.filename;
      this.includeCSS = options["include css"];
      this.resolveURL = functions.url && functions.url.name == "resolver" && functions.url.options;
      this.paths.push(dirname(options.filename || "."));
      this.stack.push(this.global = new Frame(root));
      this.warnings = options.warn;
      this.options = options;
      this.calling = [];
      this.importStack = [];
      this.requireHistory = {};
      this.return = 0;
    }
    visit(node) {
      try {
        return super.visit(node);
      } catch (err) {
        if (err.filename)
          throw err;
        err.lineno = node.lineno;
        err.column = node.column;
        err.filename = node.filename;
        err.stylusStack = this.stack.toString();
        try {
          err.input = fs.readFileSync(err.filename, "utf8");
        } catch (err2) {
        }
        throw err;
      }
    }
    setup() {
      var root = this.root;
      var imports = [];
      this.populateGlobalScope();
      this.imports.forEach(function(file) {
        var expr = new nodes.Expression;
        expr.push(new nodes.String(file));
        imports.push(new nodes.Import(expr));
      }, this);
      root.nodes = imports.concat(root.nodes);
    }
    populateGlobalScope() {
      var scope = this.global.scope;
      Object.keys(colors).forEach(function(name) {
        var color = colors[name], rgba = new nodes.RGBA(color[0], color[1], color[2], color[3]), node = new nodes.Ident(name, rgba);
        rgba.name = name;
        scope.add(node);
      });
      scope.add(new nodes.Ident("embedurl", new nodes.Function("embedurl", require_url()({
        limit: false
      }))));
      var globals = this.globals;
      Object.keys(globals).forEach(function(name) {
        var val = globals[name];
        if (!val.nodeName)
          val = new nodes.Literal(val);
        scope.add(new nodes.Ident(name, val));
      });
    }
    evaluate() {
      debug("eval %s", this.filename);
      this.setup();
      return this.visit(this.root);
    }
    visitGroup(group) {
      group.nodes = group.nodes.map(function(selector) {
        selector.val = this.interpolate(selector);
        debug("ruleset %s", selector.val);
        return selector;
      }, this);
      group.block = this.visit(group.block);
      return group;
    }
    visitReturn(ret) {
      ret.expr = this.visit(ret.expr);
      throw ret;
    }
    visitMedia(media) {
      media.block = this.visit(media.block);
      media.val = this.visit(media.val);
      return media;
    }
    visitQueryList(queries) {
      var val, query;
      queries.nodes.forEach(this.visit, this);
      if (queries.nodes.length == 1) {
        query = queries.nodes[0];
        if (val = this.lookup(query.type)) {
          val = val.first.string;
          if (!val)
            return queries;
          var Parser = require_parser(), parser = new Parser(val, this.options);
          queries = this.visit(parser.queries());
        }
      }
      return queries;
    }
    visitQuery(node) {
      node.predicate = this.visit(node.predicate);
      node.type = this.visit(node.type);
      node.nodes.forEach(this.visit, this);
      return node;
    }
    visitFeature(node) {
      node.name = this.interpolate(node);
      if (node.expr) {
        this.return++;
        node.expr = this.visit(node.expr);
        this.return--;
      }
      return node;
    }
    visitObject(obj) {
      for (var key in obj.vals) {
        obj.vals[key] = this.visit(obj.vals[key]);
      }
      return obj;
    }
    visitMember(node) {
      var { left, right } = node, obj = this.visit(left).first;
      if (obj.nodeName != "object") {
        throw new Error(left.toString() + " has no property ." + right);
      }
      if (node.val) {
        this.return++;
        obj.set(right.name, this.visit(node.val));
        this.return--;
      }
      return obj.get(right.name);
    }
    visitKeyframes(keyframes) {
      var val;
      if (keyframes.fabricated)
        return keyframes;
      keyframes.val = this.interpolate(keyframes).trim();
      if (val = this.lookup(keyframes.val)) {
        keyframes.val = val.first.string || val.first.name;
      }
      keyframes.block = this.visit(keyframes.block);
      if (keyframes.prefix != "official")
        return keyframes;
      this.vendors.forEach(function(prefix) {
        if (prefix == "ms")
          return;
        var node = keyframes.clone();
        node.val = keyframes.val;
        node.prefix = prefix;
        node.block = keyframes.block;
        node.fabricated = true;
        this.currentBlock.push(node);
      }, this);
      return nodes.null;
    }
    visitFunction(fn) {
      var local = this.stack.currentFrame.scope.lookup(fn.name);
      if (local)
        this.warn("local " + local.nodeName + ' "' + fn.name + '" previously defined in this scope');
      var user = this.functions[fn.name];
      if (user)
        this.warn('user-defined function "' + fn.name + '" is already defined');
      var bif = bifs[fn.name];
      if (bif)
        this.warn('built-in function "' + fn.name + '" is already defined');
      return fn;
    }
    visitEach(each) {
      this.return++;
      var expr = utils.unwrap(this.visit(each.expr)), len = expr.nodes.length, val = new nodes.Ident(each.val), key = new nodes.Ident(each.key || "__index__"), scope = this.currentScope, block = this.currentBlock, vals = [], self = this, body, obj;
      this.return--;
      each.block.scope = false;
      function visitBody(key2, val2) {
        scope.add(val2);
        scope.add(key2);
        body = self.visit(each.block.clone());
        vals = vals.concat(body.nodes);
      }
      if (len == 1 && expr.nodes[0].nodeName == "object") {
        obj = expr.nodes[0];
        for (var prop in obj.vals) {
          val.val = new nodes.String(prop);
          key.val = obj.get(prop);
          visitBody(key, val);
        }
      } else {
        for (var i = 0;i < len; ++i) {
          val.val = expr.nodes[i];
          key.val = new nodes.Unit(i);
          visitBody(key, val);
        }
      }
      this.mixin(vals, block);
      return vals[vals.length - 1] || nodes.null;
    }
    visitCall(call) {
      debug("call %s", call);
      var fn = this.lookup(call.name), literal, ret;
      this.ignoreColors = call.name == "url";
      if (fn && fn.nodeName == "expression") {
        fn = fn.nodes[0];
      }
      if (fn && fn.nodeName != "function") {
        fn = this.lookupFunction(call.name);
      }
      if (!fn || fn.nodeName != "function") {
        debug("%s is undefined", call);
        if (this.unvendorize(call.name) == "calc") {
          literal = call.args.nodes && call.args.nodes[0];
          if (literal)
            ret = new nodes.Literal(call.name + literal);
        } else {
          ret = this.literalCall(call);
        }
        this.ignoreColors = false;
        return ret;
      }
      this.calling.push(call.name);
      if (this.calling.length > 200) {
        throw new RangeError("Maximum stylus call stack size exceeded");
      }
      if (fn.nodeName == "expression")
        fn = fn.first;
      this.return++;
      var args = this.visit(call.args);
      for (var key in args.map) {
        args.map[key] = this.visit(args.map[key].clone());
      }
      this.return--;
      if (fn.fn) {
        debug("%s is built-in", call);
        ret = this.invokeBuiltin(fn.fn, args);
      } else if (fn.nodeName == "function") {
        debug("%s is user-defined", call);
        if (call.block)
          call.block = this.visit(call.block);
        ret = this.invokeFunction(fn, args, call.block);
      }
      this.calling.pop();
      this.ignoreColors = false;
      return ret;
    }
    visitIdent(ident) {
      var prop;
      if (ident.property) {
        if (prop = this.lookupProperty(ident.name)) {
          return this.visit(prop.expr.clone());
        }
        return nodes.null;
      } else if (ident.val.isNull) {
        var val = this.lookup(ident.name);
        if (val && ident.mixin)
          this.mixinNode(val);
        return val ? this.visit(val) : ident;
      } else {
        this.return++;
        ident.val = this.visit(ident.val);
        this.return--;
        this.currentScope.add(ident);
        return ident.val;
      }
    }
    visitBinOp(binop) {
      if (binop.op == "is defined")
        return this.isDefined(binop.left);
      this.return++;
      var op = binop.op, left = this.visit(binop.left), right = op == "||" || op == "&&" ? binop.right : this.visit(binop.right);
      var val = binop.val ? this.visit(binop.val) : null;
      this.return--;
      try {
        return this.visit(left.operate(op, right, val));
      } catch (err) {
        if (err.name == "CoercionError") {
          switch (op) {
            case "==":
              return nodes.false;
            case "!=":
              return nodes.true;
          }
        }
        throw err;
      }
    }
    visitUnaryOp(unary) {
      var op = unary.op, node = this.visit(unary.expr);
      if (op != "!") {
        node = node.first.clone();
        utils.assertType(node, "unit");
      }
      switch (op) {
        case "-":
          node.val = -node.val;
          break;
        case "+":
          node.val = +node.val;
          break;
        case "~":
          node.val = ~node.val;
          break;
        case "!":
          return node.toBoolean().negate();
      }
      return node;
    }
    visitTernary(ternary) {
      var ok = this.visit(ternary.cond).toBoolean();
      return ok.isTrue ? this.visit(ternary.trueExpr) : this.visit(ternary.falseExpr);
    }
    visitExpression(expr) {
      for (var i = 0, len = expr.nodes.length;i < len; ++i) {
        expr.nodes[i] = this.visit(expr.nodes[i]);
      }
      if (this.castable(expr))
        expr = this.cast(expr);
      return expr;
    }
    get visitArguments() {
      return this.visitExpression;
    }
    visitProperty(prop) {
      var name = this.interpolate(prop), fn = this.lookup(name), call = fn && fn.first.nodeName == "function", literal = ~this.calling.indexOf(name), _prop = this.property;
      if (call && !literal && !prop.literal) {
        var args = nodes.Arguments.fromExpression(utils.unwrap(prop.expr.clone()));
        prop.name = name;
        this.property = prop;
        this.return++;
        this.property.expr = this.visit(prop.expr);
        this.return--;
        var ret = this.visit(new nodes.Call(name, args));
        this.property = _prop;
        return ret;
      } else {
        this.return++;
        prop.name = name;
        prop.literal = true;
        this.property = prop;
        prop.expr = this.visit(prop.expr);
        this.property = _prop;
        this.return--;
        return prop;
      }
    }
    visitRoot(block) {
      if (block != this.root) {
        block.constructor = nodes.Block;
        return this.visit(block);
      }
      for (var i = 0;i < block.nodes.length; ++i) {
        block.index = i;
        block.nodes[i] = this.visit(block.nodes[i]);
      }
      return block;
    }
    visitBlock(block) {
      this.stack.push(new Frame(block));
      for (block.index = 0;block.index < block.nodes.length; ++block.index) {
        try {
          block.nodes[block.index] = this.visit(block.nodes[block.index]);
        } catch (err) {
          if (err.nodeName == "return") {
            if (this.return) {
              this.stack.pop();
              throw err;
            } else {
              block.nodes[block.index] = err;
              break;
            }
          } else {
            throw err;
          }
        }
      }
      this.stack.pop();
      return block;
    }
    visitAtblock(atblock) {
      atblock.block = this.visit(atblock.block);
      return atblock;
    }
    visitAtrule(atrule) {
      atrule.val = this.interpolate(atrule);
      if (atrule.block)
        atrule.block = this.visit(atrule.block);
      return atrule;
    }
    visitSupports(node) {
      var condition = node.condition, val;
      this.return++;
      node.condition = this.visit(condition);
      this.return--;
      val = condition.first;
      if (condition.nodes.length == 1 && val.nodeName == "string") {
        node.condition = val.string;
      }
      node.block = this.visit(node.block);
      return node;
    }
    visitIf(node) {
      var ret, block = this.currentBlock, negate = node.negate;
      this.return++;
      var ok = this.visit(node.cond).first.toBoolean();
      this.return--;
      node.block.scope = node.block.hasMedia;
      if (negate) {
        if (ok.isFalse) {
          ret = this.visit(node.block);
        }
      } else {
        if (ok.isTrue) {
          ret = this.visit(node.block);
        } else if (node.elses.length) {
          var elses = node.elses, len = elses.length, cond;
          for (var i = 0;i < len; ++i) {
            if (elses[i].cond) {
              elses[i].block.scope = elses[i].block.hasMedia;
              this.return++;
              cond = this.visit(elses[i].cond).first.toBoolean();
              this.return--;
              if (cond.isTrue) {
                ret = this.visit(elses[i].block);
                break;
              }
            } else {
              elses[i].scope = elses[i].hasMedia;
              ret = this.visit(elses[i]);
            }
          }
        }
      }
      if (ret && !node.postfix && block.node && ~[
        "group",
        "atrule",
        "media",
        "supports",
        "keyframes"
      ].indexOf(block.node.nodeName)) {
        this.mixin(ret.nodes, block);
        return nodes.null;
      }
      return ret || nodes.null;
    }
    visitExtend(extend) {
      var block = this.currentBlock;
      if (block.node.nodeName != "group")
        block = this.closestGroup;
      extend.selectors.forEach(function(selector) {
        block.node.extends.push({
          selector: this.interpolate(selector.clone()).trim(),
          optional: selector.optional,
          lineno: selector.lineno,
          column: selector.column
        });
      }, this);
      return nodes.null;
    }
    visitImport(imported) {
      this.return++;
      var path = this.visit(imported.path).first, nodeName = imported.once ? "require" : "import", found, literal;
      this.return--;
      debug("import %s", path);
      if (path.name == "url") {
        if (imported.once)
          throw new Error("You cannot @require a url");
        return imported;
      }
      if (!path.string)
        throw new Error("@" + nodeName + " string expected");
      var name = path = path.string;
      if (/(?:url\s*\(\s*)?['"]?(?:#|(?:https?:)?\/\/)/i.test(path)) {
        if (imported.once)
          throw new Error("You cannot @require a url");
        return imported;
      }
      if (/\.css(?:"|$)/.test(path)) {
        literal = true;
        if (!imported.once && !this.includeCSS) {
          return imported;
        }
      }
      if (!literal && !/\.styl$/i.test(path))
        path += ".styl";
      found = utils.find(path, this.paths, this.filename);
      if (!found) {
        found = utils.lookupIndex(name, this.paths, this.filename);
      }
      if (!found)
        throw new Error("failed to locate @" + nodeName + " file " + path);
      var block = new nodes.Block;
      for (var i = 0, len = found.length;i < len; ++i) {
        block.push(importFile.call(this, imported, found[i], literal));
      }
      return block;
    }
    invokeFunction(fn, args, content) {
      var block = new nodes.Block(fn.block.parent);
      var body = fn.block.clone(block);
      var mixinBlock = this.stack.currentFrame.block;
      this.stack.push(new Frame(block));
      var scope = this.currentScope;
      if (args.nodeName != "arguments") {
        var expr = new nodes.Expression;
        expr.push(args);
        args = nodes.Arguments.fromExpression(expr);
      }
      scope.add(new nodes.Ident("arguments", args));
      scope.add(new nodes.Ident("mixin", this.return ? nodes.false : new nodes.String(mixinBlock.nodeName)));
      if (this.property) {
        var prop = this.propertyExpression(this.property, fn.name);
        scope.add(new nodes.Ident("current-property", prop));
      } else {
        scope.add(new nodes.Ident("current-property", nodes.null));
      }
      var expr = new nodes.Expression;
      for (var i = this.calling.length - 1;i--; ) {
        expr.push(new nodes.Literal(this.calling[i]));
      }
      scope.add(new nodes.Ident("called-from", expr));
      var i = 0, len = args.nodes.length;
      fn.params.nodes.forEach(function(node) {
        if (node.rest) {
          node.val = new nodes.Expression;
          for (;i < len; ++i)
            node.val.push(args.nodes[i]);
          node.val.preserve = true;
          node.val.isList = args.isList;
        } else {
          var arg = args.map[node.name] || args.nodes[i++];
          node = node.clone();
          if (arg) {
            arg.isEmpty ? args.nodes[i - 1] = this.visit(node) : node.val = arg;
          } else {
            args.push(node.val);
          }
          if (node.val.isNull) {
            throw new Error('argument "' + node + '" required for ' + fn);
          }
        }
        scope.add(node);
      }, this);
      if (content)
        scope.add(new nodes.Ident("block", content, true));
      return this.invoke(body, true, fn.filename);
    }
    invokeBuiltin(fn, args) {
      if (fn.raw) {
        args = args.nodes;
      } else {
        if (!fn.params) {
          fn.params = utils.params(fn);
        }
        args = fn.params.reduce(function(ret, param) {
          var arg = args.map[param] || args.nodes.shift();
          if (arg) {
            arg = utils.unwrap(arg);
            var len = arg.nodes.length;
            if (len > 1) {
              for (var i = 0;i < len; ++i) {
                ret.push(utils.unwrap(arg.nodes[i].first));
              }
            } else {
              ret.push(arg.first);
            }
          }
          return ret;
        }, []);
      }
      var body = utils.coerce(fn.apply(this, args));
      var expr = new nodes.Expression;
      expr.push(body);
      body = expr;
      return this.invoke(body);
    }
    invoke(body, stack, filename) {
      var self = this, ret;
      if (filename)
        this.paths.push(dirname(filename));
      if (this.return) {
        ret = this.eval(body.nodes);
        if (stack)
          this.stack.pop();
      } else {
        body = this.visit(body);
        if (stack)
          this.stack.pop();
        this.mixin(body.nodes, this.currentBlock);
        ret = nodes.null;
      }
      if (filename)
        this.paths.pop();
      return ret;
    }
    mixin(nodes2, block) {
      if (!nodes2.length)
        return;
      var len = block.nodes.length, head = block.nodes.slice(0, block.index), tail = block.nodes.slice(block.index + 1, len);
      this._mixin(nodes2, head, block);
      block.index = 0;
      block.nodes = head.concat(tail);
    }
    _mixin(items, dest, block) {
      var node, len = items.length;
      for (var i = 0;i < len; ++i) {
        switch ((node = items[i]).nodeName) {
          case "return":
            return;
          case "block":
            this._mixin(node.nodes, dest, block);
            break;
          case "media":
            var parentNode = node.block.parent.node;
            if (parentNode && parentNode.nodeName != "call") {
              node.block.parent = block;
            }
          case "property":
            var val = node.expr;
            if (node.literal && val.first.name == "block") {
              val = utils.unwrap(val);
              val.nodes[0] = new nodes.Literal("block");
            }
          default:
            dest.push(node);
        }
      }
    }
    mixinNode(node) {
      node = this.visit(node.first);
      switch (node.nodeName) {
        case "object":
          this.mixinObject(node);
          return nodes.null;
        case "block":
        case "atblock":
          this.mixin(node.nodes, this.currentBlock);
          return nodes.null;
      }
    }
    mixinObject(object) {
      var Parser = require_parser(), root = this.root, str = "$block " + object.toBlock(), parser = new Parser(str, utils.merge({ root: block }, this.options)), block;
      try {
        block = parser.parse();
      } catch (err) {
        err.filename = this.filename;
        err.lineno = parser.lexer.lineno;
        err.column = parser.lexer.column;
        err.input = str;
        throw err;
      }
      block.parent = root;
      block.scope = false;
      var ret = this.visit(block), vals = ret.first.nodes;
      for (var i = 0, len = vals.length;i < len; ++i) {
        if (vals[i].block) {
          this.mixin(vals[i].block.nodes, this.currentBlock);
          break;
        }
      }
    }
    eval(vals) {
      if (!vals)
        return nodes.null;
      var len = vals.length, node = nodes.null;
      try {
        for (var i = 0;i < len; ++i) {
          node = vals[i];
          switch (node.nodeName) {
            case "if":
              if (node.block.nodeName != "block") {
                node = this.visit(node);
                break;
              }
            case "each":
            case "block":
              node = this.visit(node);
              if (node.nodes)
                node = this.eval(node.nodes);
              break;
            default:
              node = this.visit(node);
          }
        }
      } catch (err) {
        if (err.nodeName == "return") {
          return err.expr;
        } else {
          throw err;
        }
      }
      return node;
    }
    literalCall(call) {
      call.args = this.visit(call.args);
      return call;
    }
    lookupProperty(name) {
      var i = this.stack.length, index = this.currentBlock.index, top = i, nodes2, block, len, other;
      while (i--) {
        block = this.stack[i].block;
        if (!block.node)
          continue;
        switch (block.node.nodeName) {
          case "group":
          case "function":
          case "if":
          case "each":
          case "atrule":
          case "media":
          case "atblock":
          case "call":
            nodes2 = block.nodes;
            if (i + 1 == top) {
              while (index--) {
                if (this.property == nodes2[index])
                  continue;
                other = this.interpolate(nodes2[index]);
                if (name == other)
                  return nodes2[index].clone();
              }
            } else {
              len = nodes2.length;
              while (len--) {
                if (nodes2[len].nodeName != "property" || this.property == nodes2[len])
                  continue;
                other = this.interpolate(nodes2[len]);
                if (name == other)
                  return nodes2[len].clone();
              }
            }
            break;
        }
      }
      return nodes2.null;
    }
    get closestBlock() {
      var i = this.stack.length, block;
      while (i--) {
        block = this.stack[i].block;
        if (block.node) {
          switch (block.node.nodeName) {
            case "group":
            case "keyframes":
            case "atrule":
            case "atblock":
            case "media":
            case "call":
              return block;
          }
        }
      }
    }
    get closestGroup() {
      var i = this.stack.length, block;
      while (i--) {
        block = this.stack[i].block;
        if (block.node && block.node.nodeName == "group") {
          return block;
        }
      }
    }
    get selectorStack() {
      var block, stack = [];
      for (var i = 0, len = this.stack.length;i < len; ++i) {
        block = this.stack[i].block;
        if (block.node && block.node.nodeName == "group") {
          block.node.nodes.forEach(function(selector) {
            if (!selector.val)
              selector.val = this.interpolate(selector);
          }, this);
          stack.push(block.node.nodes);
        }
      }
      return stack;
    }
    lookup(name) {
      var val;
      if (this.ignoreColors && name in colors)
        return;
      if (val = this.stack.lookup(name)) {
        return utils.unwrap(val);
      } else {
        return this.lookupFunction(name);
      }
    }
    interpolate(node) {
      var self = this, isSelector = node.nodeName == "selector";
      function toString(node2) {
        switch (node2.nodeName) {
          case "function":
          case "ident":
            return node2.name;
          case "literal":
          case "string":
            if (self.prefix && !node2.prefixed && !node2.val.nodeName) {
              node2.val = node2.val.replace(/\.(?=[\w-])|^\.$/g, "." + self.prefix);
              node2.prefixed = true;
            }
            return node2.val;
          case "unit":
            return node2.type == "%" ? node2.val + "%" : node2.val;
          case "member":
            return toString(self.visit(node2));
          case "expression":
            if (self.calling && ~self.calling.indexOf("selector") && self._selector)
              return self._selector;
            self.return++;
            var ret = toString(self.visit(node2).first);
            self.return--;
            if (isSelector)
              self._selector = ret;
            return ret;
        }
      }
      if (node.segments) {
        return node.segments.map(toString).join("");
      } else {
        return toString(node);
      }
    }
    lookupFunction(name) {
      var fn = this.functions[name] || bifs[name];
      if (fn)
        return new nodes.Function(name, fn);
    }
    isDefined(node) {
      if (node.nodeName == "ident") {
        return new nodes.Boolean(this.lookup(node.name));
      } else {
        throw new Error('invalid "is defined" check on non-variable ' + node);
      }
    }
    propertyExpression(prop, name) {
      var expr = new nodes.Expression, val = prop.expr.clone();
      expr.push(new nodes.String(prop.name));
      function replace(node) {
        if (node.nodeName == "call" && name == node.name) {
          return new nodes.Literal("__CALL__");
        }
        if (node.nodes)
          node.nodes = node.nodes.map(replace);
        return node;
      }
      replace(val);
      expr.push(val);
      return expr;
    }
    cast(expr) {
      return new nodes.Unit(expr.first.val, expr.nodes[1].name);
    }
    castable(expr) {
      return expr.nodes.length == 2 && expr.first.nodeName == "unit" && ~units.indexOf(expr.nodes[1].name);
    }
    warn(msg) {
      if (!this.warnings)
        return;
      console.warn("\x1B[33mWarning:\x1B[0m " + msg);
    }
    get currentBlock() {
      return this.stack.currentFrame.block;
    }
    get vendors() {
      return this.lookup("vendors").nodes.map(function(node) {
        return node.string;
      });
    }
    unvendorize(prop) {
      for (var i = 0, len = this.vendors.length;i < len; i++) {
        if (this.vendors[i] != "official") {
          var vendor = "-" + this.vendors[i] + "-";
          if (~prop.indexOf(vendor))
            return prop.replace(vendor, "");
        }
      }
      return prop;
    }
    get currentScope() {
      return this.stack.currentFrame.scope;
    }
    get currentFrame() {
      return this.stack.currentFrame;
    }
  };
});

// lib/nodes/node.js
var require_node2 = __commonJS((exports, module) => {
  /*!
   * Stylus - Node
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Evaluator = require_evaluator();
  var utils = require_utils();
  var nodes = require_nodes();

  class CoercionError extends Error {
    constructor(msg) {
      super();
      this.name = "CoercionError";
      this.message = msg;
      if (Error.captureStackTrace) {
        Error.captureStackTrace(this, CoercionError);
      }
    }
  }
  module.exports = class Node {
    constructor() {
      this.lineno = nodes.lineno || 1;
      this.column = nodes.column || 1;
      this.filename = nodes.filename;
    }
    get first() {
      return this;
    }
    get hash() {
      return this.val;
    }
    get nodeName() {
      return this.constructor.name.toLowerCase();
    }
    clone() {
      return this;
    }
    toJSON() {
      return {
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
    eval() {
      return new Evaluator(this).evaluate();
    }
    toBoolean() {
      return nodes.true;
    }
    toExpression() {
      if (this.nodeName == "expression")
        return this;
      var expr = new nodes.Expression;
      expr.push(this);
      return expr;
    }
    shouldCoerce(op) {
      switch (op) {
        case "is a":
        case "in":
        case "||":
        case "&&":
          return false;
        default:
          return true;
      }
    }
    operate(op, right) {
      switch (op) {
        case "is a":
          if (right.first.nodeName == "string") {
            return new nodes.Boolean(this.nodeName == right.val);
          } else {
            throw new Error('"is a" expects a string, got ' + right.toString());
          }
        case "==":
          return new nodes.Boolean(this.hash == right.hash);
        case "!=":
          return new nodes.Boolean(this.hash != right.hash);
        case ">=":
          return new nodes.Boolean(this.hash >= right.hash);
        case "<=":
          return new nodes.Boolean(this.hash <= right.hash);
        case ">":
          return new nodes.Boolean(this.hash > right.hash);
        case "<":
          return new nodes.Boolean(this.hash < right.hash);
        case "||":
          return this.toBoolean().isTrue ? this : right;
        case "in":
          var vals = utils.unwrap(right).nodes, len = vals && vals.length, hash = this.hash;
          if (!vals)
            throw new Error('"in" given invalid right-hand operand, expecting an expression');
          if (len == 1 && vals[0].nodeName == "object") {
            return new nodes.Boolean(vals[0].has(this.hash));
          }
          for (var i = 0;i < len; ++i) {
            if (hash == vals[i].hash) {
              return nodes.true;
            }
          }
          return nodes.false;
        case "&&":
          var a = this.toBoolean(), b = right.toBoolean();
          return a.isTrue && b.isTrue ? right : a.isFalse ? this : right;
        default:
          if (op == "[]") {
            var msg = "cannot perform " + this + "[" + right + "]";
          } else {
            var msg = "cannot perform " + this + " " + op + " " + right;
          }
          throw new Error(msg);
      }
    }
    coerce(other) {
      if (other.nodeName == this.nodeName)
        return other;
      throw new CoercionError("cannot coerce " + other + " to " + this.nodeName);
    }
  };
});

// lib/nodes/root.js
var require_root = __commonJS((exports, module) => {
  /*!
   * Stylus - Root
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Root extends Node {
    constructor() {
      super();
      this.nodes = [];
    }
    push(node) {
      this.nodes.push(node);
    }
    unshift(node) {
      this.nodes.unshift(node);
    }
    clone() {
      var clone = new Root;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      this.nodes.forEach(function(node) {
        clone.push(node.clone(clone, clone));
      });
      return clone;
    }
    toString() {
      return "[Root]";
    }
    toJSON() {
      return {
        __type: "Root",
        nodes: this.nodes,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/null.js
var require_null = __commonJS((exports, module) => {
  /*!
   * Stylus - Null
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  var nodes = require_nodes();
  module.exports = class Null extends Node {
    toString() {
      return "null";
    }
    inspect() {
      return "null";
    }
    toBoolean() {
      return nodes.false;
    }
    get isNull() {
      return true;
    }
    get hash() {
      return null;
    }
    toJSON() {
      return {
        __type: "Null",
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/each.js
var require_each = __commonJS((exports, module) => {
  /*!
   * Stylus - Each
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  var nodes = require_nodes();
  module.exports = class Each extends Node {
    constructor(val, key, expr, block) {
      super();
      this.val = val;
      this.key = key;
      this.expr = expr;
      this.block = block;
    }
    clone(parent) {
      var clone = new Each(this.val, this.key);
      clone.expr = this.expr.clone(parent, clone);
      clone.block = this.block.clone(parent, clone);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      return {
        __type: "Each",
        val: this.val,
        key: this.key,
        expr: this.expr,
        block: this.block,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/if.js
var require_if = __commonJS((exports, module) => {
  /*!
   * Stylus - If
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class If extends Node {
    constructor(cond, negate) {
      super();
      this.cond = cond;
      this.elses = [];
      if (negate && negate.nodeName) {
        this.block = negate;
      } else {
        this.negate = negate;
      }
    }
    clone(parent) {
      var clone = new If;
      clone.cond = this.cond.clone(parent, clone);
      clone.block = this.block.clone(parent, clone);
      clone.elses = this.elses.map(function(node) {
        return node.clone(parent, clone);
      });
      clone.negate = this.negate;
      clone.postfix = this.postfix;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      return {
        __type: "If",
        cond: this.cond,
        block: this.block,
        elses: this.elses,
        negate: this.negate,
        postfix: this.postfix,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/call.js
var require_call = __commonJS((exports, module) => {
  /*!
   * Stylus - Call
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Call extends Node {
    constructor(name, args) {
      super();
      this.name = name;
      this.args = args;
    }
    clone(parent) {
      var clone = new Call(this.name);
      clone.args = this.args.clone(parent, clone);
      if (this.block)
        clone.block = this.block.clone(parent, clone);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toString() {
      var args = this.args.nodes.map(function(node) {
        var str = node.toString();
        return str.slice(1, str.length - 1);
      }).join(", ");
      return this.name + "(" + args + ")";
    }
    toJSON() {
      var json = {
        __type: "Call",
        name: this.name,
        args: this.args,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
      if (this.block)
        json.block = this.block;
      return json;
    }
  };
});

// lib/nodes/unaryop.js
var require_unaryop = __commonJS((exports, module) => {
  /*!
   * Stylus - UnaryOp
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class UnaryOp extends Node {
    constructor(op, expr) {
      super();
      this.op = op;
      this.expr = expr;
    }
    clone(parent) {
      var clone = new UnaryOp(this.op);
      clone.expr = this.expr.clone(parent, clone);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      return {
        __type: "UnaryOp",
        op: this.op,
        expr: this.expr,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/binop.js
var require_binop = __commonJS((exports, module) => {
  /*!
   * Stylus - BinOp
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class BinOp extends Node {
    constructor(op, left, right) {
      super();
      this.op = op;
      this.left = left;
      this.right = right;
    }
    clone(parent) {
      var clone = new BinOp(this.op);
      clone.left = this.left.clone(parent, clone);
      clone.right = this.right && this.right.clone(parent, clone);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      if (this.val)
        clone.val = this.val.clone(parent, clone);
      return clone;
    }
    toString() {
      return this.left.toString() + " " + this.op + " " + this.right.toString();
    }
    toJSON() {
      var json = {
        __type: "BinOp",
        left: this.left,
        right: this.right,
        op: this.op,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
      if (this.val)
        json.val = this.val;
      return json;
    }
  };
});

// lib/nodes/ternary.js
var require_ternary = __commonJS((exports, module) => {
  /*!
   * Stylus - Ternary
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Ternary extends Node {
    constructor(cond, trueExpr, falseExpr) {
      super();
      this.cond = cond;
      this.trueExpr = trueExpr;
      this.falseExpr = falseExpr;
    }
    clone(parent) {
      var clone = new Ternary;
      clone.cond = this.cond.clone(parent, clone);
      clone.trueExpr = this.trueExpr.clone(parent, clone);
      clone.falseExpr = this.falseExpr.clone(parent, clone);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      return {
        __type: "Ternary",
        cond: this.cond,
        trueExpr: this.trueExpr,
        falseExpr: this.falseExpr,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/block.js
var require_block = __commonJS((exports, module) => {
  /*!
   * Stylus - Block
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Block extends Node {
    constructor(parent, node) {
      super();
      this.nodes = [];
      this.parent = parent;
      this.node = node;
      this.scope = true;
    }
    get hasProperties() {
      for (var i = 0, len = this.nodes.length;i < len; ++i) {
        if (this.nodes[i].nodeName == "property") {
          return true;
        }
      }
    }
    get hasMedia() {
      for (var i = 0, len = this.nodes.length;i < len; ++i) {
        var nodeName = this.nodes[i].nodeName;
        if (nodeName == "media") {
          return true;
        }
      }
      return false;
    }
    get isEmpty() {
      return !this.nodes.length || this.nodes.every(function(n) {
        return n.nodeName == "comment";
      });
    }
    clone(parent, node) {
      parent = parent || this.parent;
      var clone = new Block(parent, node || this.node);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      clone.scope = this.scope;
      this.nodes.forEach(function(node2) {
        clone.push(node2.clone(clone, clone));
      });
      return clone;
    }
    push(node) {
      this.nodes.push(node);
    }
    toJSON() {
      return {
        __type: "Block",
        scope: this.scope,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename,
        nodes: this.nodes
      };
    }
  };
});

// lib/nodes/unit.js
var require_unit2 = __commonJS((exports, module) => {
  /*!
   * Stylus - Unit
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  var nodes = require_nodes();
  var FACTOR_TABLE = {
    mm: { val: 1, label: "mm" },
    cm: { val: 10, label: "mm" },
    in: { val: 25.4, label: "mm" },
    pt: { val: 25.4 / 72, label: "mm" },
    ms: { val: 1, label: "ms" },
    s: { val: 1000, label: "ms" },
    Hz: { val: 1, label: "Hz" },
    kHz: { val: 1000, label: "Hz" }
  };
  module.exports = class Unit extends Node {
    constructor(val, type) {
      super();
      this.val = val;
      this.type = type;
    }
    toBoolean() {
      return new nodes.Boolean(this.type ? true : this.val);
    }
    toString() {
      return this.val + (this.type || "");
    }
    clone() {
      var clone = new Unit(this.val, this.type);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      return {
        __type: "Unit",
        val: this.val,
        type: this.type,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
    operate(op, right) {
      var type = this.type || right.first.type;
      if (right.nodeName == "rgba" || right.nodeName == "hsla") {
        return right.operate(op, this);
      }
      if (this.shouldCoerce(op)) {
        right = right.first;
        if (this.type != "%" && (op == "-" || op == "+") && right.type == "%") {
          right = new Unit(this.val * (right.val / 100), "%");
        } else {
          right = this.coerce(right);
        }
        switch (op) {
          case "-":
            return new Unit(this.val - right.val, type);
          case "+":
            type = type || right.type == "%" && right.type;
            return new Unit(this.val + right.val, type);
          case "/":
            return new Unit(this.val / right.val, type);
          case "*":
            return new Unit(this.val * right.val, type);
          case "%":
            return new Unit(this.val % right.val, type);
          case "**":
            return new Unit(Math.pow(this.val, right.val), type);
          case "..":
          case "...":
            var start = this.val, end = right.val, expr = new nodes.Expression, inclusive = op == "..";
            if (start < end) {
              do {
                expr.push(new nodes.Unit(start));
              } while (inclusive ? ++start <= end : ++start < end);
            } else {
              do {
                expr.push(new nodes.Unit(start));
              } while (inclusive ? --start >= end : --start > end);
            }
            return expr;
        }
      }
      return super.operate(op, right);
    }
    coerce(other) {
      if (other.nodeName == "unit") {
        var a = this, b = other, factorA = FACTOR_TABLE[a.type], factorB = FACTOR_TABLE[b.type];
        if (factorA && factorB && factorA.label == factorB.label) {
          var bVal = b.val * (factorB.val / factorA.val);
          return new nodes.Unit(bVal, a.type);
        } else {
          return new nodes.Unit(b.val, a.type);
        }
      } else if (other.nodeName == "string") {
        if (other.val == "%")
          return new nodes.Unit(0, "%");
        var val = parseFloat(other.val);
        if (isNaN(val))
          super.coerce(other);
        return new nodes.Unit(val);
      } else {
        return super.coerce(other);
      }
    }
  };
});

// lib/nodes/string.js
var require_string = __commonJS((exports, module) => {
  /*!
   * Stylus - String
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  var sprintf = require_functions().s;
  var utils = require_utils();
  var nodes = require_nodes();
  module.exports = class String2 extends Node {
    constructor(val, quote) {
      super();
      this.val = val;
      this.string = val;
      this.prefixed = false;
      if (typeof quote !== "string") {
        this.quote = "'";
      } else {
        this.quote = quote;
      }
    }
    toString() {
      return this.quote + this.val + this.quote;
    }
    clone() {
      var clone = new String2(this.val, this.quote);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      return {
        __type: "String",
        val: this.val,
        quote: this.quote,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
    toBoolean() {
      return new nodes.Boolean(this.val.length);
    }
    coerce(other) {
      switch (other.nodeName) {
        case "string":
          return other;
        case "expression":
          return new String2(other.nodes.map(function(node) {
            return this.coerce(node).val;
          }, this).join(" "));
        default:
          return new String2(other.toString());
      }
    }
    operate(op, right) {
      switch (op) {
        case "%":
          var expr = new nodes.Expression;
          expr.push(this);
          var args = right.nodeName == "expression" ? utils.unwrap(right).nodes : [right];
          return sprintf.apply(null, [expr].concat(args));
        case "+":
          var expr = new nodes.Expression;
          expr.push(new String2(this.val + this.coerce(right).val));
          return expr;
        default:
          return super.operate(op, right);
      }
    }
  };
});

// lib/nodes/hsla.js
var require_hsla2 = __commonJS((exports, module) => {
  var clampDegrees = function(n) {
    n = n % 360;
    return n >= 0 ? n : 360 + n;
  };
  var clampPercentage = function(n) {
    return Math.max(0, Math.min(n, 100));
  };
  var clampAlpha = function(n) {
    return Math.max(0, Math.min(n, 1));
  };
  /*!
   * Stylus - HSLA
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  var nodes = require_nodes();
  exports = module.exports = class HSLA extends Node {
    constructor(h, s, l, a) {
      super();
      this.h = clampDegrees(h);
      this.s = clampPercentage(s);
      this.l = clampPercentage(l);
      this.a = clampAlpha(a);
      this.hsla = this;
    }
    toString() {
      return "hsla(" + this.h + "," + this.s.toFixed(0) + "%," + this.l.toFixed(0) + "%," + this.a + ")";
    }
    clone(parent) {
      var clone = new HSLA(this.h, this.s, this.l, this.a);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      return {
        __type: "HSLA",
        h: this.h,
        s: this.s,
        l: this.l,
        a: this.a,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
    get rgba() {
      return nodes.RGBA.fromHSLA(this);
    }
    get hash() {
      return this.rgba.toString();
    }
    add(h, s, l) {
      return new HSLA(this.h + h, this.s + s, this.l + l, this.a);
    }
    sub(h, s, l) {
      return this.add(-h, -s, -l);
    }
    operate(op, right) {
      switch (op) {
        case "==":
        case "!=":
        case "<=":
        case ">=":
        case "<":
        case ">":
        case "is a":
        case "||":
        case "&&":
          return this.rgba.operate(op, right);
        default:
          return this.rgba.operate(op, right).hsla;
      }
    }
    adjustLightness(percent) {
      this.l = clampPercentage(this.l + this.l * (percent / 100));
      return this;
    }
    adjustHue(deg) {
      this.h = clampDegrees(this.h + deg);
      return this;
    }
    static fromRGBA(rgba) {
      var r = rgba.r / 255, g = rgba.g / 255, b = rgba.b / 255, a = rgba.a;
      var min = Math.min(r, g, b), max = Math.max(r, g, b), l = (max + min) / 2, d = max - min, h, s;
      switch (max) {
        case min:
          h = 0;
          break;
        case r:
          h = 60 * (g - b) / d;
          break;
        case g:
          h = 60 * (b - r) / d + 120;
          break;
        case b:
          h = 60 * (r - g) / d + 240;
          break;
      }
      if (max == min) {
        s = 0;
      } else if (l < 0.5) {
        s = d / (2 * l);
      } else {
        s = d / (2 - 2 * l);
      }
      h %= 360;
      s *= 100;
      l *= 100;
      return new HSLA(h, s, l, a);
    }
  };
});

// lib/nodes/rgba.js
var require_rgba2 = __commonJS((exports, module) => {
  var clamp = function(n) {
    return Math.max(0, Math.min(n.toFixed(0), 255));
  };
  var clampAlpha = function(n) {
    return Math.max(0, Math.min(n, 1));
  };
  /*!
   * Stylus - RGBA
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  var HSLA = require_hsla2();
  var functions = require_functions();
  var adjust = functions.adjust;
  var nodes = require_nodes();
  exports = module.exports = class RGBA extends Node {
    constructor(r, g, b, a) {
      super();
      this.r = clamp(r);
      this.g = clamp(g);
      this.b = clamp(b);
      this.a = clampAlpha(a);
      this.name = "";
      this.rgba = this;
    }
    static withoutClamping(r, g, b, a) {
      var rgba = new RGBA(0, 0, 0, 0);
      rgba.r = r;
      rgba.g = g;
      rgba.b = b;
      rgba.a = a;
      return rgba;
    }
    clone() {
      var clone = new RGBA(this.r, this.g, this.b, this.a);
      clone.raw = this.raw;
      clone.name = this.name;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      return {
        __type: "RGBA",
        r: this.r,
        g: this.g,
        b: this.b,
        a: this.a,
        raw: this.raw,
        name: this.name,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
    toBoolean() {
      return nodes.true;
    }
    get hsla() {
      return HSLA.fromRGBA(this);
    }
    get hash() {
      return this.toString();
    }
    add(r, g, b, a) {
      return new RGBA(this.r + r, this.g + g, this.b + b, this.a + a);
    }
    sub(r, g, b, a) {
      return new RGBA(this.r - r, this.g - g, this.b - b, a == 1 ? this.a : this.a - a);
    }
    multiply(n) {
      return new RGBA(this.r * n, this.g * n, this.b * n, this.a);
    }
    divide(n) {
      return new RGBA(this.r / n, this.g / n, this.b / n, this.a);
    }
    operate(op, right) {
      if (op != "in")
        right = right.first;
      switch (op) {
        case "is a":
          if (right.nodeName == "string" && right.string == "color") {
            return nodes.true;
          }
          break;
        case "+":
          switch (right.nodeName) {
            case "unit":
              var n = right.val;
              switch (right.type) {
                case "%":
                  return adjust(this, new nodes.String("lightness"), right);
                case "deg":
                  return this.hsla.adjustHue(n).rgba;
                default:
                  return this.add(n, n, n, 0);
              }
            case "rgba":
              return this.add(right.r, right.g, right.b, right.a);
            case "hsla":
              return this.hsla.add(right.h, right.s, right.l);
          }
          break;
        case "-":
          switch (right.nodeName) {
            case "unit":
              var n = right.val;
              switch (right.type) {
                case "%":
                  return adjust(this, new nodes.String("lightness"), new nodes.Unit(-n, "%"));
                case "deg":
                  return this.hsla.adjustHue(-n).rgba;
                default:
                  return this.sub(n, n, n, 0);
              }
            case "rgba":
              return this.sub(right.r, right.g, right.b, right.a);
            case "hsla":
              return this.hsla.sub(right.h, right.s, right.l);
          }
          break;
        case "*":
          switch (right.nodeName) {
            case "unit":
              return this.multiply(right.val);
          }
          break;
        case "/":
          switch (right.nodeName) {
            case "unit":
              return this.divide(right.val);
          }
          break;
      }
      return super.operate(op, right);
    }
    toString() {
      function pad(n) {
        return n < 16 ? "0" + n.toString(16) : n.toString(16);
      }
      if (this.name == "transparent")
        return this.name;
      if (this.a == 1) {
        var r = pad(this.r), g = pad(this.g), b = pad(this.b);
        if (r[0] == r[1] && g[0] == g[1] && b[0] == b[1]) {
          return "#" + r[0] + g[0] + b[0];
        } else {
          return "#" + r + g + b;
        }
      } else {
        return "rgba(" + this.r + "," + this.g + "," + this.b + "," + +this.a.toFixed(3) + ")";
      }
    }
    static fromHSLA(hsla) {
      var h = hsla.h / 360, s = hsla.s / 100, l = hsla.l / 100, a = hsla.a;
      var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s, m1 = l * 2 - m2;
      var r = hue(h + 1 / 3) * 255, g = hue(h) * 255, b = hue(h - 1 / 3) * 255;
      function hue(h2) {
        if (h2 < 0)
          ++h2;
        if (h2 > 1)
          --h2;
        if (h2 * 6 < 1)
          return m1 + (m2 - m1) * h2 * 6;
        if (h2 * 2 < 1)
          return m2;
        if (h2 * 3 < 2)
          return m1 + (m2 - m1) * (2 / 3 - h2) * 6;
        return m1;
      }
      return new RGBA(r, g, b, a);
    }
  };
});

// lib/nodes/ident.js
var require_ident = __commonJS((exports, module) => {
  /*!
   * Stylus - Ident
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  var nodes = require_nodes();
  module.exports = class Ident extends Node {
    constructor(name, val, mixin) {
      super();
      this.name = name;
      this.string = name;
      this.val = val || nodes.null;
      this.mixin = !!mixin;
    }
    get isEmpty() {
      return this.val == undefined;
    }
    get hash() {
      return this.name;
    }
    clone(parent) {
      var clone = new Ident(this.name);
      clone.val = this.val.clone(parent, clone);
      clone.mixin = this.mixin;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      clone.property = this.property;
      clone.rest = this.rest;
      return clone;
    }
    toJSON() {
      return {
        __type: "Ident",
        name: this.name,
        val: this.val,
        mixin: this.mixin,
        property: this.property,
        rest: this.rest,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
    toString() {
      return this.name;
    }
    coerce(other) {
      switch (other.nodeName) {
        case "ident":
        case "string":
        case "literal":
          return new Ident(other.string);
        case "unit":
          return new Ident(other.toString());
        default:
          return super.coerce(other);
      }
    }
    operate(op, right) {
      var val = right.first;
      switch (op) {
        case "-":
          if (val.nodeName == "unit") {
            var expr = new nodes.Expression;
            val = val.clone();
            val.val = -val.val;
            expr.push(this);
            expr.push(val);
            return expr;
          }
        case "+":
          return new nodes.Ident(this.string + this.coerce(val).string);
      }
      return super.operate(op, right);
    }
  };
});

// lib/nodes/group.js
var require_group = __commonJS((exports, module) => {
  /*!
   * Stylus - Group
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Group extends Node {
    constructor() {
      super();
      this.nodes = [];
      this.extends = [];
    }
    push(selector) {
      this.nodes.push(selector);
    }
    get block() {
      return this.nodes[0].block;
    }
    set block(block) {
      for (var i = 0, len = this.nodes.length;i < len; ++i) {
        this.nodes[i].block = block;
      }
    }
    get hasOnlyPlaceholders() {
      return this.nodes.every(function(selector) {
        return selector.isPlaceholder;
      });
    }
    clone(parent) {
      var clone = new Group;
      clone.lineno = this.lineno;
      clone.column = this.column;
      this.nodes.forEach(function(node) {
        clone.push(node.clone(parent, clone));
      });
      clone.filename = this.filename;
      clone.block = this.block.clone(parent, clone);
      return clone;
    }
    toJSON() {
      return {
        __type: "Group",
        nodes: this.nodes,
        block: this.block,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/literal.js
var require_literal = __commonJS((exports, module) => {
  /*!
   * Stylus - Literal
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  var nodes = require_nodes();
  module.exports = class Literal extends Node {
    constructor(str) {
      super();
      this.val = str;
      this.string = str;
      this.prefixed = false;
    }
    get hash() {
      return this.val;
    }
    toString() {
      return this.val.toString();
    }
    coerce(other) {
      switch (other.nodeName) {
        case "ident":
        case "string":
        case "literal":
          return new Literal(other.string);
        default:
          return super.coerce(other);
      }
    }
    operate(op, right) {
      var val = right.first;
      switch (op) {
        case "+":
          return new nodes.Literal(this.string + this.coerce(val).string);
        default:
          return super.operate(op, right);
      }
    }
    toJSON() {
      return {
        __type: "Literal",
        val: this.val,
        string: this.string,
        prefixed: this.prefixed,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/boolean.js
var require_boolean = __commonJS((exports, module) => {
  /*!
   * Stylus - Boolean
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  var nodes = require_nodes();
  module.exports = class Boolean2 extends Node {
    constructor(val) {
      super();
      if (this.nodeName) {
        this.val = !!val;
      } else {
        return new Boolean2(val);
      }
    }
    toBoolean() {
      return this;
    }
    get isTrue() {
      return this.val;
    }
    get isFalse() {
      return !this.val;
    }
    negate() {
      return new Boolean2(!this.val);
    }
    inspect() {
      return "[Boolean " + this.val + "]";
    }
    toString() {
      return this.val ? "true" : "false";
    }
    toJSON() {
      return {
        __type: "Boolean",
        val: this.val
      };
    }
  };
});

// lib/nodes/return.js
var require_return = __commonJS((exports, module) => {
  /*!
   * Stylus - Return
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  var nodes = require_nodes();
  module.exports = class Return extends Node {
    constructor(expr) {
      super();
      this.expr = expr || nodes.null;
    }
    clone(parent) {
      var clone = new Return;
      clone.expr = this.expr.clone(parent, clone);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      return {
        __type: "Return",
        expr: this.expr,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/atrule.js
var require_atrule = __commonJS((exports, module) => {
  var hasOutput = function(block) {
    var nodes = block.nodes;
    if (nodes.every(function(node) {
      return node.nodeName == "group" && node.hasOnlyPlaceholders;
    }))
      return false;
    return nodes.some(function(node) {
      switch (node.nodeName) {
        case "property":
        case "literal":
        case "import":
          return true;
        case "block":
          return hasOutput(node);
        default:
          if (node.block)
            return hasOutput(node.block);
      }
    });
  };
  /*!
   * Stylus - at-rule
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Atrule extends Node {
    constructor(type) {
      super();
      this.type = type;
    }
    get hasOnlyProperties() {
      if (!this.block)
        return false;
      var nodes = this.block.nodes;
      for (var i = 0, len = nodes.length;i < len; ++i) {
        var nodeName = nodes[i].nodeName;
        switch (nodes[i].nodeName) {
          case "property":
          case "expression":
          case "comment":
            continue;
          default:
            return false;
        }
      }
      return true;
    }
    clone(parent) {
      var clone = new Atrule(this.type);
      if (this.block)
        clone.block = this.block.clone(parent, clone);
      clone.segments = this.segments.map(function(node) {
        return node.clone(parent, clone);
      });
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      var json = {
        __type: "Atrule",
        type: this.type,
        segments: this.segments,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
      if (this.block)
        json.block = this.block;
      return json;
    }
    toString() {
      return "@" + this.type;
    }
    get hasOutput() {
      return !!this.block && hasOutput(this.block);
    }
  };
});

// lib/nodes/media.js
var require_media = __commonJS((exports, module) => {
  /*!
   * Stylus - Media
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Atrule = require_atrule();
  module.exports = class Media extends Atrule {
    constructor(val) {
      super("media");
      this.val = val;
    }
    clone(parent) {
      var clone = new Media;
      clone.val = this.val.clone(parent, clone);
      clone.block = this.block.clone(parent, clone);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      return {
        __type: "Media",
        val: this.val,
        block: this.block,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
    toString() {
      return "@media " + this.val;
    }
  };
});

// lib/nodes/query-list.js
var require_query_list = __commonJS((exports, module) => {
  /*!
   * Stylus - QueryList
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class QueryList extends Node {
    constructor() {
      super();
      this.nodes = [];
    }
    clone(parent) {
      var clone = new QueryList;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      for (var i = 0;i < this.nodes.length; ++i) {
        clone.push(this.nodes[i].clone(parent, clone));
      }
      return clone;
    }
    push(node) {
      this.nodes.push(node);
    }
    merge(other) {
      var list = new QueryList, merged;
      this.nodes.forEach(function(query) {
        for (var i = 0, len = other.nodes.length;i < len; ++i) {
          merged = query.merge(other.nodes[i]);
          if (merged)
            list.push(merged);
        }
      });
      return list;
    }
    toString() {
      return "(" + this.nodes.map(function(node) {
        return node.toString();
      }).join(", ") + ")";
    }
    toJSON() {
      return {
        __type: "QueryList",
        nodes: this.nodes,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/query.js
var require_query = __commonJS((exports, module) => {
  /*!
   * Stylus - Query
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Query extends Node {
    constructor() {
      super();
      this.nodes = [];
      this.type = "";
      this.predicate = "";
    }
    clone(parent) {
      var clone = new Query;
      clone.predicate = this.predicate;
      clone.type = this.type;
      for (var i = 0, len = this.nodes.length;i < len; ++i) {
        clone.push(this.nodes[i].clone(parent, clone));
      }
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    push(feature) {
      this.nodes.push(feature);
    }
    get resolvedType() {
      if (this.type) {
        return this.type.nodeName ? this.type.string : this.type;
      }
    }
    get resolvedPredicate() {
      if (this.predicate) {
        return this.predicate.nodeName ? this.predicate.string : this.predicate;
      }
    }
    merge(other) {
      var query = new Query, p1 = this.resolvedPredicate, p2 = other.resolvedPredicate, t1 = this.resolvedType, t2 = other.resolvedType, type, pred;
      t1 = t1 || t2;
      t2 = t2 || t1;
      if (p1 == "not" ^ p2 == "not") {
        if (t1 == t2)
          return;
        type = p1 == "not" ? t2 : t1;
        pred = p1 == "not" ? p2 : p1;
      } else if (p1 == "not" && p2 == "not") {
        if (t1 != t2)
          return;
        type = t1;
        pred = "not";
      } else if (t1 != t2) {
        return;
      } else {
        type = t1;
        pred = p1 || p2;
      }
      query.predicate = pred;
      query.type = type;
      query.nodes = this.nodes.concat(other.nodes);
      return query;
    }
    toString() {
      var pred = this.predicate ? this.predicate + " " : "", type = this.type || "", len = this.nodes.length, str = pred + type;
      if (len) {
        str += (type && " and ") + this.nodes.map(function(expr) {
          return expr.toString();
        }).join(" and ");
      }
      return str;
    }
    toJSON() {
      return {
        __type: "Query",
        predicate: this.predicate,
        type: this.type,
        nodes: this.nodes,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/feature.js
var require_feature = __commonJS((exports, module) => {
  /*!
   * Stylus - Feature
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Feature extends Node {
    constructor(segs) {
      super();
      this.segments = segs;
      this.expr = null;
    }
    clone(parent) {
      var clone = new Feature;
      clone.segments = this.segments.map(function(node) {
        return node.clone(parent, clone);
      });
      if (this.expr)
        clone.expr = this.expr.clone(parent, clone);
      if (this.name)
        clone.name = this.name;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toString() {
      if (this.expr) {
        return "(" + this.segments.join("") + ": " + this.expr.toString() + ")";
      } else {
        return this.segments.join("");
      }
    }
    toJSON() {
      var json = {
        __type: "Feature",
        segments: this.segments,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
      if (this.expr)
        json.expr = this.expr;
      if (this.name)
        json.name = this.name;
      return json;
    }
  };
});

// lib/nodes/params.js
var require_params = __commonJS((exports, module) => {
  /*!
   * Stylus - Params
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Params extends Node {
    constructor() {
      super();
      this.nodes = [];
    }
    get length() {
      return this.nodes.length;
    }
    push(node) {
      this.nodes.push(node);
    }
    clone(parent) {
      var clone = new Params;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      this.nodes.forEach(function(node) {
        clone.push(node.clone(parent, clone));
      });
      return clone;
    }
    toJSON() {
      return {
        __type: "Params",
        nodes: this.nodes,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/comment.js
var require_comment = __commonJS((exports, module) => {
  /*!
   * Stylus - Comment
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Comment extends Node {
    constructor(str, suppress, inline) {
      super();
      this.str = str;
      this.suppress = suppress;
      this.inline = inline;
    }
    toJSON() {
      return {
        __type: "Comment",
        str: this.str,
        suppress: this.suppress,
        inline: this.inline,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
    toString() {
      return this.str;
    }
  };
});

// lib/nodes/keyframes.js
var require_keyframes = __commonJS((exports, module) => {
  /*!
   * Stylus - Keyframes
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Atrule = require_atrule();
  module.exports = class Keyframes extends Atrule {
    constructor(segs, prefix) {
      super("keyframes");
      this.segments = segs;
      this.prefix = prefix || "official";
    }
    clone(parent) {
      var clone = new Keyframes;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      clone.segments = this.segments.map(function(node) {
        return node.clone(parent, clone);
      });
      clone.prefix = this.prefix;
      clone.block = this.block.clone(parent, clone);
      return clone;
    }
    toJSON() {
      return {
        __type: "Keyframes",
        segments: this.segments,
        prefix: this.prefix,
        block: this.block,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
    toString() {
      return "@keyframes " + this.segments.join("");
    }
  };
});

// lib/nodes/member.js
var require_member = __commonJS((exports, module) => {
  /*!
   * Stylus - Member
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Member extends Node {
    constructor(left, right) {
      super();
      this.left = left;
      this.right = right;
    }
    clone(parent) {
      var clone = new Member;
      clone.left = this.left.clone(parent, clone);
      clone.right = this.right.clone(parent, clone);
      if (this.val)
        clone.val = this.val.clone(parent, clone);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      var json = {
        __type: "Member",
        left: this.left,
        right: this.right,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
      if (this.val)
        json.val = this.val;
      return json;
    }
    toString() {
      return this.left.toString() + "." + this.right.toString();
    }
  };
});

// lib/nodes/charset.js
var require_charset = __commonJS((exports, module) => {
  /*!
   * Stylus - Charset
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Charset extends Node {
    constructor(val) {
      super();
      this.val = val;
    }
    toString() {
      return "@charset " + this.val;
    }
    toJSON() {
      return {
        __type: "Charset",
        val: this.val,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/namespace.js
var require_namespace = __commonJS((exports, module) => {
  /*!
   * Stylus - Namespace
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Namespace extends Node {
    constructor(val, prefix) {
      super();
      this.val = val;
      this.prefix = prefix;
    }
    toString() {
      return "@namespace " + (this.prefix ? this.prefix + " " : "") + this.val;
    }
    toJSON() {
      return {
        __type: "Namespace",
        val: this.val,
        prefix: this.prefix,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/import.js
var require_import = __commonJS((exports, module) => {
  /*!
   * Stylus - Import
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Import extends Node {
    constructor(expr, once) {
      super();
      this.path = expr;
      this.once = once || false;
    }
    clone(parent) {
      var clone = new Import;
      clone.path = this.path.nodeName ? this.path.clone(parent, clone) : this.path;
      clone.once = this.once;
      clone.mtime = this.mtime;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      return {
        __type: "Import",
        path: this.path,
        once: this.once,
        mtime: this.mtime,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/extend.js
var require_extend = __commonJS((exports, module) => {
  /*!
   * Stylus - Extend
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Extend extends Node {
    constructor(selectors) {
      super();
      this.selectors = selectors;
    }
    clone() {
      return new Extend(this.selectors);
    }
    toString() {
      return "@extend " + this.selectors.join(", ");
    }
    toJSON() {
      return {
        __type: "Extend",
        selectors: this.selectors,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/object.js
var require_object = __commonJS((exports, module) => {
  /*!
   * Stylus - Object
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  var nodes = require_nodes();
  var nativeObj = {}.constructor;
  module.exports = class Object2 extends Node {
    constructor() {
      super();
      this.vals = {};
      this.keys = {};
    }
    setValue(key, val) {
      this.vals[key] = val;
      return this;
    }
    get set() {
      return this.setValue;
    }
    setKey(key, val) {
      this.keys[key] = val;
      return this;
    }
    get length() {
      return nativeObj.keys(this.vals).length;
    }
    get(key) {
      return this.vals[key] || nodes.null;
    }
    has(key) {
      return key in this.vals;
    }
    operate(op, right) {
      switch (op) {
        case ".":
        case "[]":
          return this.get(right.hash);
        case "==":
          var vals = this.vals, a, b;
          if (right.nodeName != "object" || this.length != right.length)
            return nodes.false;
          for (var key in vals) {
            a = vals[key];
            b = right.vals[key];
            if (a.operate(op, b).isFalse)
              return nodes.false;
          }
          return nodes.true;
        case "!=":
          return this.operate("==", right).negate();
        default:
          return super.operate(op, right);
      }
    }
    toBoolean() {
      return new nodes.Boolean(this.length);
    }
    toBlock() {
      var str = "{", key, val;
      for (key in this.vals) {
        val = this.get(key);
        if (val.first.nodeName == "object") {
          str += key + " " + val.first.toBlock();
        } else {
          switch (key) {
            case "@charset":
              str += key + " " + val.first.toString() + ";";
              break;
            default:
              str += key + ":" + toString(val) + ";";
          }
        }
      }
      str += "}";
      return str;
      function toString(node) {
        if (node.nodes) {
          return node.nodes.map(toString).join(node.isList ? "," : " ");
        } else if (node.nodeName == "literal" && node.val == ",") {
          return "\\,";
        }
        return node.toString();
      }
    }
    clone(parent) {
      var clone = new Object2;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      var key;
      for (key in this.vals) {
        clone.vals[key] = this.vals[key].clone(parent, clone);
      }
      for (key in this.keys) {
        clone.keys[key] = this.keys[key].clone(parent, clone);
      }
      return clone;
    }
    toJSON() {
      return {
        __type: "Object",
        vals: this.vals,
        keys: this.keys,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
    toString() {
      var obj = {};
      for (var prop in this.vals) {
        obj[prop] = this.vals[prop].toString();
      }
      return JSON.stringify(obj);
    }
  };
});

// lib/nodes/function.js
var require_function = __commonJS((exports, module) => {
  /*!
   * Stylus - Function
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Function2 extends Node {
    constructor(name, params, body) {
      super();
      this.name = name;
      this.params = params;
      this.block = body;
      if (typeof params == "function")
        this.fn = params;
    }
    get arity() {
      return this.params.length;
    }
    get hash() {
      return "function " + this.name;
    }
    clone(parent) {
      if (this.fn) {
        var clone = new Function2(this.name, this.fn);
      } else {
        var clone = new Function2(this.name);
        clone.params = this.params.clone(parent, clone);
        clone.block = this.block.clone(parent, clone);
      }
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toString() {
      if (this.fn) {
        return this.name + "(" + this.fn.toString().match(/^function *\w*\((.*?)\)/).slice(1).join(", ") + ")";
      } else {
        return this.name + "(" + this.params.nodes.join(", ") + ")";
      }
    }
    toJSON() {
      var json = {
        __type: "Function",
        name: this.name,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
      if (this.fn) {
        json.fn = this.fn;
      } else {
        json.params = this.params;
        json.block = this.block;
      }
      return json;
    }
  };
});

// lib/nodes/property.js
var require_property = __commonJS((exports, module) => {
  /*!
   * Stylus - Property
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Property extends Node {
    constructor(segs, expr) {
      super();
      this.segments = segs;
      this.expr = expr;
    }
    clone(parent) {
      var clone = new Property(this.segments);
      clone.name = this.name;
      if (this.literal)
        clone.literal = this.literal;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      clone.segments = this.segments.map(function(node) {
        return node.clone(parent, clone);
      });
      if (this.expr)
        clone.expr = this.expr.clone(parent, clone);
      return clone;
    }
    toJSON() {
      var json = {
        __type: "Property",
        segments: this.segments,
        name: this.name,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
      if (this.expr)
        json.expr = this.expr;
      if (this.literal)
        json.literal = this.literal;
      return json;
    }
    toString() {
      return "property(" + this.segments.join("") + ", " + this.expr + ")";
    }
    operate(op, right, val) {
      return this.expr.operate(op, right, val);
    }
  };
});

// lib/nodes/selector.js
var require_selector2 = __commonJS((exports, module) => {
  /*!
   * Stylus - Selector
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Block = require_block();
  var Node = require_node2();
  module.exports = class Selector extends Node {
    constructor(segs) {
      super();
      this.inherits = true;
      this.segments = segs;
      this.optional = false;
    }
    toString() {
      return this.segments.join("") + (this.optional ? " !optional" : "");
    }
    get isPlaceholder() {
      return this.val && ~this.val.substr(0, 2).indexOf("$");
    }
    clone(parent) {
      var clone = new Selector;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      clone.inherits = this.inherits;
      clone.val = this.val;
      clone.segments = this.segments.map(function(node) {
        return node.clone(parent, clone);
      });
      clone.optional = this.optional;
      return clone;
    }
    toJSON() {
      return {
        __type: "Selector",
        inherits: this.inherits,
        segments: this.segments,
        optional: this.optional,
        val: this.val,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
  };
});

// lib/nodes/expression.js
var require_expression = __commonJS((exports, module) => {
  /*!
   * Stylus - Expression
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  var nodes = require_nodes();
  var utils = require_utils();
  module.exports = class Expression extends Node {
    constructor(isList) {
      super();
      this.nodes = [];
      this.isList = isList;
    }
    get isEmpty() {
      return !this.nodes.length;
    }
    get first() {
      return this.nodes[0] ? this.nodes[0].first : nodes.null;
    }
    get hash() {
      return this.nodes.map(function(node) {
        return node.hash;
      }).join("::");
    }
    clone(parent) {
      var clone = new this.constructor(this.isList);
      clone.preserve = this.preserve;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      clone.nodes = this.nodes.map(function(node) {
        return node.clone(parent, clone);
      });
      return clone;
    }
    push(node) {
      this.nodes.push(node);
    }
    operate(op, right, val) {
      switch (op) {
        case "[]=":
          var self = this, range = utils.unwrap(right).nodes, val = utils.unwrap(val), len, node;
          range.forEach(function(unit) {
            len = self.nodes.length;
            if (unit.nodeName == "unit") {
              var i2 = unit.val < 0 ? len + unit.val : unit.val, n = i2;
              while (i2-- > len)
                self.nodes[i2] = nodes.null;
              self.nodes[n] = val;
            } else if (unit.string) {
              node = self.nodes[0];
              if (node && node.nodeName == "object")
                node.set(unit.string, val.clone());
            }
          });
          return val;
        case "[]":
          var expr = new nodes.Expression, vals = utils.unwrap(this).nodes, range = utils.unwrap(right).nodes, node;
          range.forEach(function(unit) {
            if (unit.nodeName == "unit") {
              node = vals[unit.val < 0 ? vals.length + unit.val : unit.val];
            } else if (vals[0].nodeName == "object") {
              node = vals[0].get(unit.string);
            }
            if (node)
              expr.push(node);
          });
          return expr.isEmpty ? nodes.null : utils.unwrap(expr);
        case "||":
          return this.toBoolean().isTrue ? this : right;
        case "in":
          return super.operate(op, right);
        case "!=":
          return this.operate("==", right, val).negate();
        case "==":
          var len = this.nodes.length, right = right.toExpression(), a, b;
          if (len != right.nodes.length)
            return nodes.false;
          for (var i = 0;i < len; ++i) {
            a = this.nodes[i];
            b = right.nodes[i];
            if (a.operate(op, b).isTrue)
              continue;
            return nodes.false;
          }
          return nodes.true;
          break;
        default:
          return this.first.operate(op, right, val);
      }
    }
    toBoolean() {
      if (this.nodes.length > 1)
        return nodes.true;
      return this.first.toBoolean();
    }
    toString() {
      return "(" + this.nodes.map(function(node) {
        return node.toString();
      }).join(this.isList ? ", " : " ") + ")";
    }
    toJSON() {
      return {
        __type: "Expression",
        isList: this.isList,
        preserve: this.preserve,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename,
        nodes: this.nodes
      };
    }
  };
});

// lib/nodes/arguments.js
var require_arguments = __commonJS((exports, module) => {
  /*!
   * Stylus - Arguments
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var nodes = require_nodes();
  module.exports = class Arguments extends nodes.Expression {
    constructor() {
      super();
      this.map = {};
    }
    static fromExpression(expr) {
      var args = new Arguments, len = expr.nodes.length;
      args.lineno = expr.lineno;
      args.column = expr.column;
      args.isList = expr.isList;
      for (var i = 0;i < len; ++i) {
        args.push(expr.nodes[i]);
      }
      return args;
    }
    clone(parent) {
      var clone = super.clone(parent);
      clone.map = {};
      for (var key in this.map) {
        clone.map[key] = this.map[key].clone(parent, clone);
      }
      clone.isList = this.isList;
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      return {
        __type: "Arguments",
        map: this.map,
        isList: this.isList,
        preserve: this.preserve,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename,
        nodes: this.nodes
      };
    }
  };
});

// lib/nodes/atblock.js
var require_atblock = __commonJS((exports, module) => {
  /*!
   * Stylus - @block
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Node = require_node2();
  module.exports = class Atblock extends Node {
    constructor() {
      super();
    }
    get nodes() {
      return this.block.nodes;
    }
    clone(parent) {
      var clone = new Atblock;
      clone.block = this.block.clone(parent, clone);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toString() {
      return "@block";
    }
    toJSON() {
      return {
        __type: "Atblock",
        block: this.block,
        lineno: this.lineno,
        column: this.column,
        fileno: this.fileno
      };
    }
  };
});

// lib/nodes/supports.js
var require_supports = __commonJS((exports, module) => {
  /*!
   * Stylus - supports
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Atrule = require_atrule();
  module.exports = class Supports extends Atrule {
    constructor(condition) {
      super("supports");
      this.condition = condition;
    }
    clone(parent) {
      var clone = new Supports;
      clone.condition = this.condition.clone(parent, clone);
      clone.block = this.block.clone(parent, clone);
      clone.lineno = this.lineno;
      clone.column = this.column;
      clone.filename = this.filename;
      return clone;
    }
    toJSON() {
      return {
        __type: "Supports",
        condition: this.condition,
        block: this.block,
        lineno: this.lineno,
        column: this.column,
        filename: this.filename
      };
    }
    toString() {
      return "@supports " + this.condition;
    }
  };
});

// lib/nodes/index.js
var require_nodes = __commonJS((exports) => {
  /*!
   * Stylus - nodes
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  exports.lineno = null;
  exports.column = null;
  exports.filename = null;
  exports.Node = require_node2();
  exports.Root = require_root();
  exports.Null = require_null();
  exports.Each = require_each();
  exports.If = require_if();
  exports.Call = require_call();
  exports.UnaryOp = require_unaryop();
  exports.BinOp = require_binop();
  exports.Ternary = require_ternary();
  exports.Block = require_block();
  exports.Unit = require_unit2();
  exports.String = require_string();
  exports.HSLA = require_hsla2();
  exports.RGBA = require_rgba2();
  exports.Ident = require_ident();
  exports.Group = require_group();
  exports.Literal = require_literal();
  exports.Boolean = require_boolean();
  exports.Return = require_return();
  exports.Media = require_media();
  exports.QueryList = require_query_list();
  exports.Query = require_query();
  exports.Feature = require_feature();
  exports.Params = require_params();
  exports.Comment = require_comment();
  exports.Keyframes = require_keyframes();
  exports.Member = require_member();
  exports.Charset = require_charset();
  exports.Namespace = require_namespace();
  exports.Import = require_import();
  exports.Extend = require_extend();
  exports.Object = require_object();
  exports.Function = require_function();
  exports.Property = require_property();
  exports.Selector = require_selector2();
  exports.Expression = require_expression();
  exports.Arguments = require_arguments();
  exports.Atblock = require_atblock();
  exports.Atrule = require_atrule();
  exports.Supports = require_supports();
  exports.true = new exports.Boolean(true);
  exports.false = new exports.Boolean(false);
  exports.null = new exports.Null;
});

// lib/errors.js
var require_errors = __commonJS((exports) => {
  /*!
   * Stylus - errors
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */

  class ParseError extends Error {
    constructor(msg) {
      super();
      this.name = "ParseError";
      this.message = msg;
      if (Error.captureStackTrace) {
        Error.captureStackTrace(this, ParseError);
      }
    }
  }

  class SyntaxError extends Error {
    constructor(msg) {
      super();
      this.name = "SyntaxError";
      this.message = msg;
      if (Error.captureStackTrace) {
        Error.captureStackTrace(this, ParseError);
      }
    }
  }
  exports.ParseError = ParseError;
  exports.SyntaxError = SyntaxError;
});

// lib/lexer.js
var require_lexer = __commonJS((exports, module) => {
  /*!
   * Stylus - Lexer
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Token = require_token();
  var nodes = require_nodes();
  var errors = require_errors();
  var alias = {
    and: "&&",
    or: "||",
    is: "==",
    isnt: "!=",
    "is not": "!=",
    ":=": "?="
  };
  exports = module.exports = class Lexer {
    constructor(str, options) {
      options = options || {};
      this.stash = [];
      this.indentStack = [];
      this.indentRe = null;
      this.lineno = 1;
      this.column = 1;
      function comment(str2, val, offset, s) {
        var inComment = s.lastIndexOf("/*", offset) > s.lastIndexOf("*/", offset), commentIdx = s.lastIndexOf("//", offset), i = s.lastIndexOf("\n", offset), double = 0, single = 0;
        if (~commentIdx && commentIdx > i) {
          while (i != offset) {
            if (s[i] == "'")
              single ? single-- : single++;
            if (s[i] == '"')
              double ? double-- : double++;
            if (s[i] == "/" && s[i + 1] == "/") {
              inComment = !single && !double;
              break;
            }
            ++i;
          }
        }
        return inComment ? str2 : val === "," && /^[,\t\n]+$/.test(str2) ? str2.replace(/\n/, "\r") : val + "\r";
      }
      if (str.charAt(0) == "\uFEFF")
        str = str.slice(1);
      this.str = str.replace(/\s+$/, "\n").replace(/\r\n?/g, "\n").replace(/\\ *\n/g, "\r").replace(/([,(:](?!\/\/[^ ])) *(?:\/\/[^\n]*|\/\*.*?\*\/)?\n\s*/g, comment).replace(/\s*\n[ \t]*([,)])/g, comment);
    }
    inspect() {
      var tok, tmp = this.str, buf = [];
      while ((tok = this.next()).type != "eos") {
        buf.push(tok.inspect());
      }
      this.str = tmp;
      return buf.concat(tok.inspect()).join("\n");
    }
    lookahead(n) {
      var fetch2 = n - this.stash.length;
      while (fetch2-- > 0)
        this.stash.push(this.advance());
      return this.stash[--n];
    }
    skip(len) {
      var chunk = len[0];
      len = chunk ? chunk.length : len;
      this.str = this.str.substr(len);
      if (chunk) {
        this.move(chunk);
      } else {
        this.column += len;
      }
    }
    move(str) {
      var lines = str.match(/\n/g), idx = str.lastIndexOf("\n");
      if (lines)
        this.lineno += lines.length;
      this.column = ~idx ? str.length - idx : this.column + str.length;
    }
    next() {
      var tok = this.stashed() || this.advance();
      this.prev = tok;
      return tok;
    }
    isPartOfSelector() {
      var tok = this.stash[this.stash.length - 1] || this.prev;
      switch (tok && tok.type) {
        case "color":
          return tok.val.raw.length == 2;
        case ".":
        case "[":
          return true;
      }
      return false;
    }
    advance() {
      var column = this.column, line = this.lineno, tok = this.eos() || this.null() || this.sep() || this.keyword() || this.urlchars() || this.comment() || this.newline() || this.escaped() || this.important() || this.literal() || this.anonFunc() || this.atrule() || this.function() || this.brace() || this.paren() || this.color() || this.string() || this.unit() || this.namedop() || this.boolean() || this.unicode() || this.ident() || this.op() || function() {
        var token = this.eol();
        if (token) {
          column = token.column;
          line = token.lineno;
        }
        return token;
      }.call(this) || this.space() || this.selector();
      tok.lineno = line;
      tok.column = column;
      return tok;
    }
    peek() {
      return this.lookahead(1);
    }
    stashed() {
      return this.stash.shift();
    }
    eos() {
      if (this.str.length)
        return;
      if (this.indentStack.length) {
        this.indentStack.shift();
        return new Token("outdent");
      } else {
        return new Token("eos");
      }
    }
    urlchars() {
      var captures;
      if (!this.isURL)
        return;
      if (captures = /^[\/:@.;?&=*!,<>#%0-9]+/.exec(this.str)) {
        this.skip(captures);
        return new Token("literal", new nodes.Literal(captures[0]));
      }
    }
    sep() {
      var captures;
      if (captures = /^;[ \t]*/.exec(this.str)) {
        this.skip(captures);
        return new Token(";");
      }
    }
    eol() {
      if (this.str[0] == "\r") {
        ++this.lineno;
        this.skip(1);
        this.column = 1;
        while (this.space())
          ;
        return this.advance();
      }
    }
    space() {
      var captures;
      if (captures = /^([ \t]+)/.exec(this.str)) {
        this.skip(captures);
        return new Token("space");
      }
    }
    escaped() {
      var captures;
      if (captures = /^\\(.)[ \t]*/.exec(this.str)) {
        var c = captures[1];
        this.skip(captures);
        return new Token("ident", new nodes.Literal(c));
      }
    }
    literal() {
      var captures;
      if (captures = /^@css[ \t]*\{/.exec(this.str)) {
        this.skip(captures);
        var c, braces = 1, css = "", node;
        while (c = this.str[0]) {
          this.str = this.str.substr(1);
          switch (c) {
            case "{":
              ++braces;
              break;
            case "}":
              --braces;
              break;
            case "\n":
            case "\r":
              ++this.lineno;
              break;
          }
          css += c;
          if (!braces)
            break;
        }
        css = css.replace(/\s*}$/, "");
        node = new nodes.Literal(css);
        node.css = true;
        return new Token("literal", node);
      }
    }
    important() {
      var captures;
      if (captures = /^!important[ \t]*/.exec(this.str)) {
        this.skip(captures);
        return new Token("ident", new nodes.Literal("!important"));
      }
    }
    brace() {
      var captures;
      if (captures = /^([{}])/.exec(this.str)) {
        this.skip(1);
        var brace = captures[1];
        return new Token(brace, brace);
      }
    }
    paren() {
      var captures;
      if (captures = /^([()])([ \t]*)/.exec(this.str)) {
        var paren = captures[1];
        this.skip(captures);
        if (paren == ")")
          this.isURL = false;
        var tok = new Token(paren, paren);
        tok.space = captures[2];
        return tok;
      }
    }
    null() {
      var captures, tok;
      if (captures = /^(null)\b[ \t]*/.exec(this.str)) {
        this.skip(captures);
        if (this.isPartOfSelector()) {
          tok = new Token("ident", new nodes.Ident(captures[0]));
        } else {
          tok = new Token("null", nodes.null);
        }
        return tok;
      }
    }
    keyword() {
      var captures, tok;
      if (captures = /^(return|if|else|unless|for|in)\b(?!-)[ \t]*/.exec(this.str)) {
        var keyword = captures[1];
        this.skip(captures);
        if (this.isPartOfSelector()) {
          tok = new Token("ident", new nodes.Ident(captures[0]));
        } else {
          tok = new Token(keyword, keyword);
        }
        return tok;
      }
    }
    namedop() {
      var captures, tok;
      if (captures = /^(not|and|or|is a|is defined|isnt|is not|is)(?!-)\b([ \t]*)/.exec(this.str)) {
        var op = captures[1];
        this.skip(captures);
        if (this.isPartOfSelector()) {
          tok = new Token("ident", new nodes.Ident(captures[0]));
        } else {
          op = alias[op] || op;
          tok = new Token(op, op);
        }
        tok.space = captures[2];
        return tok;
      }
    }
    op() {
      var captures;
      if (captures = /^([.]{1,3}|&&|\|\||[!<>=?:]=|\*\*|[-+*\/%]=?|[,=?:!~<>&\[\]])([ \t]*)/.exec(this.str)) {
        var op = captures[1];
        this.skip(captures);
        op = alias[op] || op;
        var tok = new Token(op, op);
        tok.space = captures[2];
        this.isURL = false;
        return tok;
      }
    }
    anonFunc() {
      var tok;
      if (this.str[0] == "@" && this.str[1] == "(") {
        this.skip(2);
        tok = new Token("function", new nodes.Ident("anonymous"));
        tok.anonymous = true;
        return tok;
      }
    }
    atrule() {
      var captures;
      if (captures = /^@(?!apply)(?:-(\w+)-)?([a-zA-Z0-9-_]+)[ \t]*/.exec(this.str)) {
        this.skip(captures);
        var vendor = captures[1], type = captures[2], tok;
        switch (type) {
          case "require":
          case "import":
          case "charset":
          case "namespace":
          case "media":
          case "scope":
          case "supports":
            return new Token(type);
          case "document":
            return new Token("-moz-document");
          case "block":
            return new Token("atblock");
          case "extend":
          case "extends":
            return new Token("extend");
          case "keyframes":
            return new Token(type, vendor);
          default:
            return new Token("atrule", vendor ? "-" + vendor + "-" + type : type);
        }
      }
    }
    comment() {
      if (this.str[0] == "/" && this.str[1] == "/") {
        var end = this.str.indexOf("\n");
        if (end == -1)
          end = this.str.length;
        this.skip(end);
        return this.advance();
      }
      if (this.str[0] == "/" && this.str[1] == "*") {
        var end = this.str.indexOf("*/");
        if (end == -1)
          end = this.str.length;
        var str = this.str.substr(0, end + 2), lines = str.split(/\n|\r/).length - 1, suppress = true, inline = false;
        this.lineno += lines;
        this.skip(end + 2);
        if (str[2] == "!") {
          str = str.replace("*!", "*");
          suppress = false;
        }
        if (this.prev && this.prev.type == ";")
          inline = true;
        return new Token("comment", new nodes.Comment(str, suppress, inline));
      }
    }
    boolean() {
      var captures;
      if (captures = /^(true|false)\b([ \t]*)/.exec(this.str)) {
        var val = new nodes.Boolean(captures[1] == "true");
        this.skip(captures);
        var tok = new Token("boolean", val);
        tok.space = captures[2];
        return tok;
      }
    }
    unicode() {
      var captures;
      if (captures = /^u\+[0-9a-f?]{1,6}(?:-[0-9a-f]{1,6})?/i.exec(this.str)) {
        this.skip(captures);
        return new Token("literal", new nodes.Literal(captures[0]));
      }
    }
    function() {
      var captures;
      if (captures = /^(-*[_a-zA-Z$][-\w\d$]*)\(([ \t]*)/.exec(this.str)) {
        var name = captures[1];
        this.skip(captures);
        this.isURL = name == "url";
        var tok = new Token("function", new nodes.Ident(name));
        tok.space = captures[2];
        return tok;
      }
    }
    ident() {
      var captures;
      if (captures = /^-*([_a-zA-Z$]|@apply)[-\w\d$]*/.exec(this.str)) {
        this.skip(captures);
        return new Token("ident", new nodes.Ident(captures[0]));
      }
    }
    newline() {
      var captures, re;
      if (this.indentRe) {
        captures = this.indentRe.exec(this.str);
      } else {
        re = /^\n([\t]*)[ \t]*/;
        captures = re.exec(this.str);
        if (captures && !captures[1].length) {
          re = /^\n([ \t]*)/;
          captures = re.exec(this.str);
        }
        if (captures && captures[1].length)
          this.indentRe = re;
      }
      if (captures) {
        var tok, indents = captures[1].length;
        this.skip(captures);
        if (this.str[0] === " " || this.str[0] === "\t") {
          throw new errors.SyntaxError("Invalid indentation. You can use tabs or spaces to indent, but not both.");
        }
        if (this.str[0] == "\n")
          return this.advance();
        if (this.indentStack.length && indents < this.indentStack[0]) {
          while (this.indentStack.length && this.indentStack[0] > indents) {
            this.stash.push(new Token("outdent"));
            this.indentStack.shift();
          }
          tok = this.stash.pop();
        } else if (indents && indents != this.indentStack[0]) {
          this.indentStack.unshift(indents);
          tok = new Token("indent");
        } else {
          tok = new Token("newline");
        }
        return tok;
      }
    }
    unit() {
      var captures;
      if (captures = /^(-)?(\d+\.\d+|\d+|\.\d+)(%|[a-zA-Z]+)?[ \t]*/.exec(this.str)) {
        this.skip(captures);
        var n = parseFloat(captures[2]);
        if (captures[1] == "-")
          n = -n;
        var node = new nodes.Unit(n, captures[3]);
        node.raw = captures[0];
        return new Token("unit", node);
      }
    }
    string() {
      var captures;
      if (captures = /^("[^"]*"|'[^']*')[ \t]*/.exec(this.str)) {
        var str = captures[1], quote = captures[0][0];
        this.skip(captures);
        str = str.slice(1, -1).replace(/\\n/g, "\n");
        return new Token("string", new nodes.String(str, quote));
      }
    }
    color() {
      return this.rrggbbaa() || this.rrggbb() || this.rgba() || this.rgb() || this.nn() || this.n();
    }
    n() {
      var captures;
      if (captures = /^#([a-fA-F0-9]{1})[ \t]*/.exec(this.str)) {
        this.skip(captures);
        var n = parseInt(captures[1] + captures[1], 16), color = new nodes.RGBA(n, n, n, 1);
        color.raw = captures[0];
        return new Token("color", color);
      }
    }
    nn() {
      var captures;
      if (captures = /^#([a-fA-F0-9]{2})[ \t]*/.exec(this.str)) {
        this.skip(captures);
        var n = parseInt(captures[1], 16), color = new nodes.RGBA(n, n, n, 1);
        color.raw = captures[0];
        return new Token("color", color);
      }
    }
    rgb() {
      var captures;
      if (captures = /^#([a-fA-F0-9]{3})[ \t]*/.exec(this.str)) {
        this.skip(captures);
        var rgb = captures[1], r = parseInt(rgb[0] + rgb[0], 16), g = parseInt(rgb[1] + rgb[1], 16), b = parseInt(rgb[2] + rgb[2], 16), color = new nodes.RGBA(r, g, b, 1);
        color.raw = captures[0];
        return new Token("color", color);
      }
    }
    rgba() {
      var captures;
      if (captures = /^#([a-fA-F0-9]{4})[ \t]*/.exec(this.str)) {
        this.skip(captures);
        var rgb = captures[1], r = parseInt(rgb[0] + rgb[0], 16), g = parseInt(rgb[1] + rgb[1], 16), b = parseInt(rgb[2] + rgb[2], 16), a = parseInt(rgb[3] + rgb[3], 16), color = new nodes.RGBA(r, g, b, a / 255);
        color.raw = captures[0];
        return new Token("color", color);
      }
    }
    rrggbb() {
      var captures;
      if (captures = /^#([a-fA-F0-9]{6})[ \t]*/.exec(this.str)) {
        this.skip(captures);
        var rgb = captures[1], r = parseInt(rgb.substr(0, 2), 16), g = parseInt(rgb.substr(2, 2), 16), b = parseInt(rgb.substr(4, 2), 16), color = new nodes.RGBA(r, g, b, 1);
        color.raw = captures[0];
        return new Token("color", color);
      }
    }
    rrggbbaa() {
      var captures;
      if (captures = /^#([a-fA-F0-9]{8})[ \t]*/.exec(this.str)) {
        this.skip(captures);
        var rgb = captures[1], r = parseInt(rgb.substr(0, 2), 16), g = parseInt(rgb.substr(2, 2), 16), b = parseInt(rgb.substr(4, 2), 16), a = parseInt(rgb.substr(6, 2), 16), color = new nodes.RGBA(r, g, b, a / 255);
        color.raw = captures[0];
        return new Token("color", color);
      }
    }
    selector() {
      var captures;
      if (captures = /^\^|.*?(?=\/\/(?![^\[]*\])|[,\n{])/.exec(this.str)) {
        var selector = captures[0];
        this.skip(captures);
        return new Token("selector", selector);
      }
    }
  };
});

// lib/cache/memory.js
var require_memory = __commonJS((exports, module) => {
  var crypto = __require("crypto");
  var nodes = require_nodes();
  module.exports = class MemoryCache {
    constructor(options) {
      options = options || {};
      this.limit = options["cache limit"] || 256;
      this._cache = {};
      this.length = 0;
      this.head = this.tail = null;
    }
    set(key, value) {
      var clone = value.clone(), item;
      clone.filename = nodes.filename;
      clone.lineno = nodes.lineno;
      clone.column = nodes.column;
      item = { key, value: clone };
      this._cache[key] = item;
      if (this.tail) {
        this.tail.next = item;
        item.prev = this.tail;
      } else {
        this.head = item;
      }
      this.tail = item;
      if (this.length++ == this.limit)
        this.purge();
    }
    get(key) {
      var item = this._cache[key], val = item.value.clone();
      if (item == this.tail)
        return val;
      if (item.next) {
        if (item == this.head)
          this.head = item.next;
        item.next.prev = item.prev;
      }
      if (item.prev)
        item.prev.next = item.next;
      item.next = null;
      item.prev = this.tail;
      if (this.tail)
        this.tail.next = item;
      this.tail = item;
      return val;
    }
    has(key) {
      return !!this._cache[key];
    }
    key(str, options) {
      var hash = crypto.createHash("sha1");
      hash.update(str + options.prefix);
      return hash.digest("hex");
    }
    purge() {
      var item = this.head;
      if (this.head.next) {
        this.head = this.head.next;
        this.head.prev = null;
      }
      this._cache[item.key] = item.prev = item.next = null;
      this.length--;
    }
  };
});

// lib/cache/null.js
var require_null2 = __commonJS((exports, module) => {
  module.exports = class NullCache {
    set(key, value) {
    }
    get(key) {
    }
    has(key) {
      return false;
    }
    key(str, options) {
      return "";
    }
  };
});

// lib/cache/index.js
var require_cache = __commonJS((exports, module) => {
  var getCache = module.exports = function(name, options) {
    if (typeof name == "function")
      return new name(options);
    var cache;
    switch (name) {
      case "memory":
        cache = require_memory();
        break;
      default:
        cache = require_null2();
    }
    return new cache(options);
  };
});

// lib/parser.js
var require_parser = __commonJS((exports, module) => {
  /*!
   * Stylus - Parser
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Lexer = require_lexer();
  var nodes = require_nodes();
  var Token = require_token();
  var units = require_units();
  var errors = require_errors();
  var cache = require_cache();
  var debug = {
    lexer: require_src()("stylus:lexer"),
    selector: require_src()("stylus:parser:selector")
  };
  var selectorTokens = [
    "ident",
    "string",
    "selector",
    "function",
    "comment",
    "boolean",
    "space",
    "color",
    "unit",
    "for",
    "in",
    "[",
    "]",
    "(",
    ")",
    "+",
    "-",
    "*",
    "*=",
    "<",
    ">",
    "=",
    ":",
    "&",
    "&&",
    "~",
    "{",
    "}",
    ".",
    "..",
    "/"
  ];
  var pseudoSelectors = [
    "is",
    "has",
    "where",
    "not",
    "dir",
    "lang",
    "any-link",
    "link",
    "visited",
    "local-link",
    "target",
    "scope",
    "hover",
    "active",
    "focus",
    "drop",
    "current",
    "past",
    "future",
    "enabled",
    "disabled",
    "read-only",
    "read-write",
    "placeholder-shown",
    "checked",
    "indeterminate",
    "valid",
    "invalid",
    "in-range",
    "out-of-range",
    "required",
    "optional",
    "user-error",
    "root",
    "empty",
    "blank",
    "nth-child",
    "nth-last-child",
    "first-child",
    "last-child",
    "only-child",
    "nth-of-type",
    "nth-last-of-type",
    "first-of-type",
    "last-of-type",
    "only-of-type",
    "nth-match",
    "nth-last-match",
    "nth-column",
    "nth-last-column",
    "first-line",
    "first-letter",
    "before",
    "after",
    "selection"
  ];
  module.exports = class Parser {
    constructor(str, options) {
      var self = this;
      options = options || {};
      Parser.cache = Parser.cache || Parser.getCache(options);
      this.hash = Parser.cache.key(str, options);
      this.lexer = {};
      if (!Parser.cache.has(this.hash)) {
        this.lexer = new Lexer(str, options);
      }
      this.prefix = options.prefix || "";
      this.root = options.root || new nodes.Root;
      this.state = ["root"];
      this.stash = [];
      this.parens = 0;
      this.css = 0;
      this.state.pop = function() {
        self.prevState = [].pop.call(this);
      };
    }
    static getCache(options) {
      return options.cache === false ? cache(false) : cache(options.cache || "memory", options);
    }
    currentState() {
      return this.state[this.state.length - 1];
    }
    previousState() {
      return this.state[this.state.length - 2];
    }
    parse() {
      var block = this.parent = this.root;
      if (Parser.cache.has(this.hash)) {
        block = Parser.cache.get(this.hash);
        if (block.nodeName == "block")
          block.constructor = nodes.Root;
      } else {
        while (this.peek().type != "eos") {
          this.skipWhitespace();
          if (this.peek().type == "eos")
            break;
          var stmt = this.statement();
          this.accept(";");
          if (!stmt)
            this.error("unexpected token {peek}, not allowed at the root level");
          block.push(stmt);
        }
        Parser.cache.set(this.hash, block);
      }
      return block;
    }
    error(msg) {
      var type = this.peek().type, val = this.peek().val == undefined ? "" : " " + this.peek().toString();
      if (val.trim() == type.trim())
        val = "";
      throw new errors.ParseError(msg.replace("{peek}", '"' + type + val + '"'));
    }
    accept(type) {
      if (type == this.peek().type) {
        return this.next();
      }
    }
    expect(type) {
      if (type != this.peek().type) {
        this.error('expected "' + type + '", got {peek}');
      }
      return this.next();
    }
    next() {
      var tok = this.stash.length ? this.stash.pop() : this.lexer.next(), line = tok.lineno, column = tok.column || 1;
      if (tok.val && tok.val.nodeName) {
        tok.val.lineno = line;
        tok.val.column = column;
      }
      nodes.lineno = line;
      nodes.column = column;
      debug.lexer("%s %s", tok.type, tok.val || "");
      return tok;
    }
    peek() {
      return this.lexer.peek();
    }
    lookahead(n) {
      return this.lexer.lookahead(n);
    }
    isSelectorToken(n) {
      var la = this.lookahead(n).type;
      switch (la) {
        case "for":
          return this.bracketed;
        case "[":
          this.bracketed = true;
          return true;
        case "]":
          this.bracketed = false;
          return true;
        default:
          return ~selectorTokens.indexOf(la);
      }
    }
    isPseudoSelector(n) {
      var val = this.lookahead(n).val;
      return val && ~pseudoSelectors.indexOf(val.name);
    }
    lineContains(type) {
      var i = 1, la;
      while (la = this.lookahead(i++)) {
        if (~["indent", "outdent", "newline", "eos"].indexOf(la.type))
          return;
        if (type == la.type)
          return true;
      }
    }
    selectorToken() {
      if (this.isSelectorToken(1)) {
        if (this.peek().type == "{") {
          if (!this.lineContains("}"))
            return;
          var i = 0, la;
          while (la = this.lookahead(++i)) {
            if (la.type == "}") {
              if (i == 2 || i == 3 && this.lookahead(i - 1).type == "space")
                return;
              break;
            }
            if (la.type == ":")
              return;
          }
        }
        return this.next();
      }
    }
    skip(tokens) {
      while (~tokens.indexOf(this.peek().type))
        this.next();
    }
    skipWhitespace() {
      this.skip(["space", "indent", "outdent", "newline"]);
    }
    skipNewlines() {
      while (this.peek().type == "newline")
        this.next();
    }
    skipSpaces() {
      while (this.peek().type == "space")
        this.next();
    }
    skipSpacesAndComments() {
      while (this.peek().type == "space" || this.peek().type == "comment")
        this.next();
    }
    looksLikeFunctionDefinition(i) {
      return this.lookahead(i).type == "indent" || this.lookahead(i).type == "{";
    }
    looksLikeSelector(fromProperty) {
      var i = 1, node, brace;
      if (fromProperty && this.lookahead(i + 1).type == ":" && (this.lookahead(i + 1).space || this.lookahead(i + 2).type == "indent"))
        return false;
      while (this.lookahead(i).type == "ident" && (this.lookahead(i + 1).type == "newline" || this.lookahead(i + 1).type == ","))
        i += 2;
      while (this.isSelectorToken(i) || this.lookahead(i).type == ",") {
        if (this.lookahead(i).type == "selector")
          return true;
        if (this.lookahead(i + 1).type == "&")
          return true;
        if (i > 1 && this.lookahead(i - 1).type === "ident" && this.lookahead(i).type === "." && this.lookahead(i + 1).type === "ident") {
          while (node = this.lookahead(i + 2)) {
            if ([
              "indent",
              "outdent",
              "{",
              ";",
              "eos",
              "selector",
              "media",
              "if",
              "atrule",
              ")",
              "}",
              "unit",
              "[",
              "for",
              "function"
            ].indexOf(node.type) !== -1) {
              if (node.type === "[") {
                while ((node = this.lookahead(i + 3)) && node.type !== "]") {
                  if (~[".", "unit"].indexOf(node.type)) {
                    return false;
                  }
                  i += 1;
                }
              } else {
                if (this.isPseudoSelector(i + 2)) {
                  return true;
                }
                if (node.type === ")" && this.lookahead(i + 3) && this.lookahead(i + 3).type === "}") {
                  break;
                }
                return [
                  "outdent",
                  ";",
                  "eos",
                  "media",
                  "if",
                  "atrule",
                  ")",
                  "}",
                  "unit",
                  "for",
                  "function"
                ].indexOf(node.type) === -1;
              }
            }
            i += 1;
          }
          return true;
        }
        if (this.lookahead(i).type == "." && this.lookahead(i + 1).type == "ident") {
          return true;
        }
        if (this.lookahead(i).type == "*" && this.lookahead(i + 1).type == "newline")
          return true;
        if (this.lookahead(i).type == ":" && this.lookahead(i + 1).type == ":")
          return true;
        if (this.lookahead(i).type == "color" && this.lookahead(i - 1).type == "newline")
          return true;
        if (this.looksLikeAttributeSelector(i))
          return true;
        if ((this.lookahead(i).type == "=" || this.lookahead(i).type == "function") && this.lookahead(i + 1).type == "{")
          return false;
        if (this.lookahead(i).type == ":" && !this.isPseudoSelector(i + 1) && this.lineContains("."))
          return false;
        if (this.lookahead(i).type == "{")
          brace = true;
        else if (this.lookahead(i).type == "}")
          brace = false;
        if (brace && this.lookahead(i).type == ":")
          return true;
        if (this.lookahead(i).type == "space" && this.lookahead(i + 1).type == "{")
          return true;
        if (this.lookahead(i++).type == ":" && !this.lookahead(i - 1).space && this.isPseudoSelector(i))
          return true;
        if (this.lookahead(i).type == "space" && this.lookahead(i + 1).type == "newline" && this.lookahead(i + 2).type == "{")
          return true;
        if (this.lookahead(i).type == "," && this.lookahead(i + 1).type == "newline")
          return true;
      }
      if (this.lookahead(i).type == "," && this.lookahead(i + 1).type == "newline")
        return true;
      if (this.lookahead(i).type == "{" && this.lookahead(i + 1).type == "newline")
        return true;
      if (this.css) {
        if (this.lookahead(i).type == ";" || this.lookahead(i - 1).type == "}")
          return false;
      }
      while (!~[
        "indent",
        "outdent",
        "newline",
        "for",
        "if",
        ";",
        "}",
        "eos"
      ].indexOf(this.lookahead(i).type))
        ++i;
      if (this.lookahead(i).type == "indent")
        return true;
    }
    looksLikeAttributeSelector(n) {
      var type = this.lookahead(n).type;
      if (type == "=" && this.bracketed)
        return true;
      return (type == "ident" || type == "string") && this.lookahead(n + 1).type == "]" && (this.lookahead(n + 2).type == "newline" || this.isSelectorToken(n + 2)) && !this.lineContains(":") && !this.lineContains("=");
    }
    looksLikeKeyframe() {
      var i = 2, type;
      switch (this.lookahead(i).type) {
        case "{":
        case "indent":
        case ",":
          return true;
        case "newline":
          while (this.lookahead(++i).type == "unit" || this.lookahead(i).type == "newline")
            ;
          type = this.lookahead(i).type;
          return type == "indent" || type == "{";
      }
    }
    stateAllowsSelector() {
      switch (this.currentState()) {
        case "root":
        case "atblock":
        case "selector":
        case "conditional":
        case "function":
        case "atrule":
        case "for":
          return true;
      }
    }
    assignAtblock(expr) {
      try {
        expr.push(this.atblock(expr));
      } catch (err) {
        this.error("invalid right-hand side operand in assignment, got {peek}");
      }
    }
    statement() {
      var stmt = this.stmt(), state = this.prevState, block, op;
      if (this.allowPostfix) {
        this.allowPostfix = false;
        state = "expression";
      }
      switch (state) {
        case "assignment":
        case "expression":
        case "function arguments":
          while (op = this.accept("if") || this.accept("unless") || this.accept("for")) {
            switch (op.type) {
              case "if":
              case "unless":
                stmt = new nodes.If(this.expression(), stmt);
                stmt.postfix = true;
                stmt.negate = op.type == "unless";
                this.accept(";");
                break;
              case "for":
                var key, val = this.id().name;
                if (this.accept(","))
                  key = this.id().name;
                this.expect("in");
                var each = new nodes.Each(val, key, this.expression());
                block = new nodes.Block(this.parent, each);
                block.push(stmt);
                each.block = block;
                stmt = each;
            }
          }
      }
      return stmt;
    }
    stmt() {
      var tok = this.peek(), selector;
      switch (tok.type) {
        case "keyframes":
          return this.keyframes();
        case "-moz-document":
          return this.mozdocument();
        case "comment":
        case "selector":
        case "literal":
        case "charset":
        case "namespace":
        case "import":
        case "require":
        case "extend":
        case "media":
        case "atrule":
        case "ident":
        case "scope":
        case "supports":
        case "unless":
        case "function":
        case "for":
        case "if":
          return this[tok.type]();
        case "return":
          return this.return();
        case "{":
          return this.property();
        default:
          if (this.stateAllowsSelector()) {
            switch (tok.type) {
              case "color":
              case "~":
              case ">":
              case "<":
              case ":":
              case "&":
              case "&&":
              case "[":
              case ".":
              case "/":
                selector = this.selector();
                selector.column = tok.column;
                selector.lineno = tok.lineno;
                return selector;
              case "..":
                if (this.lookahead(2).type == "/")
                  return this.selector();
              case "+":
                return this.lookahead(2).type == "function" ? this.functionCall() : this.selector();
              case "*":
                return this.property();
              case "unit":
                if (this.looksLikeKeyframe()) {
                  selector = this.selector();
                  selector.column = tok.column;
                  selector.lineno = tok.lineno;
                  return selector;
                }
              case "-":
                if (this.lookahead(2).type == "{")
                  return this.property();
            }
          }
          var expr = this.expression();
          if (expr.isEmpty)
            this.error("unexpected {peek}");
          return expr;
      }
    }
    block(node, scope) {
      var delim, stmt, next, block = this.parent = new nodes.Block(this.parent, node);
      if (scope === false)
        block.scope = false;
      this.accept("newline");
      if (this.accept("{")) {
        this.css++;
        delim = "}";
        this.skipWhitespace();
      } else {
        delim = "outdent";
        this.expect("indent");
      }
      while (delim != this.peek().type) {
        if (this.css) {
          if (this.accept("newline") || this.accept("indent"))
            continue;
          stmt = this.statement();
          this.accept(";");
          this.skipWhitespace();
        } else {
          if (this.accept("newline"))
            continue;
          next = this.lookahead(2).type;
          if (this.peek().type == "indent" && ~["outdent", "newline", "comment"].indexOf(next)) {
            this.skip(["indent", "outdent"]);
            continue;
          }
          if (this.peek().type == "eos")
            return block;
          stmt = this.statement();
          this.accept(";");
        }
        if (!stmt)
          this.error("unexpected token {peek} in block");
        block.push(stmt);
      }
      if (this.css) {
        this.skipWhitespace();
        this.expect("}");
        this.skipSpaces();
        this.css--;
      } else {
        this.expect("outdent");
      }
      this.parent = block.parent;
      return block;
    }
    comment() {
      var node = this.next().val;
      this.skipSpaces();
      return node;
    }
    for() {
      this.expect("for");
      var key, val = this.id().name;
      if (this.accept(","))
        key = this.id().name;
      this.expect("in");
      this.state.push("for");
      this.cond = true;
      var each = new nodes.Each(val, key, this.expression());
      this.cond = false;
      each.block = this.block(each, false);
      this.state.pop();
      return each;
    }
    return() {
      this.expect("return");
      var expr = this.expression();
      return expr.isEmpty ? new nodes.Return : new nodes.Return(expr);
    }
    unless() {
      this.expect("unless");
      this.state.push("conditional");
      this.cond = true;
      var node = new nodes.If(this.expression(), true);
      this.cond = false;
      node.block = this.block(node, false);
      this.state.pop();
      return node;
    }
    if() {
      var token = this.expect("if");
      this.state.push("conditional");
      this.cond = true;
      var node = new nodes.If(this.expression()), cond, block, item;
      node.column = token.column;
      this.cond = false;
      node.block = this.block(node, false);
      this.skip(["newline", "comment"]);
      while (this.accept("else")) {
        token = this.accept("if");
        if (token) {
          this.cond = true;
          cond = this.expression();
          this.cond = false;
          block = this.block(node, false);
          item = new nodes.If(cond, block);
          item.column = token.column;
          node.elses.push(item);
        } else {
          node.elses.push(this.block(node, false));
          break;
        }
        this.skip(["newline", "comment"]);
      }
      this.state.pop();
      return node;
    }
    atblock(node) {
      if (!node)
        this.expect("atblock");
      node = new nodes.Atblock;
      this.state.push("atblock");
      node.block = this.block(node, false);
      this.state.pop();
      return node;
    }
    atrule() {
      var type = this.expect("atrule").val, node = new nodes.Atrule(type), tok;
      this.skipSpacesAndComments();
      node.segments = this.selectorParts();
      this.skipSpacesAndComments();
      tok = this.peek().type;
      if (tok == "indent" || tok == "{" || tok == "newline" && this.lookahead(2).type == "{") {
        this.state.push("atrule");
        node.block = this.block(node);
        this.state.pop();
      }
      return node;
    }
    scope() {
      this.expect("scope");
      var selector = this.selectorParts().map(function(selector2) {
        return selector2.val;
      }).join("");
      this.selectorScope = selector.trim();
      return nodes.null;
    }
    supports() {
      this.expect("supports");
      var node = new nodes.Supports(this.supportsCondition());
      this.state.push("atrule");
      node.block = this.block(node);
      this.state.pop();
      return node;
    }
    supportsCondition() {
      var node = this.supportsNegation() || this.supportsOp();
      if (!node) {
        this.cond = true;
        node = this.expression();
        this.cond = false;
      }
      return node;
    }
    supportsNegation() {
      if (this.accept("not")) {
        var node = new nodes.Expression;
        node.push(new nodes.Literal("not"));
        node.push(this.supportsFeature());
        return node;
      }
    }
    supportsOp() {
      var feature = this.supportsFeature(), op, expr;
      if (feature) {
        expr = new nodes.Expression;
        expr.push(feature);
        while (op = this.accept("&&") || this.accept("||")) {
          expr.push(new nodes.Literal(op.val == "&&" ? "and" : "or"));
          expr.push(this.supportsFeature());
        }
        return expr;
      }
    }
    supportsFeature() {
      this.skipSpacesAndComments();
      if (this.peek().type == "(") {
        var la = this.lookahead(2).type;
        if (la == "ident" || la == "{") {
          return this.feature();
        } else {
          this.expect("(");
          var node = new nodes.Expression;
          node.push(new nodes.Literal("("));
          node.push(this.supportsCondition());
          this.expect(")");
          node.push(new nodes.Literal(")"));
          this.skipSpacesAndComments();
          return node;
        }
      }
    }
    extend() {
      var tok = this.expect("extend"), selectors = [], sel, node, arr;
      do {
        arr = this.selectorParts();
        if (!arr.length)
          continue;
        sel = new nodes.Selector(arr);
        selectors.push(sel);
        if (this.peek().type !== "!")
          continue;
        tok = this.lookahead(2);
        if (tok.type !== "ident" || tok.val.name !== "optional")
          continue;
        this.skip(["!", "ident"]);
        sel.optional = true;
      } while (this.accept(","));
      node = new nodes.Extend(selectors);
      node.lineno = tok.lineno;
      node.column = tok.column;
      return node;
    }
    media() {
      this.expect("media");
      this.state.push("atrule");
      var media = new nodes.Media(this.queries());
      media.block = this.block(media);
      this.state.pop();
      return media;
    }
    queries() {
      var queries = new nodes.QueryList, skip = ["comment", "newline", "space"];
      do {
        this.skip(skip);
        queries.push(this.query());
        this.skip(skip);
      } while (this.accept(","));
      return queries;
    }
    query() {
      var query = new nodes.Query, expr, pred, id;
      if (this.peek().type == "ident" && (this.lookahead(2).type == "." || this.lookahead(2).type == "[")) {
        this.cond = true;
        expr = this.expression();
        this.cond = false;
        query.push(new nodes.Feature(expr.nodes));
        return query;
      }
      if (pred = this.accept("ident") || this.accept("not")) {
        pred = new nodes.Literal(pred.val.string || pred.val);
        this.skipSpacesAndComments();
        if (id = this.accept("ident")) {
          query.type = id.val;
          query.predicate = pred;
        } else {
          query.type = pred;
        }
        this.skipSpacesAndComments();
        if (!this.accept("&&"))
          return query;
      }
      do {
        query.push(this.feature());
      } while (this.accept("&&"));
      return query;
    }
    feature() {
      this.skipSpacesAndComments();
      this.expect("(");
      this.skipSpacesAndComments();
      var node = new nodes.Feature(this.interpolate());
      this.skipSpacesAndComments();
      this.accept(":");
      this.skipSpacesAndComments();
      this.inProperty = true;
      node.expr = this.list();
      this.inProperty = false;
      this.skipSpacesAndComments();
      this.expect(")");
      this.skipSpacesAndComments();
      return node;
    }
    mozdocument() {
      this.expect("-moz-document");
      var mozdocument = new nodes.Atrule("-moz-document"), calls = [];
      do {
        this.skipSpacesAndComments();
        calls.push(this.functionCall());
        this.skipSpacesAndComments();
      } while (this.accept(","));
      mozdocument.segments = [new nodes.Literal(calls.join(", "))];
      this.state.push("atrule");
      mozdocument.block = this.block(mozdocument, false);
      this.state.pop();
      return mozdocument;
    }
    import() {
      this.expect("import");
      this.allowPostfix = true;
      return new nodes.Import(this.expression(), false);
    }
    require() {
      this.expect("require");
      this.allowPostfix = true;
      return new nodes.Import(this.expression(), true);
    }
    charset() {
      this.expect("charset");
      var str = this.expect("string").val;
      this.allowPostfix = true;
      return new nodes.Charset(str);
    }
    namespace() {
      var str, prefix;
      this.expect("namespace");
      this.skipSpacesAndComments();
      if (prefix = this.accept("ident")) {
        prefix = prefix.val;
      }
      this.skipSpacesAndComments();
      str = this.accept("string") || this.url();
      this.allowPostfix = true;
      return new nodes.Namespace(str, prefix);
    }
    keyframes() {
      var tok = this.expect("keyframes"), keyframes;
      this.skipSpacesAndComments();
      keyframes = new nodes.Keyframes(this.selectorParts(), tok.val);
      keyframes.column = tok.column;
      this.skipSpacesAndComments();
      this.state.push("atrule");
      keyframes.block = this.block(keyframes);
      this.state.pop();
      return keyframes;
    }
    literal() {
      return this.expect("literal").val;
    }
    id() {
      var tok = this.expect("ident");
      this.accept("space");
      return tok.val;
    }
    ident() {
      var i = 2, la = this.lookahead(i).type;
      while (la == "space")
        la = this.lookahead(++i).type;
      switch (la) {
        case "=":
        case "?=":
        case "-=":
        case "+=":
        case "*=":
        case "/=":
        case "%=":
          return this.assignment();
        case ".":
          if (this.lookahead(i - 1).type == "space")
            return this.selector();
          if (this._ident == this.peek())
            return this.id();
          while (this.lookahead(++i).type != "=" && !~["[", ",", "newline", "indent", "eos"].indexOf(this.lookahead(i).type))
            ;
          if (this.lookahead(i).type == "=") {
            this._ident = this.peek();
            return this.expression();
          } else if (this.looksLikeSelector() && this.stateAllowsSelector()) {
            return this.selector();
          }
        case "[":
          if (this._ident == this.peek())
            return this.id();
          while (this.lookahead(i++).type != "]" && this.lookahead(i).type != "selector" && this.lookahead(i).type != "eos")
            ;
          if (this.lookahead(i).type == "=") {
            this._ident = this.peek();
            return this.expression();
          } else if (this.looksLikeSelector() && this.stateAllowsSelector()) {
            return this.selector();
          }
        case "-":
        case "+":
        case "/":
        case "*":
        case "%":
        case "**":
        case "&&":
        case "||":
        case ">":
        case "<":
        case ">=":
        case "<=":
        case "!=":
        case "==":
        case "?":
        case "in":
        case "is a":
        case "is defined":
          if (this._ident == this.peek()) {
            return this.id();
          } else {
            this._ident = this.peek();
            switch (this.currentState()) {
              case "for":
              case "selector":
                return this.property();
              case "root":
              case "atblock":
              case "atrule":
                return la == "[" ? this.subscript() : this.selector();
              case "function":
              case "conditional":
                return this.looksLikeSelector() ? this.selector() : this.expression();
              default:
                return this.operand ? this.id() : this.expression();
            }
          }
        default:
          switch (this.currentState()) {
            case "root":
              return this.selector();
            case "for":
            case "selector":
            case "function":
            case "conditional":
            case "atblock":
            case "atrule":
              return this.property();
            default:
              var id = this.id();
              if (this.previousState() == "interpolation")
                id.mixin = true;
              return id;
          }
      }
    }
    interpolate() {
      var node, segs = [], star;
      star = this.accept("*");
      if (star)
        segs.push(new nodes.Literal("*"));
      while (true) {
        if (this.accept("{")) {
          this.state.push("interpolation");
          segs.push(this.expression());
          this.expect("}");
          this.state.pop();
        } else if (node = this.accept("-")) {
          segs.push(new nodes.Literal("-"));
        } else if (node = this.accept("ident")) {
          segs.push(node.val);
        } else {
          break;
        }
      }
      if (!segs.length)
        this.expect("ident");
      return segs;
    }
    property() {
      if (this.looksLikeSelector(true))
        return this.selector();
      var ident = this.interpolate(), prop = new nodes.Property(ident), ret = prop;
      this.accept("space");
      if (this.accept(":"))
        this.accept("space");
      this.state.push("property");
      this.inProperty = true;
      prop.expr = this.list();
      if (prop.expr.isEmpty)
        ret = ident[0];
      this.inProperty = false;
      this.allowPostfix = true;
      this.state.pop();
      this.accept(";");
      return ret;
    }
    selector() {
      var arr, group = new nodes.Group, scope = this.selectorScope, isRoot = this.currentState() == "root", selector;
      do {
        this.accept("newline");
        arr = this.selectorParts();
        if (isRoot && scope)
          arr.unshift(new nodes.Literal(scope + " "));
        if (arr.length) {
          selector = new nodes.Selector(arr);
          selector.lineno = arr[0].lineno;
          selector.column = arr[0].column;
          group.push(selector);
        }
      } while (this.accept(",") || this.accept("newline"));
      if (this.currentState() == "selector-parts")
        return group.nodes;
      this.state.push("selector");
      group.block = this.block(group);
      this.state.pop();
      return group;
    }
    selectorParts() {
      var tok, arr = [];
      while (tok = this.selectorToken()) {
        debug.selector("%s", tok);
        switch (tok.type) {
          case "{":
            this.skipSpaces();
            var expr = this.expression();
            this.skipSpaces();
            this.expect("}");
            arr.push(expr);
            break;
          case (this.prefix && "."):
            var literal = new nodes.Literal(tok.val + this.prefix);
            literal.prefixed = true;
            arr.push(literal);
            break;
          case "comment":
            break;
          case "color":
          case "unit":
            arr.push(new nodes.Literal(tok.val.raw));
            break;
          case "space":
            arr.push(new nodes.Literal(" "));
            break;
          case "function":
            arr.push(new nodes.Literal(tok.val.name + "("));
            break;
          case "ident":
            arr.push(new nodes.Literal(tok.val.name || tok.val.string));
            break;
          default:
            arr.push(new nodes.Literal(tok.val));
            if (tok.space)
              arr.push(new nodes.Literal(" "));
        }
      }
      return arr;
    }
    assignment() {
      var op, node, ident = this.id(), name = ident.name;
      if (op = this.accept("=") || this.accept("?=") || this.accept("+=") || this.accept("-=") || this.accept("*=") || this.accept("/=") || this.accept("%=")) {
        this.state.push("assignment");
        var expr = this.list();
        if (expr.isEmpty)
          this.assignAtblock(expr);
        node = new nodes.Ident(name, expr);
        node.lineno = ident.lineno;
        node.column = ident.column;
        this.state.pop();
        switch (op.type) {
          case "?=":
            var defined = new nodes.BinOp("is defined", node), lookup = new nodes.Expression;
            lookup.push(new nodes.Ident(name));
            node = new nodes.Ternary(defined, lookup, node);
            break;
          case "+=":
          case "-=":
          case "*=":
          case "/=":
          case "%=":
            node.val = new nodes.BinOp(op.type[0], new nodes.Ident(name), expr);
            break;
        }
      }
      return node;
    }
    function() {
      var parens = 1, i = 2, tok;
      out:
        while (tok = this.lookahead(i++)) {
          switch (tok.type) {
            case "function":
            case "(":
              ++parens;
              break;
            case ")":
              if (!--parens)
                break out;
              break;
            case "eos":
              this.error('failed to find closing paren ")"');
          }
        }
      switch (this.currentState()) {
        case "expression":
          return this.functionCall();
        default:
          return this.looksLikeFunctionDefinition(i) ? this.functionDefinition() : this.expression();
      }
    }
    url() {
      this.expect("function");
      this.state.push("function arguments");
      var args = this.args();
      this.expect(")");
      this.state.pop();
      return new nodes.Call("url", args);
    }
    functionCall() {
      var withBlock = this.accept("+");
      if (this.peek().val.name == "url")
        return this.url();
      var tok = this.expect("function").val;
      var name = tok.name;
      this.state.push("function arguments");
      this.parens++;
      var args = this.args();
      this.expect(")");
      this.parens--;
      this.state.pop();
      var call = new nodes.Call(name, args);
      call.column = tok.column;
      call.lineno = tok.lineno;
      if (withBlock) {
        this.state.push("function");
        call.block = this.block(call);
        this.state.pop();
      }
      return call;
    }
    functionDefinition() {
      var tok = this.expect("function"), name = tok.val.name;
      this.state.push("function params");
      this.skipWhitespace();
      var params = this.params();
      this.skipWhitespace();
      this.expect(")");
      this.state.pop();
      this.state.push("function");
      var fn = new nodes.Function(name, params);
      fn.column = tok.column;
      fn.lineno = tok.lineno;
      fn.block = this.block(fn);
      this.state.pop();
      return new nodes.Ident(name, fn);
    }
    params() {
      var tok, node, params = new nodes.Params;
      while (tok = this.accept("ident")) {
        this.accept("space");
        params.push(node = tok.val);
        if (this.accept("...")) {
          node.rest = true;
        } else if (this.accept("=")) {
          node.val = this.expression();
        }
        this.skipWhitespace();
        this.accept(",");
        this.skipWhitespace();
      }
      return params;
    }
    args() {
      var args = new nodes.Arguments, keyword;
      do {
        if (this.peek().type == "ident" && this.lookahead(2).type == ":") {
          keyword = this.next().val.string;
          this.expect(":");
          args.map[keyword] = this.expression();
        } else {
          args.push(this.expression());
        }
      } while (this.accept(","));
      return args;
    }
    list() {
      var node = this.expression();
      while (this.accept(",")) {
        if (node.isList) {
          list.push(this.expression());
        } else {
          var list = new nodes.Expression(true);
          list.push(node);
          list.push(this.expression());
          node = list;
        }
      }
      return node;
    }
    expression() {
      var node, expr = new nodes.Expression;
      this.state.push("expression");
      while (node = this.negation()) {
        if (!node)
          this.error("unexpected token {peek} in expression");
        expr.push(node);
      }
      this.state.pop();
      if (expr.nodes.length) {
        expr.lineno = expr.nodes[0].lineno;
        expr.column = expr.nodes[0].column;
      }
      return expr;
    }
    negation() {
      if (this.accept("not")) {
        return new nodes.UnaryOp("!", this.negation());
      }
      return this.ternary();
    }
    ternary() {
      var node = this.logical();
      if (this.accept("?")) {
        var trueExpr = this.expression();
        this.expect(":");
        var falseExpr = this.expression();
        node = new nodes.Ternary(node, trueExpr, falseExpr);
      }
      return node;
    }
    logical() {
      var op, node = this.typecheck();
      while (op = this.accept("&&") || this.accept("||")) {
        node = new nodes.BinOp(op.type, node, this.typecheck());
      }
      return node;
    }
    typecheck() {
      var op, node = this.equality();
      while (op = this.accept("is a")) {
        this.operand = true;
        if (!node)
          this.error('illegal unary "' + op + '", missing left-hand operand');
        node = new nodes.BinOp(op.type, node, this.equality());
        this.operand = false;
      }
      return node;
    }
    equality() {
      var op, node = this.in();
      while (op = this.accept("==") || this.accept("!=")) {
        this.operand = true;
        if (!node)
          this.error('illegal unary "' + op + '", missing left-hand operand');
        node = new nodes.BinOp(op.type, node, this.in());
        this.operand = false;
      }
      return node;
    }
    in() {
      var node = this.relational();
      while (this.accept("in")) {
        this.operand = true;
        if (!node)
          this.error('illegal unary "in", missing left-hand operand');
        node = new nodes.BinOp("in", node, this.relational());
        this.operand = false;
      }
      return node;
    }
    relational() {
      var op, node = this.range();
      while (op = this.accept(">=") || this.accept("<=") || this.accept("<") || this.accept(">")) {
        this.operand = true;
        if (!node)
          this.error('illegal unary "' + op + '", missing left-hand operand');
        node = new nodes.BinOp(op.type, node, this.range());
        this.operand = false;
      }
      return node;
    }
    range() {
      var op, node = this.additive();
      if (op = this.accept("...") || this.accept("..")) {
        this.operand = true;
        if (!node)
          this.error('illegal unary "' + op + '", missing left-hand operand');
        node = new nodes.BinOp(op.val, node, this.additive());
        this.operand = false;
      }
      return node;
    }
    additive() {
      var op, node = this.multiplicative();
      while (op = this.accept("+") || this.accept("-")) {
        this.operand = true;
        node = new nodes.BinOp(op.type, node, this.multiplicative());
        this.operand = false;
      }
      return node;
    }
    multiplicative() {
      var op, node = this.defined();
      while (op = this.accept("**") || this.accept("*") || this.accept("/") || this.accept("%")) {
        this.operand = true;
        if (op == "/" && this.inProperty && !this.parens) {
          this.stash.push(new Token("literal", new nodes.Literal("/")));
          this.operand = false;
          return node;
        } else {
          if (!node)
            this.error('illegal unary "' + op + '", missing left-hand operand');
          node = new nodes.BinOp(op.type, node, this.defined());
          this.operand = false;
        }
      }
      return node;
    }
    defined() {
      var node = this.unary();
      if (this.accept("is defined")) {
        if (!node)
          this.error('illegal unary "is defined", missing left-hand operand');
        node = new nodes.BinOp("is defined", node);
      }
      return node;
    }
    unary() {
      var op, node;
      if (op = this.accept("!") || this.accept("~") || this.accept("+") || this.accept("-")) {
        this.operand = true;
        node = this.unary();
        if (!node)
          this.error('illegal unary "' + op + '"');
        node = new nodes.UnaryOp(op.type, node);
        this.operand = false;
        return node;
      }
      return this.subscript();
    }
    subscript() {
      var node = this.member(), id;
      while (this.accept("[")) {
        node = new nodes.BinOp("[]", node, this.expression());
        this.expect("]");
      }
      if (this.accept("=")) {
        node.op += "=";
        node.val = this.list();
        if (node.val.isEmpty)
          this.assignAtblock(node.val);
      }
      return node;
    }
    member() {
      var node = this.primary();
      if (node) {
        while (this.accept(".")) {
          var id = new nodes.Ident(this.expect("ident").val.string);
          node = new nodes.Member(node, id);
        }
        this.skipSpaces();
        if (this.accept("=")) {
          node.val = this.list();
          if (node.val.isEmpty)
            this.assignAtblock(node.val);
        }
      }
      return node;
    }
    object() {
      var obj = new nodes.Object, id, val, comma, hash;
      this.expect("{");
      this.skipWhitespace();
      while (!this.accept("}")) {
        if (this.accept("comment") || this.accept("newline"))
          continue;
        if (!comma)
          this.accept(",");
        id = this.accept("ident") || this.accept("string");
        if (!id) {
          this.error('expected "ident" or "string", got {peek}');
        }
        hash = id.val.hash;
        this.skipSpacesAndComments();
        this.expect(":");
        val = this.expression();
        obj.setValue(hash, val);
        obj.setKey(hash, id.val);
        comma = this.accept(",");
        this.skipWhitespace();
      }
      return obj;
    }
    primary() {
      var tok;
      this.skipSpaces();
      if (this.accept("(")) {
        ++this.parens;
        var expr = this.expression(), paren = this.expect(")");
        --this.parens;
        if (this.accept("%"))
          expr.push(new nodes.Ident("%"));
        tok = this.peek();
        if (!paren.space && tok.type == "ident" && ~units.indexOf(tok.val.string)) {
          expr.push(new nodes.Ident(tok.val.string));
          this.next();
        }
        return expr;
      }
      tok = this.peek();
      switch (tok.type) {
        case "null":
        case "unit":
        case "color":
        case "string":
        case "literal":
        case "boolean":
        case "comment":
          return this.next().val;
        case (!this.cond && "{"):
          return this.object();
        case "atblock":
          return this.atblock();
        case "atrule":
          var id = new nodes.Ident(this.next().val);
          id.property = true;
          return id;
        case "ident":
          return this.ident();
        case "function":
          return tok.anonymous ? this.functionDefinition() : this.functionCall();
      }
    }
  };
});

// node_modules/source-map/lib/base64.js
var require_base64 = __commonJS((exports) => {
  var intToCharMap = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");
  exports.encode = function(number) {
    if (0 <= number && number < intToCharMap.length) {
      return intToCharMap[number];
    }
    throw new TypeError("Must be between 0 and 63: " + number);
  };
});

// node_modules/source-map/lib/base64-vlq.js
var require_base64_vlq = __commonJS((exports) => {
  var toVLQSigned = function(aValue) {
    return aValue < 0 ? (-aValue << 1) + 1 : (aValue << 1) + 0;
  };
  var base64 = require_base64();
  var VLQ_BASE_SHIFT = 5;
  var VLQ_BASE = 1 << VLQ_BASE_SHIFT;
  var VLQ_BASE_MASK = VLQ_BASE - 1;
  var VLQ_CONTINUATION_BIT = VLQ_BASE;
  exports.encode = function base64VLQ_encode(aValue) {
    let encoded = "";
    let digit;
    let vlq = toVLQSigned(aValue);
    do {
      digit = vlq & VLQ_BASE_MASK;
      vlq >>>= VLQ_BASE_SHIFT;
      if (vlq > 0) {
        digit |= VLQ_CONTINUATION_BIT;
      }
      encoded += base64.encode(digit);
    } while (vlq > 0);
    return encoded;
  };
});

// node_modules/source-map/lib/util.js
var require_util = __commonJS((exports) => {
  var getArg = function(aArgs, aName, aDefaultValue) {
    if (aName in aArgs) {
      return aArgs[aName];
    } else if (arguments.length === 3) {
      return aDefaultValue;
    }
    throw new Error('"' + aName + '" is a required argument.');
  };
  var urlParse = function(aUrl) {
    const match = aUrl.match(urlRegexp);
    if (!match) {
      return null;
    }
    return {
      scheme: match[1],
      auth: match[2],
      host: match[3],
      port: match[4],
      path: match[5]
    };
  };
  var urlGenerate = function(aParsedUrl) {
    let url = "";
    if (aParsedUrl.scheme) {
      url += aParsedUrl.scheme + ":";
    }
    url += "//";
    if (aParsedUrl.auth) {
      url += aParsedUrl.auth + "@";
    }
    if (aParsedUrl.host) {
      url += aParsedUrl.host;
    }
    if (aParsedUrl.port) {
      url += ":" + aParsedUrl.port;
    }
    if (aParsedUrl.path) {
      url += aParsedUrl.path;
    }
    return url;
  };
  var lruMemoize = function(f) {
    const cache = [];
    return function(input) {
      for (let i = 0;i < cache.length; i++) {
        if (cache[i].input === input) {
          const temp = cache[0];
          cache[0] = cache[i];
          cache[i] = temp;
          return cache[0].result;
        }
      }
      const result = f(input);
      cache.unshift({
        input,
        result
      });
      if (cache.length > MAX_CACHED_INPUTS) {
        cache.pop();
      }
      return result;
    };
  };
  var join = function(aRoot, aPath) {
    if (aRoot === "") {
      aRoot = ".";
    }
    if (aPath === "") {
      aPath = ".";
    }
    const aPathUrl = urlParse(aPath);
    const aRootUrl = urlParse(aRoot);
    if (aRootUrl) {
      aRoot = aRootUrl.path || "/";
    }
    if (aPathUrl && !aPathUrl.scheme) {
      if (aRootUrl) {
        aPathUrl.scheme = aRootUrl.scheme;
      }
      return urlGenerate(aPathUrl);
    }
    if (aPathUrl || aPath.match(dataUrlRegexp)) {
      return aPath;
    }
    if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {
      aRootUrl.host = aPath;
      return urlGenerate(aRootUrl);
    }
    const joined = aPath.charAt(0) === "/" ? aPath : normalize(aRoot.replace(/\/+$/, "") + "/" + aPath);
    if (aRootUrl) {
      aRootUrl.path = joined;
      return urlGenerate(aRootUrl);
    }
    return joined;
  };
  var relative = function(aRoot, aPath) {
    if (aRoot === "") {
      aRoot = ".";
    }
    aRoot = aRoot.replace(/\/$/, "");
    let level = 0;
    while (aPath.indexOf(aRoot + "/") !== 0) {
      const index = aRoot.lastIndexOf("/");
      if (index < 0) {
        return aPath;
      }
      aRoot = aRoot.slice(0, index);
      if (aRoot.match(/^([^\/]+:\/)?\/*$/)) {
        return aPath;
      }
      ++level;
    }
    return Array(level + 1).join("../") + aPath.substr(aRoot.length + 1);
  };
  var identity = function(s) {
    return s;
  };
  var toSetString = function(aStr) {
    if (isProtoString(aStr)) {
      return "$" + aStr;
    }
    return aStr;
  };
  var fromSetString = function(aStr) {
    if (isProtoString(aStr)) {
      return aStr.slice(1);
    }
    return aStr;
  };
  var isProtoString = function(s) {
    if (!s) {
      return false;
    }
    const length = s.length;
    if (length < 9) {
      return false;
    }
    if (s.charCodeAt(length - 1) !== 95 || s.charCodeAt(length - 2) !== 95 || s.charCodeAt(length - 3) !== 111 || s.charCodeAt(length - 4) !== 116 || s.charCodeAt(length - 5) !== 111 || s.charCodeAt(length - 6) !== 114 || s.charCodeAt(length - 7) !== 112 || s.charCodeAt(length - 8) !== 95 || s.charCodeAt(length - 9) !== 95) {
      return false;
    }
    for (let i = length - 10;i >= 0; i--) {
      if (s.charCodeAt(i) !== 36) {
        return false;
      }
    }
    return true;
  };
  var compareByOriginalPositions = function(mappingA, mappingB, onlyCompareOriginal) {
    let cmp = strcmp(mappingA.source, mappingB.source);
    if (cmp !== 0) {
      return cmp;
    }
    cmp = mappingA.originalLine - mappingB.originalLine;
    if (cmp !== 0) {
      return cmp;
    }
    cmp = mappingA.originalColumn - mappingB.originalColumn;
    if (cmp !== 0 || onlyCompareOriginal) {
      return cmp;
    }
    cmp = mappingA.generatedColumn - mappingB.generatedColumn;
    if (cmp !== 0) {
      return cmp;
    }
    cmp = mappingA.generatedLine - mappingB.generatedLine;
    if (cmp !== 0) {
      return cmp;
    }
    return strcmp(mappingA.name, mappingB.name);
  };
  var compareByGeneratedPositionsDeflated = function(mappingA, mappingB, onlyCompareGenerated) {
    let cmp = mappingA.generatedLine - mappingB.generatedLine;
    if (cmp !== 0) {
      return cmp;
    }
    cmp = mappingA.generatedColumn - mappingB.generatedColumn;
    if (cmp !== 0 || onlyCompareGenerated) {
      return cmp;
    }
    cmp = strcmp(mappingA.source, mappingB.source);
    if (cmp !== 0) {
      return cmp;
    }
    cmp = mappingA.originalLine - mappingB.originalLine;
    if (cmp !== 0) {
      return cmp;
    }
    cmp = mappingA.originalColumn - mappingB.originalColumn;
    if (cmp !== 0) {
      return cmp;
    }
    return strcmp(mappingA.name, mappingB.name);
  };
  var strcmp = function(aStr1, aStr2) {
    if (aStr1 === aStr2) {
      return 0;
    }
    if (aStr1 === null) {
      return 1;
    }
    if (aStr2 === null) {
      return -1;
    }
    if (aStr1 > aStr2) {
      return 1;
    }
    return -1;
  };
  var compareByGeneratedPositionsInflated = function(mappingA, mappingB) {
    let cmp = mappingA.generatedLine - mappingB.generatedLine;
    if (cmp !== 0) {
      return cmp;
    }
    cmp = mappingA.generatedColumn - mappingB.generatedColumn;
    if (cmp !== 0) {
      return cmp;
    }
    cmp = strcmp(mappingA.source, mappingB.source);
    if (cmp !== 0) {
      return cmp;
    }
    cmp = mappingA.originalLine - mappingB.originalLine;
    if (cmp !== 0) {
      return cmp;
    }
    cmp = mappingA.originalColumn - mappingB.originalColumn;
    if (cmp !== 0) {
      return cmp;
    }
    return strcmp(mappingA.name, mappingB.name);
  };
  var parseSourceMapInput = function(str) {
    return JSON.parse(str.replace(/^\)]}'[^\n]*\n/, ""));
  };
  var computeSourceURL = function(sourceRoot, sourceURL, sourceMapURL) {
    sourceURL = sourceURL || "";
    if (sourceRoot) {
      if (sourceRoot[sourceRoot.length - 1] !== "/" && sourceURL[0] !== "/") {
        sourceRoot += "/";
      }
      sourceURL = sourceRoot + sourceURL;
    }
    if (sourceMapURL) {
      const parsed = urlParse(sourceMapURL);
      if (!parsed) {
        throw new Error("sourceMapURL could not be parsed");
      }
      if (parsed.path) {
        const index = parsed.path.lastIndexOf("/");
        if (index >= 0) {
          parsed.path = parsed.path.substring(0, index + 1);
        }
      }
      sourceURL = join(urlGenerate(parsed), sourceURL);
    }
    return normalize(sourceURL);
  };
  exports.getArg = getArg;
  var urlRegexp = /^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/;
  var dataUrlRegexp = /^data:.+\,.+$/;
  exports.urlParse = urlParse;
  exports.urlGenerate = urlGenerate;
  var MAX_CACHED_INPUTS = 32;
  var normalize = lruMemoize(function normalize(aPath) {
    let path = aPath;
    const url = urlParse(aPath);
    if (url) {
      if (!url.path) {
        return aPath;
      }
      path = url.path;
    }
    const isAbsolute = exports.isAbsolute(path);
    const parts = [];
    let start = 0;
    let i = 0;
    while (true) {
      start = i;
      i = path.indexOf("/", start);
      if (i === -1) {
        parts.push(path.slice(start));
        break;
      } else {
        parts.push(path.slice(start, i));
        while (i < path.length && path[i] === "/") {
          i++;
        }
      }
    }
    let up = 0;
    for (i = parts.length - 1;i >= 0; i--) {
      const part = parts[i];
      if (part === ".") {
        parts.splice(i, 1);
      } else if (part === "..") {
        up++;
      } else if (up > 0) {
        if (part === "") {
          parts.splice(i + 1, up);
          up = 0;
        } else {
          parts.splice(i, 2);
          up--;
        }
      }
    }
    path = parts.join("/");
    if (path === "") {
      path = isAbsolute ? "/" : ".";
    }
    if (url) {
      url.path = path;
      return urlGenerate(url);
    }
    return path;
  });
  exports.normalize = normalize;
  exports.join = join;
  exports.isAbsolute = function(aPath) {
    return aPath.charAt(0) === "/" || urlRegexp.test(aPath);
  };
  exports.relative = relative;
  var supportsNullProto = function() {
    const obj = Object.create(null);
    return !("__proto__" in obj);
  }();
  exports.toSetString = supportsNullProto ? identity : toSetString;
  exports.fromSetString = supportsNullProto ? identity : fromSetString;
  exports.compareByOriginalPositions = compareByOriginalPositions;
  exports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;
  exports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;
  exports.parseSourceMapInput = parseSourceMapInput;
  exports.computeSourceURL = computeSourceURL;
});

// node_modules/source-map/lib/array-set.js
var require_array_set = __commonJS((exports) => {
  class ArraySet {
    constructor() {
      this._array = [];
      this._set = new Map;
    }
    static fromArray(aArray, aAllowDuplicates) {
      const set = new ArraySet;
      for (let i = 0, len = aArray.length;i < len; i++) {
        set.add(aArray[i], aAllowDuplicates);
      }
      return set;
    }
    size() {
      return this._set.size;
    }
    add(aStr, aAllowDuplicates) {
      const isDuplicate = this.has(aStr);
      const idx = this._array.length;
      if (!isDuplicate || aAllowDuplicates) {
        this._array.push(aStr);
      }
      if (!isDuplicate) {
        this._set.set(aStr, idx);
      }
    }
    has(aStr) {
      return this._set.has(aStr);
    }
    indexOf(aStr) {
      const idx = this._set.get(aStr);
      if (idx >= 0) {
        return idx;
      }
      throw new Error('"' + aStr + '" is not in the set.');
    }
    at(aIdx) {
      if (aIdx >= 0 && aIdx < this._array.length) {
        return this._array[aIdx];
      }
      throw new Error("No element indexed by " + aIdx);
    }
    toArray() {
      return this._array.slice();
    }
  }
  exports.ArraySet = ArraySet;
});

// node_modules/source-map/lib/mapping-list.js
var require_mapping_list = __commonJS((exports) => {
  var generatedPositionAfter = function(mappingA, mappingB) {
    const lineA = mappingA.generatedLine;
    const lineB = mappingB.generatedLine;
    const columnA = mappingA.generatedColumn;
    const columnB = mappingB.generatedColumn;
    return lineB > lineA || lineB == lineA && columnB >= columnA || util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;
  };
  var util = require_util();

  class MappingList {
    constructor() {
      this._array = [];
      this._sorted = true;
      this._last = { generatedLine: -1, generatedColumn: 0 };
    }
    unsortedForEach(aCallback, aThisArg) {
      this._array.forEach(aCallback, aThisArg);
    }
    add(aMapping) {
      if (generatedPositionAfter(this._last, aMapping)) {
        this._last = aMapping;
        this._array.push(aMapping);
      } else {
        this._sorted = false;
        this._array.push(aMapping);
      }
    }
    toArray() {
      if (!this._sorted) {
        this._array.sort(util.compareByGeneratedPositionsInflated);
        this._sorted = true;
      }
      return this._array;
    }
  }
  exports.MappingList = MappingList;
});

// node_modules/source-map/lib/source-map-generator.js
var require_source_map_generator = __commonJS((exports) => {
  var base64VLQ = require_base64_vlq();
  var util = require_util();
  var ArraySet = require_array_set().ArraySet;
  var MappingList = require_mapping_list().MappingList;

  class SourceMapGenerator {
    constructor(aArgs) {
      if (!aArgs) {
        aArgs = {};
      }
      this._file = util.getArg(aArgs, "file", null);
      this._sourceRoot = util.getArg(aArgs, "sourceRoot", null);
      this._skipValidation = util.getArg(aArgs, "skipValidation", false);
      this._sources = new ArraySet;
      this._names = new ArraySet;
      this._mappings = new MappingList;
      this._sourcesContents = null;
    }
    static fromSourceMap(aSourceMapConsumer) {
      const sourceRoot = aSourceMapConsumer.sourceRoot;
      const generator = new SourceMapGenerator({
        file: aSourceMapConsumer.file,
        sourceRoot
      });
      aSourceMapConsumer.eachMapping(function(mapping) {
        const newMapping = {
          generated: {
            line: mapping.generatedLine,
            column: mapping.generatedColumn
          }
        };
        if (mapping.source != null) {
          newMapping.source = mapping.source;
          if (sourceRoot != null) {
            newMapping.source = util.relative(sourceRoot, newMapping.source);
          }
          newMapping.original = {
            line: mapping.originalLine,
            column: mapping.originalColumn
          };
          if (mapping.name != null) {
            newMapping.name = mapping.name;
          }
        }
        generator.addMapping(newMapping);
      });
      aSourceMapConsumer.sources.forEach(function(sourceFile) {
        let sourceRelative = sourceFile;
        if (sourceRoot !== null) {
          sourceRelative = util.relative(sourceRoot, sourceFile);
        }
        if (!generator._sources.has(sourceRelative)) {
          generator._sources.add(sourceRelative);
        }
        const content = aSourceMapConsumer.sourceContentFor(sourceFile);
        if (content != null) {
          generator.setSourceContent(sourceFile, content);
        }
      });
      return generator;
    }
    addMapping(aArgs) {
      const generated = util.getArg(aArgs, "generated");
      const original = util.getArg(aArgs, "original", null);
      let source = util.getArg(aArgs, "source", null);
      let name = util.getArg(aArgs, "name", null);
      if (!this._skipValidation) {
        this._validateMapping(generated, original, source, name);
      }
      if (source != null) {
        source = String(source);
        if (!this._sources.has(source)) {
          this._sources.add(source);
        }
      }
      if (name != null) {
        name = String(name);
        if (!this._names.has(name)) {
          this._names.add(name);
        }
      }
      this._mappings.add({
        generatedLine: generated.line,
        generatedColumn: generated.column,
        originalLine: original != null && original.line,
        originalColumn: original != null && original.column,
        source,
        name
      });
    }
    setSourceContent(aSourceFile, aSourceContent) {
      let source = aSourceFile;
      if (this._sourceRoot != null) {
        source = util.relative(this._sourceRoot, source);
      }
      if (aSourceContent != null) {
        if (!this._sourcesContents) {
          this._sourcesContents = Object.create(null);
        }
        this._sourcesContents[util.toSetString(source)] = aSourceContent;
      } else if (this._sourcesContents) {
        delete this._sourcesContents[util.toSetString(source)];
        if (Object.keys(this._sourcesContents).length === 0) {
          this._sourcesContents = null;
        }
      }
    }
    applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {
      let sourceFile = aSourceFile;
      if (aSourceFile == null) {
        if (aSourceMapConsumer.file == null) {
          throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');
        }
        sourceFile = aSourceMapConsumer.file;
      }
      const sourceRoot = this._sourceRoot;
      if (sourceRoot != null) {
        sourceFile = util.relative(sourceRoot, sourceFile);
      }
      const newSources = this._mappings.toArray().length > 0 ? new ArraySet : this._sources;
      const newNames = new ArraySet;
      this._mappings.unsortedForEach(function(mapping) {
        if (mapping.source === sourceFile && mapping.originalLine != null) {
          const original = aSourceMapConsumer.originalPositionFor({
            line: mapping.originalLine,
            column: mapping.originalColumn
          });
          if (original.source != null) {
            mapping.source = original.source;
            if (aSourceMapPath != null) {
              mapping.source = util.join(aSourceMapPath, mapping.source);
            }
            if (sourceRoot != null) {
              mapping.source = util.relative(sourceRoot, mapping.source);
            }
            mapping.originalLine = original.line;
            mapping.originalColumn = original.column;
            if (original.name != null) {
              mapping.name = original.name;
            }
          }
        }
        const source = mapping.source;
        if (source != null && !newSources.has(source)) {
          newSources.add(source);
        }
        const name = mapping.name;
        if (name != null && !newNames.has(name)) {
          newNames.add(name);
        }
      }, this);
      this._sources = newSources;
      this._names = newNames;
      aSourceMapConsumer.sources.forEach(function(srcFile) {
        const content = aSourceMapConsumer.sourceContentFor(srcFile);
        if (content != null) {
          if (aSourceMapPath != null) {
            srcFile = util.join(aSourceMapPath, srcFile);
          }
          if (sourceRoot != null) {
            srcFile = util.relative(sourceRoot, srcFile);
          }
          this.setSourceContent(srcFile, content);
        }
      }, this);
    }
    _validateMapping(aGenerated, aOriginal, aSource, aName) {
      if (aOriginal && typeof aOriginal.line !== "number" && typeof aOriginal.column !== "number") {
        throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");
      }
      if (aGenerated && "line" in aGenerated && "column" in aGenerated && aGenerated.line > 0 && aGenerated.column >= 0 && !aOriginal && !aSource && !aName) {
      } else if (aGenerated && "line" in aGenerated && "column" in aGenerated && aOriginal && "line" in aOriginal && "column" in aOriginal && aGenerated.line > 0 && aGenerated.column >= 0 && aOriginal.line > 0 && aOriginal.column >= 0 && aSource) {
      } else {
        throw new Error("Invalid mapping: " + JSON.stringify({
          generated: aGenerated,
          source: aSource,
          original: aOriginal,
          name: aName
        }));
      }
    }
    _serializeMappings() {
      let previousGeneratedColumn = 0;
      let previousGeneratedLine = 1;
      let previousOriginalColumn = 0;
      let previousOriginalLine = 0;
      let previousName = 0;
      let previousSource = 0;
      let result = "";
      let next;
      let mapping;
      let nameIdx;
      let sourceIdx;
      const mappings = this._mappings.toArray();
      for (let i = 0, len = mappings.length;i < len; i++) {
        mapping = mappings[i];
        next = "";
        if (mapping.generatedLine !== previousGeneratedLine) {
          previousGeneratedColumn = 0;
          while (mapping.generatedLine !== previousGeneratedLine) {
            next += ";";
            previousGeneratedLine++;
          }
        } else if (i > 0) {
          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {
            continue;
          }
          next += ",";
        }
        next += base64VLQ.encode(mapping.generatedColumn - previousGeneratedColumn);
        previousGeneratedColumn = mapping.generatedColumn;
        if (mapping.source != null) {
          sourceIdx = this._sources.indexOf(mapping.source);
          next += base64VLQ.encode(sourceIdx - previousSource);
          previousSource = sourceIdx;
          next += base64VLQ.encode(mapping.originalLine - 1 - previousOriginalLine);
          previousOriginalLine = mapping.originalLine - 1;
          next += base64VLQ.encode(mapping.originalColumn - previousOriginalColumn);
          previousOriginalColumn = mapping.originalColumn;
          if (mapping.name != null) {
            nameIdx = this._names.indexOf(mapping.name);
            next += base64VLQ.encode(nameIdx - previousName);
            previousName = nameIdx;
          }
        }
        result += next;
      }
      return result;
    }
    _generateSourcesContent(aSources, aSourceRoot) {
      return aSources.map(function(source) {
        if (!this._sourcesContents) {
          return null;
        }
        if (aSourceRoot != null) {
          source = util.relative(aSourceRoot, source);
        }
        const key = util.toSetString(source);
        return Object.prototype.hasOwnProperty.call(this._sourcesContents, key) ? this._sourcesContents[key] : null;
      }, this);
    }
    toJSON() {
      const map = {
        version: this._version,
        sources: this._sources.toArray(),
        names: this._names.toArray(),
        mappings: this._serializeMappings()
      };
      if (this._file != null) {
        map.file = this._file;
      }
      if (this._sourceRoot != null) {
        map.sourceRoot = this._sourceRoot;
      }
      if (this._sourcesContents) {
        map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);
      }
      return map;
    }
    toString() {
      return JSON.stringify(this.toJSON());
    }
  }
  SourceMapGenerator.prototype._version = 3;
  exports.SourceMapGenerator = SourceMapGenerator;
});

// node_modules/source-map/lib/binary-search.js
var require_binary_search = __commonJS((exports) => {
  var recursiveSearch = function(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {
    const mid = Math.floor((aHigh - aLow) / 2) + aLow;
    const cmp = aCompare(aNeedle, aHaystack[mid], true);
    if (cmp === 0) {
      return mid;
    } else if (cmp > 0) {
      if (aHigh - mid > 1) {
        return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);
      }
      if (aBias == exports.LEAST_UPPER_BOUND) {
        return aHigh < aHaystack.length ? aHigh : -1;
      }
      return mid;
    }
    if (mid - aLow > 1) {
      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);
    }
    if (aBias == exports.LEAST_UPPER_BOUND) {
      return mid;
    }
    return aLow < 0 ? -1 : aLow;
  };
  exports.GREATEST_LOWER_BOUND = 1;
  exports.LEAST_UPPER_BOUND = 2;
  exports.search = function search(aNeedle, aHaystack, aCompare, aBias) {
    if (aHaystack.length === 0) {
      return -1;
    }
    let index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack, aCompare, aBias || exports.GREATEST_LOWER_BOUND);
    if (index < 0) {
      return -1;
    }
    while (index - 1 >= 0) {
      if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {
        break;
      }
      --index;
    }
    return index;
  };
});

// node_modules/source-map/lib/read-wasm.js
var require_read_wasm = __commonJS((exports, module) => {
  var __dirname = "/Users/kodi/Downloads/stylus-0.62.0/node_modules/source-map/lib";
  var isBrowserEnvironment = function() {
    return typeof window !== "undefined" && this === window;
  }.call();
  if (isBrowserEnvironment) {
    let mappingsWasm = null;
    module.exports = function readWasm() {
      if (typeof mappingsWasm === "string") {
        return fetch(mappingsWasm).then((response) => response.arrayBuffer());
      }
      if (mappingsWasm instanceof ArrayBuffer) {
        return Promise.resolve(mappingsWasm);
      }
      throw new Error("You must provide the string URL or ArrayBuffer contents of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer");
    };
    module.exports.initialize = (input) => mappingsWasm = input;
  } else {
    const fs = __require("fs");
    const path = __require("path");
    module.exports = function readWasm() {
      return new Promise((resolve, reject) => {
        const wasmPath = path.join(__dirname, "mappings.wasm");
        fs.readFile(wasmPath, null, (error, data) => {
          if (error) {
            reject(error);
            return;
          }
          resolve(data.buffer);
        });
      });
    };
    module.exports.initialize = (_) => {
      console.debug("SourceMapConsumer.initialize is a no-op when running in node.js");
    };
  }
});

// node_modules/source-map/lib/wasm.js
var require_wasm = __commonJS((exports, module) => {
  var Mapping = function() {
    this.generatedLine = 0;
    this.generatedColumn = 0;
    this.lastGeneratedColumn = null;
    this.source = null;
    this.originalLine = null;
    this.originalColumn = null;
    this.name = null;
  };
  var readWasm = require_read_wasm();
  var cachedWasm = null;
  module.exports = function wasm() {
    if (cachedWasm) {
      return cachedWasm;
    }
    const callbackStack = [];
    cachedWasm = readWasm().then((buffer) => {
      return WebAssembly.instantiate(buffer, {
        env: {
          mapping_callback(generatedLine, generatedColumn, hasLastGeneratedColumn, lastGeneratedColumn, hasOriginal, source, originalLine, originalColumn, hasName, name) {
            const mapping = new Mapping;
            mapping.generatedLine = generatedLine + 1;
            mapping.generatedColumn = generatedColumn;
            if (hasLastGeneratedColumn) {
              mapping.lastGeneratedColumn = lastGeneratedColumn - 1;
            }
            if (hasOriginal) {
              mapping.source = source;
              mapping.originalLine = originalLine + 1;
              mapping.originalColumn = originalColumn;
              if (hasName) {
                mapping.name = name;
              }
            }
            callbackStack[callbackStack.length - 1](mapping);
          },
          start_all_generated_locations_for() {
            console.time("all_generated_locations_for");
          },
          end_all_generated_locations_for() {
            console.timeEnd("all_generated_locations_for");
          },
          start_compute_column_spans() {
            console.time("compute_column_spans");
          },
          end_compute_column_spans() {
            console.timeEnd("compute_column_spans");
          },
          start_generated_location_for() {
            console.time("generated_location_for");
          },
          end_generated_location_for() {
            console.timeEnd("generated_location_for");
          },
          start_original_location_for() {
            console.time("original_location_for");
          },
          end_original_location_for() {
            console.timeEnd("original_location_for");
          },
          start_parse_mappings() {
            console.time("parse_mappings");
          },
          end_parse_mappings() {
            console.timeEnd("parse_mappings");
          },
          start_sort_by_generated_location() {
            console.time("sort_by_generated_location");
          },
          end_sort_by_generated_location() {
            console.timeEnd("sort_by_generated_location");
          },
          start_sort_by_original_location() {
            console.time("sort_by_original_location");
          },
          end_sort_by_original_location() {
            console.timeEnd("sort_by_original_location");
          }
        }
      });
    }).then((Wasm) => {
      return {
        exports: Wasm.instance.exports,
        withMappingCallback: (mappingCallback, f) => {
          callbackStack.push(mappingCallback);
          try {
            f();
          } finally {
            callbackStack.pop();
          }
        }
      };
    }).then(null, (e) => {
      cachedWasm = null;
      throw e;
    });
    return cachedWasm;
  };
});

// node_modules/source-map/lib/source-map-consumer.js
var require_source_map_consumer = __commonJS((exports) => {
  var _factory = function(aSourceMap, aSourceMapURL) {
    let sourceMap = aSourceMap;
    if (typeof aSourceMap === "string") {
      sourceMap = util.parseSourceMapInput(aSourceMap);
    }
    const consumer = sourceMap.sections != null ? new IndexedSourceMapConsumer(sourceMap, aSourceMapURL) : new BasicSourceMapConsumer(sourceMap, aSourceMapURL);
    return Promise.resolve(consumer);
  };
  var _factoryBSM = function(aSourceMap, aSourceMapURL) {
    return BasicSourceMapConsumer.fromSourceMap(aSourceMap, aSourceMapURL);
  };
  var util = require_util();
  var binarySearch = require_binary_search();
  var ArraySet = require_array_set().ArraySet;
  var base64VLQ = require_base64_vlq();
  var readWasm = require_read_wasm();
  var wasm = require_wasm();
  var INTERNAL = Symbol("smcInternal");

  class SourceMapConsumer {
    constructor(aSourceMap, aSourceMapURL) {
      if (aSourceMap == INTERNAL) {
        return Promise.resolve(this);
      }
      return _factory(aSourceMap, aSourceMapURL);
    }
    static initialize(opts) {
      readWasm.initialize(opts["lib/mappings.wasm"]);
    }
    static fromSourceMap(aSourceMap, aSourceMapURL) {
      return _factoryBSM(aSourceMap, aSourceMapURL);
    }
    static async with(rawSourceMap, sourceMapUrl, f) {
      const consumer = await new SourceMapConsumer(rawSourceMap, sourceMapUrl);
      try {
        return await f(consumer);
      } finally {
        consumer.destroy();
      }
    }
    _parseMappings(aStr, aSourceRoot) {
      throw new Error("Subclasses must implement _parseMappings");
    }
    eachMapping(aCallback, aContext, aOrder) {
      throw new Error("Subclasses must implement eachMapping");
    }
    allGeneratedPositionsFor(aArgs) {
      throw new Error("Subclasses must implement allGeneratedPositionsFor");
    }
    destroy() {
      throw new Error("Subclasses must implement destroy");
    }
  }
  SourceMapConsumer.prototype._version = 3;
  SourceMapConsumer.GENERATED_ORDER = 1;
  SourceMapConsumer.ORIGINAL_ORDER = 2;
  SourceMapConsumer.GREATEST_LOWER_BOUND = 1;
  SourceMapConsumer.LEAST_UPPER_BOUND = 2;
  exports.SourceMapConsumer = SourceMapConsumer;

  class BasicSourceMapConsumer extends SourceMapConsumer {
    constructor(aSourceMap, aSourceMapURL) {
      return super(INTERNAL).then((that) => {
        let sourceMap = aSourceMap;
        if (typeof aSourceMap === "string") {
          sourceMap = util.parseSourceMapInput(aSourceMap);
        }
        const version = util.getArg(sourceMap, "version");
        let sources = util.getArg(sourceMap, "sources");
        const names = util.getArg(sourceMap, "names", []);
        let sourceRoot = util.getArg(sourceMap, "sourceRoot", null);
        const sourcesContent = util.getArg(sourceMap, "sourcesContent", null);
        const mappings = util.getArg(sourceMap, "mappings");
        const file = util.getArg(sourceMap, "file", null);
        if (version != that._version) {
          throw new Error("Unsupported version: " + version);
        }
        if (sourceRoot) {
          sourceRoot = util.normalize(sourceRoot);
        }
        sources = sources.map(String).map(util.normalize).map(function(source) {
          return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source) ? util.relative(sourceRoot, source) : source;
        });
        that._names = ArraySet.fromArray(names.map(String), true);
        that._sources = ArraySet.fromArray(sources, true);
        that._absoluteSources = that._sources.toArray().map(function(s) {
          return util.computeSourceURL(sourceRoot, s, aSourceMapURL);
        });
        that.sourceRoot = sourceRoot;
        that.sourcesContent = sourcesContent;
        that._mappings = mappings;
        that._sourceMapURL = aSourceMapURL;
        that.file = file;
        that._computedColumnSpans = false;
        that._mappingsPtr = 0;
        that._wasm = null;
        return wasm().then((w) => {
          that._wasm = w;
          return that;
        });
      });
    }
    _findSourceIndex(aSource) {
      let relativeSource = aSource;
      if (this.sourceRoot != null) {
        relativeSource = util.relative(this.sourceRoot, relativeSource);
      }
      if (this._sources.has(relativeSource)) {
        return this._sources.indexOf(relativeSource);
      }
      for (let i = 0;i < this._absoluteSources.length; ++i) {
        if (this._absoluteSources[i] == aSource) {
          return i;
        }
      }
      return -1;
    }
    static fromSourceMap(aSourceMap, aSourceMapURL) {
      return new BasicSourceMapConsumer(aSourceMap.toString());
    }
    get sources() {
      return this._absoluteSources.slice();
    }
    _getMappingsPtr() {
      if (this._mappingsPtr === 0) {
        this._parseMappings(this._mappings, this.sourceRoot);
      }
      return this._mappingsPtr;
    }
    _parseMappings(aStr, aSourceRoot) {
      const size = aStr.length;
      const mappingsBufPtr = this._wasm.exports.allocate_mappings(size);
      const mappingsBuf = new Uint8Array(this._wasm.exports.memory.buffer, mappingsBufPtr, size);
      for (let i = 0;i < size; i++) {
        mappingsBuf[i] = aStr.charCodeAt(i);
      }
      const mappingsPtr = this._wasm.exports.parse_mappings(mappingsBufPtr);
      if (!mappingsPtr) {
        const error = this._wasm.exports.get_last_error();
        let msg = `Error parsing mappings (code ${error}): `;
        switch (error) {
          case 1:
            msg += "the mappings contained a negative line, column, source index, or name index";
            break;
          case 2:
            msg += "the mappings contained a number larger than 2**32";
            break;
          case 3:
            msg += "reached EOF while in the middle of parsing a VLQ";
            break;
          case 4:
            msg += "invalid base 64 character while parsing a VLQ";
            break;
          default:
            msg += "unknown error code";
            break;
        }
        throw new Error(msg);
      }
      this._mappingsPtr = mappingsPtr;
    }
    eachMapping(aCallback, aContext, aOrder) {
      const context = aContext || null;
      const order = aOrder || SourceMapConsumer.GENERATED_ORDER;
      const sourceRoot = this.sourceRoot;
      this._wasm.withMappingCallback((mapping) => {
        if (mapping.source !== null) {
          mapping.source = this._sources.at(mapping.source);
          mapping.source = util.computeSourceURL(sourceRoot, mapping.source, this._sourceMapURL);
          if (mapping.name !== null) {
            mapping.name = this._names.at(mapping.name);
          }
        }
        aCallback.call(context, mapping);
      }, () => {
        switch (order) {
          case SourceMapConsumer.GENERATED_ORDER:
            this._wasm.exports.by_generated_location(this._getMappingsPtr());
            break;
          case SourceMapConsumer.ORIGINAL_ORDER:
            this._wasm.exports.by_original_location(this._getMappingsPtr());
            break;
          default:
            throw new Error("Unknown order of iteration.");
        }
      });
    }
    allGeneratedPositionsFor(aArgs) {
      let source = util.getArg(aArgs, "source");
      const originalLine = util.getArg(aArgs, "line");
      const originalColumn = aArgs.column || 0;
      source = this._findSourceIndex(source);
      if (source < 0) {
        return [];
      }
      if (originalLine < 1) {
        throw new Error("Line numbers must be >= 1");
      }
      if (originalColumn < 0) {
        throw new Error("Column numbers must be >= 0");
      }
      const mappings = [];
      this._wasm.withMappingCallback((m) => {
        let lastColumn = m.lastGeneratedColumn;
        if (this._computedColumnSpans && lastColumn === null) {
          lastColumn = Infinity;
        }
        mappings.push({
          line: m.generatedLine,
          column: m.generatedColumn,
          lastColumn
        });
      }, () => {
        this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(), source, originalLine - 1, "column" in aArgs, originalColumn);
      });
      return mappings;
    }
    destroy() {
      if (this._mappingsPtr !== 0) {
        this._wasm.exports.free_mappings(this._mappingsPtr);
        this._mappingsPtr = 0;
      }
    }
    computeColumnSpans() {
      if (this._computedColumnSpans) {
        return;
      }
      this._wasm.exports.compute_column_spans(this._getMappingsPtr());
      this._computedColumnSpans = true;
    }
    originalPositionFor(aArgs) {
      const needle = {
        generatedLine: util.getArg(aArgs, "line"),
        generatedColumn: util.getArg(aArgs, "column")
      };
      if (needle.generatedLine < 1) {
        throw new Error("Line numbers must be >= 1");
      }
      if (needle.generatedColumn < 0) {
        throw new Error("Column numbers must be >= 0");
      }
      let bias = util.getArg(aArgs, "bias", SourceMapConsumer.GREATEST_LOWER_BOUND);
      if (bias == null) {
        bias = SourceMapConsumer.GREATEST_LOWER_BOUND;
      }
      let mapping;
      this._wasm.withMappingCallback((m) => mapping = m, () => {
        this._wasm.exports.original_location_for(this._getMappingsPtr(), needle.generatedLine - 1, needle.generatedColumn, bias);
      });
      if (mapping) {
        if (mapping.generatedLine === needle.generatedLine) {
          let source = util.getArg(mapping, "source", null);
          if (source !== null) {
            source = this._sources.at(source);
            source = util.computeSourceURL(this.sourceRoot, source, this._sourceMapURL);
          }
          let name = util.getArg(mapping, "name", null);
          if (name !== null) {
            name = this._names.at(name);
          }
          return {
            source,
            line: util.getArg(mapping, "originalLine", null),
            column: util.getArg(mapping, "originalColumn", null),
            name
          };
        }
      }
      return {
        source: null,
        line: null,
        column: null,
        name: null
      };
    }
    hasContentsOfAllSources() {
      if (!this.sourcesContent) {
        return false;
      }
      return this.sourcesContent.length >= this._sources.size() && !this.sourcesContent.some(function(sc) {
        return sc == null;
      });
    }
    sourceContentFor(aSource, nullOnMissing) {
      if (!this.sourcesContent) {
        return null;
      }
      const index = this._findSourceIndex(aSource);
      if (index >= 0) {
        return this.sourcesContent[index];
      }
      let relativeSource = aSource;
      if (this.sourceRoot != null) {
        relativeSource = util.relative(this.sourceRoot, relativeSource);
      }
      let url;
      if (this.sourceRoot != null && (url = util.urlParse(this.sourceRoot))) {
        const fileUriAbsPath = relativeSource.replace(/^file:\/\//, "");
        if (url.scheme == "file" && this._sources.has(fileUriAbsPath)) {
          return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)];
        }
        if ((!url.path || url.path == "/") && this._sources.has("/" + relativeSource)) {
          return this.sourcesContent[this._sources.indexOf("/" + relativeSource)];
        }
      }
      if (nullOnMissing) {
        return null;
      }
      throw new Error('"' + relativeSource + '" is not in the SourceMap.');
    }
    generatedPositionFor(aArgs) {
      let source = util.getArg(aArgs, "source");
      source = this._findSourceIndex(source);
      if (source < 0) {
        return {
          line: null,
          column: null,
          lastColumn: null
        };
      }
      const needle = {
        source,
        originalLine: util.getArg(aArgs, "line"),
        originalColumn: util.getArg(aArgs, "column")
      };
      if (needle.originalLine < 1) {
        throw new Error("Line numbers must be >= 1");
      }
      if (needle.originalColumn < 0) {
        throw new Error("Column numbers must be >= 0");
      }
      let bias = util.getArg(aArgs, "bias", SourceMapConsumer.GREATEST_LOWER_BOUND);
      if (bias == null) {
        bias = SourceMapConsumer.GREATEST_LOWER_BOUND;
      }
      let mapping;
      this._wasm.withMappingCallback((m) => mapping = m, () => {
        this._wasm.exports.generated_location_for(this._getMappingsPtr(), needle.source, needle.originalLine - 1, needle.originalColumn, bias);
      });
      if (mapping) {
        if (mapping.source === needle.source) {
          let lastColumn = mapping.lastGeneratedColumn;
          if (this._computedColumnSpans && lastColumn === null) {
            lastColumn = Infinity;
          }
          return {
            line: util.getArg(mapping, "generatedLine", null),
            column: util.getArg(mapping, "generatedColumn", null),
            lastColumn
          };
        }
      }
      return {
        line: null,
        column: null,
        lastColumn: null
      };
    }
  }
  BasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;
  exports.BasicSourceMapConsumer = BasicSourceMapConsumer;

  class IndexedSourceMapConsumer extends SourceMapConsumer {
    constructor(aSourceMap, aSourceMapURL) {
      return super(INTERNAL).then((that) => {
        let sourceMap = aSourceMap;
        if (typeof aSourceMap === "string") {
          sourceMap = util.parseSourceMapInput(aSourceMap);
        }
        const version = util.getArg(sourceMap, "version");
        const sections = util.getArg(sourceMap, "sections");
        if (version != that._version) {
          throw new Error("Unsupported version: " + version);
        }
        that._sources = new ArraySet;
        that._names = new ArraySet;
        that.__generatedMappings = null;
        that.__originalMappings = null;
        that.__generatedMappingsUnsorted = null;
        that.__originalMappingsUnsorted = null;
        let lastOffset = {
          line: -1,
          column: 0
        };
        return Promise.all(sections.map((s) => {
          if (s.url) {
            throw new Error("Support for url field in sections not implemented.");
          }
          const offset = util.getArg(s, "offset");
          const offsetLine = util.getArg(offset, "line");
          const offsetColumn = util.getArg(offset, "column");
          if (offsetLine < lastOffset.line || offsetLine === lastOffset.line && offsetColumn < lastOffset.column) {
            throw new Error("Section offsets must be ordered and non-overlapping.");
          }
          lastOffset = offset;
          const cons = new SourceMapConsumer(util.getArg(s, "map"), aSourceMapURL);
          return cons.then((consumer) => {
            return {
              generatedOffset: {
                generatedLine: offsetLine + 1,
                generatedColumn: offsetColumn + 1
              },
              consumer
            };
          });
        })).then((s) => {
          that._sections = s;
          return that;
        });
      });
    }
    get _generatedMappings() {
      if (!this.__generatedMappings) {
        this._sortGeneratedMappings();
      }
      return this.__generatedMappings;
    }
    get _originalMappings() {
      if (!this.__originalMappings) {
        this._sortOriginalMappings();
      }
      return this.__originalMappings;
    }
    get _generatedMappingsUnsorted() {
      if (!this.__generatedMappingsUnsorted) {
        this._parseMappings(this._mappings, this.sourceRoot);
      }
      return this.__generatedMappingsUnsorted;
    }
    get _originalMappingsUnsorted() {
      if (!this.__originalMappingsUnsorted) {
        this._parseMappings(this._mappings, this.sourceRoot);
      }
      return this.__originalMappingsUnsorted;
    }
    _sortGeneratedMappings() {
      const mappings = this._generatedMappingsUnsorted;
      mappings.sort(util.compareByGeneratedPositionsDeflated);
      this.__generatedMappings = mappings;
    }
    _sortOriginalMappings() {
      const mappings = this._originalMappingsUnsorted;
      mappings.sort(util.compareByOriginalPositions);
      this.__originalMappings = mappings;
    }
    get sources() {
      const sources = [];
      for (let i = 0;i < this._sections.length; i++) {
        for (let j = 0;j < this._sections[i].consumer.sources.length; j++) {
          sources.push(this._sections[i].consumer.sources[j]);
        }
      }
      return sources;
    }
    originalPositionFor(aArgs) {
      const needle = {
        generatedLine: util.getArg(aArgs, "line"),
        generatedColumn: util.getArg(aArgs, "column")
      };
      const sectionIndex = binarySearch.search(needle, this._sections, function(aNeedle, section2) {
        const cmp = aNeedle.generatedLine - section2.generatedOffset.generatedLine;
        if (cmp) {
          return cmp;
        }
        return aNeedle.generatedColumn - section2.generatedOffset.generatedColumn;
      });
      const section = this._sections[sectionIndex];
      if (!section) {
        return {
          source: null,
          line: null,
          column: null,
          name: null
        };
      }
      return section.consumer.originalPositionFor({
        line: needle.generatedLine - (section.generatedOffset.generatedLine - 1),
        column: needle.generatedColumn - (section.generatedOffset.generatedLine === needle.generatedLine ? section.generatedOffset.generatedColumn - 1 : 0),
        bias: aArgs.bias
      });
    }
    hasContentsOfAllSources() {
      return this._sections.every(function(s) {
        return s.consumer.hasContentsOfAllSources();
      });
    }
    sourceContentFor(aSource, nullOnMissing) {
      for (let i = 0;i < this._sections.length; i++) {
        const section = this._sections[i];
        const content = section.consumer.sourceContentFor(aSource, true);
        if (content) {
          return content;
        }
      }
      if (nullOnMissing) {
        return null;
      }
      throw new Error('"' + aSource + '" is not in the SourceMap.');
    }
    generatedPositionFor(aArgs) {
      for (let i = 0;i < this._sections.length; i++) {
        const section = this._sections[i];
        if (section.consumer._findSourceIndex(util.getArg(aArgs, "source")) === -1) {
          continue;
        }
        const generatedPosition = section.consumer.generatedPositionFor(aArgs);
        if (generatedPosition) {
          const ret = {
            line: generatedPosition.line + (section.generatedOffset.generatedLine - 1),
            column: generatedPosition.column + (section.generatedOffset.generatedLine === generatedPosition.line ? section.generatedOffset.generatedColumn - 1 : 0)
          };
          return ret;
        }
      }
      return {
        line: null,
        column: null
      };
    }
    _parseMappings(aStr, aSourceRoot) {
      const generatedMappings = this.__generatedMappingsUnsorted = [];
      const originalMappings = this.__originalMappingsUnsorted = [];
      for (let i = 0;i < this._sections.length; i++) {
        const section = this._sections[i];
        const sectionMappings = [];
        section.consumer.eachMapping((m) => sectionMappings.push(m));
        for (let j = 0;j < sectionMappings.length; j++) {
          const mapping = sectionMappings[j];
          let source = util.computeSourceURL(section.consumer.sourceRoot, null, this._sourceMapURL);
          this._sources.add(source);
          source = this._sources.indexOf(source);
          let name = null;
          if (mapping.name) {
            this._names.add(mapping.name);
            name = this._names.indexOf(mapping.name);
          }
          const adjustedMapping = {
            source,
            generatedLine: mapping.generatedLine + (section.generatedOffset.generatedLine - 1),
            generatedColumn: mapping.generatedColumn + (section.generatedOffset.generatedLine === mapping.generatedLine ? section.generatedOffset.generatedColumn - 1 : 0),
            originalLine: mapping.originalLine,
            originalColumn: mapping.originalColumn,
            name
          };
          generatedMappings.push(adjustedMapping);
          if (typeof adjustedMapping.originalLine === "number") {
            originalMappings.push(adjustedMapping);
          }
        }
      }
    }
    eachMapping(aCallback, aContext, aOrder) {
      const context = aContext || null;
      const order = aOrder || SourceMapConsumer.GENERATED_ORDER;
      let mappings;
      switch (order) {
        case SourceMapConsumer.GENERATED_ORDER:
          mappings = this._generatedMappings;
          break;
        case SourceMapConsumer.ORIGINAL_ORDER:
          mappings = this._originalMappings;
          break;
        default:
          throw new Error("Unknown order of iteration.");
      }
      const sourceRoot = this.sourceRoot;
      mappings.map(function(mapping) {
        let source = null;
        if (mapping.source !== null) {
          source = this._sources.at(mapping.source);
          source = util.computeSourceURL(sourceRoot, source, this._sourceMapURL);
        }
        return {
          source,
          generatedLine: mapping.generatedLine,
          generatedColumn: mapping.generatedColumn,
          originalLine: mapping.originalLine,
          originalColumn: mapping.originalColumn,
          name: mapping.name === null ? null : this._names.at(mapping.name)
        };
      }, this).forEach(aCallback, context);
    }
    _findMapping(aNeedle, aMappings, aLineName, aColumnName, aComparator, aBias) {
      if (aNeedle[aLineName] <= 0) {
        throw new TypeError("Line must be greater than or equal to 1, got " + aNeedle[aLineName]);
      }
      if (aNeedle[aColumnName] < 0) {
        throw new TypeError("Column must be greater than or equal to 0, got " + aNeedle[aColumnName]);
      }
      return binarySearch.search(aNeedle, aMappings, aComparator, aBias);
    }
    allGeneratedPositionsFor(aArgs) {
      const line = util.getArg(aArgs, "line");
      const needle = {
        source: util.getArg(aArgs, "source"),
        originalLine: line,
        originalColumn: util.getArg(aArgs, "column", 0)
      };
      needle.source = this._findSourceIndex(needle.source);
      if (needle.source < 0) {
        return [];
      }
      if (needle.originalLine < 1) {
        throw new Error("Line numbers must be >= 1");
      }
      if (needle.originalColumn < 0) {
        throw new Error("Column numbers must be >= 0");
      }
      const mappings = [];
      let index = this._findMapping(needle, this._originalMappings, "originalLine", "originalColumn", util.compareByOriginalPositions, binarySearch.LEAST_UPPER_BOUND);
      if (index >= 0) {
        let mapping = this._originalMappings[index];
        if (aArgs.column === undefined) {
          const originalLine = mapping.originalLine;
          while (mapping && mapping.originalLine === originalLine) {
            let lastColumn = mapping.lastGeneratedColumn;
            if (this._computedColumnSpans && lastColumn === null) {
              lastColumn = Infinity;
            }
            mappings.push({
              line: util.getArg(mapping, "generatedLine", null),
              column: util.getArg(mapping, "generatedColumn", null),
              lastColumn
            });
            mapping = this._originalMappings[++index];
          }
        } else {
          const originalColumn = mapping.originalColumn;
          while (mapping && mapping.originalLine === line && mapping.originalColumn == originalColumn) {
            let lastColumn = mapping.lastGeneratedColumn;
            if (this._computedColumnSpans && lastColumn === null) {
              lastColumn = Infinity;
            }
            mappings.push({
              line: util.getArg(mapping, "generatedLine", null),
              column: util.getArg(mapping, "generatedColumn", null),
              lastColumn
            });
            mapping = this._originalMappings[++index];
          }
        }
      }
      return mappings;
    }
    destroy() {
      for (let i = 0;i < this._sections.length; i++) {
        this._sections[i].consumer.destroy();
      }
    }
  }
  exports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;
});

// node_modules/source-map/lib/source-node.js
var require_source_node = __commonJS((exports) => {
  var SourceMapGenerator = require_source_map_generator().SourceMapGenerator;
  var util = require_util();
  var REGEX_NEWLINE = /(\r?\n)/;
  var NEWLINE_CODE = 10;
  var isSourceNode = "$$$isSourceNode$$$";

  class SourceNode {
    constructor(aLine, aColumn, aSource, aChunks, aName) {
      this.children = [];
      this.sourceContents = {};
      this.line = aLine == null ? null : aLine;
      this.column = aColumn == null ? null : aColumn;
      this.source = aSource == null ? null : aSource;
      this.name = aName == null ? null : aName;
      this[isSourceNode] = true;
      if (aChunks != null)
        this.add(aChunks);
    }
    static fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {
      const node = new SourceNode;
      const remainingLines = aGeneratedCode.split(REGEX_NEWLINE);
      let remainingLinesIndex = 0;
      const shiftNextLine = function() {
        const lineContents = getNextLine();
        const newLine = getNextLine() || "";
        return lineContents + newLine;
        function getNextLine() {
          return remainingLinesIndex < remainingLines.length ? remainingLines[remainingLinesIndex++] : undefined;
        }
      };
      let lastGeneratedLine = 1, lastGeneratedColumn = 0;
      let lastMapping = null;
      let nextLine;
      aSourceMapConsumer.eachMapping(function(mapping) {
        if (lastMapping !== null) {
          if (lastGeneratedLine < mapping.generatedLine) {
            addMappingWithCode(lastMapping, shiftNextLine());
            lastGeneratedLine++;
            lastGeneratedColumn = 0;
          } else {
            nextLine = remainingLines[remainingLinesIndex] || "";
            const code = nextLine.substr(0, mapping.generatedColumn - lastGeneratedColumn);
            remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn - lastGeneratedColumn);
            lastGeneratedColumn = mapping.generatedColumn;
            addMappingWithCode(lastMapping, code);
            lastMapping = mapping;
            return;
          }
        }
        while (lastGeneratedLine < mapping.generatedLine) {
          node.add(shiftNextLine());
          lastGeneratedLine++;
        }
        if (lastGeneratedColumn < mapping.generatedColumn) {
          nextLine = remainingLines[remainingLinesIndex] || "";
          node.add(nextLine.substr(0, mapping.generatedColumn));
          remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn);
          lastGeneratedColumn = mapping.generatedColumn;
        }
        lastMapping = mapping;
      }, this);
      if (remainingLinesIndex < remainingLines.length) {
        if (lastMapping) {
          addMappingWithCode(lastMapping, shiftNextLine());
        }
        node.add(remainingLines.splice(remainingLinesIndex).join(""));
      }
      aSourceMapConsumer.sources.forEach(function(sourceFile) {
        const content = aSourceMapConsumer.sourceContentFor(sourceFile);
        if (content != null) {
          if (aRelativePath != null) {
            sourceFile = util.join(aRelativePath, sourceFile);
          }
          node.setSourceContent(sourceFile, content);
        }
      });
      return node;
      function addMappingWithCode(mapping, code) {
        if (mapping === null || mapping.source === undefined) {
          node.add(code);
        } else {
          const source = aRelativePath ? util.join(aRelativePath, mapping.source) : mapping.source;
          node.add(new SourceNode(mapping.originalLine, mapping.originalColumn, source, code, mapping.name));
        }
      }
    }
    add(aChunk) {
      if (Array.isArray(aChunk)) {
        aChunk.forEach(function(chunk) {
          this.add(chunk);
        }, this);
      } else if (aChunk[isSourceNode] || typeof aChunk === "string") {
        if (aChunk) {
          this.children.push(aChunk);
        }
      } else {
        throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk);
      }
      return this;
    }
    prepend(aChunk) {
      if (Array.isArray(aChunk)) {
        for (let i = aChunk.length - 1;i >= 0; i--) {
          this.prepend(aChunk[i]);
        }
      } else if (aChunk[isSourceNode] || typeof aChunk === "string") {
        this.children.unshift(aChunk);
      } else {
        throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got " + aChunk);
      }
      return this;
    }
    walk(aFn) {
      let chunk;
      for (let i = 0, len = this.children.length;i < len; i++) {
        chunk = this.children[i];
        if (chunk[isSourceNode]) {
          chunk.walk(aFn);
        } else if (chunk !== "") {
          aFn(chunk, {
            source: this.source,
            line: this.line,
            column: this.column,
            name: this.name
          });
        }
      }
    }
    join(aSep) {
      let newChildren;
      let i;
      const len = this.children.length;
      if (len > 0) {
        newChildren = [];
        for (i = 0;i < len - 1; i++) {
          newChildren.push(this.children[i]);
          newChildren.push(aSep);
        }
        newChildren.push(this.children[i]);
        this.children = newChildren;
      }
      return this;
    }
    replaceRight(aPattern, aReplacement) {
      const lastChild = this.children[this.children.length - 1];
      if (lastChild[isSourceNode]) {
        lastChild.replaceRight(aPattern, aReplacement);
      } else if (typeof lastChild === "string") {
        this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);
      } else {
        this.children.push("".replace(aPattern, aReplacement));
      }
      return this;
    }
    setSourceContent(aSourceFile, aSourceContent) {
      this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;
    }
    walkSourceContents(aFn) {
      for (let i = 0, len = this.children.length;i < len; i++) {
        if (this.children[i][isSourceNode]) {
          this.children[i].walkSourceContents(aFn);
        }
      }
      const sources = Object.keys(this.sourceContents);
      for (let i = 0, len = sources.length;i < len; i++) {
        aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);
      }
    }
    toString() {
      let str = "";
      this.walk(function(chunk) {
        str += chunk;
      });
      return str;
    }
    toStringWithSourceMap(aArgs) {
      const generated = {
        code: "",
        line: 1,
        column: 0
      };
      const map = new SourceMapGenerator(aArgs);
      let sourceMappingActive = false;
      let lastOriginalSource = null;
      let lastOriginalLine = null;
      let lastOriginalColumn = null;
      let lastOriginalName = null;
      this.walk(function(chunk, original) {
        generated.code += chunk;
        if (original.source !== null && original.line !== null && original.column !== null) {
          if (lastOriginalSource !== original.source || lastOriginalLine !== original.line || lastOriginalColumn !== original.column || lastOriginalName !== original.name) {
            map.addMapping({
              source: original.source,
              original: {
                line: original.line,
                column: original.column
              },
              generated: {
                line: generated.line,
                column: generated.column
              },
              name: original.name
            });
          }
          lastOriginalSource = original.source;
          lastOriginalLine = original.line;
          lastOriginalColumn = original.column;
          lastOriginalName = original.name;
          sourceMappingActive = true;
        } else if (sourceMappingActive) {
          map.addMapping({
            generated: {
              line: generated.line,
              column: generated.column
            }
          });
          lastOriginalSource = null;
          sourceMappingActive = false;
        }
        for (let idx = 0, length = chunk.length;idx < length; idx++) {
          if (chunk.charCodeAt(idx) === NEWLINE_CODE) {
            generated.line++;
            generated.column = 0;
            if (idx + 1 === length) {
              lastOriginalSource = null;
              sourceMappingActive = false;
            } else if (sourceMappingActive) {
              map.addMapping({
                source: original.source,
                original: {
                  line: original.line,
                  column: original.column
                },
                generated: {
                  line: generated.line,
                  column: generated.column
                },
                name: original.name
              });
            }
          } else {
            generated.column++;
          }
        }
      });
      this.walkSourceContents(function(sourceFile, sourceContent) {
        map.setSourceContent(sourceFile, sourceContent);
      });
      return { code: generated.code, map };
    }
  }
  exports.SourceNode = SourceNode;
});

// node_modules/source-map/source-map.js
var require_source_map = __commonJS((exports) => {
  exports.SourceMapGenerator = require_source_map_generator().SourceMapGenerator;
  exports.SourceMapConsumer = require_source_map_consumer().SourceMapConsumer;
  exports.SourceNode = require_source_node().SourceNode;
});

// lib/visitor/sourcemapper.js
var require_sourcemapper = __commonJS((exports, module) => {
  /*!
   * Stylus - SourceMapper
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Compiler = require_compiler();
  var Buffer2 = __require("buffer").Buffer;
  var SourceMapGenerator = require_source_map().SourceMapGenerator;
  var basename = __require("path").basename;
  var extname = __require("path").extname;
  var dirname = __require("path").dirname;
  var join = __require("path").join;
  var relative = __require("path").relative;
  var sep = __require("path").sep;
  var fs = __require("fs");
  module.exports = class SourceMapper extends Compiler {
    constructor(root, options) {
      super(root, options);
      options = options || {};
      this.column = 1;
      this.lineno = 1;
      this.contents = {};
      this.filename = options.filename;
      this.dest = options.dest;
      var sourcemap = options.sourcemap;
      this.basePath = sourcemap.basePath || ".";
      this.inline = sourcemap.inline;
      this.comment = sourcemap.comment;
      if (this.dest && extname(this.dest) === ".css") {
        this.basename = basename(this.dest);
        this.dest = dirname(this.dest);
      } else {
        this.basename = basename(this.filename, extname(this.filename)) + ".css";
      }
      this.utf8 = false;
      this.map = new SourceMapGenerator({
        file: this.basename,
        sourceRoot: sourcemap.sourceRoot || null
      });
    }
    compile() {
      var css = super.compile(), out = this.basename + ".map", url = this.normalizePath(this.dest ? join(this.dest, out) : join(dirname(this.filename), out)), map;
      if (this.inline) {
        map = this.map.toString();
        url = "data:application/json;" + (this.utf8 ? "charset=utf-8;" : "") + "base64," + Buffer2.from(map).toString("base64");
      }
      if (this.inline || this.comment !== false)
        css += "/*# sourceMappingURL=" + url + " */";
      return css;
    }
    out(str, node) {
      if (node && node.lineno) {
        var filename = this.normalizePath(node.filename);
        this.map.addMapping({
          original: {
            line: node.lineno,
            column: node.column - 1
          },
          generated: {
            line: this.lineno,
            column: this.column - 1
          },
          source: filename
        });
        if (this.inline && !this.contents[filename]) {
          this.map.setSourceContent(filename, fs.readFileSync(node.filename, "utf-8"));
          this.contents[filename] = true;
        }
      }
      this.move(str);
      return str;
    }
    move(str) {
      var lines = str.match(/\n/g), idx = str.lastIndexOf("\n");
      if (lines)
        this.lineno += lines.length;
      this.column = ~idx ? str.length - idx : this.column + str.length;
    }
    normalizePath(path) {
      path = relative(this.dest || this.basePath, path);
      if (sep == "\\") {
        path = path.replace(/^[a-z]:\\/i, "/").replace(/\\/g, "/");
      }
      return path;
    }
    visitLiteral(lit) {
      var val = super.visitLiteral(lit), filename = this.normalizePath(lit.filename), indentsRe = /^\s+/, lines = val.split("\n");
      if (lines.length > 1) {
        lines.forEach(function(line, i) {
          var indents = line.match(indentsRe), column = indents && indents[0] ? indents[0].length : 0;
          if (lit.css)
            column += 2;
          this.map.addMapping({
            original: {
              line: lit.lineno + i,
              column
            },
            generated: {
              line: this.lineno + i,
              column: 0
            },
            source: filename
          });
        }, this);
      }
      return val;
    }
    visitCharset(node) {
      this.utf8 = node.val.string.toLowerCase() == "utf-8";
      return super.visitCharset(node);
    }
  };
});

// lib/visitor/deps-resolver.js
var require_deps_resolver = __commonJS((exports, module) => {
  var Visitor = require_visitor();
  var Parser = require_parser();
  var nodes = require_nodes();
  var utils = require_utils();
  var dirname = __require("path").dirname;
  var fs = __require("fs");
  module.exports = class DepsResolver extends Visitor {
    constructor(root, options) {
      super(root);
      this.filename = options.filename;
      this.paths = options.paths || [];
      this.paths.push(dirname(options.filename || "."));
      this.options = options;
      this.functions = {};
      this.deps = [];
    }
    visit(node) {
      switch (node.nodeName) {
        case "root":
        case "block":
        case "expression":
          this.visitRoot(node);
          break;
        case "group":
        case "media":
        case "atblock":
        case "atrule":
        case "keyframes":
        case "each":
        case "supports":
          this.visit(node.block);
          break;
        default:
          super.visit(node);
      }
    }
    visitRoot(block) {
      for (var i = 0, len = block.nodes.length;i < len; ++i) {
        this.visit(block.nodes[i]);
      }
    }
    visitIdent(ident) {
      this.visit(ident.val);
    }
    visitIf(node) {
      this.visit(node.block);
      this.visit(node.cond);
      for (var i = 0, len = node.elses.length;i < len; ++i) {
        this.visit(node.elses[i]);
      }
    }
    visitFunction(fn) {
      this.functions[fn.name] = fn.block;
    }
    visitCall(call) {
      if (call.name in this.functions)
        this.visit(this.functions[call.name]);
      if (call.block)
        this.visit(call.block);
    }
    visitImport(node) {
      if (node.path.first.name === "url")
        return;
      var path = !node.path.first.val.isNull && node.path.first.val || node.path.first.name, literal, found, oldPath;
      if (!path)
        return;
      literal = /\.css(?:"|$)/.test(path);
      if (!literal && !/\.styl$/i.test(path)) {
        oldPath = path;
        path += ".styl";
      }
      found = utils.find(path, this.paths, this.filename);
      if (!found && oldPath)
        found = utils.lookupIndex(oldPath, this.paths, this.filename);
      if (!found)
        return;
      this.deps = this.deps.concat(found);
      if (literal)
        return;
      for (var i = 0, len = found.length;i < len; ++i) {
        var file = found[i], dir = dirname(file), str = fs.readFileSync(file, "utf-8"), block = new nodes.Block, parser = new Parser(str, utils.merge({ root: block }, this.options));
        if (!~this.paths.indexOf(dir))
          this.paths.push(dir);
        try {
          block = parser.parse();
        } catch (err) {
          err.filename = file;
          err.lineno = parser.lexer.lineno;
          err.column = parser.lexer.column;
          err.input = str;
          throw err;
        }
        this.visit(block);
      }
    }
    resolve() {
      this.visit(this.root);
      return utils.uniq(this.deps);
    }
  };
});

// lib/renderer.js
var require_renderer = __commonJS((exports, module) => {
  var __dirname = "/Users/kodi/Downloads/stylus-0.62.0/lib";
  /*!
   * Stylus - Renderer
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Parser = require_parser();
  var EventEmitter = __require("events").EventEmitter;
  var Evaluator = require_evaluator();
  var Normalizer = require_normalizer();
  var events = new EventEmitter;
  var utils = require_utils();
  var nodes = require_nodes();
  var join = __require("path").join;

  class Renderer extends EventEmitter {
    constructor(str, options) {
      super();
      options = options || {};
      options.globals = options.globals || {};
      options.functions = options.functions || {};
      options.use = options.use || [];
      options.use = Array.isArray(options.use) ? options.use : [options.use];
      options.imports = [join(__dirname, "functions/index.styl")].concat(options.imports || []);
      options.paths = options.paths || [];
      options.filename = options.filename || "stylus";
      options.Evaluator = options.Evaluator || Evaluator;
      this.options = options;
      this.str = str;
      this.events = events;
    }
    render(fn) {
      var parser = this.parser = new Parser(this.str, this.options);
      for (var i = 0, len = this.options.use.length;i < len; i++) {
        this.use(this.options.use[i]);
      }
      try {
        nodes.filename = this.options.filename;
        var ast = parser.parse();
        this.evaluator = new this.options.Evaluator(ast, this.options);
        this.nodes = nodes;
        this.evaluator.renderer = this;
        ast = this.evaluator.evaluate();
        var normalizer = new Normalizer(ast, this.options);
        ast = normalizer.normalize();
        var compiler = this.options.sourcemap ? new (require_sourcemapper())(ast, this.options) : new (require_compiler())(ast, this.options), css = compiler.compile();
        if (this.options.sourcemap)
          this.sourcemap = compiler.map.toJSON();
      } catch (err) {
        var options = {};
        options.input = err.input || this.str;
        options.filename = err.filename || this.options.filename;
        options.lineno = err.lineno || parser.lexer.lineno;
        options.column = err.column || parser.lexer.column;
        if (!fn)
          throw utils.formatException(err, options);
        return fn(utils.formatException(err, options));
      }
      var listeners = this.listeners("end");
      if (fn)
        listeners.push(fn);
      for (var i = 0, len = listeners.length;i < len; i++) {
        var ret = listeners[i](null, css);
        if (ret)
          css = ret;
      }
      if (!fn)
        return css;
    }
    deps(filename) {
      var opts = utils.merge({ cache: false }, this.options);
      if (filename)
        opts.filename = filename;
      var DepsResolver = require_deps_resolver(), parser = new Parser(this.str, opts);
      try {
        nodes.filename = opts.filename;
        var ast = parser.parse(), resolver = new DepsResolver(ast, opts);
        return resolver.resolve();
      } catch (err) {
        var options = {};
        options.input = err.input || this.str;
        options.filename = err.filename || opts.filename;
        options.lineno = err.lineno || parser.lexer.lineno;
        options.column = err.column || parser.lexer.column;
        throw utils.formatException(err, options);
      }
    }
    set(key, val) {
      this.options[key] = val;
      return this;
    }
    get(key) {
      return this.options[key];
    }
    include(path) {
      this.options.paths.push(path);
      return this;
    }
    use(fn) {
      fn.call(this, this);
      return this;
    }
    define(name, fn, raw) {
      fn = utils.coerce(fn, raw);
      if (fn.nodeName) {
        this.options.globals[name] = fn;
        return this;
      }
      this.options.functions[name] = fn;
      if (raw != null)
        fn.raw = raw;
      return this;
    }
    import(file) {
      this.options.imports.push(file);
      return this;
    }
  }
  module.exports = Renderer;
  module.exports.events = events;
});

// package.json
var require_package = __commonJS((exports, module) => {
  module.exports = {
    name: "stylus",
    description: "Robust, expressive, and feature-rich CSS superset",
    version: "0.62.0",
    author: "TJ Holowaychuk <tj@vision-media.ca>",
    keywords: [
      "css",
      "parser",
      "style",
      "stylesheets",
      "jade",
      "language"
    ],
    repository: {
      type: "git",
      url: "git://github.com/stylus/stylus"
    },
    main: "./index.js",
    browserify: "./lib/browserify.js",
    engines: {
      node: "*"
    },
    bin: {
      stylus: "./bin/stylus"
    },
    scripts: {
      prepublish: "npm prune",
      test: "mocha test/ test/middleware/ --require chai --bail --check-leaks --reporter dot"
    },
    dependencies: {
      "@adobe/css-tools": "~4.3.1",
      debug: "^4.3.2",
      glob: "^7.1.6",
      sax: "~1.3.0",
      "source-map": "^0.7.3"
    },
    devDependencies: {
      chai: "^4.3.6",
      mocha: "^9.2.0"
    },
    bugs: {
      url: "https://github.com/stylus/stylus/issues"
    },
    homepage: "https://github.com/stylus/stylus",
    directories: {
      doc: "docs",
      example: "examples",
      test: "test"
    },
    license: "MIT",
    funding: "https://opencollective.com/stylus"
  };
});

// lib/middleware.js
var require_middleware = __commonJS((exports, module) => {
  var checkImports = function(path, fn) {
    var nodes = imports[path];
    if (!nodes)
      return fn();
    if (!nodes.length)
      return fn();
    var pending = nodes.length, changed = [];
    nodes.forEach(function(imported) {
      fs.stat(imported.path, function(err, stat) {
        if (err || !imported.mtime || stat.mtime > imported.mtime) {
          changed.push(imported.path);
        }
        --pending || fn(changed);
      });
    });
  };
  var compare = function(pathA, pathB) {
    pathA = pathA.split(sep);
    pathB = pathB.split("/");
    if (!pathA[pathA.length - 1])
      pathA.pop();
    if (!pathB[0])
      pathB.shift();
    var overlap = [];
    while (pathA[pathA.length - 1] == pathB[0]) {
      overlap.push(pathA.pop());
      pathB.shift();
    }
    return overlap.join("/");
  };
  /*!
   * Stylus - middleware
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var stylus = require_stylus();
  var fs = __require("fs");
  var url = __require("url");
  var dirname = __require("path").dirname;
  var join = __require("path").join;
  var sep = __require("path").sep;
  var debug = require_src()("stylus:middleware");
  var mkdir = fs.mkdir;
  var imports = {};
  module.exports = function(options) {
    options = options || {};
    if (typeof options == "string") {
      options = { src: options };
    }
    var force = options.force;
    var src = options.src;
    if (!src)
      throw new Error('stylus.middleware() requires "src" directory');
    var dest = options.dest || src;
    options.compile = options.compile || function(str, path) {
      if (options.sourcemap) {
        if (typeof options.sourcemap == "boolean")
          options.sourcemap = {};
        options.sourcemap.inline = true;
      }
      return stylus(str).set("filename", path).set("compress", options.compress).set("firebug", options.firebug).set("linenos", options.linenos).set("sourcemap", options.sourcemap);
    };
    return function stylus(req, res, next) {
      if (req.method != "GET" && req.method != "HEAD")
        return next();
      var path = url.parse(req.url).pathname;
      if (/\.css$/.test(path)) {
        let error2 = function(err) {
          next(err.code == "ENOENT" ? null : err);
        }, compile2 = function() {
          debug("read %s", cssPath);
          fs.readFile(stylusPath, "utf8", function(err, str) {
            if (err)
              return error2(err);
            var style = options.compile(str, stylusPath);
            var paths = style.options._imports = [];
            imports[stylusPath] = null;
            style.render(function(err2, css) {
              if (err2)
                return next(err2);
              debug("render %s", stylusPath);
              imports[stylusPath] = paths;
              mkdir(dirname(cssPath), { mode: parseInt("0700", 8), recursive: true }, function(err3) {
                if (err3)
                  return error2(err3);
                fs.writeFile(cssPath, css, "utf8", next);
              });
            });
          });
        };
        var error = error2, compile = compile2;
        if (typeof dest == "string") {
          var overlap = compare(dest, path).length;
          if (path.charAt(0) == "/")
            overlap++;
          path = path.slice(overlap);
        }
        var cssPath, stylusPath;
        cssPath = typeof dest == "function" ? dest(path) : join(dest, path);
        stylusPath = typeof src == "function" ? src(path) : join(src, path.replace(".css", ".styl"));
        if (force)
          return compile2();
        if (!imports[stylusPath])
          return compile2();
        fs.stat(stylusPath, function(err, stylusStats) {
          if (err)
            return error2(err);
          fs.stat(cssPath, function(err2, cssStats) {
            if (err2) {
              if (err2.code == "ENOENT") {
                debug("not found %s", cssPath);
                compile2();
              } else {
                next(err2);
              }
            } else {
              if (stylusStats.mtime > cssStats.mtime) {
                debug("modified %s", cssPath);
                compile2();
              } else {
                checkImports(stylusPath, function(changed) {
                  if (debug && changed.length) {
                    changed.forEach(function(path2) {
                      debug("modified import %s", path2);
                    });
                  }
                  changed.length ? compile2() : next();
                });
              }
            }
          });
        });
      } else {
        next();
      }
    };
  };
});

// node_modules/@adobe/css-tools/dist/index.cjs
var require_dist = __commonJS((exports, module) => {
  var $parcel$defineInteropFlag = function(a) {
    Object.defineProperty(a, "__esModule", { value: true, configurable: true });
  };
  var $parcel$exportWildcard = function(dest, source) {
    Object.keys(source).forEach(function(key) {
      if (key === "default" || key === "__esModule" || Object.prototype.hasOwnProperty.call(dest, key)) {
        return;
      }
      Object.defineProperty(dest, key, {
        enumerable: true,
        get: function get() {
          return source[key];
        }
      });
    });
    return dest;
  };
  var $parcel$export = function(e, n, v, s) {
    Object.defineProperty(e, n, { get: v, set: s, enumerable: true, configurable: true });
  };
  var $b499486c7f02abe7$var$trim = function(str) {
    return str ? str.trim() : "";
  };
  var $b499486c7f02abe7$var$addParent = function(obj, parent) {
    const isNode = obj && typeof obj.type === "string";
    const childParent = isNode ? obj : parent;
    for (const k in obj) {
      const value = obj[k];
      if (Array.isArray(value))
        value.forEach((v) => {
          $b499486c7f02abe7$var$addParent(v, childParent);
        });
      else if (value && typeof value === "object")
        $b499486c7f02abe7$var$addParent(value, childParent);
    }
    if (isNode)
      Object.defineProperty(obj, "parent", {
        configurable: true,
        writable: true,
        enumerable: false,
        value: parent || null
      });
    return obj;
  };
  $parcel$defineInteropFlag(exports);
  $parcel$export(exports, "parse", () => $882b6d93070905b3$export$98e6a39c04603d36);
  $parcel$export(exports, "stringify", () => $882b6d93070905b3$export$fac44ee5b035f737);
  $parcel$export(exports, "default", () => $882b6d93070905b3$export$2e2bcd8739ae039);
  var $cb508b9219b02820$exports = {};
  $parcel$defineInteropFlag($cb508b9219b02820$exports);
  $parcel$export($cb508b9219b02820$exports, "default", () => $cb508b9219b02820$export$2e2bcd8739ae039);

  class $cb508b9219b02820$export$2e2bcd8739ae039 extends Error {
    constructor(filename, msg, lineno, column, css) {
      super(filename + ":" + lineno + ":" + column + ": " + msg);
      this.reason = msg;
      this.filename = filename;
      this.line = lineno;
      this.column = column;
      this.source = css;
    }
  }
  var $4bafb28828007b46$exports = {};
  $parcel$defineInteropFlag($4bafb28828007b46$exports);
  $parcel$export($4bafb28828007b46$exports, "default", () => $4bafb28828007b46$export$2e2bcd8739ae039);

  class $4bafb28828007b46$export$2e2bcd8739ae039 {
    constructor(start, end, source) {
      this.start = start;
      this.end = end;
      this.source = source;
    }
  }
  var $d103407e81c97042$exports = {};
  $parcel$export($d103407e81c97042$exports, "CssTypes", () => $d103407e81c97042$export$9be5dd6e61d5d73a);
  var $d103407e81c97042$export$9be5dd6e61d5d73a;
  (function(CssTypes) {
    CssTypes["stylesheet"] = "stylesheet";
    CssTypes["rule"] = "rule";
    CssTypes["declaration"] = "declaration";
    CssTypes["comment"] = "comment";
    CssTypes["container"] = "container";
    CssTypes["charset"] = "charset";
    CssTypes["document"] = "document";
    CssTypes["customMedia"] = "custom-media";
    CssTypes["fontFace"] = "font-face";
    CssTypes["host"] = "host";
    CssTypes["import"] = "import";
    CssTypes["keyframes"] = "keyframes";
    CssTypes["keyframe"] = "keyframe";
    CssTypes["layer"] = "layer";
    CssTypes["media"] = "media";
    CssTypes["namespace"] = "namespace";
    CssTypes["page"] = "page";
    CssTypes["supports"] = "supports";
  })($d103407e81c97042$export$9be5dd6e61d5d73a || ($d103407e81c97042$export$9be5dd6e61d5d73a = {}));
  var $b499486c7f02abe7$var$commentre = /\/\*[^]*?(?:\*\/|$)/g;
  var $b499486c7f02abe7$export$98e6a39c04603d36 = (css, options) => {
    options = options || {};
    let lineno = 1;
    let column = 1;
    function updatePosition(str) {
      const lines = str.match(/\n/g);
      if (lines)
        lineno += lines.length;
      const i = str.lastIndexOf("\n");
      column = ~i ? str.length - i : column + str.length;
    }
    function position() {
      const start = {
        line: lineno,
        column
      };
      return function(node) {
        node.position = new (0, $4bafb28828007b46$export$2e2bcd8739ae039)(start, {
          line: lineno,
          column
        }, options?.source || "");
        whitespace();
        return node;
      };
    }
    const errorsList = [];
    function error(msg) {
      const err = new (0, $cb508b9219b02820$export$2e2bcd8739ae039)(options?.source || "", msg, lineno, column, css);
      if (options?.silent)
        errorsList.push(err);
      else
        throw err;
    }
    function stylesheet() {
      const rulesList = rules();
      const result = {
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).stylesheet,
        stylesheet: {
          source: options?.source,
          rules: rulesList,
          parsingErrors: errorsList
        }
      };
      return result;
    }
    function open() {
      return match(/^{\s*/);
    }
    function close() {
      return match(/^}/);
    }
    function rules() {
      let node;
      const rules2 = [];
      whitespace();
      comments(rules2);
      while (css.length && css.charAt(0) !== "}" && (node = atrule() || rule()))
        if (node) {
          rules2.push(node);
          comments(rules2);
        }
      return rules2;
    }
    function match(re) {
      const m = re.exec(css);
      if (!m)
        return;
      const str = m[0];
      updatePosition(str);
      css = css.slice(str.length);
      return m;
    }
    function whitespace() {
      match(/^\s*/);
    }
    function comments(rules2) {
      let c;
      rules2 = rules2 || [];
      while (c = comment())
        if (c)
          rules2.push(c);
      return rules2;
    }
    function comment() {
      const pos = position();
      if (css.charAt(0) !== "/" || css.charAt(1) !== "*")
        return;
      const m = match(/^\/\*[^]*?\*\//);
      if (!m)
        return error("End of comment missing");
      return pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).comment,
        comment: m[0].slice(2, -2)
      });
    }
    function findClosingParenthese(str, start, depth) {
      let ptr = start + 1;
      let found = false;
      let closeParentheses = str.indexOf(")", ptr);
      while (!found && closeParentheses !== -1) {
        const nextParentheses = str.indexOf("(", ptr);
        if (nextParentheses !== -1 && nextParentheses < closeParentheses) {
          const nextSearch = findClosingParenthese(str, nextParentheses + 1, depth + 1);
          ptr = nextSearch + 1;
          closeParentheses = str.indexOf(")", ptr);
        } else
          found = true;
      }
      if (found && closeParentheses !== -1)
        return closeParentheses;
      else
        return -1;
    }
    function selector() {
      const m = match(/^([^{]+)/);
      if (!m)
        return;
      let res = $b499486c7f02abe7$var$trim(m[0]).replace($b499486c7f02abe7$var$commentre, "");
      if (res.indexOf(",") === -1)
        return [
          res
        ];
      let ptr = 0;
      let startParentheses = res.indexOf("(", ptr);
      while (startParentheses !== -1) {
        const closeParentheses = findClosingParenthese(res, startParentheses, 0);
        if (closeParentheses === -1)
          break;
        ptr = closeParentheses + 1;
        res = res.substring(0, startParentheses) + res.substring(startParentheses, closeParentheses).replace(/,/g, "\u200C") + res.substring(closeParentheses);
        startParentheses = res.indexOf("(", ptr);
      }
      res = res.replace(/("|')(?:\\\1|.)*?\1/g, (m2) => m2.replace(/,/g, "\u200C"));
      return res.split(",").map((s) => {
        return $b499486c7f02abe7$var$trim(s.replace(/\u200C/g, ","));
      });
    }
    function declaration() {
      const pos = position();
      const propMatch = match(/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);
      if (!propMatch)
        return;
      const propValue = $b499486c7f02abe7$var$trim(propMatch[0]);
      if (!match(/^:\s*/))
        return error("property missing ':'");
      const val = match(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/);
      const ret = pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).declaration,
        property: propValue.replace($b499486c7f02abe7$var$commentre, ""),
        value: val ? $b499486c7f02abe7$var$trim(val[0]).replace($b499486c7f02abe7$var$commentre, "") : ""
      });
      match(/^[;\s]*/);
      return ret;
    }
    function declarations() {
      const decls = [];
      if (!open())
        return error("missing '{'");
      comments(decls);
      let decl;
      while (decl = declaration())
        if (decl) {
          decls.push(decl);
          comments(decls);
        }
      if (!close())
        return error("missing '}'");
      return decls;
    }
    function keyframe() {
      let m;
      const vals = [];
      const pos = position();
      while (m = match(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/)) {
        vals.push(m[1]);
        match(/^,\s*/);
      }
      if (!vals.length)
        return;
      return pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).keyframe,
        values: vals,
        declarations: declarations() || []
      });
    }
    function atkeyframes() {
      const pos = position();
      const m1 = match(/^@([-\w]+)?keyframes\s*/);
      if (!m1)
        return;
      const vendor = m1[1];
      const m2 = match(/^([-\w]+)\s*/);
      if (!m2)
        return error("@keyframes missing name");
      const name = m2[1];
      if (!open())
        return error("@keyframes missing '{'");
      let frame;
      let frames = comments();
      while (frame = keyframe()) {
        frames.push(frame);
        frames = frames.concat(comments());
      }
      if (!close())
        return error("@keyframes missing '}'");
      return pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).keyframes,
        name,
        vendor,
        keyframes: frames
      });
    }
    function atsupports() {
      const pos = position();
      const m = match(/^@supports *([^{]+)/);
      if (!m)
        return;
      const supports = $b499486c7f02abe7$var$trim(m[1]);
      if (!open())
        return error("@supports missing '{'");
      const style = comments().concat(rules());
      if (!close())
        return error("@supports missing '}'");
      return pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).supports,
        supports,
        rules: style
      });
    }
    function athost() {
      const pos = position();
      const m = match(/^@host\s*/);
      if (!m)
        return;
      if (!open())
        return error("@host missing '{'");
      const style = comments().concat(rules());
      if (!close())
        return error("@host missing '}'");
      return pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).host,
        rules: style
      });
    }
    function atcontainer() {
      const pos = position();
      const m = match(/^@container *([^{]+)/);
      if (!m)
        return;
      const container = $b499486c7f02abe7$var$trim(m[1]);
      if (!open())
        return error("@container missing '{'");
      const style = comments().concat(rules());
      if (!close())
        return error("@container missing '}'");
      return pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).container,
        container,
        rules: style
      });
    }
    function atlayer() {
      const pos = position();
      const m = match(/^@layer *([^{;@]+)/);
      if (!m)
        return;
      const layer = $b499486c7f02abe7$var$trim(m[1]);
      if (!open()) {
        match(/^[;\s]*/);
        return pos({
          type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).layer,
          layer
        });
      }
      const style = comments().concat(rules());
      if (!close())
        return error("@layer missing '}'");
      return pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).layer,
        layer,
        rules: style
      });
    }
    function atmedia() {
      const pos = position();
      const m = match(/^@media *([^{]+)/);
      if (!m)
        return;
      const media = $b499486c7f02abe7$var$trim(m[1]);
      if (!open())
        return error("@media missing '{'");
      const style = comments().concat(rules());
      if (!close())
        return error("@media missing '}'");
      return pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).media,
        media,
        rules: style
      });
    }
    function atcustommedia() {
      const pos = position();
      const m = match(/^@custom-media\s+(--\S+)\s*([^{;\s][^{;]*);/);
      if (!m)
        return;
      return pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).customMedia,
        name: $b499486c7f02abe7$var$trim(m[1]),
        media: $b499486c7f02abe7$var$trim(m[2])
      });
    }
    function atpage() {
      const pos = position();
      const m = match(/^@page */);
      if (!m)
        return;
      const sel = selector() || [];
      if (!open())
        return error("@page missing '{'");
      let decls = comments();
      let decl;
      while (decl = declaration()) {
        decls.push(decl);
        decls = decls.concat(comments());
      }
      if (!close())
        return error("@page missing '}'");
      return pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).page,
        selectors: sel,
        declarations: decls
      });
    }
    function atdocument() {
      const pos = position();
      const m = match(/^@([-\w]+)?document *([^{]+)/);
      if (!m)
        return;
      const vendor = $b499486c7f02abe7$var$trim(m[1]);
      const doc = $b499486c7f02abe7$var$trim(m[2]);
      if (!open())
        return error("@document missing '{'");
      const style = comments().concat(rules());
      if (!close())
        return error("@document missing '}'");
      return pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).document,
        document: doc,
        vendor,
        rules: style
      });
    }
    function atfontface() {
      const pos = position();
      const m = match(/^@font-face\s*/);
      if (!m)
        return;
      if (!open())
        return error("@font-face missing '{'");
      let decls = comments();
      let decl;
      while (decl = declaration()) {
        decls.push(decl);
        decls = decls.concat(comments());
      }
      if (!close())
        return error("@font-face missing '}'");
      return pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).fontFace,
        declarations: decls
      });
    }
    const atimport = _compileAtrule("import");
    const atcharset = _compileAtrule("charset");
    const atnamespace = _compileAtrule("namespace");
    function _compileAtrule(name) {
      const re = new RegExp("^@" + name + "\\s*((?::?[^;'\"]|\"(?:\\\\\"|[^\"])*?\"|'(?:\\\\'|[^'])*?')+)(?:;|$)");
      return function() {
        const pos = position();
        const m = match(re);
        if (!m)
          return;
        const ret = {
          type: name
        };
        ret[name] = m[1].trim();
        return pos(ret);
      };
    }
    function atrule() {
      if (css[0] !== "@")
        return;
      return atkeyframes() || atmedia() || atcustommedia() || atsupports() || atimport() || atcharset() || atnamespace() || atdocument() || atpage() || athost() || atfontface() || atcontainer() || atlayer();
    }
    function rule() {
      const pos = position();
      const sel = selector();
      if (!sel)
        return error("selector missing");
      comments();
      return pos({
        type: (0, $d103407e81c97042$export$9be5dd6e61d5d73a).rule,
        selectors: sel,
        declarations: declarations() || []
      });
    }
    return $b499486c7f02abe7$var$addParent(stylesheet());
  };
  var $b499486c7f02abe7$export$2e2bcd8739ae039 = $b499486c7f02abe7$export$98e6a39c04603d36;

  class $24dc7e49cb76910e$var$Compiler {
    constructor(options) {
      this.level = 0;
      this.indentation = "  ";
      this.compress = false;
      if (typeof options?.indent === "string")
        this.indentation = options?.indent;
      if (options?.compress)
        this.compress = true;
    }
    emit(str, _position) {
      return str;
    }
    indent(level) {
      this.level = this.level || 1;
      if (level) {
        this.level += level;
        return "";
      }
      return Array(this.level).join(this.indentation);
    }
    visit(node) {
      switch (node.type) {
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).stylesheet:
          return this.stylesheet(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).rule:
          return this.rule(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).declaration:
          return this.declaration(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).comment:
          return this.comment(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).container:
          return this.container(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).charset:
          return this.charset(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).document:
          return this.document(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).customMedia:
          return this.customMedia(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).fontFace:
          return this.fontFace(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).host:
          return this.host(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).import:
          return this.import(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).keyframes:
          return this.keyframes(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).keyframe:
          return this.keyframe(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).layer:
          return this.layer(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).media:
          return this.media(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).namespace:
          return this.namespace(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).page:
          return this.page(node);
        case (0, $d103407e81c97042$export$9be5dd6e61d5d73a).supports:
          return this.supports(node);
      }
    }
    mapVisit(nodes, delim) {
      let buf = "";
      delim = delim || "";
      for (let i = 0, length = nodes.length;i < length; i++) {
        buf += this.visit(nodes[i]);
        if (delim && i < length - 1)
          buf += this.emit(delim);
      }
      return buf;
    }
    compile(node) {
      if (this.compress)
        return node.stylesheet.rules.map(this.visit, this).join("");
      return this.stylesheet(node);
    }
    stylesheet(node) {
      return this.mapVisit(node.stylesheet.rules, "\n\n");
    }
    comment(node) {
      if (this.compress)
        return this.emit("", node.position);
      return this.emit(this.indent() + "/*" + node.comment + "*/", node.position);
    }
    container(node) {
      if (this.compress)
        return this.emit("@container " + node.container, node.position) + this.emit("{") + this.mapVisit(node.rules) + this.emit("}");
      return this.emit(this.indent() + "@container " + node.container, node.position) + this.emit(" {\n" + this.indent(1)) + this.mapVisit(node.rules, "\n\n") + this.emit("\n" + this.indent(-1) + this.indent() + "}");
    }
    layer(node) {
      if (this.compress)
        return this.emit("@layer " + node.layer, node.position) + (node.rules ? this.emit("{") + this.mapVisit(node.rules) + this.emit("}") : ";");
      return this.emit(this.indent() + "@layer " + node.layer, node.position) + (node.rules ? this.emit(" {\n" + this.indent(1)) + this.mapVisit(node.rules, "\n\n") + this.emit("\n" + this.indent(-1) + this.indent() + "}") : ";");
    }
    import(node) {
      return this.emit("@import " + node.import + ";", node.position);
    }
    media(node) {
      if (this.compress)
        return this.emit("@media " + node.media, node.position) + this.emit("{") + this.mapVisit(node.rules) + this.emit("}");
      return this.emit(this.indent() + "@media " + node.media, node.position) + this.emit(" {\n" + this.indent(1)) + this.mapVisit(node.rules, "\n\n") + this.emit("\n" + this.indent(-1) + this.indent() + "}");
    }
    document(node) {
      const doc = "@" + (node.vendor || "") + "document " + node.document;
      if (this.compress)
        return this.emit(doc, node.position) + this.emit("{") + this.mapVisit(node.rules) + this.emit("}");
      return this.emit(doc, node.position) + this.emit("  {\n" + this.indent(1)) + this.mapVisit(node.rules, "\n\n") + this.emit(this.indent(-1) + "\n}");
    }
    charset(node) {
      return this.emit("@charset " + node.charset + ";", node.position);
    }
    namespace(node) {
      return this.emit("@namespace " + node.namespace + ";", node.position);
    }
    supports(node) {
      if (this.compress)
        return this.emit("@supports " + node.supports, node.position) + this.emit("{") + this.mapVisit(node.rules) + this.emit("}");
      return this.emit(this.indent() + "@supports " + node.supports, node.position) + this.emit(" {\n" + this.indent(1)) + this.mapVisit(node.rules, "\n\n") + this.emit("\n" + this.indent(-1) + this.indent() + "}");
    }
    keyframes(node) {
      if (this.compress)
        return this.emit("@" + (node.vendor || "") + "keyframes " + node.name, node.position) + this.emit("{") + this.mapVisit(node.keyframes) + this.emit("}");
      return this.emit("@" + (node.vendor || "") + "keyframes " + node.name, node.position) + this.emit(" {\n" + this.indent(1)) + this.mapVisit(node.keyframes, "\n") + this.emit(this.indent(-1) + "}");
    }
    keyframe(node) {
      const decls = node.declarations;
      if (this.compress)
        return this.emit(node.values.join(","), node.position) + this.emit("{") + this.mapVisit(decls) + this.emit("}");
      return this.emit(this.indent()) + this.emit(node.values.join(", "), node.position) + this.emit(" {\n" + this.indent(1)) + this.mapVisit(decls, "\n") + this.emit(this.indent(-1) + "\n" + this.indent() + "}\n");
    }
    page(node) {
      if (this.compress) {
        const sel2 = node.selectors.length ? node.selectors.join(", ") : "";
        return this.emit("@page " + sel2, node.position) + this.emit("{") + this.mapVisit(node.declarations) + this.emit("}");
      }
      const sel = node.selectors.length ? node.selectors.join(", ") + " " : "";
      return this.emit("@page " + sel, node.position) + this.emit("{\n") + this.emit(this.indent(1)) + this.mapVisit(node.declarations, "\n") + this.emit(this.indent(-1)) + this.emit("\n}");
    }
    fontFace(node) {
      if (this.compress)
        return this.emit("@font-face", node.position) + this.emit("{") + this.mapVisit(node.declarations) + this.emit("}");
      return this.emit("@font-face ", node.position) + this.emit("{\n") + this.emit(this.indent(1)) + this.mapVisit(node.declarations, "\n") + this.emit(this.indent(-1)) + this.emit("\n}");
    }
    host(node) {
      if (this.compress)
        return this.emit("@host", node.position) + this.emit("{") + this.mapVisit(node.rules) + this.emit("}");
      return this.emit("@host", node.position) + this.emit(" {\n" + this.indent(1)) + this.mapVisit(node.rules, "\n\n") + this.emit(this.indent(-1) + "\n}");
    }
    customMedia(node) {
      return this.emit("@custom-media " + node.name + " " + node.media + ";", node.position);
    }
    rule(node) {
      const decls = node.declarations;
      if (!decls.length)
        return "";
      if (this.compress)
        return this.emit(node.selectors.join(","), node.position) + this.emit("{") + this.mapVisit(decls) + this.emit("}");
      const indent = this.indent();
      return this.emit(node.selectors.map((s) => {
        return indent + s;
      }).join(",\n"), node.position) + this.emit(" {\n") + this.emit(this.indent(1)) + this.mapVisit(decls, "\n") + this.emit(this.indent(-1)) + this.emit("\n" + this.indent() + "}");
    }
    declaration(node) {
      if (this.compress)
        return this.emit(node.property + ":" + node.value, node.position) + this.emit(";");
      return this.emit(this.indent()) + this.emit(node.property + ": " + node.value, node.position) + this.emit(";");
    }
  }
  var $24dc7e49cb76910e$export$2e2bcd8739ae039 = $24dc7e49cb76910e$var$Compiler;
  var $fd680ce0c35731f5$export$2e2bcd8739ae039 = (node, options) => {
    const compiler = new (0, $24dc7e49cb76910e$export$2e2bcd8739ae039)(options || {});
    return compiler.compile(node);
  };
  var $882b6d93070905b3$export$98e6a39c04603d36 = (0, $b499486c7f02abe7$export$2e2bcd8739ae039);
  var $882b6d93070905b3$export$fac44ee5b035f737 = (0, $fd680ce0c35731f5$export$2e2bcd8739ae039);
  var $882b6d93070905b3$export$2e2bcd8739ae039 = {
    parse: $882b6d93070905b3$export$98e6a39c04603d36,
    stringify: $882b6d93070905b3$export$fac44ee5b035f737
  };
  $parcel$exportWildcard(exports, $d103407e81c97042$exports);
  $parcel$exportWildcard(exports, $cb508b9219b02820$exports);
  $parcel$exportWildcard(exports, $4bafb28828007b46$exports);
});

// lib/convert/css.js
var require_css = __commonJS((exports, module) => {
  /*!
   * Stylus - CSS to Stylus conversion
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  module.exports = function(css) {
    return new Converter(css).stylus();
  };

  class Converter {
    constructor(css) {
      var { parse } = require_dist();
      this.css = css;
      this.root = parse(css, { position: false });
      this.indents = 0;
    }
    stylus() {
      return this.visitRules(this.root.stylesheet.rules);
    }
    get indent() {
      return Array(this.indents + 1).join("  ");
    }
    visit(node) {
      switch (node.type) {
        case "rule":
        case "comment":
        case "charset":
        case "namespace":
        case "media":
        case "import":
        case "document":
        case "keyframes":
        case "page":
        case "host":
        case "supports":
          var name = node.type[0].toUpperCase() + node.type.slice(1);
          return this["visit" + name](node);
        case "font-face":
          return this.visitFontFace(node);
      }
    }
    visitRules(node) {
      var buf = "";
      for (var i = 0, len = node.length;i < len; ++i) {
        buf += this.visit(node[i]);
      }
      return buf;
    }
    visitFontFace(node) {
      var buf = this.indent + "@font-face";
      buf += "\n";
      ++this.indents;
      for (var i = 0, len = node.declarations.length;i < len; ++i) {
        buf += this.visitDeclaration(node.declarations[i]);
      }
      --this.indents;
      return buf;
    }
    visitMedia(node) {
      var buf = this.indent + "@media " + node.media;
      buf += "\n";
      ++this.indents;
      buf += this.visitRules(node.rules);
      --this.indents;
      return buf;
    }
    visitDeclaration(node) {
      if (node.type == "comment") {
        return this.visitComment(node);
      } else {
        var buf = this.indent + node.property + ": " + node.value + "\n";
        return buf;
      }
    }
    visitRule(node) {
      var buf = this.indent + node.selectors.join(",\n" + this.indent) + "\n";
      ++this.indents;
      for (var i = 0, len = node.declarations.length;i < len; ++i) {
        buf += this.visitDeclaration(node.declarations[i]);
      }
      --this.indents;
      return buf + "\n";
    }
    visitComment(node) {
      var buf = this.indent + "/*" + node.comment + "*/";
      return buf + "\n";
    }
    visitCharset(node) {
      var buf = this.indent + "@charset " + node.charset;
      return buf + "\n";
    }
    visitNamespace(node) {
      var buf = this.indent + "@namespace " + node.namespace;
      return buf + "\n";
    }
    visitImport(node) {
      var buf = this.indent + "@import " + node.import;
      return buf + "\n";
    }
    visitDocument(node) {
      var buf = this.indent + "@" + node.vendor + "document " + node.document;
      buf += "\n";
      ++this.indents;
      buf += this.visitRules(node.rules);
      --this.indents;
      return buf;
    }
    visitKeyframes(node) {
      var buf = this.indent + "@keyframes " + node.name;
      buf += "\n";
      ++this.indents;
      for (var i = 0, len = node.keyframes.length;i < len; ++i) {
        buf += this.visitKeyframe(node.keyframes[i]);
      }
      --this.indents;
      return buf;
    }
    visitKeyframe(node) {
      var buf = this.indent + node.values.join(", ");
      buf += "\n";
      ++this.indents;
      for (var i = 0, len = node.declarations.length;i < len; ++i) {
        buf += this.visitDeclaration(node.declarations[i]);
      }
      --this.indents;
      return buf;
    }
    visitPage(node) {
      var buf = this.indent + "@page" + (node.selectors.length ? " " + node.selectors.join(", ") : "");
      buf += "\n";
      ++this.indents;
      for (var i = 0, len = node.declarations.length;i < len; ++i) {
        buf += this.visitDeclaration(node.declarations[i]);
      }
      --this.indents;
      return buf;
    }
    visitSupports(node) {
      var buf = this.indent + "@supports " + node.supports;
      buf += "\n";
      ++this.indents;
      buf += this.visitRules(node.rules);
      --this.indents;
      return buf;
    }
    visitHost(node) {
      var buf = this.indent + "@host";
      buf += "\n";
      ++this.indents;
      buf += this.visitRules(node.rules);
      --this.indents;
      return buf;
    }
  }
});

// lib/functions/resolver.js
var require_resolver = __commonJS((exports, module) => {
  var Compiler = require_compiler();
  var nodes = require_nodes();
  var parse = __require("url").parse;
  var relative = __require("path").relative;
  var join = __require("path").join;
  var dirname = __require("path").dirname;
  var extname = __require("path").extname;
  var sep = __require("path").sep;
  module.exports = function(options) {
    options = options || {};
    function resolver(url) {
      var compiler = new Compiler(url), filename = url.filename;
      compiler.isURL = true;
      url = parse(url.nodes.map(function(node) {
        return compiler.visit(node);
      }).join(""));
      var literal = new nodes.Literal('url("' + url.href + '")'), path = url.pathname, dest = this.options.dest, tail = "", res;
      if (url.protocol || !path || path[0] == "/")
        return literal;
      if (!options.nocheck) {
        var _paths = options.paths || [];
        path = require_utils().lookup(path, _paths.concat(this.paths));
        if (!path)
          return literal;
      }
      if (this.includeCSS && extname(path) == ".css")
        return new nodes.Literal(url.href);
      if (url.search)
        tail += url.search;
      if (url.hash)
        tail += url.hash;
      if (dest && extname(dest) == ".css")
        dest = dirname(dest);
      res = relative(dest || dirname(this.filename), options.nocheck ? join(dirname(filename), path) : path) + tail;
      if (sep == "\\")
        res = res.replace(/\\/g, "/");
      return new nodes.Literal('url("' + res + '")');
    }
    resolver.options = options;
    resolver.raw = true;
    return resolver;
  };
});

// lib/stylus.js
var require_stylus = __commonJS((exports, module) => {
  var render = function(str, options) {
    return new Renderer(str, options);
  };
  /*!
   * Stylus
   * Copyright (c) Automattic <developer.wordpress.com>
   * MIT Licensed
   */
  var Renderer = require_renderer();
  var nodes = require_nodes();
  var utils = require_utils();
  exports = module.exports = render;
  exports.version = require_package().version;
  exports.nodes = nodes;
  exports.functions = require_functions();
  exports.utils = require_utils();
  exports.middleware = require_middleware();
  exports.Visitor = require_visitor();
  exports.Parser = require_parser();
  exports.Evaluator = require_evaluator();
  exports.Normalizer = require_normalizer();
  exports.Compiler = require_compiler();
  exports.convertCSS = require_css();
  exports.render = function(str, options, fn) {
    if (typeof options == "function")
      fn = options, options = {};
    return new Renderer(str, options).render(fn);
  };
  exports.url = require_url();
  exports.resolver = require_resolver();
});

// main.mjs
var import_ = __toESM(require_stylus(), 1);
var main_default = import_.default;
export {
  main_default as default
};

//# debugId=DA70193E27F04D9F64756e2164756e21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbGliL3Rva2VuLmpzIiwgIi4uL2xpYi92aXNpdG9yL2luZGV4LmpzIiwgIi4uL2xpYi91bml0cy5qcyIsICIuLi9saWIvc3RhY2svaW5kZXguanMiLCAiLi4vbGliL3N0YWNrL3Njb3BlLmpzIiwgIi4uL2xpYi9zdGFjay9mcmFtZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvZnMucmVhbHBhdGgvb2xkLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9mcy5yZWFscGF0aC9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvY29uY2F0LW1hcC9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvYmFsYW5jZWQtbWF0Y2gvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2JyYWNlLWV4cGFuc2lvbi9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvZ2xvYi9ub2RlX21vZHVsZXMvbWluaW1hdGNoL21pbmltYXRjaC5qcyIsICIuLi9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHNfYnJvd3Nlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvaW5oZXJpdHMvaW5oZXJpdHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3BhdGgtaXMtYWJzb2x1dGUvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2dsb2IvY29tbW9uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9nbG9iL3N5bmMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3dyYXBweS93cmFwcHkuanMiLCAiLi4vbm9kZV9tb2R1bGVzL29uY2Uvb25jZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvaW5mbGlnaHQvaW5mbGlnaHQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2dsb2IvZ2xvYi5qcyIsICIuLi9saWIvc2VsZWN0b3ItcGFyc2VyLmpzIiwgIi4uL2xpYi91dGlscy5qcyIsICIuLi9saWIvZnVuY3Rpb25zL2FkZC1wcm9wZXJ0eS5qcyIsICIuLi9saWIvZnVuY3Rpb25zL2FkanVzdC5qcyIsICIuLi9saWIvZnVuY3Rpb25zL3JnYmEuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9hbHBoYS5qcyIsICIuLi9saWIvZnVuY3Rpb25zL2Jhc2UtY29udmVydC5qcyIsICIuLi9saWIvZnVuY3Rpb25zL2Jhc2VuYW1lLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvYmxlbmQuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9ibHVlLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvY2xvbmUuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9jb21wb25lbnQuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9sdW1pbm9zaXR5LmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvY29udHJhc3QuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9jb252ZXJ0LmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvY3VycmVudC1tZWRpYS5qcyIsICIuLi9saWIvZnVuY3Rpb25zL2RlZmluZS5qcyIsICIuLi9saWIvZnVuY3Rpb25zL2Rpcm5hbWUuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9lcnJvci5qcyIsICIuLi9saWIvZnVuY3Rpb25zL2V4dG5hbWUuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9ncmVlbi5qcyIsICIuLi9saWIvZnVuY3Rpb25zL2hzbGEuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9oc2wuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9odWUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3NheC9saWIvc2F4LmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvaW1hZ2UuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9pbWFnZS1zaXplLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvanNvbi5qcyIsICIuLi9saWIvZnVuY3Rpb25zL2xlbmd0aC5qcyIsICIuLi9saWIvZnVuY3Rpb25zL2xpZ2h0bmVzcy5qcyIsICIuLi9saWIvZnVuY3Rpb25zL2xpc3Qtc2VwYXJhdG9yLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvbG9va3VwLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvbWF0Y2guanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9tYXRoLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvbWVyZ2UuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9vcGVyYXRlLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvb3Bwb3NpdGUtcG9zaXRpb24uanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9wLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvcGF0aGpvaW4uanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9wb3AuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9wdXNoLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvcmFuZ2UuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9yZWQuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9yZW1vdmUuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9yZXBsYWNlLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvcmdiLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvY29udmVydC1hbmdsZS5qcyIsICIuLi9saWIvZnVuY3Rpb25zL2F0YW4uanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9hc2luLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvYWNvcy5qcyIsICIuLi9saWIvdmlzaXRvci9jb21waWxlci5qcyIsICIuLi9saWIvZnVuY3Rpb25zL3MuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9zYXR1cmF0aW9uLmpzIiwgIi4uL2xpYi92aXNpdG9yL25vcm1hbGl6ZXIuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9zZWxlY3Rvci1leGlzdHMuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9zZWxlY3Rvci5qcyIsICIuLi9saWIvZnVuY3Rpb25zL3NlbGVjdG9ycy5qcyIsICIuLi9saWIvZnVuY3Rpb25zL3NoaWZ0LmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvc3BsaXQuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9zdWJzdHIuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy9zbGljZS5qcyIsICIuLi9saWIvZnVuY3Rpb25zL3Rhbi5qcyIsICIuLi9saWIvZnVuY3Rpb25zL3RyYWNlLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvdHJhbnNwYXJlbnRpZnkuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy90eXBlLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvdW5pdC5qcyIsICIuLi9saWIvZnVuY3Rpb25zL3VucXVvdGUuanMiLCAiLi4vbGliL2Z1bmN0aW9ucy91bnNoaWZ0LmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvdXNlLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvd2Fybi5qcyIsICIuLi9saWIvZnVuY3Rpb25zL21hdGgtcHJvcC5qcyIsICIuLi9saWIvZnVuY3Rpb25zL3ByZWZpeC1jbGFzc2VzLmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvaW5kZXguanMiLCAiLi4vbGliL2NvbG9ycy5qcyIsICIuLi9ub2RlX21vZHVsZXMvZGVidWcvbm9kZV9tb2R1bGVzL21zL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvY29tbW9uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvYnJvd3Nlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvaGFzLWZsYWcvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL3N1cHBvcnRzLWNvbG9yL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9kZWJ1Zy9zcmMvbm9kZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2luZGV4LmpzIiwgIi4uL2xpYi9mdW5jdGlvbnMvdXJsLmpzIiwgIi4uL2xpYi92aXNpdG9yL2V2YWx1YXRvci5qcyIsICIuLi9saWIvbm9kZXMvbm9kZS5qcyIsICIuLi9saWIvbm9kZXMvcm9vdC5qcyIsICIuLi9saWIvbm9kZXMvbnVsbC5qcyIsICIuLi9saWIvbm9kZXMvZWFjaC5qcyIsICIuLi9saWIvbm9kZXMvaWYuanMiLCAiLi4vbGliL25vZGVzL2NhbGwuanMiLCAiLi4vbGliL25vZGVzL3VuYXJ5b3AuanMiLCAiLi4vbGliL25vZGVzL2Jpbm9wLmpzIiwgIi4uL2xpYi9ub2Rlcy90ZXJuYXJ5LmpzIiwgIi4uL2xpYi9ub2Rlcy9ibG9jay5qcyIsICIuLi9saWIvbm9kZXMvdW5pdC5qcyIsICIuLi9saWIvbm9kZXMvc3RyaW5nLmpzIiwgIi4uL2xpYi9ub2Rlcy9oc2xhLmpzIiwgIi4uL2xpYi9ub2Rlcy9yZ2JhLmpzIiwgIi4uL2xpYi9ub2Rlcy9pZGVudC5qcyIsICIuLi9saWIvbm9kZXMvZ3JvdXAuanMiLCAiLi4vbGliL25vZGVzL2xpdGVyYWwuanMiLCAiLi4vbGliL25vZGVzL2Jvb2xlYW4uanMiLCAiLi4vbGliL25vZGVzL3JldHVybi5qcyIsICIuLi9saWIvbm9kZXMvYXRydWxlLmpzIiwgIi4uL2xpYi9ub2Rlcy9tZWRpYS5qcyIsICIuLi9saWIvbm9kZXMvcXVlcnktbGlzdC5qcyIsICIuLi9saWIvbm9kZXMvcXVlcnkuanMiLCAiLi4vbGliL25vZGVzL2ZlYXR1cmUuanMiLCAiLi4vbGliL25vZGVzL3BhcmFtcy5qcyIsICIuLi9saWIvbm9kZXMvY29tbWVudC5qcyIsICIuLi9saWIvbm9kZXMva2V5ZnJhbWVzLmpzIiwgIi4uL2xpYi9ub2Rlcy9tZW1iZXIuanMiLCAiLi4vbGliL25vZGVzL2NoYXJzZXQuanMiLCAiLi4vbGliL25vZGVzL25hbWVzcGFjZS5qcyIsICIuLi9saWIvbm9kZXMvaW1wb3J0LmpzIiwgIi4uL2xpYi9ub2Rlcy9leHRlbmQuanMiLCAiLi4vbGliL25vZGVzL29iamVjdC5qcyIsICIuLi9saWIvbm9kZXMvZnVuY3Rpb24uanMiLCAiLi4vbGliL25vZGVzL3Byb3BlcnR5LmpzIiwgIi4uL2xpYi9ub2Rlcy9zZWxlY3Rvci5qcyIsICIuLi9saWIvbm9kZXMvZXhwcmVzc2lvbi5qcyIsICIuLi9saWIvbm9kZXMvYXJndW1lbnRzLmpzIiwgIi4uL2xpYi9ub2Rlcy9hdGJsb2NrLmpzIiwgIi4uL2xpYi9ub2Rlcy9zdXBwb3J0cy5qcyIsICIuLi9saWIvbm9kZXMvaW5kZXguanMiLCAiLi4vbGliL2Vycm9ycy5qcyIsICIuLi9saWIvbGV4ZXIuanMiLCAiLi4vbGliL2NhY2hlL21lbW9yeS5qcyIsICIuLi9saWIvY2FjaGUvbnVsbC5qcyIsICIuLi9saWIvY2FjaGUvaW5kZXguanMiLCAiLi4vbGliL3BhcnNlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvYmFzZTY0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9iYXNlNjQtdmxxLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi91dGlsLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9zb3VyY2UtbWFwL2xpYi9hcnJheS1zZXQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL21hcHBpbmctbGlzdC5qcyIsICIuLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW1hcC1nZW5lcmF0b3IuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL2JpbmFyeS1zZWFyY2guanMiLCAiLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvbGliL3JlYWQtd2FzbS5qcyIsICIuLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvd2FzbS5qcyIsICIuLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW1hcC1jb25zdW1lci5qcyIsICIuLi9ub2RlX21vZHVsZXMvc291cmNlLW1hcC9saWIvc291cmNlLW5vZGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3NvdXJjZS1tYXAvc291cmNlLW1hcC5qcyIsICIuLi9saWIvdmlzaXRvci9zb3VyY2VtYXBwZXIuanMiLCAiLi4vbGliL3Zpc2l0b3IvZGVwcy1yZXNvbHZlci5qcyIsICIuLi9saWIvcmVuZGVyZXIuanMiLCAiLi4vcGFja2FnZS5qc29uIiwgIi4uL2xpYi9taWRkbGV3YXJlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9AYWRvYmUvY3NzLXRvb2xzL2Rpc3QvaW5kZXguY2pzIiwgIi4uL2xpYi9jb252ZXJ0L2Nzcy5qcyIsICIuLi9saWIvZnVuY3Rpb25zL3Jlc29sdmVyLmpzIiwgIi4uL2xpYi9zdHlsdXMuanMiLCAiLi4vbWFpbi5tanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbCiAgICAiXG4vKiFcbiAqIFN0eWx1cyAtIFRva2VuXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBpbnNwZWN0ID0gcmVxdWlyZSgndXRpbCcpLmluc3BlY3Q7XG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFRva2VuIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYFRva2VuYCB3aXRoIHRoZSBnaXZlbiBgdHlwZWAgYW5kIGB2YWxgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgKiBAcGFyYW0ge01peGVkfSB2YWxcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKHR5cGUsIHZhbCkge1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy52YWwgPSB2YWw7XG4gIH1cblxuICAvKipcbiAgICogQ3VzdG9tIGluc3BlY3QuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgaW5zcGVjdCgpIHtcbiAgICB2YXIgdmFsID0gJyAnICsgaW5zcGVjdCh0aGlzLnZhbCk7XG4gICAgcmV0dXJuICdbVG9rZW46JyArIHRoaXMubGluZW5vICsgJzonICsgdGhpcy5jb2x1bW4gKyAnICdcbiAgICAgICsgJ1xceDFiWzMybScgKyB0aGlzLnR5cGUgKyAnXFx4MWJbMG0nXG4gICAgICArICdcXHgxYlszM20nICsgKHRoaXMudmFsID8gdmFsIDogJycpICsgJ1xceDFiWzBtJ1xuICAgICAgKyAnXSc7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0eXBlIG9yIHZhbC5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gKHVuZGVmaW5lZCA9PT0gdGhpcy52YWxcbiAgICAgID8gdGhpcy50eXBlXG4gICAgICA6IHRoaXMudmFsKS50b1N0cmluZygpO1xuICB9O1xufTtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBWaXNpdG9yXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBWaXNpdG9yIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYFZpc2l0b3JgIHdpdGggdGhlIGdpdmVuIGByb290YCBOb2RlLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IHJvb3RcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKHJvb3QpIHtcbiAgICB0aGlzLnJvb3QgPSByb290O1xuICB9XG5cbiAgLyoqXG4gICAqIFZpc2l0IHRoZSBnaXZlbiBgbm9kZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZXxBcnJheX0gbm9kZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB2aXNpdChub2RlLCBmbikge1xuICAgIHZhciBtZXRob2QgPSAndmlzaXQnICsgbm9kZS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgIGlmICh0aGlzW21ldGhvZF0pIHJldHVybiB0aGlzW21ldGhvZF0obm9kZSk7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIHVuaXRzXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLy8gdW5pdHMgZm91bmQgaW4gaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy12YWx1ZXNcbi8vIGFuZCBpbiBodHRwczovL3d3dy53My5vcmcvVFIvY3NzLXZhbHVlcy00XG5cbm1vZHVsZS5leHBvcnRzID0gW1xuICAgICdlbScsICdleCcsICdjaCcsICdyZW0nIC8vIHJlbGF0aXZlIGxlbmd0aHNcblxuICAsICd2dycsICdzdncnLCAnbHZ3JywgJ2R2dycgLy8gcmVsYXRpdmUgdmlld3BvcnQtcGVyY2VudGFnZSBsZW5ndGhzIChpbmNsdWRpbmcgZGUtZmFjdG8gc3RhbmRhcmQpXG4gICwgJ3ZoJywgJ3N2aCcsICdsdmgnLCAnZHZoJ1xuICAsICd2aScsICdzdmknLCAnbHZpJywgJ2R2aSdcbiAgLCAndmInLCAnc3ZiJywgJ2x2YicsICdkdmInXG4gICwgJ3ZtaW4nLCAnc3ZtaW4nLCAnbHZtaW4nLCAnZHZtaW4nXG4gICwgJ3ZtYXgnLCAnc3ZtYXgnLCAnbHZtYXgnLCAnZHZtYXgnXG5cbiAgLCAnY20nLCAnbW0nLCAnaW4nLCAncHQnLCAncGMnLCAncHgnIC8vIGFic29sdXRlIGxlbmd0aHNcbiAgLCAnZGVnJywgJ2dyYWQnLCAncmFkJywgJ3R1cm4nIC8vIGFuZ2xlc1xuICAsICdzJywgJ21zJyAvLyB0aW1lc1xuICAsICdIeicsICdrSHonIC8vIGZyZXF1ZW5jaWVzXG4gICwgJ2RwaScsICdkcGNtJywgJ2RwcHgnLCAneCcgLy8gcmVzb2x1dGlvbnNcbiAgLCAnJScgLy8gcGVyY2VudGFnZSB0eXBlXG4gICwgJ2ZyJyAvLyBncmlkLWxheW91dCAoaHR0cDovL3d3dy53My5vcmcvVFIvY3NzMy1ncmlkLWxheW91dC8pXG5dO1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIFN0YWNrXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBTdGFjayBleHRlbmRzIEFycmF5IHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYFN0YWNrYC5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKClcbiAgICBBcnJheS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIFB1c2ggdGhlIGdpdmVuIGBmcmFtZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7RnJhbWV9IGZyYW1lXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHB1c2goZnJhbWUpIHtcbiAgICBmcmFtZS5zdGFjayA9IHRoaXM7XG4gICAgZnJhbWUucGFyZW50ID0gdGhpcy5jdXJyZW50RnJhbWU7XG4gICAgcmV0dXJuIFtdLnB1c2guYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjdXJyZW50IHN0YWNrIGBGcmFtZWAuXG4gICAqXG4gICAqIEByZXR1cm4ge0ZyYW1lfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgZ2V0IGN1cnJlbnRGcmFtZSgpIHtcbiAgICByZXR1cm4gdGhpc1t0aGlzLmxlbmd0aCAtIDFdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBMb29rdXAgc3RhY2sgZnJhbWUgZm9yIHRoZSBnaXZlbiBgYmxvY2tgLlxuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9ja1xuICAgKiBAcmV0dXJuIHtGcmFtZX1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGdldEJsb2NrRnJhbWUoYmxvY2spIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmIChibG9jayA9PSB0aGlzW2ldLmJsb2NrKSB7XG4gICAgICAgIHJldHVybiB0aGlzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTG9va3VwIHRoZSBnaXZlbiBsb2NhbCB2YXJpYWJsZSBgbmFtZWAsIHJlbGF0aXZlXG4gICAqIHRvIHRoZSBsZXhpY2FsIHNjb3BlIG9mIHRoZSBjdXJyZW50IGZyYW1lJ3MgYEJsb2NrYC5cbiAgICpcbiAgICogV2hlbiB0aGUgcmVzdWx0IG9mIGEgbG9va3VwIGlzIGFuIGlkZW50aWZpZXJcbiAgICogYSByZWN1cnNpdmUgbG9va3VwIGlzIHBlcmZvcm1lZCwgZGVmYXVsdGluZyB0b1xuICAgKiByZXR1cm5pbmcgdGhlIGlkZW50aWZpZXIgaXRzZWxmLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgbG9va3VwKG5hbWUpIHtcbiAgICB2YXIgYmxvY2sgPSB0aGlzLmN1cnJlbnRGcmFtZS5ibG9ja1xuICAgICAgLCB2YWxcbiAgICAgICwgcmV0O1xuXG4gICAgZG8ge1xuICAgICAgdmFyIGZyYW1lID0gdGhpcy5nZXRCbG9ja0ZyYW1lKGJsb2NrKTtcbiAgICAgIGlmIChmcmFtZSAmJiAodmFsID0gZnJhbWUubG9va3VwKG5hbWUpKSkge1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgfVxuICAgIH0gd2hpbGUgKGJsb2NrID0gYmxvY2sucGFyZW50KTtcbiAgfTtcblxuICAvKipcbiAgICogQ3VzdG9tIGluc3BlY3QuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGluc3BlY3QoKSB7XG4gICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLm1hcChmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAgIHJldHVybiBmcmFtZS5pbnNwZWN0KCk7XG4gICAgfSkuam9pbignXFxuJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBzdGFjayBzdHJpbmcgZm9ybWF0dGVkIGFzOlxuICAgKlxuICAgKiAgIGF0IDxjb250ZXh0PiAoPGZpbGVuYW1lPjo8bGluZW5vPjo8Y29sdW1uPilcbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgdmFyIGJsb2NrXG4gICAgICAsIG5vZGVcbiAgICAgICwgYnVmID0gW11cbiAgICAgICwgbG9jYXRpb25cbiAgICAgICwgbGVuID0gdGhpcy5sZW5ndGg7XG5cbiAgICB3aGlsZSAobGVuLS0pIHtcbiAgICAgIGJsb2NrID0gdGhpc1tsZW5dLmJsb2NrO1xuICAgICAgaWYgKG5vZGUgPSBibG9jay5ub2RlKSB7XG4gICAgICAgIGxvY2F0aW9uID0gJygnICsgbm9kZS5maWxlbmFtZSArICc6JyArIChub2RlLmxpbmVubyArIDEpICsgJzonICsgbm9kZS5jb2x1bW4gKyAnKSc7XG4gICAgICAgIHN3aXRjaCAobm9kZS5ub2RlTmFtZSkge1xuICAgICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICAgIGJ1Zi5wdXNoKCcgICAgYXQgJyArIG5vZGUubmFtZSArICcoKSAnICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICAgICAgYnVmLnB1c2goJyAgICBhdCBcIicgKyBub2RlLm5vZGVzWzBdLnZhbCArICdcIiAnICsgbG9jYXRpb24pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYnVmLmpvaW4oJ1xcbicpO1xuICB9O1xufTtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBzdGFjayAtIFNjb3BlXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBTY29wZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBTY29wZWAuXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxvY2FscyA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBgaWRlbnRgIG5vZGUgdG8gdGhlIGN1cnJlbnQgc2NvcGUuXG4gICAqXG4gICAqIEBwYXJhbSB7SWRlbnR9IGlkZW50XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBhZGQoaWRlbnQpIHtcbiAgICB0aGlzLmxvY2Fsc1tpZGVudC5uYW1lXSA9IGlkZW50LnZhbDtcbiAgfTtcblxuICAvKipcbiAgICogTG9va3VwIHRoZSBnaXZlbiBsb2NhbCB2YXJpYWJsZSBgbmFtZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBsb29rdXAobmFtZSkge1xuICAgIHJldHVybiB0aGlzLmxvY2Fscy5oYXNPd25Qcm9wZXJ0eShuYW1lKSA/IHRoaXMubG9jYWxzW25hbWVdIDogdW5kZWZpbmVkO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDdXN0b20gaW5zcGVjdC5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBpbnNwZWN0KCkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcy5sb2NhbHMpLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiAnQCcgKyBrZXk7IH0pO1xuICAgIHJldHVybiAnW1Njb3BlJ1xuICAgICAgKyAoa2V5cy5sZW5ndGggPyAnICcgKyBrZXlzLmpvaW4oJywgJykgOiAnJylcbiAgICAgICsgJ10nO1xuICB9O1xufTtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBzdGFjayAtIEZyYW1lXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBTY29wZSA9IHJlcXVpcmUoJy4vc2NvcGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBGcmFtZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBGcmFtZWAgd2l0aCB0aGUgZ2l2ZW4gYGJsb2NrYC5cbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2tcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKGJsb2NrKSB7XG4gICAgdGhpcy5fc2NvcGUgPSBmYWxzZSA9PT0gYmxvY2suc2NvcGVcbiAgICAgID8gbnVsbFxuICAgICAgOiBuZXcgU2NvcGU7XG4gICAgdGhpcy5ibG9jayA9IGJsb2NrO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGlzIGZyYW1lJ3Mgc2NvcGUgb3IgdGhlIHBhcmVudCBzY29wZVxuICAgKiBmb3Igc2NvcGUtbGVzcyBibG9ja3MuXG4gICAqXG4gICAqIEByZXR1cm4ge1Njb3BlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBnZXQgc2NvcGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Njb3BlIHx8IHRoaXMucGFyZW50LnNjb3BlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBMb29rdXAgdGhlIGdpdmVuIGxvY2FsIHZhcmlhYmxlIGBuYW1lYC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGxvb2t1cChuYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuc2NvcGUubG9va3VwKG5hbWUpXG4gIH07XG5cbiAgLyoqXG4gICAqIEN1c3RvbSBpbnNwZWN0LlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGluc3BlY3QoKSB7XG4gICAgcmV0dXJuICdbRnJhbWUgJ1xuICAgICAgKyAoZmFsc2UgPT09IHRoaXMuYmxvY2suc2NvcGVcbiAgICAgICAgPyAnc2NvcGUtbGVzcydcbiAgICAgICAgOiB0aGlzLnNjb3BlLmluc3BlY3QoKSlcbiAgICAgICsgJ10nO1xuICB9O1xufTtcbiIsCiAgIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgcGF0aE1vZHVsZSA9IHJlcXVpcmUoJ3BhdGgnKTtcbnZhciBpc1dpbmRvd3MgPSBwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInO1xudmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcblxuLy8gSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiByZWFscGF0aCwgcG9ydGVkIGZyb20gbm9kZSBwcmUtdjZcblxudmFyIERFQlVHID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyAmJiAvZnMvLnRlc3QocHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyk7XG5cbmZ1bmN0aW9uIHJldGhyb3coKSB7XG4gIC8vIE9ubHkgZW5hYmxlIGluIGRlYnVnIG1vZGUuIEEgYmFja3RyYWNlIHVzZXMgfjEwMDAgYnl0ZXMgb2YgaGVhcCBzcGFjZSBhbmRcbiAgLy8gaXMgZmFpcmx5IHNsb3cgdG8gZ2VuZXJhdGUuXG4gIHZhciBjYWxsYmFjaztcbiAgaWYgKERFQlVHKSB7XG4gICAgdmFyIGJhY2t0cmFjZSA9IG5ldyBFcnJvcjtcbiAgICBjYWxsYmFjayA9IGRlYnVnQ2FsbGJhY2s7XG4gIH0gZWxzZVxuICAgIGNhbGxiYWNrID0gbWlzc2luZ0NhbGxiYWNrO1xuXG4gIHJldHVybiBjYWxsYmFjaztcblxuICBmdW5jdGlvbiBkZWJ1Z0NhbGxiYWNrKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGJhY2t0cmFjZS5tZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgICBlcnIgPSBiYWNrdHJhY2U7XG4gICAgICBtaXNzaW5nQ2FsbGJhY2soZXJyKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBtaXNzaW5nQ2FsbGJhY2soZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgaWYgKHByb2Nlc3MudGhyb3dEZXByZWNhdGlvbilcbiAgICAgICAgdGhyb3cgZXJyOyAgLy8gRm9yZ290IGEgY2FsbGJhY2sgYnV0IGRvbid0IGtub3cgd2hlcmU/IFVzZSBOT0RFX0RFQlVHPWZzXG4gICAgICBlbHNlIGlmICghcHJvY2Vzcy5ub0RlcHJlY2F0aW9uKSB7XG4gICAgICAgIHZhciBtc2cgPSAnZnM6IG1pc3NpbmcgY2FsbGJhY2sgJyArIChlcnIuc3RhY2sgfHwgZXJyLm1lc3NhZ2UpO1xuICAgICAgICBpZiAocHJvY2Vzcy50cmFjZURlcHJlY2F0aW9uKVxuICAgICAgICAgIGNvbnNvbGUudHJhY2UobXNnKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbWF5YmVDYWxsYmFjayhjYikge1xuICByZXR1cm4gdHlwZW9mIGNiID09PSAnZnVuY3Rpb24nID8gY2IgOiByZXRocm93KCk7XG59XG5cbnZhciBub3JtYWxpemUgPSBwYXRoTW9kdWxlLm5vcm1hbGl6ZTtcblxuLy8gUmVnZXhwIHRoYXQgZmluZHMgdGhlIG5leHQgcGFydGlvbiBvZiBhIChwYXJ0aWFsKSBwYXRoXG4vLyByZXN1bHQgaXMgW2Jhc2Vfd2l0aF9zbGFzaCwgYmFzZV0sIGUuZy4gWydzb21lZGlyLycsICdzb21lZGlyJ11cbmlmIChpc1dpbmRvd3MpIHtcbiAgdmFyIG5leHRQYXJ0UmUgPSAvKC4qPykoPzpbXFwvXFxcXF0rfCQpL2c7XG59IGVsc2Uge1xuICB2YXIgbmV4dFBhcnRSZSA9IC8oLio/KSg/OltcXC9dK3wkKS9nO1xufVxuXG4vLyBSZWdleCB0byBmaW5kIHRoZSBkZXZpY2Ugcm9vdCwgaW5jbHVkaW5nIHRyYWlsaW5nIHNsYXNoLiBFLmcuICdjOlxcXFwnLlxuaWYgKGlzV2luZG93cykge1xuICB2YXIgc3BsaXRSb290UmUgPSAvXig/OlthLXpBLVpdOnxbXFxcXFxcL117Mn1bXlxcXFxcXC9dK1tcXFxcXFwvXVteXFxcXFxcL10rKT9bXFxcXFxcL10qLztcbn0gZWxzZSB7XG4gIHZhciBzcGxpdFJvb3RSZSA9IC9eW1xcL10qLztcbn1cblxuZXhwb3J0cy5yZWFscGF0aFN5bmMgPSBmdW5jdGlvbiByZWFscGF0aFN5bmMocCwgY2FjaGUpIHtcbiAgLy8gbWFrZSBwIGlzIGFic29sdXRlXG4gIHAgPSBwYXRoTW9kdWxlLnJlc29sdmUocCk7XG5cbiAgaWYgKGNhY2hlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwgcCkpIHtcbiAgICByZXR1cm4gY2FjaGVbcF07XG4gIH1cblxuICB2YXIgb3JpZ2luYWwgPSBwLFxuICAgICAgc2VlbkxpbmtzID0ge30sXG4gICAgICBrbm93bkhhcmQgPSB7fTtcblxuICAvLyBjdXJyZW50IGNoYXJhY3RlciBwb3NpdGlvbiBpbiBwXG4gIHZhciBwb3M7XG4gIC8vIHRoZSBwYXJ0aWFsIHBhdGggc28gZmFyLCBpbmNsdWRpbmcgYSB0cmFpbGluZyBzbGFzaCBpZiBhbnlcbiAgdmFyIGN1cnJlbnQ7XG4gIC8vIHRoZSBwYXJ0aWFsIHBhdGggd2l0aG91dCBhIHRyYWlsaW5nIHNsYXNoIChleGNlcHQgd2hlbiBwb2ludGluZyBhdCBhIHJvb3QpXG4gIHZhciBiYXNlO1xuICAvLyB0aGUgcGFydGlhbCBwYXRoIHNjYW5uZWQgaW4gdGhlIHByZXZpb3VzIHJvdW5kLCB3aXRoIHNsYXNoXG4gIHZhciBwcmV2aW91cztcblxuICBzdGFydCgpO1xuXG4gIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgIC8vIFNraXAgb3ZlciByb290c1xuICAgIHZhciBtID0gc3BsaXRSb290UmUuZXhlYyhwKTtcbiAgICBwb3MgPSBtWzBdLmxlbmd0aDtcbiAgICBjdXJyZW50ID0gbVswXTtcbiAgICBiYXNlID0gbVswXTtcbiAgICBwcmV2aW91cyA9ICcnO1xuXG4gICAgLy8gT24gd2luZG93cywgY2hlY2sgdGhhdCB0aGUgcm9vdCBleGlzdHMuIE9uIHVuaXggdGhlcmUgaXMgbm8gbmVlZC5cbiAgICBpZiAoaXNXaW5kb3dzICYmICFrbm93bkhhcmRbYmFzZV0pIHtcbiAgICAgIGZzLmxzdGF0U3luYyhiYXNlKTtcbiAgICAgIGtub3duSGFyZFtiYXNlXSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgLy8gd2FsayBkb3duIHRoZSBwYXRoLCBzd2FwcGluZyBvdXQgbGlua2VkIHBhdGhwYXJ0cyBmb3IgdGhlaXIgcmVhbFxuICAvLyB2YWx1ZXNcbiAgLy8gTkI6IHAubGVuZ3RoIGNoYW5nZXMuXG4gIHdoaWxlIChwb3MgPCBwLmxlbmd0aCkge1xuICAgIC8vIGZpbmQgdGhlIG5leHQgcGFydFxuICAgIG5leHRQYXJ0UmUubGFzdEluZGV4ID0gcG9zO1xuICAgIHZhciByZXN1bHQgPSBuZXh0UGFydFJlLmV4ZWMocCk7XG4gICAgcHJldmlvdXMgPSBjdXJyZW50O1xuICAgIGN1cnJlbnQgKz0gcmVzdWx0WzBdO1xuICAgIGJhc2UgPSBwcmV2aW91cyArIHJlc3VsdFsxXTtcbiAgICBwb3MgPSBuZXh0UGFydFJlLmxhc3RJbmRleDtcblxuICAgIC8vIGNvbnRpbnVlIGlmIG5vdCBhIHN5bWxpbmtcbiAgICBpZiAoa25vd25IYXJkW2Jhc2VdIHx8IChjYWNoZSAmJiBjYWNoZVtiYXNlXSA9PT0gYmFzZSkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIHZhciByZXNvbHZlZExpbms7XG4gICAgaWYgKGNhY2hlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwgYmFzZSkpIHtcbiAgICAgIC8vIHNvbWUga25vd24gc3ltYm9saWMgbGluay4gIG5vIG5lZWQgdG8gc3RhdCBhZ2Fpbi5cbiAgICAgIHJlc29sdmVkTGluayA9IGNhY2hlW2Jhc2VdO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgc3RhdCA9IGZzLmxzdGF0U3luYyhiYXNlKTtcbiAgICAgIGlmICghc3RhdC5pc1N5bWJvbGljTGluaygpKSB7XG4gICAgICAgIGtub3duSGFyZFtiYXNlXSA9IHRydWU7XG4gICAgICAgIGlmIChjYWNoZSkgY2FjaGVbYmFzZV0gPSBiYXNlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gcmVhZCB0aGUgbGluayBpZiBpdCB3YXNuJ3QgcmVhZCBiZWZvcmVcbiAgICAgIC8vIGRldi9pbm8gYWx3YXlzIHJldHVybiAwIG9uIHdpbmRvd3MsIHNvIHNraXAgdGhlIGNoZWNrLlxuICAgICAgdmFyIGxpbmtUYXJnZXQgPSBudWxsO1xuICAgICAgaWYgKCFpc1dpbmRvd3MpIHtcbiAgICAgICAgdmFyIGlkID0gc3RhdC5kZXYudG9TdHJpbmcoMzIpICsgJzonICsgc3RhdC5pbm8udG9TdHJpbmcoMzIpO1xuICAgICAgICBpZiAoc2VlbkxpbmtzLmhhc093blByb3BlcnR5KGlkKSkge1xuICAgICAgICAgIGxpbmtUYXJnZXQgPSBzZWVuTGlua3NbaWRdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobGlua1RhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICBmcy5zdGF0U3luYyhiYXNlKTtcbiAgICAgICAgbGlua1RhcmdldCA9IGZzLnJlYWRsaW5rU3luYyhiYXNlKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmVkTGluayA9IHBhdGhNb2R1bGUucmVzb2x2ZShwcmV2aW91cywgbGlua1RhcmdldCk7XG4gICAgICAvLyB0cmFjayB0aGlzLCBpZiBnaXZlbiBhIGNhY2hlLlxuICAgICAgaWYgKGNhY2hlKSBjYWNoZVtiYXNlXSA9IHJlc29sdmVkTGluaztcbiAgICAgIGlmICghaXNXaW5kb3dzKSBzZWVuTGlua3NbaWRdID0gbGlua1RhcmdldDtcbiAgICB9XG5cbiAgICAvLyByZXNvbHZlIHRoZSBsaW5rLCB0aGVuIHN0YXJ0IG92ZXJcbiAgICBwID0gcGF0aE1vZHVsZS5yZXNvbHZlKHJlc29sdmVkTGluaywgcC5zbGljZShwb3MpKTtcbiAgICBzdGFydCgpO1xuICB9XG5cbiAgaWYgKGNhY2hlKSBjYWNoZVtvcmlnaW5hbF0gPSBwO1xuXG4gIHJldHVybiBwO1xufTtcblxuXG5leHBvcnRzLnJlYWxwYXRoID0gZnVuY3Rpb24gcmVhbHBhdGgocCwgY2FjaGUsIGNiKSB7XG4gIGlmICh0eXBlb2YgY2IgIT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IG1heWJlQ2FsbGJhY2soY2FjaGUpO1xuICAgIGNhY2hlID0gbnVsbDtcbiAgfVxuXG4gIC8vIG1ha2UgcCBpcyBhYnNvbHV0ZVxuICBwID0gcGF0aE1vZHVsZS5yZXNvbHZlKHApO1xuXG4gIGlmIChjYWNoZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY2FjaGUsIHApKSB7XG4gICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soY2IuYmluZChudWxsLCBudWxsLCBjYWNoZVtwXSkpO1xuICB9XG5cbiAgdmFyIG9yaWdpbmFsID0gcCxcbiAgICAgIHNlZW5MaW5rcyA9IHt9LFxuICAgICAga25vd25IYXJkID0ge307XG5cbiAgLy8gY3VycmVudCBjaGFyYWN0ZXIgcG9zaXRpb24gaW4gcFxuICB2YXIgcG9zO1xuICAvLyB0aGUgcGFydGlhbCBwYXRoIHNvIGZhciwgaW5jbHVkaW5nIGEgdHJhaWxpbmcgc2xhc2ggaWYgYW55XG4gIHZhciBjdXJyZW50O1xuICAvLyB0aGUgcGFydGlhbCBwYXRoIHdpdGhvdXQgYSB0cmFpbGluZyBzbGFzaCAoZXhjZXB0IHdoZW4gcG9pbnRpbmcgYXQgYSByb290KVxuICB2YXIgYmFzZTtcbiAgLy8gdGhlIHBhcnRpYWwgcGF0aCBzY2FubmVkIGluIHRoZSBwcmV2aW91cyByb3VuZCwgd2l0aCBzbGFzaFxuICB2YXIgcHJldmlvdXM7XG5cbiAgc3RhcnQoKTtcblxuICBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAvLyBTa2lwIG92ZXIgcm9vdHNcbiAgICB2YXIgbSA9IHNwbGl0Um9vdFJlLmV4ZWMocCk7XG4gICAgcG9zID0gbVswXS5sZW5ndGg7XG4gICAgY3VycmVudCA9IG1bMF07XG4gICAgYmFzZSA9IG1bMF07XG4gICAgcHJldmlvdXMgPSAnJztcblxuICAgIC8vIE9uIHdpbmRvd3MsIGNoZWNrIHRoYXQgdGhlIHJvb3QgZXhpc3RzLiBPbiB1bml4IHRoZXJlIGlzIG5vIG5lZWQuXG4gICAgaWYgKGlzV2luZG93cyAmJiAha25vd25IYXJkW2Jhc2VdKSB7XG4gICAgICBmcy5sc3RhdChiYXNlLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKGVycikgcmV0dXJuIGNiKGVycik7XG4gICAgICAgIGtub3duSGFyZFtiYXNlXSA9IHRydWU7XG4gICAgICAgIExPT1AoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKExPT1ApO1xuICAgIH1cbiAgfVxuXG4gIC8vIHdhbGsgZG93biB0aGUgcGF0aCwgc3dhcHBpbmcgb3V0IGxpbmtlZCBwYXRocGFydHMgZm9yIHRoZWlyIHJlYWxcbiAgLy8gdmFsdWVzXG4gIGZ1bmN0aW9uIExPT1AoKSB7XG4gICAgLy8gc3RvcCBpZiBzY2FubmVkIHBhc3QgZW5kIG9mIHBhdGhcbiAgICBpZiAocG9zID49IHAubGVuZ3RoKSB7XG4gICAgICBpZiAoY2FjaGUpIGNhY2hlW29yaWdpbmFsXSA9IHA7XG4gICAgICByZXR1cm4gY2IobnVsbCwgcCk7XG4gICAgfVxuXG4gICAgLy8gZmluZCB0aGUgbmV4dCBwYXJ0XG4gICAgbmV4dFBhcnRSZS5sYXN0SW5kZXggPSBwb3M7XG4gICAgdmFyIHJlc3VsdCA9IG5leHRQYXJ0UmUuZXhlYyhwKTtcbiAgICBwcmV2aW91cyA9IGN1cnJlbnQ7XG4gICAgY3VycmVudCArPSByZXN1bHRbMF07XG4gICAgYmFzZSA9IHByZXZpb3VzICsgcmVzdWx0WzFdO1xuICAgIHBvcyA9IG5leHRQYXJ0UmUubGFzdEluZGV4O1xuXG4gICAgLy8gY29udGludWUgaWYgbm90IGEgc3ltbGlua1xuICAgIGlmIChrbm93bkhhcmRbYmFzZV0gfHwgKGNhY2hlICYmIGNhY2hlW2Jhc2VdID09PSBiYXNlKSkge1xuICAgICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soTE9PUCk7XG4gICAgfVxuXG4gICAgaWYgKGNhY2hlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjYWNoZSwgYmFzZSkpIHtcbiAgICAgIC8vIGtub3duIHN5bWJvbGljIGxpbmsuICBubyBuZWVkIHRvIHN0YXQgYWdhaW4uXG4gICAgICByZXR1cm4gZ290UmVzb2x2ZWRMaW5rKGNhY2hlW2Jhc2VdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZnMubHN0YXQoYmFzZSwgZ290U3RhdCk7XG4gIH1cblxuICBmdW5jdGlvbiBnb3RTdGF0KGVyciwgc3RhdCkge1xuICAgIGlmIChlcnIpIHJldHVybiBjYihlcnIpO1xuXG4gICAgLy8gaWYgbm90IGEgc3ltbGluaywgc2tpcCB0byB0aGUgbmV4dCBwYXRoIHBhcnRcbiAgICBpZiAoIXN0YXQuaXNTeW1ib2xpY0xpbmsoKSkge1xuICAgICAga25vd25IYXJkW2Jhc2VdID0gdHJ1ZTtcbiAgICAgIGlmIChjYWNoZSkgY2FjaGVbYmFzZV0gPSBiYXNlO1xuICAgICAgcmV0dXJuIHByb2Nlc3MubmV4dFRpY2soTE9PUCk7XG4gICAgfVxuXG4gICAgLy8gc3RhdCAmIHJlYWQgdGhlIGxpbmsgaWYgbm90IHJlYWQgYmVmb3JlXG4gICAgLy8gY2FsbCBnb3RUYXJnZXQgYXMgc29vbiBhcyB0aGUgbGluayB0YXJnZXQgaXMga25vd25cbiAgICAvLyBkZXYvaW5vIGFsd2F5cyByZXR1cm4gMCBvbiB3aW5kb3dzLCBzbyBza2lwIHRoZSBjaGVjay5cbiAgICBpZiAoIWlzV2luZG93cykge1xuICAgICAgdmFyIGlkID0gc3RhdC5kZXYudG9TdHJpbmcoMzIpICsgJzonICsgc3RhdC5pbm8udG9TdHJpbmcoMzIpO1xuICAgICAgaWYgKHNlZW5MaW5rcy5oYXNPd25Qcm9wZXJ0eShpZCkpIHtcbiAgICAgICAgcmV0dXJuIGdvdFRhcmdldChudWxsLCBzZWVuTGlua3NbaWRdLCBiYXNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnMuc3RhdChiYXNlLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgIGlmIChlcnIpIHJldHVybiBjYihlcnIpO1xuXG4gICAgICBmcy5yZWFkbGluayhiYXNlLCBmdW5jdGlvbihlcnIsIHRhcmdldCkge1xuICAgICAgICBpZiAoIWlzV2luZG93cykgc2VlbkxpbmtzW2lkXSA9IHRhcmdldDtcbiAgICAgICAgZ290VGFyZ2V0KGVyciwgdGFyZ2V0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ290VGFyZ2V0KGVyciwgdGFyZ2V0LCBiYXNlKSB7XG4gICAgaWYgKGVycikgcmV0dXJuIGNiKGVycik7XG5cbiAgICB2YXIgcmVzb2x2ZWRMaW5rID0gcGF0aE1vZHVsZS5yZXNvbHZlKHByZXZpb3VzLCB0YXJnZXQpO1xuICAgIGlmIChjYWNoZSkgY2FjaGVbYmFzZV0gPSByZXNvbHZlZExpbms7XG4gICAgZ290UmVzb2x2ZWRMaW5rKHJlc29sdmVkTGluayk7XG4gIH1cblxuICBmdW5jdGlvbiBnb3RSZXNvbHZlZExpbmsocmVzb2x2ZWRMaW5rKSB7XG4gICAgLy8gcmVzb2x2ZSB0aGUgbGluaywgdGhlbiBzdGFydCBvdmVyXG4gICAgcCA9IHBhdGhNb2R1bGUucmVzb2x2ZShyZXNvbHZlZExpbmssIHAuc2xpY2UocG9zKSk7XG4gICAgc3RhcnQoKTtcbiAgfVxufTtcbiIsCiAgIm1vZHVsZS5leHBvcnRzID0gcmVhbHBhdGhcbnJlYWxwYXRoLnJlYWxwYXRoID0gcmVhbHBhdGhcbnJlYWxwYXRoLnN5bmMgPSByZWFscGF0aFN5bmNcbnJlYWxwYXRoLnJlYWxwYXRoU3luYyA9IHJlYWxwYXRoU3luY1xucmVhbHBhdGgubW9ua2V5cGF0Y2ggPSBtb25rZXlwYXRjaFxucmVhbHBhdGgudW5tb25rZXlwYXRjaCA9IHVubW9ua2V5cGF0Y2hcblxudmFyIGZzID0gcmVxdWlyZSgnZnMnKVxudmFyIG9yaWdSZWFscGF0aCA9IGZzLnJlYWxwYXRoXG52YXIgb3JpZ1JlYWxwYXRoU3luYyA9IGZzLnJlYWxwYXRoU3luY1xuXG52YXIgdmVyc2lvbiA9IHByb2Nlc3MudmVyc2lvblxudmFyIG9rID0gL152WzAtNV1cXC4vLnRlc3QodmVyc2lvbilcbnZhciBvbGQgPSByZXF1aXJlKCcuL29sZC5qcycpXG5cbmZ1bmN0aW9uIG5ld0Vycm9yIChlcikge1xuICByZXR1cm4gZXIgJiYgZXIuc3lzY2FsbCA9PT0gJ3JlYWxwYXRoJyAmJiAoXG4gICAgZXIuY29kZSA9PT0gJ0VMT09QJyB8fFxuICAgIGVyLmNvZGUgPT09ICdFTk9NRU0nIHx8XG4gICAgZXIuY29kZSA9PT0gJ0VOQU1FVE9PTE9ORydcbiAgKVxufVxuXG5mdW5jdGlvbiByZWFscGF0aCAocCwgY2FjaGUsIGNiKSB7XG4gIGlmIChvaykge1xuICAgIHJldHVybiBvcmlnUmVhbHBhdGgocCwgY2FjaGUsIGNiKVxuICB9XG5cbiAgaWYgKHR5cGVvZiBjYWNoZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gY2FjaGVcbiAgICBjYWNoZSA9IG51bGxcbiAgfVxuICBvcmlnUmVhbHBhdGgocCwgY2FjaGUsIGZ1bmN0aW9uIChlciwgcmVzdWx0KSB7XG4gICAgaWYgKG5ld0Vycm9yKGVyKSkge1xuICAgICAgb2xkLnJlYWxwYXRoKHAsIGNhY2hlLCBjYilcbiAgICB9IGVsc2Uge1xuICAgICAgY2IoZXIsIHJlc3VsdClcbiAgICB9XG4gIH0pXG59XG5cbmZ1bmN0aW9uIHJlYWxwYXRoU3luYyAocCwgY2FjaGUpIHtcbiAgaWYgKG9rKSB7XG4gICAgcmV0dXJuIG9yaWdSZWFscGF0aFN5bmMocCwgY2FjaGUpXG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiBvcmlnUmVhbHBhdGhTeW5jKHAsIGNhY2hlKVxuICB9IGNhdGNoIChlcikge1xuICAgIGlmIChuZXdFcnJvcihlcikpIHtcbiAgICAgIHJldHVybiBvbGQucmVhbHBhdGhTeW5jKHAsIGNhY2hlKVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBlclxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBtb25rZXlwYXRjaCAoKSB7XG4gIGZzLnJlYWxwYXRoID0gcmVhbHBhdGhcbiAgZnMucmVhbHBhdGhTeW5jID0gcmVhbHBhdGhTeW5jXG59XG5cbmZ1bmN0aW9uIHVubW9ua2V5cGF0Y2ggKCkge1xuICBmcy5yZWFscGF0aCA9IG9yaWdSZWFscGF0aFxuICBmcy5yZWFscGF0aFN5bmMgPSBvcmlnUmVhbHBhdGhTeW5jXG59XG4iLAogICJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh4cywgZm4pIHtcbiAgICB2YXIgcmVzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB4cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgeCA9IGZuKHhzW2ldLCBpKTtcbiAgICAgICAgaWYgKGlzQXJyYXkoeCkpIHJlcy5wdXNoLmFwcGx5KHJlcywgeCk7XG4gICAgICAgIGVsc2UgcmVzLnB1c2goeCk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh4cykgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59O1xuIiwKICAiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBiYWxhbmNlZDtcbmZ1bmN0aW9uIGJhbGFuY2VkKGEsIGIsIHN0cikge1xuICBpZiAoYSBpbnN0YW5jZW9mIFJlZ0V4cCkgYSA9IG1heWJlTWF0Y2goYSwgc3RyKTtcbiAgaWYgKGIgaW5zdGFuY2VvZiBSZWdFeHApIGIgPSBtYXliZU1hdGNoKGIsIHN0cik7XG5cbiAgdmFyIHIgPSByYW5nZShhLCBiLCBzdHIpO1xuXG4gIHJldHVybiByICYmIHtcbiAgICBzdGFydDogclswXSxcbiAgICBlbmQ6IHJbMV0sXG4gICAgcHJlOiBzdHIuc2xpY2UoMCwgclswXSksXG4gICAgYm9keTogc3RyLnNsaWNlKHJbMF0gKyBhLmxlbmd0aCwgclsxXSksXG4gICAgcG9zdDogc3RyLnNsaWNlKHJbMV0gKyBiLmxlbmd0aClcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWF5YmVNYXRjaChyZWcsIHN0cikge1xuICB2YXIgbSA9IHN0ci5tYXRjaChyZWcpO1xuICByZXR1cm4gbSA/IG1bMF0gOiBudWxsO1xufVxuXG5iYWxhbmNlZC5yYW5nZSA9IHJhbmdlO1xuZnVuY3Rpb24gcmFuZ2UoYSwgYiwgc3RyKSB7XG4gIHZhciBiZWdzLCBiZWcsIGxlZnQsIHJpZ2h0LCByZXN1bHQ7XG4gIHZhciBhaSA9IHN0ci5pbmRleE9mKGEpO1xuICB2YXIgYmkgPSBzdHIuaW5kZXhPZihiLCBhaSArIDEpO1xuICB2YXIgaSA9IGFpO1xuXG4gIGlmIChhaSA+PSAwICYmIGJpID4gMCkge1xuICAgIGlmKGE9PT1iKSB7XG4gICAgICByZXR1cm4gW2FpLCBiaV07XG4gICAgfVxuICAgIGJlZ3MgPSBbXTtcbiAgICBsZWZ0ID0gc3RyLmxlbmd0aDtcblxuICAgIHdoaWxlIChpID49IDAgJiYgIXJlc3VsdCkge1xuICAgICAgaWYgKGkgPT0gYWkpIHtcbiAgICAgICAgYmVncy5wdXNoKGkpO1xuICAgICAgICBhaSA9IHN0ci5pbmRleE9mKGEsIGkgKyAxKTtcbiAgICAgIH0gZWxzZSBpZiAoYmVncy5sZW5ndGggPT0gMSkge1xuICAgICAgICByZXN1bHQgPSBbIGJlZ3MucG9wKCksIGJpIF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiZWcgPSBiZWdzLnBvcCgpO1xuICAgICAgICBpZiAoYmVnIDwgbGVmdCkge1xuICAgICAgICAgIGxlZnQgPSBiZWc7XG4gICAgICAgICAgcmlnaHQgPSBiaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJpID0gc3RyLmluZGV4T2YoYiwgaSArIDEpO1xuICAgICAgfVxuXG4gICAgICBpID0gYWkgPCBiaSAmJiBhaSA+PSAwID8gYWkgOiBiaTtcbiAgICB9XG5cbiAgICBpZiAoYmVncy5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdCA9IFsgbGVmdCwgcmlnaHQgXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuIiwKICAidmFyIGNvbmNhdE1hcCA9IHJlcXVpcmUoJ2NvbmNhdC1tYXAnKTtcbnZhciBiYWxhbmNlZCA9IHJlcXVpcmUoJ2JhbGFuY2VkLW1hdGNoJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZXhwYW5kVG9wO1xuXG52YXIgZXNjU2xhc2ggPSAnXFwwU0xBU0gnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG52YXIgZXNjT3BlbiA9ICdcXDBPUEVOJytNYXRoLnJhbmRvbSgpKydcXDAnO1xudmFyIGVzY0Nsb3NlID0gJ1xcMENMT1NFJytNYXRoLnJhbmRvbSgpKydcXDAnO1xudmFyIGVzY0NvbW1hID0gJ1xcMENPTU1BJytNYXRoLnJhbmRvbSgpKydcXDAnO1xudmFyIGVzY1BlcmlvZCA9ICdcXDBQRVJJT0QnK01hdGgucmFuZG9tKCkrJ1xcMCc7XG5cbmZ1bmN0aW9uIG51bWVyaWMoc3RyKSB7XG4gIHJldHVybiBwYXJzZUludChzdHIsIDEwKSA9PSBzdHJcbiAgICA/IHBhcnNlSW50KHN0ciwgMTApXG4gICAgOiBzdHIuY2hhckNvZGVBdCgwKTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlQnJhY2VzKHN0cikge1xuICByZXR1cm4gc3RyLnNwbGl0KCdcXFxcXFxcXCcpLmpvaW4oZXNjU2xhc2gpXG4gICAgICAgICAgICAuc3BsaXQoJ1xcXFx7Jykuam9pbihlc2NPcGVuKVxuICAgICAgICAgICAgLnNwbGl0KCdcXFxcfScpLmpvaW4oZXNjQ2xvc2UpXG4gICAgICAgICAgICAuc3BsaXQoJ1xcXFwsJykuam9pbihlc2NDb21tYSlcbiAgICAgICAgICAgIC5zcGxpdCgnXFxcXC4nKS5qb2luKGVzY1BlcmlvZCk7XG59XG5cbmZ1bmN0aW9uIHVuZXNjYXBlQnJhY2VzKHN0cikge1xuICByZXR1cm4gc3RyLnNwbGl0KGVzY1NsYXNoKS5qb2luKCdcXFxcJylcbiAgICAgICAgICAgIC5zcGxpdChlc2NPcGVuKS5qb2luKCd7JylcbiAgICAgICAgICAgIC5zcGxpdChlc2NDbG9zZSkuam9pbignfScpXG4gICAgICAgICAgICAuc3BsaXQoZXNjQ29tbWEpLmpvaW4oJywnKVxuICAgICAgICAgICAgLnNwbGl0KGVzY1BlcmlvZCkuam9pbignLicpO1xufVxuXG5cbi8vIEJhc2ljYWxseSBqdXN0IHN0ci5zcGxpdChcIixcIiksIGJ1dCBoYW5kbGluZyBjYXNlc1xuLy8gd2hlcmUgd2UgaGF2ZSBuZXN0ZWQgYnJhY2VkIHNlY3Rpb25zLCB3aGljaCBzaG91bGQgYmVcbi8vIHRyZWF0ZWQgYXMgaW5kaXZpZHVhbCBtZW1iZXJzLCBsaWtlIHthLHtiLGN9LGR9XG5mdW5jdGlvbiBwYXJzZUNvbW1hUGFydHMoc3RyKSB7XG4gIGlmICghc3RyKVxuICAgIHJldHVybiBbJyddO1xuXG4gIHZhciBwYXJ0cyA9IFtdO1xuICB2YXIgbSA9IGJhbGFuY2VkKCd7JywgJ30nLCBzdHIpO1xuXG4gIGlmICghbSlcbiAgICByZXR1cm4gc3RyLnNwbGl0KCcsJyk7XG5cbiAgdmFyIHByZSA9IG0ucHJlO1xuICB2YXIgYm9keSA9IG0uYm9keTtcbiAgdmFyIHBvc3QgPSBtLnBvc3Q7XG4gIHZhciBwID0gcHJlLnNwbGl0KCcsJyk7XG5cbiAgcFtwLmxlbmd0aC0xXSArPSAneycgKyBib2R5ICsgJ30nO1xuICB2YXIgcG9zdFBhcnRzID0gcGFyc2VDb21tYVBhcnRzKHBvc3QpO1xuICBpZiAocG9zdC5sZW5ndGgpIHtcbiAgICBwW3AubGVuZ3RoLTFdICs9IHBvc3RQYXJ0cy5zaGlmdCgpO1xuICAgIHAucHVzaC5hcHBseShwLCBwb3N0UGFydHMpO1xuICB9XG5cbiAgcGFydHMucHVzaC5hcHBseShwYXJ0cywgcCk7XG5cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG5mdW5jdGlvbiBleHBhbmRUb3Aoc3RyKSB7XG4gIGlmICghc3RyKVxuICAgIHJldHVybiBbXTtcblxuICAvLyBJIGRvbid0IGtub3cgd2h5IEJhc2ggNC4zIGRvZXMgdGhpcywgYnV0IGl0IGRvZXMuXG4gIC8vIEFueXRoaW5nIHN0YXJ0aW5nIHdpdGgge30gd2lsbCBoYXZlIHRoZSBmaXJzdCB0d28gYnl0ZXMgcHJlc2VydmVkXG4gIC8vIGJ1dCAqb25seSogYXQgdGhlIHRvcCBsZXZlbCwgc28ge30sYX1iIHdpbGwgbm90IGV4cGFuZCB0byBhbnl0aGluZyxcbiAgLy8gYnV0IGF7fSxifWMgd2lsbCBiZSBleHBhbmRlZCB0byBbYX1jLGFiY10uXG4gIC8vIE9uZSBjb3VsZCBhcmd1ZSB0aGF0IHRoaXMgaXMgYSBidWcgaW4gQmFzaCwgYnV0IHNpbmNlIHRoZSBnb2FsIG9mXG4gIC8vIHRoaXMgbW9kdWxlIGlzIHRvIG1hdGNoIEJhc2gncyBydWxlcywgd2UgZXNjYXBlIGEgbGVhZGluZyB7fVxuICBpZiAoc3RyLnN1YnN0cigwLCAyKSA9PT0gJ3t9Jykge1xuICAgIHN0ciA9ICdcXFxce1xcXFx9JyArIHN0ci5zdWJzdHIoMik7XG4gIH1cblxuICByZXR1cm4gZXhwYW5kKGVzY2FwZUJyYWNlcyhzdHIpLCB0cnVlKS5tYXAodW5lc2NhcGVCcmFjZXMpO1xufVxuXG5mdW5jdGlvbiBpZGVudGl0eShlKSB7XG4gIHJldHVybiBlO1xufVxuXG5mdW5jdGlvbiBlbWJyYWNlKHN0cikge1xuICByZXR1cm4gJ3snICsgc3RyICsgJ30nO1xufVxuZnVuY3Rpb24gaXNQYWRkZWQoZWwpIHtcbiAgcmV0dXJuIC9eLT8wXFxkLy50ZXN0KGVsKTtcbn1cblxuZnVuY3Rpb24gbHRlKGksIHkpIHtcbiAgcmV0dXJuIGkgPD0geTtcbn1cbmZ1bmN0aW9uIGd0ZShpLCB5KSB7XG4gIHJldHVybiBpID49IHk7XG59XG5cbmZ1bmN0aW9uIGV4cGFuZChzdHIsIGlzVG9wKSB7XG4gIHZhciBleHBhbnNpb25zID0gW107XG5cbiAgdmFyIG0gPSBiYWxhbmNlZCgneycsICd9Jywgc3RyKTtcbiAgaWYgKCFtIHx8IC9cXCQkLy50ZXN0KG0ucHJlKSkgcmV0dXJuIFtzdHJdO1xuXG4gIHZhciBpc051bWVyaWNTZXF1ZW5jZSA9IC9eLT9cXGQrXFwuXFwuLT9cXGQrKD86XFwuXFwuLT9cXGQrKT8kLy50ZXN0KG0uYm9keSk7XG4gIHZhciBpc0FscGhhU2VxdWVuY2UgPSAvXlthLXpBLVpdXFwuXFwuW2EtekEtWl0oPzpcXC5cXC4tP1xcZCspPyQvLnRlc3QobS5ib2R5KTtcbiAgdmFyIGlzU2VxdWVuY2UgPSBpc051bWVyaWNTZXF1ZW5jZSB8fCBpc0FscGhhU2VxdWVuY2U7XG4gIHZhciBpc09wdGlvbnMgPSBtLmJvZHkuaW5kZXhPZignLCcpID49IDA7XG4gIGlmICghaXNTZXF1ZW5jZSAmJiAhaXNPcHRpb25zKSB7XG4gICAgLy8ge2F9LGJ9XG4gICAgaWYgKG0ucG9zdC5tYXRjaCgvLC4qXFx9LykpIHtcbiAgICAgIHN0ciA9IG0ucHJlICsgJ3snICsgbS5ib2R5ICsgZXNjQ2xvc2UgKyBtLnBvc3Q7XG4gICAgICByZXR1cm4gZXhwYW5kKHN0cik7XG4gICAgfVxuICAgIHJldHVybiBbc3RyXTtcbiAgfVxuXG4gIHZhciBuO1xuICBpZiAoaXNTZXF1ZW5jZSkge1xuICAgIG4gPSBtLmJvZHkuc3BsaXQoL1xcLlxcLi8pO1xuICB9IGVsc2Uge1xuICAgIG4gPSBwYXJzZUNvbW1hUGFydHMobS5ib2R5KTtcbiAgICBpZiAobi5sZW5ndGggPT09IDEpIHtcbiAgICAgIC8vIHh7e2EsYn19eSA9PT4geHthfXkgeHtifXlcbiAgICAgIG4gPSBleHBhbmQoblswXSwgZmFsc2UpLm1hcChlbWJyYWNlKTtcbiAgICAgIGlmIChuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB2YXIgcG9zdCA9IG0ucG9zdC5sZW5ndGhcbiAgICAgICAgICA/IGV4cGFuZChtLnBvc3QsIGZhbHNlKVxuICAgICAgICAgIDogWycnXTtcbiAgICAgICAgcmV0dXJuIHBvc3QubWFwKGZ1bmN0aW9uKHApIHtcbiAgICAgICAgICByZXR1cm4gbS5wcmUgKyBuWzBdICsgcDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gYXQgdGhpcyBwb2ludCwgbiBpcyB0aGUgcGFydHMsIGFuZCB3ZSBrbm93IGl0J3Mgbm90IGEgY29tbWEgc2V0XG4gIC8vIHdpdGggYSBzaW5nbGUgZW50cnkuXG5cbiAgLy8gbm8gbmVlZCB0byBleHBhbmQgcHJlLCBzaW5jZSBpdCBpcyBndWFyYW50ZWVkIHRvIGJlIGZyZWUgb2YgYnJhY2Utc2V0c1xuICB2YXIgcHJlID0gbS5wcmU7XG4gIHZhciBwb3N0ID0gbS5wb3N0Lmxlbmd0aFxuICAgID8gZXhwYW5kKG0ucG9zdCwgZmFsc2UpXG4gICAgOiBbJyddO1xuXG4gIHZhciBOO1xuXG4gIGlmIChpc1NlcXVlbmNlKSB7XG4gICAgdmFyIHggPSBudW1lcmljKG5bMF0pO1xuICAgIHZhciB5ID0gbnVtZXJpYyhuWzFdKTtcbiAgICB2YXIgd2lkdGggPSBNYXRoLm1heChuWzBdLmxlbmd0aCwgblsxXS5sZW5ndGgpXG4gICAgdmFyIGluY3IgPSBuLmxlbmd0aCA9PSAzXG4gICAgICA/IE1hdGguYWJzKG51bWVyaWMoblsyXSkpXG4gICAgICA6IDE7XG4gICAgdmFyIHRlc3QgPSBsdGU7XG4gICAgdmFyIHJldmVyc2UgPSB5IDwgeDtcbiAgICBpZiAocmV2ZXJzZSkge1xuICAgICAgaW5jciAqPSAtMTtcbiAgICAgIHRlc3QgPSBndGU7XG4gICAgfVxuICAgIHZhciBwYWQgPSBuLnNvbWUoaXNQYWRkZWQpO1xuXG4gICAgTiA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IHg7IHRlc3QoaSwgeSk7IGkgKz0gaW5jcikge1xuICAgICAgdmFyIGM7XG4gICAgICBpZiAoaXNBbHBoYVNlcXVlbmNlKSB7XG4gICAgICAgIGMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGkpO1xuICAgICAgICBpZiAoYyA9PT0gJ1xcXFwnKVxuICAgICAgICAgIGMgPSAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGMgPSBTdHJpbmcoaSk7XG4gICAgICAgIGlmIChwYWQpIHtcbiAgICAgICAgICB2YXIgbmVlZCA9IHdpZHRoIC0gYy5sZW5ndGg7XG4gICAgICAgICAgaWYgKG5lZWQgPiAwKSB7XG4gICAgICAgICAgICB2YXIgeiA9IG5ldyBBcnJheShuZWVkICsgMSkuam9pbignMCcpO1xuICAgICAgICAgICAgaWYgKGkgPCAwKVxuICAgICAgICAgICAgICBjID0gJy0nICsgeiArIGMuc2xpY2UoMSk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgIGMgPSB6ICsgYztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIE4ucHVzaChjKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgTiA9IGNvbmNhdE1hcChuLCBmdW5jdGlvbihlbCkgeyByZXR1cm4gZXhwYW5kKGVsLCBmYWxzZSkgfSk7XG4gIH1cblxuICBmb3IgKHZhciBqID0gMDsgaiA8IE4ubGVuZ3RoOyBqKyspIHtcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IHBvc3QubGVuZ3RoOyBrKyspIHtcbiAgICAgIHZhciBleHBhbnNpb24gPSBwcmUgKyBOW2pdICsgcG9zdFtrXTtcbiAgICAgIGlmICghaXNUb3AgfHwgaXNTZXF1ZW5jZSB8fCBleHBhbnNpb24pXG4gICAgICAgIGV4cGFuc2lvbnMucHVzaChleHBhbnNpb24pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBleHBhbnNpb25zO1xufVxuXG4iLAogICJtb2R1bGUuZXhwb3J0cyA9IG1pbmltYXRjaFxubWluaW1hdGNoLk1pbmltYXRjaCA9IE1pbmltYXRjaFxuXG52YXIgcGF0aCA9IChmdW5jdGlvbiAoKSB7IHRyeSB7IHJldHVybiByZXF1aXJlKCdwYXRoJykgfSBjYXRjaCAoZSkge319KCkpIHx8IHtcbiAgc2VwOiAnLydcbn1cbm1pbmltYXRjaC5zZXAgPSBwYXRoLnNlcFxuXG52YXIgR0xPQlNUQVIgPSBtaW5pbWF0Y2guR0xPQlNUQVIgPSBNaW5pbWF0Y2guR0xPQlNUQVIgPSB7fVxudmFyIGV4cGFuZCA9IHJlcXVpcmUoJ2JyYWNlLWV4cGFuc2lvbicpXG5cbnZhciBwbFR5cGVzID0ge1xuICAnISc6IHsgb3BlbjogJyg/Oig/ISg/OicsIGNsb3NlOiAnKSlbXi9dKj8pJ30sXG4gICc/JzogeyBvcGVuOiAnKD86JywgY2xvc2U6ICcpPycgfSxcbiAgJysnOiB7IG9wZW46ICcoPzonLCBjbG9zZTogJykrJyB9LFxuICAnKic6IHsgb3BlbjogJyg/OicsIGNsb3NlOiAnKSonIH0sXG4gICdAJzogeyBvcGVuOiAnKD86JywgY2xvc2U6ICcpJyB9XG59XG5cbi8vIGFueSBzaW5nbGUgdGhpbmcgb3RoZXIgdGhhbiAvXG4vLyBkb24ndCBuZWVkIHRvIGVzY2FwZSAvIHdoZW4gdXNpbmcgbmV3IFJlZ0V4cCgpXG52YXIgcW1hcmsgPSAnW14vXSdcblxuLy8gKiA9PiBhbnkgbnVtYmVyIG9mIGNoYXJhY3RlcnNcbnZhciBzdGFyID0gcW1hcmsgKyAnKj8nXG5cbi8vICoqIHdoZW4gZG90cyBhcmUgYWxsb3dlZC4gIEFueXRoaW5nIGdvZXMsIGV4Y2VwdCAuLiBhbmQgLlxuLy8gbm90ICheIG9yIC8gZm9sbG93ZWQgYnkgb25lIG9yIHR3byBkb3RzIGZvbGxvd2VkIGJ5ICQgb3IgLyksXG4vLyBmb2xsb3dlZCBieSBhbnl0aGluZywgYW55IG51bWJlciBvZiB0aW1lcy5cbnZhciB0d29TdGFyRG90ID0gJyg/Oig/ISg/OlxcXFxcXC98XikoPzpcXFxcLnsxLDJ9KSgkfFxcXFxcXC8pKS4pKj8nXG5cbi8vIG5vdCBhIF4gb3IgLyBmb2xsb3dlZCBieSBhIGRvdCxcbi8vIGZvbGxvd2VkIGJ5IGFueXRoaW5nLCBhbnkgbnVtYmVyIG9mIHRpbWVzLlxudmFyIHR3b1N0YXJOb0RvdCA9ICcoPzooPyEoPzpcXFxcXFwvfF4pXFxcXC4pLikqPydcblxuLy8gY2hhcmFjdGVycyB0aGF0IG5lZWQgdG8gYmUgZXNjYXBlZCBpbiBSZWdFeHAuXG52YXIgcmVTcGVjaWFscyA9IGNoYXJTZXQoJygpLip7fSs/W11eJFxcXFwhJylcblxuLy8gXCJhYmNcIiAtPiB7IGE6dHJ1ZSwgYjp0cnVlLCBjOnRydWUgfVxuZnVuY3Rpb24gY2hhclNldCAocykge1xuICByZXR1cm4gcy5zcGxpdCgnJykucmVkdWNlKGZ1bmN0aW9uIChzZXQsIGMpIHtcbiAgICBzZXRbY10gPSB0cnVlXG4gICAgcmV0dXJuIHNldFxuICB9LCB7fSlcbn1cblxuLy8gbm9ybWFsaXplcyBzbGFzaGVzLlxudmFyIHNsYXNoU3BsaXQgPSAvXFwvKy9cblxubWluaW1hdGNoLmZpbHRlciA9IGZpbHRlclxuZnVuY3Rpb24gZmlsdGVyIChwYXR0ZXJuLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHJldHVybiBmdW5jdGlvbiAocCwgaSwgbGlzdCkge1xuICAgIHJldHVybiBtaW5pbWF0Y2gocCwgcGF0dGVybiwgb3B0aW9ucylcbiAgfVxufVxuXG5mdW5jdGlvbiBleHQgKGEsIGIpIHtcbiAgYiA9IGIgfHwge31cbiAgdmFyIHQgPSB7fVxuICBPYmplY3Qua2V5cyhhKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgdFtrXSA9IGFba11cbiAgfSlcbiAgT2JqZWN0LmtleXMoYikuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIHRba10gPSBiW2tdXG4gIH0pXG4gIHJldHVybiB0XG59XG5cbm1pbmltYXRjaC5kZWZhdWx0cyA9IGZ1bmN0aW9uIChkZWYpIHtcbiAgaWYgKCFkZWYgfHwgdHlwZW9mIGRlZiAhPT0gJ29iamVjdCcgfHwgIU9iamVjdC5rZXlzKGRlZikubGVuZ3RoKSB7XG4gICAgcmV0dXJuIG1pbmltYXRjaFxuICB9XG5cbiAgdmFyIG9yaWcgPSBtaW5pbWF0Y2hcblxuICB2YXIgbSA9IGZ1bmN0aW9uIG1pbmltYXRjaCAocCwgcGF0dGVybiwgb3B0aW9ucykge1xuICAgIHJldHVybiBvcmlnKHAsIHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKVxuICB9XG5cbiAgbS5NaW5pbWF0Y2ggPSBmdW5jdGlvbiBNaW5pbWF0Y2ggKHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IG9yaWcuTWluaW1hdGNoKHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKVxuICB9XG4gIG0uTWluaW1hdGNoLmRlZmF1bHRzID0gZnVuY3Rpb24gZGVmYXVsdHMgKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3JpZy5kZWZhdWx0cyhleHQoZGVmLCBvcHRpb25zKSkuTWluaW1hdGNoXG4gIH1cblxuICBtLmZpbHRlciA9IGZ1bmN0aW9uIGZpbHRlciAocGF0dGVybiwgb3B0aW9ucykge1xuICAgIHJldHVybiBvcmlnLmZpbHRlcihwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSlcbiAgfVxuXG4gIG0uZGVmYXVsdHMgPSBmdW5jdGlvbiBkZWZhdWx0cyAob3B0aW9ucykge1xuICAgIHJldHVybiBvcmlnLmRlZmF1bHRzKGV4dChkZWYsIG9wdGlvbnMpKVxuICB9XG5cbiAgbS5tYWtlUmUgPSBmdW5jdGlvbiBtYWtlUmUgKHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3JpZy5tYWtlUmUocGF0dGVybiwgZXh0KGRlZiwgb3B0aW9ucykpXG4gIH1cblxuICBtLmJyYWNlRXhwYW5kID0gZnVuY3Rpb24gYnJhY2VFeHBhbmQgKHBhdHRlcm4sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gb3JpZy5icmFjZUV4cGFuZChwYXR0ZXJuLCBleHQoZGVmLCBvcHRpb25zKSlcbiAgfVxuXG4gIG0ubWF0Y2ggPSBmdW5jdGlvbiAobGlzdCwgcGF0dGVybiwgb3B0aW9ucykge1xuICAgIHJldHVybiBvcmlnLm1hdGNoKGxpc3QsIHBhdHRlcm4sIGV4dChkZWYsIG9wdGlvbnMpKVxuICB9XG5cbiAgcmV0dXJuIG1cbn1cblxuTWluaW1hdGNoLmRlZmF1bHRzID0gZnVuY3Rpb24gKGRlZikge1xuICByZXR1cm4gbWluaW1hdGNoLmRlZmF1bHRzKGRlZikuTWluaW1hdGNoXG59XG5cbmZ1bmN0aW9uIG1pbmltYXRjaCAocCwgcGF0dGVybiwgb3B0aW9ucykge1xuICBhc3NlcnRWYWxpZFBhdHRlcm4ocGF0dGVybilcblxuICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fVxuXG4gIC8vIHNob3J0Y3V0OiBjb21tZW50cyBtYXRjaCBub3RoaW5nLlxuICBpZiAoIW9wdGlvbnMubm9jb21tZW50ICYmIHBhdHRlcm4uY2hhckF0KDApID09PSAnIycpIHtcbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIHJldHVybiBuZXcgTWluaW1hdGNoKHBhdHRlcm4sIG9wdGlvbnMpLm1hdGNoKHApXG59XG5cbmZ1bmN0aW9uIE1pbmltYXRjaCAocGF0dGVybiwgb3B0aW9ucykge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgTWluaW1hdGNoKSkge1xuICAgIHJldHVybiBuZXcgTWluaW1hdGNoKHBhdHRlcm4sIG9wdGlvbnMpXG4gIH1cblxuICBhc3NlcnRWYWxpZFBhdHRlcm4ocGF0dGVybilcblxuICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fVxuXG4gIHBhdHRlcm4gPSBwYXR0ZXJuLnRyaW0oKVxuXG4gIC8vIHdpbmRvd3Mgc3VwcG9ydDogbmVlZCB0byB1c2UgLywgbm90IFxcXG4gIGlmICghb3B0aW9ucy5hbGxvd1dpbmRvd3NFc2NhcGUgJiYgcGF0aC5zZXAgIT09ICcvJykge1xuICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNwbGl0KHBhdGguc2VwKS5qb2luKCcvJylcbiAgfVxuXG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnNcbiAgdGhpcy5zZXQgPSBbXVxuICB0aGlzLnBhdHRlcm4gPSBwYXR0ZXJuXG4gIHRoaXMucmVnZXhwID0gbnVsbFxuICB0aGlzLm5lZ2F0ZSA9IGZhbHNlXG4gIHRoaXMuY29tbWVudCA9IGZhbHNlXG4gIHRoaXMuZW1wdHkgPSBmYWxzZVxuICB0aGlzLnBhcnRpYWwgPSAhIW9wdGlvbnMucGFydGlhbFxuXG4gIC8vIG1ha2UgdGhlIHNldCBvZiByZWdleHBzIGV0Yy5cbiAgdGhpcy5tYWtlKClcbn1cblxuTWluaW1hdGNoLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uICgpIHt9XG5cbk1pbmltYXRjaC5wcm90b3R5cGUubWFrZSA9IG1ha2VcbmZ1bmN0aW9uIG1ha2UgKCkge1xuICB2YXIgcGF0dGVybiA9IHRoaXMucGF0dGVyblxuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuXG4gIC8vIGVtcHR5IHBhdHRlcm5zIGFuZCBjb21tZW50cyBtYXRjaCBub3RoaW5nLlxuICBpZiAoIW9wdGlvbnMubm9jb21tZW50ICYmIHBhdHRlcm4uY2hhckF0KDApID09PSAnIycpIHtcbiAgICB0aGlzLmNvbW1lbnQgPSB0cnVlXG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKCFwYXR0ZXJuKSB7XG4gICAgdGhpcy5lbXB0eSA9IHRydWVcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIHN0ZXAgMTogZmlndXJlIG91dCBuZWdhdGlvbiwgZXRjLlxuICB0aGlzLnBhcnNlTmVnYXRlKClcblxuICAvLyBzdGVwIDI6IGV4cGFuZCBicmFjZXNcbiAgdmFyIHNldCA9IHRoaXMuZ2xvYlNldCA9IHRoaXMuYnJhY2VFeHBhbmQoKVxuXG4gIGlmIChvcHRpb25zLmRlYnVnKSB0aGlzLmRlYnVnID0gZnVuY3Rpb24gZGVidWcoKSB7IGNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKSB9XG5cbiAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHNldClcblxuICAvLyBzdGVwIDM6IG5vdyB3ZSBoYXZlIGEgc2V0LCBzbyB0dXJuIGVhY2ggb25lIGludG8gYSBzZXJpZXMgb2YgcGF0aC1wb3J0aW9uXG4gIC8vIG1hdGNoaW5nIHBhdHRlcm5zLlxuICAvLyBUaGVzZSB3aWxsIGJlIHJlZ2V4cHMsIGV4Y2VwdCBpbiB0aGUgY2FzZSBvZiBcIioqXCIsIHdoaWNoIGlzXG4gIC8vIHNldCB0byB0aGUgR0xPQlNUQVIgb2JqZWN0IGZvciBnbG9ic3RhciBiZWhhdmlvcixcbiAgLy8gYW5kIHdpbGwgbm90IGNvbnRhaW4gYW55IC8gY2hhcmFjdGVyc1xuICBzZXQgPSB0aGlzLmdsb2JQYXJ0cyA9IHNldC5tYXAoZnVuY3Rpb24gKHMpIHtcbiAgICByZXR1cm4gcy5zcGxpdChzbGFzaFNwbGl0KVxuICB9KVxuXG4gIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCBzZXQpXG5cbiAgLy8gZ2xvYiAtLT4gcmVnZXhwc1xuICBzZXQgPSBzZXQubWFwKGZ1bmN0aW9uIChzLCBzaSwgc2V0KSB7XG4gICAgcmV0dXJuIHMubWFwKHRoaXMucGFyc2UsIHRoaXMpXG4gIH0sIHRoaXMpXG5cbiAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sIHNldClcblxuICAvLyBmaWx0ZXIgb3V0IGV2ZXJ5dGhpbmcgdGhhdCBkaWRuJ3QgY29tcGlsZSBwcm9wZXJseS5cbiAgc2V0ID0gc2V0LmZpbHRlcihmdW5jdGlvbiAocykge1xuICAgIHJldHVybiBzLmluZGV4T2YoZmFsc2UpID09PSAtMVxuICB9KVxuXG4gIHRoaXMuZGVidWcodGhpcy5wYXR0ZXJuLCBzZXQpXG5cbiAgdGhpcy5zZXQgPSBzZXRcbn1cblxuTWluaW1hdGNoLnByb3RvdHlwZS5wYXJzZU5lZ2F0ZSA9IHBhcnNlTmVnYXRlXG5mdW5jdGlvbiBwYXJzZU5lZ2F0ZSAoKSB7XG4gIHZhciBwYXR0ZXJuID0gdGhpcy5wYXR0ZXJuXG4gIHZhciBuZWdhdGUgPSBmYWxzZVxuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuICB2YXIgbmVnYXRlT2Zmc2V0ID0gMFxuXG4gIGlmIChvcHRpb25zLm5vbmVnYXRlKSByZXR1cm5cblxuICBmb3IgKHZhciBpID0gMCwgbCA9IHBhdHRlcm4ubGVuZ3RoXG4gICAgOyBpIDwgbCAmJiBwYXR0ZXJuLmNoYXJBdChpKSA9PT0gJyEnXG4gICAgOyBpKyspIHtcbiAgICBuZWdhdGUgPSAhbmVnYXRlXG4gICAgbmVnYXRlT2Zmc2V0KytcbiAgfVxuXG4gIGlmIChuZWdhdGVPZmZzZXQpIHRoaXMucGF0dGVybiA9IHBhdHRlcm4uc3Vic3RyKG5lZ2F0ZU9mZnNldClcbiAgdGhpcy5uZWdhdGUgPSBuZWdhdGVcbn1cblxuLy8gQnJhY2UgZXhwYW5zaW9uOlxuLy8gYXtiLGN9ZCAtPiBhYmQgYWNkXG4vLyBhe2IsfWMgLT4gYWJjIGFjXG4vLyBhezAuLjN9ZCAtPiBhMGQgYTFkIGEyZCBhM2Rcbi8vIGF7Yixje2QsZX1mfWcgLT4gYWJnIGFjZGZnIGFjZWZnXG4vLyBhe2IsY31ke2UsZn1nIC0+IGFiZGVnIGFjZGVnIGFiZGVnIGFiZGZnXG4vL1xuLy8gSW52YWxpZCBzZXRzIGFyZSBub3QgZXhwYW5kZWQuXG4vLyBhezIuLn1iIC0+IGF7Mi4ufWJcbi8vIGF7Yn1jIC0+IGF7Yn1jXG5taW5pbWF0Y2guYnJhY2VFeHBhbmQgPSBmdW5jdGlvbiAocGF0dGVybiwgb3B0aW9ucykge1xuICByZXR1cm4gYnJhY2VFeHBhbmQocGF0dGVybiwgb3B0aW9ucylcbn1cblxuTWluaW1hdGNoLnByb3RvdHlwZS5icmFjZUV4cGFuZCA9IGJyYWNlRXhwYW5kXG5cbmZ1bmN0aW9uIGJyYWNlRXhwYW5kIChwYXR0ZXJuLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIGlmICh0aGlzIGluc3RhbmNlb2YgTWluaW1hdGNoKSB7XG4gICAgICBvcHRpb25zID0gdGhpcy5vcHRpb25zXG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMgPSB7fVxuICAgIH1cbiAgfVxuXG4gIHBhdHRlcm4gPSB0eXBlb2YgcGF0dGVybiA9PT0gJ3VuZGVmaW5lZCdcbiAgICA/IHRoaXMucGF0dGVybiA6IHBhdHRlcm5cblxuICBhc3NlcnRWYWxpZFBhdHRlcm4ocGF0dGVybilcblxuICAvLyBUaGFua3MgdG8gWWV0aW5nIExpIDxodHRwczovL2dpdGh1Yi5jb20veWV0aW5nbGk+IGZvclxuICAvLyBpbXByb3ZpbmcgdGhpcyByZWdleHAgdG8gYXZvaWQgYSBSZURPUyB2dWxuZXJhYmlsaXR5LlxuICBpZiAob3B0aW9ucy5ub2JyYWNlIHx8ICEvXFx7KD86KD8hXFx7KS4pKlxcfS8udGVzdChwYXR0ZXJuKSkge1xuICAgIC8vIHNob3J0Y3V0LiBubyBuZWVkIHRvIGV4cGFuZC5cbiAgICByZXR1cm4gW3BhdHRlcm5dXG4gIH1cblxuICByZXR1cm4gZXhwYW5kKHBhdHRlcm4pXG59XG5cbnZhciBNQVhfUEFUVEVSTl9MRU5HVEggPSAxMDI0ICogNjRcbnZhciBhc3NlcnRWYWxpZFBhdHRlcm4gPSBmdW5jdGlvbiAocGF0dGVybikge1xuICBpZiAodHlwZW9mIHBhdHRlcm4gIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBwYXR0ZXJuJylcbiAgfVxuXG4gIGlmIChwYXR0ZXJuLmxlbmd0aCA+IE1BWF9QQVRURVJOX0xFTkdUSCkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3BhdHRlcm4gaXMgdG9vIGxvbmcnKVxuICB9XG59XG5cbi8vIHBhcnNlIGEgY29tcG9uZW50IG9mIHRoZSBleHBhbmRlZCBzZXQuXG4vLyBBdCB0aGlzIHBvaW50LCBubyBwYXR0ZXJuIG1heSBjb250YWluIFwiL1wiIGluIGl0XG4vLyBzbyB3ZSdyZSBnb2luZyB0byByZXR1cm4gYSAyZCBhcnJheSwgd2hlcmUgZWFjaCBlbnRyeSBpcyB0aGUgZnVsbFxuLy8gcGF0dGVybiwgc3BsaXQgb24gJy8nLCBhbmQgdGhlbiB0dXJuZWQgaW50byBhIHJlZ3VsYXIgZXhwcmVzc2lvbi5cbi8vIEEgcmVnZXhwIGlzIG1hZGUgYXQgdGhlIGVuZCB3aGljaCBqb2lucyBlYWNoIGFycmF5IHdpdGggYW5cbi8vIGVzY2FwZWQgLywgYW5kIGFub3RoZXIgZnVsbCBvbmUgd2hpY2ggam9pbnMgZWFjaCByZWdleHAgd2l0aCB8LlxuLy9cbi8vIEZvbGxvd2luZyB0aGUgbGVhZCBvZiBCYXNoIDQuMSwgbm90ZSB0aGF0IFwiKipcIiBvbmx5IGhhcyBzcGVjaWFsIG1lYW5pbmdcbi8vIHdoZW4gaXQgaXMgdGhlICpvbmx5KiB0aGluZyBpbiBhIHBhdGggcG9ydGlvbi4gIE90aGVyd2lzZSwgYW55IHNlcmllc1xuLy8gb2YgKiBpcyBlcXVpdmFsZW50IHRvIGEgc2luZ2xlICouICBHbG9ic3RhciBiZWhhdmlvciBpcyBlbmFibGVkIGJ5XG4vLyBkZWZhdWx0LCBhbmQgY2FuIGJlIGRpc2FibGVkIGJ5IHNldHRpbmcgb3B0aW9ucy5ub2dsb2JzdGFyLlxuTWluaW1hdGNoLnByb3RvdHlwZS5wYXJzZSA9IHBhcnNlXG52YXIgU1VCUEFSU0UgPSB7fVxuZnVuY3Rpb24gcGFyc2UgKHBhdHRlcm4sIGlzU3ViKSB7XG4gIGFzc2VydFZhbGlkUGF0dGVybihwYXR0ZXJuKVxuXG4gIHZhciBvcHRpb25zID0gdGhpcy5vcHRpb25zXG5cbiAgLy8gc2hvcnRjdXRzXG4gIGlmIChwYXR0ZXJuID09PSAnKionKSB7XG4gICAgaWYgKCFvcHRpb25zLm5vZ2xvYnN0YXIpXG4gICAgICByZXR1cm4gR0xPQlNUQVJcbiAgICBlbHNlXG4gICAgICBwYXR0ZXJuID0gJyonXG4gIH1cbiAgaWYgKHBhdHRlcm4gPT09ICcnKSByZXR1cm4gJydcblxuICB2YXIgcmUgPSAnJ1xuICB2YXIgaGFzTWFnaWMgPSAhIW9wdGlvbnMubm9jYXNlXG4gIHZhciBlc2NhcGluZyA9IGZhbHNlXG4gIC8vID8gPT4gb25lIHNpbmdsZSBjaGFyYWN0ZXJcbiAgdmFyIHBhdHRlcm5MaXN0U3RhY2sgPSBbXVxuICB2YXIgbmVnYXRpdmVMaXN0cyA9IFtdXG4gIHZhciBzdGF0ZUNoYXJcbiAgdmFyIGluQ2xhc3MgPSBmYWxzZVxuICB2YXIgcmVDbGFzc1N0YXJ0ID0gLTFcbiAgdmFyIGNsYXNzU3RhcnQgPSAtMVxuICAvLyAuIGFuZCAuLiBuZXZlciBtYXRjaCBhbnl0aGluZyB0aGF0IGRvZXNuJ3Qgc3RhcnQgd2l0aCAuLFxuICAvLyBldmVuIHdoZW4gb3B0aW9ucy5kb3QgaXMgc2V0LlxuICB2YXIgcGF0dGVyblN0YXJ0ID0gcGF0dGVybi5jaGFyQXQoMCkgPT09ICcuJyA/ICcnIC8vIGFueXRoaW5nXG4gIC8vIG5vdCAoc3RhcnQgb3IgLyBmb2xsb3dlZCBieSAuIG9yIC4uIGZvbGxvd2VkIGJ5IC8gb3IgZW5kKVxuICA6IG9wdGlvbnMuZG90ID8gJyg/ISg/Ol58XFxcXFxcLylcXFxcLnsxLDJ9KD86JHxcXFxcXFwvKSknXG4gIDogJyg/IVxcXFwuKSdcbiAgdmFyIHNlbGYgPSB0aGlzXG5cbiAgZnVuY3Rpb24gY2xlYXJTdGF0ZUNoYXIgKCkge1xuICAgIGlmIChzdGF0ZUNoYXIpIHtcbiAgICAgIC8vIHdlIGhhZCBzb21lIHN0YXRlLXRyYWNraW5nIGNoYXJhY3RlclxuICAgICAgLy8gdGhhdCB3YXNuJ3QgY29uc3VtZWQgYnkgdGhpcyBwYXNzLlxuICAgICAgc3dpdGNoIChzdGF0ZUNoYXIpIHtcbiAgICAgICAgY2FzZSAnKic6XG4gICAgICAgICAgcmUgKz0gc3RhclxuICAgICAgICAgIGhhc01hZ2ljID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgICAgICBjYXNlICc/JzpcbiAgICAgICAgICByZSArPSBxbWFya1xuICAgICAgICAgIGhhc01hZ2ljID0gdHJ1ZVxuICAgICAgICBicmVha1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlICs9ICdcXFxcJyArIHN0YXRlQ2hhclxuICAgICAgICBicmVha1xuICAgICAgfVxuICAgICAgc2VsZi5kZWJ1ZygnY2xlYXJTdGF0ZUNoYXIgJWogJWonLCBzdGF0ZUNoYXIsIHJlKVxuICAgICAgc3RhdGVDaGFyID0gZmFsc2VcbiAgICB9XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcGF0dGVybi5sZW5ndGgsIGNcbiAgICA7IChpIDwgbGVuKSAmJiAoYyA9IHBhdHRlcm4uY2hhckF0KGkpKVxuICAgIDsgaSsrKSB7XG4gICAgdGhpcy5kZWJ1ZygnJXNcXHQlcyAlcyAlaicsIHBhdHRlcm4sIGksIHJlLCBjKVxuXG4gICAgLy8gc2tpcCBvdmVyIGFueSB0aGF0IGFyZSBlc2NhcGVkLlxuICAgIGlmIChlc2NhcGluZyAmJiByZVNwZWNpYWxzW2NdKSB7XG4gICAgICByZSArPSAnXFxcXCcgKyBjXG4gICAgICBlc2NhcGluZyA9IGZhbHNlXG4gICAgICBjb250aW51ZVxuICAgIH1cblxuICAgIHN3aXRjaCAoYykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGNhc2UgJy8nOiB7XG4gICAgICAgIC8vIGNvbXBsZXRlbHkgbm90IGFsbG93ZWQsIGV2ZW4gZXNjYXBlZC5cbiAgICAgICAgLy8gU2hvdWxkIGFscmVhZHkgYmUgcGF0aC1zcGxpdCBieSBub3cuXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuXG4gICAgICBjYXNlICdcXFxcJzpcbiAgICAgICAgY2xlYXJTdGF0ZUNoYXIoKVxuICAgICAgICBlc2NhcGluZyA9IHRydWVcbiAgICAgIGNvbnRpbnVlXG5cbiAgICAgIC8vIHRoZSB2YXJpb3VzIHN0YXRlQ2hhciB2YWx1ZXNcbiAgICAgIC8vIGZvciB0aGUgXCJleHRnbG9iXCIgc3R1ZmYuXG4gICAgICBjYXNlICc/JzpcbiAgICAgIGNhc2UgJyonOlxuICAgICAgY2FzZSAnKyc6XG4gICAgICBjYXNlICdAJzpcbiAgICAgIGNhc2UgJyEnOlxuICAgICAgICB0aGlzLmRlYnVnKCclc1xcdCVzICVzICVqIDwtLSBzdGF0ZUNoYXInLCBwYXR0ZXJuLCBpLCByZSwgYylcblxuICAgICAgICAvLyBhbGwgb2YgdGhvc2UgYXJlIGxpdGVyYWxzIGluc2lkZSBhIGNsYXNzLCBleGNlcHQgdGhhdFxuICAgICAgICAvLyB0aGUgZ2xvYiBbIWFdIG1lYW5zIFteYV0gaW4gcmVnZXhwXG4gICAgICAgIGlmIChpbkNsYXNzKSB7XG4gICAgICAgICAgdGhpcy5kZWJ1ZygnICBpbiBjbGFzcycpXG4gICAgICAgICAgaWYgKGMgPT09ICchJyAmJiBpID09PSBjbGFzc1N0YXJ0ICsgMSkgYyA9ICdeJ1xuICAgICAgICAgIHJlICs9IGNcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgd2UgYWxyZWFkeSBoYXZlIGEgc3RhdGVDaGFyLCB0aGVuIGl0IG1lYW5zXG4gICAgICAgIC8vIHRoYXQgdGhlcmUgd2FzIHNvbWV0aGluZyBsaWtlICoqIG9yICs/IGluIHRoZXJlLlxuICAgICAgICAvLyBIYW5kbGUgdGhlIHN0YXRlQ2hhciwgdGhlbiBwcm9jZWVkIHdpdGggdGhpcyBvbmUuXG4gICAgICAgIHNlbGYuZGVidWcoJ2NhbGwgY2xlYXJTdGF0ZUNoYXIgJWonLCBzdGF0ZUNoYXIpXG4gICAgICAgIGNsZWFyU3RhdGVDaGFyKClcbiAgICAgICAgc3RhdGVDaGFyID0gY1xuICAgICAgICAvLyBpZiBleHRnbG9iIGlzIGRpc2FibGVkLCB0aGVuICsoYXNkZnxmb28pIGlzbid0IGEgdGhpbmcuXG4gICAgICAgIC8vIGp1c3QgY2xlYXIgdGhlIHN0YXRlY2hhciAqbm93KiwgcmF0aGVyIHRoYW4gZXZlbiBkaXZpbmcgaW50b1xuICAgICAgICAvLyB0aGUgcGF0dGVybkxpc3Qgc3R1ZmYuXG4gICAgICAgIGlmIChvcHRpb25zLm5vZXh0KSBjbGVhclN0YXRlQ2hhcigpXG4gICAgICBjb250aW51ZVxuXG4gICAgICBjYXNlICcoJzpcbiAgICAgICAgaWYgKGluQ2xhc3MpIHtcbiAgICAgICAgICByZSArPSAnKCdcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFzdGF0ZUNoYXIpIHtcbiAgICAgICAgICByZSArPSAnXFxcXCgnXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIHBhdHRlcm5MaXN0U3RhY2sucHVzaCh7XG4gICAgICAgICAgdHlwZTogc3RhdGVDaGFyLFxuICAgICAgICAgIHN0YXJ0OiBpIC0gMSxcbiAgICAgICAgICByZVN0YXJ0OiByZS5sZW5ndGgsXG4gICAgICAgICAgb3BlbjogcGxUeXBlc1tzdGF0ZUNoYXJdLm9wZW4sXG4gICAgICAgICAgY2xvc2U6IHBsVHlwZXNbc3RhdGVDaGFyXS5jbG9zZVxuICAgICAgICB9KVxuICAgICAgICAvLyBuZWdhdGlvbiBpcyAoPzooPyFqcylbXi9dKilcbiAgICAgICAgcmUgKz0gc3RhdGVDaGFyID09PSAnIScgPyAnKD86KD8hKD86JyA6ICcoPzonXG4gICAgICAgIHRoaXMuZGVidWcoJ3BsVHlwZSAlaiAlaicsIHN0YXRlQ2hhciwgcmUpXG4gICAgICAgIHN0YXRlQ2hhciA9IGZhbHNlXG4gICAgICBjb250aW51ZVxuXG4gICAgICBjYXNlICcpJzpcbiAgICAgICAgaWYgKGluQ2xhc3MgfHwgIXBhdHRlcm5MaXN0U3RhY2subGVuZ3RoKSB7XG4gICAgICAgICAgcmUgKz0gJ1xcXFwpJ1xuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBjbGVhclN0YXRlQ2hhcigpXG4gICAgICAgIGhhc01hZ2ljID0gdHJ1ZVxuICAgICAgICB2YXIgcGwgPSBwYXR0ZXJuTGlzdFN0YWNrLnBvcCgpXG4gICAgICAgIC8vIG5lZ2F0aW9uIGlzICg/Oig/IWpzKVteL10qKVxuICAgICAgICAvLyBUaGUgb3RoZXJzIGFyZSAoPzo8cGF0dGVybj4pPHR5cGU+XG4gICAgICAgIHJlICs9IHBsLmNsb3NlXG4gICAgICAgIGlmIChwbC50eXBlID09PSAnIScpIHtcbiAgICAgICAgICBuZWdhdGl2ZUxpc3RzLnB1c2gocGwpXG4gICAgICAgIH1cbiAgICAgICAgcGwucmVFbmQgPSByZS5sZW5ndGhcbiAgICAgIGNvbnRpbnVlXG5cbiAgICAgIGNhc2UgJ3wnOlxuICAgICAgICBpZiAoaW5DbGFzcyB8fCAhcGF0dGVybkxpc3RTdGFjay5sZW5ndGggfHwgZXNjYXBpbmcpIHtcbiAgICAgICAgICByZSArPSAnXFxcXHwnXG4gICAgICAgICAgZXNjYXBpbmcgPSBmYWxzZVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICBjbGVhclN0YXRlQ2hhcigpXG4gICAgICAgIHJlICs9ICd8J1xuICAgICAgY29udGludWVcblxuICAgICAgLy8gdGhlc2UgYXJlIG1vc3RseSB0aGUgc2FtZSBpbiByZWdleHAgYW5kIGdsb2JcbiAgICAgIGNhc2UgJ1snOlxuICAgICAgICAvLyBzd2FsbG93IGFueSBzdGF0ZS10cmFja2luZyBjaGFyIGJlZm9yZSB0aGUgW1xuICAgICAgICBjbGVhclN0YXRlQ2hhcigpXG5cbiAgICAgICAgaWYgKGluQ2xhc3MpIHtcbiAgICAgICAgICByZSArPSAnXFxcXCcgKyBjXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIGluQ2xhc3MgPSB0cnVlXG4gICAgICAgIGNsYXNzU3RhcnQgPSBpXG4gICAgICAgIHJlQ2xhc3NTdGFydCA9IHJlLmxlbmd0aFxuICAgICAgICByZSArPSBjXG4gICAgICBjb250aW51ZVxuXG4gICAgICBjYXNlICddJzpcbiAgICAgICAgLy8gIGEgcmlnaHQgYnJhY2tldCBzaGFsbCBsb3NlIGl0cyBzcGVjaWFsXG4gICAgICAgIC8vICBtZWFuaW5nIGFuZCByZXByZXNlbnQgaXRzZWxmIGluXG4gICAgICAgIC8vICBhIGJyYWNrZXQgZXhwcmVzc2lvbiBpZiBpdCBvY2N1cnNcbiAgICAgICAgLy8gIGZpcnN0IGluIHRoZSBsaXN0LiAgLS0gUE9TSVguMiAyLjguMy4yXG4gICAgICAgIGlmIChpID09PSBjbGFzc1N0YXJ0ICsgMSB8fCAhaW5DbGFzcykge1xuICAgICAgICAgIHJlICs9ICdcXFxcJyArIGNcbiAgICAgICAgICBlc2NhcGluZyA9IGZhbHNlXG4gICAgICAgICAgY29udGludWVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB3ZSBsZWZ0IGEgY2xhc3Mgb3Blbi5cbiAgICAgICAgLy8gXCJbei1hXVwiIGlzIHZhbGlkLCBlcXVpdmFsZW50IHRvIFwiXFxbei1hXFxdXCJcbiAgICAgICAgLy8gc3BsaXQgd2hlcmUgdGhlIGxhc3QgWyB3YXMsIG1ha2Ugc3VyZSB3ZSBkb24ndCBoYXZlXG4gICAgICAgIC8vIGFuIGludmFsaWQgcmUuIGlmIHNvLCByZS13YWxrIHRoZSBjb250ZW50cyBvZiB0aGVcbiAgICAgICAgLy8gd291bGQtYmUgY2xhc3MgdG8gcmUtdHJhbnNsYXRlIGFueSBjaGFyYWN0ZXJzIHRoYXRcbiAgICAgICAgLy8gd2VyZSBwYXNzZWQgdGhyb3VnaCBhcy1pc1xuICAgICAgICAvLyBUT0RPOiBJdCB3b3VsZCBwcm9iYWJseSBiZSBmYXN0ZXIgdG8gZGV0ZXJtaW5lIHRoaXNcbiAgICAgICAgLy8gd2l0aG91dCBhIHRyeS9jYXRjaCBhbmQgYSBuZXcgUmVnRXhwLCBidXQgaXQncyB0cmlja3lcbiAgICAgICAgLy8gdG8gZG8gc2FmZWx5LiAgRm9yIG5vdywgdGhpcyBpcyBzYWZlIGFuZCB3b3Jrcy5cbiAgICAgICAgdmFyIGNzID0gcGF0dGVybi5zdWJzdHJpbmcoY2xhc3NTdGFydCArIDEsIGkpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgUmVnRXhwKCdbJyArIGNzICsgJ10nKVxuICAgICAgICB9IGNhdGNoIChlcikge1xuICAgICAgICAgIC8vIG5vdCBhIHZhbGlkIGNsYXNzIVxuICAgICAgICAgIHZhciBzcCA9IHRoaXMucGFyc2UoY3MsIFNVQlBBUlNFKVxuICAgICAgICAgIHJlID0gcmUuc3Vic3RyKDAsIHJlQ2xhc3NTdGFydCkgKyAnXFxcXFsnICsgc3BbMF0gKyAnXFxcXF0nXG4gICAgICAgICAgaGFzTWFnaWMgPSBoYXNNYWdpYyB8fCBzcFsxXVxuICAgICAgICAgIGluQ2xhc3MgPSBmYWxzZVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5pc2ggdXAgdGhlIGNsYXNzLlxuICAgICAgICBoYXNNYWdpYyA9IHRydWVcbiAgICAgICAgaW5DbGFzcyA9IGZhbHNlXG4gICAgICAgIHJlICs9IGNcbiAgICAgIGNvbnRpbnVlXG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIC8vIHN3YWxsb3cgYW55IHN0YXRlIGNoYXIgdGhhdCB3YXNuJ3QgY29uc3VtZWRcbiAgICAgICAgY2xlYXJTdGF0ZUNoYXIoKVxuXG4gICAgICAgIGlmIChlc2NhcGluZykge1xuICAgICAgICAgIC8vIG5vIG5lZWRcbiAgICAgICAgICBlc2NhcGluZyA9IGZhbHNlXG4gICAgICAgIH0gZWxzZSBpZiAocmVTcGVjaWFsc1tjXVxuICAgICAgICAgICYmICEoYyA9PT0gJ14nICYmIGluQ2xhc3MpKSB7XG4gICAgICAgICAgcmUgKz0gJ1xcXFwnXG4gICAgICAgIH1cblxuICAgICAgICByZSArPSBjXG5cbiAgICB9IC8vIHN3aXRjaFxuICB9IC8vIGZvclxuXG4gIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB3ZSBsZWZ0IGEgY2xhc3Mgb3Blbi5cbiAgLy8gXCJbYWJjXCIgaXMgdmFsaWQsIGVxdWl2YWxlbnQgdG8gXCJcXFthYmNcIlxuICBpZiAoaW5DbGFzcykge1xuICAgIC8vIHNwbGl0IHdoZXJlIHRoZSBsYXN0IFsgd2FzLCBhbmQgZXNjYXBlIGl0XG4gICAgLy8gdGhpcyBpcyBhIGh1Z2UgcGl0YS4gIFdlIG5vdyBoYXZlIHRvIHJlLXdhbGtcbiAgICAvLyB0aGUgY29udGVudHMgb2YgdGhlIHdvdWxkLWJlIGNsYXNzIHRvIHJlLXRyYW5zbGF0ZVxuICAgIC8vIGFueSBjaGFyYWN0ZXJzIHRoYXQgd2VyZSBwYXNzZWQgdGhyb3VnaCBhcy1pc1xuICAgIGNzID0gcGF0dGVybi5zdWJzdHIoY2xhc3NTdGFydCArIDEpXG4gICAgc3AgPSB0aGlzLnBhcnNlKGNzLCBTVUJQQVJTRSlcbiAgICByZSA9IHJlLnN1YnN0cigwLCByZUNsYXNzU3RhcnQpICsgJ1xcXFxbJyArIHNwWzBdXG4gICAgaGFzTWFnaWMgPSBoYXNNYWdpYyB8fCBzcFsxXVxuICB9XG5cbiAgLy8gaGFuZGxlIHRoZSBjYXNlIHdoZXJlIHdlIGhhZCBhICsoIHRoaW5nIGF0IHRoZSAqZW5kKlxuICAvLyBvZiB0aGUgcGF0dGVybi5cbiAgLy8gZWFjaCBwYXR0ZXJuIGxpc3Qgc3RhY2sgYWRkcyAzIGNoYXJzLCBhbmQgd2UgbmVlZCB0byBnbyB0aHJvdWdoXG4gIC8vIGFuZCBlc2NhcGUgYW55IHwgY2hhcnMgdGhhdCB3ZXJlIHBhc3NlZCB0aHJvdWdoIGFzLWlzIGZvciB0aGUgcmVnZXhwLlxuICAvLyBHbyB0aHJvdWdoIGFuZCBlc2NhcGUgdGhlbSwgdGFraW5nIGNhcmUgbm90IHRvIGRvdWJsZS1lc2NhcGUgYW55XG4gIC8vIHwgY2hhcnMgdGhhdCB3ZXJlIGFscmVhZHkgZXNjYXBlZC5cbiAgZm9yIChwbCA9IHBhdHRlcm5MaXN0U3RhY2sucG9wKCk7IHBsOyBwbCA9IHBhdHRlcm5MaXN0U3RhY2sucG9wKCkpIHtcbiAgICB2YXIgdGFpbCA9IHJlLnNsaWNlKHBsLnJlU3RhcnQgKyBwbC5vcGVuLmxlbmd0aClcbiAgICB0aGlzLmRlYnVnKCdzZXR0aW5nIHRhaWwnLCByZSwgcGwpXG4gICAgLy8gbWF5YmUgc29tZSBldmVuIG51bWJlciBvZiBcXCwgdGhlbiBtYXliZSAxIFxcLCBmb2xsb3dlZCBieSBhIHxcbiAgICB0YWlsID0gdGFpbC5yZXBsYWNlKC8oKD86XFxcXHsyfSl7MCw2NH0pKFxcXFw/KVxcfC9nLCBmdW5jdGlvbiAoXywgJDEsICQyKSB7XG4gICAgICBpZiAoISQyKSB7XG4gICAgICAgIC8vIHRoZSB8IGlzbid0IGFscmVhZHkgZXNjYXBlZCwgc28gZXNjYXBlIGl0LlxuICAgICAgICAkMiA9ICdcXFxcJ1xuICAgICAgfVxuXG4gICAgICAvLyBuZWVkIHRvIGVzY2FwZSBhbGwgdGhvc2Ugc2xhc2hlcyAqYWdhaW4qLCB3aXRob3V0IGVzY2FwaW5nIHRoZVxuICAgICAgLy8gb25lIHRoYXQgd2UgbmVlZCBmb3IgZXNjYXBpbmcgdGhlIHwgY2hhcmFjdGVyLiAgQXMgaXQgd29ya3Mgb3V0LFxuICAgICAgLy8gZXNjYXBpbmcgYW4gZXZlbiBudW1iZXIgb2Ygc2xhc2hlcyBjYW4gYmUgZG9uZSBieSBzaW1wbHkgcmVwZWF0aW5nXG4gICAgICAvLyBpdCBleGFjdGx5IGFmdGVyIGl0c2VsZi4gIFRoYXQncyB3aHkgdGhpcyB0cmljayB3b3Jrcy5cbiAgICAgIC8vXG4gICAgICAvLyBJIGFtIHNvcnJ5IHRoYXQgeW91IGhhdmUgdG8gc2VlIHRoaXMuXG4gICAgICByZXR1cm4gJDEgKyAkMSArICQyICsgJ3wnXG4gICAgfSlcblxuICAgIHRoaXMuZGVidWcoJ3RhaWw9JWpcXG4gICAlcycsIHRhaWwsIHRhaWwsIHBsLCByZSlcbiAgICB2YXIgdCA9IHBsLnR5cGUgPT09ICcqJyA/IHN0YXJcbiAgICAgIDogcGwudHlwZSA9PT0gJz8nID8gcW1hcmtcbiAgICAgIDogJ1xcXFwnICsgcGwudHlwZVxuXG4gICAgaGFzTWFnaWMgPSB0cnVlXG4gICAgcmUgPSByZS5zbGljZSgwLCBwbC5yZVN0YXJ0KSArIHQgKyAnXFxcXCgnICsgdGFpbFxuICB9XG5cbiAgLy8gaGFuZGxlIHRyYWlsaW5nIHRoaW5ncyB0aGF0IG9ubHkgbWF0dGVyIGF0IHRoZSB2ZXJ5IGVuZC5cbiAgY2xlYXJTdGF0ZUNoYXIoKVxuICBpZiAoZXNjYXBpbmcpIHtcbiAgICAvLyB0cmFpbGluZyBcXFxcXG4gICAgcmUgKz0gJ1xcXFxcXFxcJ1xuICB9XG5cbiAgLy8gb25seSBuZWVkIHRvIGFwcGx5IHRoZSBub2RvdCBzdGFydCBpZiB0aGUgcmUgc3RhcnRzIHdpdGhcbiAgLy8gc29tZXRoaW5nIHRoYXQgY291bGQgY29uY2VpdmFibHkgY2FwdHVyZSBhIGRvdFxuICB2YXIgYWRkUGF0dGVyblN0YXJ0ID0gZmFsc2VcbiAgc3dpdGNoIChyZS5jaGFyQXQoMCkpIHtcbiAgICBjYXNlICdbJzogY2FzZSAnLic6IGNhc2UgJygnOiBhZGRQYXR0ZXJuU3RhcnQgPSB0cnVlXG4gIH1cblxuICAvLyBIYWNrIHRvIHdvcmsgYXJvdW5kIGxhY2sgb2YgbmVnYXRpdmUgbG9va2JlaGluZCBpbiBKU1xuICAvLyBBIHBhdHRlcm4gbGlrZTogKi4hKHgpLiEoeXx6KSBuZWVkcyB0byBlbnN1cmUgdGhhdCBhIG5hbWVcbiAgLy8gbGlrZSAnYS54eXoueXonIGRvZXNuJ3QgbWF0Y2guICBTbywgdGhlIGZpcnN0IG5lZ2F0aXZlXG4gIC8vIGxvb2thaGVhZCwgaGFzIHRvIGxvb2sgQUxMIHRoZSB3YXkgYWhlYWQsIHRvIHRoZSBlbmQgb2ZcbiAgLy8gdGhlIHBhdHRlcm4uXG4gIGZvciAodmFyIG4gPSBuZWdhdGl2ZUxpc3RzLmxlbmd0aCAtIDE7IG4gPiAtMTsgbi0tKSB7XG4gICAgdmFyIG5sID0gbmVnYXRpdmVMaXN0c1tuXVxuXG4gICAgdmFyIG5sQmVmb3JlID0gcmUuc2xpY2UoMCwgbmwucmVTdGFydClcbiAgICB2YXIgbmxGaXJzdCA9IHJlLnNsaWNlKG5sLnJlU3RhcnQsIG5sLnJlRW5kIC0gOClcbiAgICB2YXIgbmxMYXN0ID0gcmUuc2xpY2UobmwucmVFbmQgLSA4LCBubC5yZUVuZClcbiAgICB2YXIgbmxBZnRlciA9IHJlLnNsaWNlKG5sLnJlRW5kKVxuXG4gICAgbmxMYXN0ICs9IG5sQWZ0ZXJcblxuICAgIC8vIEhhbmRsZSBuZXN0ZWQgc3R1ZmYgbGlrZSAqKCouanN8ISgqLmpzb24pKSwgd2hlcmUgb3BlbiBwYXJlbnNcbiAgICAvLyBtZWFuIHRoYXQgd2Ugc2hvdWxkICpub3QqIGluY2x1ZGUgdGhlICkgaW4gdGhlIGJpdCB0aGF0IGlzIGNvbnNpZGVyZWRcbiAgICAvLyBcImFmdGVyXCIgdGhlIG5lZ2F0ZWQgc2VjdGlvbi5cbiAgICB2YXIgb3BlblBhcmVuc0JlZm9yZSA9IG5sQmVmb3JlLnNwbGl0KCcoJykubGVuZ3RoIC0gMVxuICAgIHZhciBjbGVhbkFmdGVyID0gbmxBZnRlclxuICAgIGZvciAoaSA9IDA7IGkgPCBvcGVuUGFyZW5zQmVmb3JlOyBpKyspIHtcbiAgICAgIGNsZWFuQWZ0ZXIgPSBjbGVhbkFmdGVyLnJlcGxhY2UoL1xcKVsrKj9dPy8sICcnKVxuICAgIH1cbiAgICBubEFmdGVyID0gY2xlYW5BZnRlclxuXG4gICAgdmFyIGRvbGxhciA9ICcnXG4gICAgaWYgKG5sQWZ0ZXIgPT09ICcnICYmIGlzU3ViICE9PSBTVUJQQVJTRSkge1xuICAgICAgZG9sbGFyID0gJyQnXG4gICAgfVxuICAgIHZhciBuZXdSZSA9IG5sQmVmb3JlICsgbmxGaXJzdCArIG5sQWZ0ZXIgKyBkb2xsYXIgKyBubExhc3RcbiAgICByZSA9IG5ld1JlXG4gIH1cblxuICAvLyBpZiB0aGUgcmUgaXMgbm90IFwiXCIgYXQgdGhpcyBwb2ludCwgdGhlbiB3ZSBuZWVkIHRvIG1ha2Ugc3VyZVxuICAvLyBpdCBkb2Vzbid0IG1hdGNoIGFnYWluc3QgYW4gZW1wdHkgcGF0aCBwYXJ0LlxuICAvLyBPdGhlcndpc2UgYS8qIHdpbGwgbWF0Y2ggYS8sIHdoaWNoIGl0IHNob3VsZCBub3QuXG4gIGlmIChyZSAhPT0gJycgJiYgaGFzTWFnaWMpIHtcbiAgICByZSA9ICcoPz0uKScgKyByZVxuICB9XG5cbiAgaWYgKGFkZFBhdHRlcm5TdGFydCkge1xuICAgIHJlID0gcGF0dGVyblN0YXJ0ICsgcmVcbiAgfVxuXG4gIC8vIHBhcnNpbmcganVzdCBhIHBpZWNlIG9mIGEgbGFyZ2VyIHBhdHRlcm4uXG4gIGlmIChpc1N1YiA9PT0gU1VCUEFSU0UpIHtcbiAgICByZXR1cm4gW3JlLCBoYXNNYWdpY11cbiAgfVxuXG4gIC8vIHNraXAgdGhlIHJlZ2V4cCBmb3Igbm9uLW1hZ2ljYWwgcGF0dGVybnNcbiAgLy8gdW5lc2NhcGUgYW55dGhpbmcgaW4gaXQsIHRob3VnaCwgc28gdGhhdCBpdCdsbCBiZVxuICAvLyBhbiBleGFjdCBtYXRjaCBhZ2FpbnN0IGEgZmlsZSBldGMuXG4gIGlmICghaGFzTWFnaWMpIHtcbiAgICByZXR1cm4gZ2xvYlVuZXNjYXBlKHBhdHRlcm4pXG4gIH1cblxuICB2YXIgZmxhZ3MgPSBvcHRpb25zLm5vY2FzZSA/ICdpJyA6ICcnXG4gIHRyeSB7XG4gICAgdmFyIHJlZ0V4cCA9IG5ldyBSZWdFeHAoJ14nICsgcmUgKyAnJCcsIGZsYWdzKVxuICB9IGNhdGNoIChlcikgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBzaG91bGQgYmUgaW1wb3NzaWJsZSAqLyB7XG4gICAgLy8gSWYgaXQgd2FzIGFuIGludmFsaWQgcmVndWxhciBleHByZXNzaW9uLCB0aGVuIGl0IGNhbid0IG1hdGNoXG4gICAgLy8gYW55dGhpbmcuICBUaGlzIHRyaWNrIGxvb2tzIGZvciBhIGNoYXJhY3RlciBhZnRlciB0aGUgZW5kIG9mXG4gICAgLy8gdGhlIHN0cmluZywgd2hpY2ggaXMgb2YgY291cnNlIGltcG9zc2libGUsIGV4Y2VwdCBpbiBtdWx0aS1saW5lXG4gICAgLy8gbW9kZSwgYnV0IGl0J3Mgbm90IGEgL20gcmVnZXguXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJyQuJylcbiAgfVxuXG4gIHJlZ0V4cC5fZ2xvYiA9IHBhdHRlcm5cbiAgcmVnRXhwLl9zcmMgPSByZVxuXG4gIHJldHVybiByZWdFeHBcbn1cblxubWluaW1hdGNoLm1ha2VSZSA9IGZ1bmN0aW9uIChwYXR0ZXJuLCBvcHRpb25zKSB7XG4gIHJldHVybiBuZXcgTWluaW1hdGNoKHBhdHRlcm4sIG9wdGlvbnMgfHwge30pLm1ha2VSZSgpXG59XG5cbk1pbmltYXRjaC5wcm90b3R5cGUubWFrZVJlID0gbWFrZVJlXG5mdW5jdGlvbiBtYWtlUmUgKCkge1xuICBpZiAodGhpcy5yZWdleHAgfHwgdGhpcy5yZWdleHAgPT09IGZhbHNlKSByZXR1cm4gdGhpcy5yZWdleHBcblxuICAvLyBhdCB0aGlzIHBvaW50LCB0aGlzLnNldCBpcyBhIDJkIGFycmF5IG9mIHBhcnRpYWxcbiAgLy8gcGF0dGVybiBzdHJpbmdzLCBvciBcIioqXCIuXG4gIC8vXG4gIC8vIEl0J3MgYmV0dGVyIHRvIHVzZSAubWF0Y2goKS4gIFRoaXMgZnVuY3Rpb24gc2hvdWxkbid0XG4gIC8vIGJlIHVzZWQsIHJlYWxseSwgYnV0IGl0J3MgcHJldHR5IGNvbnZlbmllbnQgc29tZXRpbWVzLFxuICAvLyB3aGVuIHlvdSBqdXN0IHdhbnQgdG8gd29yayB3aXRoIGEgcmVnZXguXG4gIHZhciBzZXQgPSB0aGlzLnNldFxuXG4gIGlmICghc2V0Lmxlbmd0aCkge1xuICAgIHRoaXMucmVnZXhwID0gZmFsc2VcbiAgICByZXR1cm4gdGhpcy5yZWdleHBcbiAgfVxuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuXG4gIHZhciB0d29TdGFyID0gb3B0aW9ucy5ub2dsb2JzdGFyID8gc3RhclxuICAgIDogb3B0aW9ucy5kb3QgPyB0d29TdGFyRG90XG4gICAgOiB0d29TdGFyTm9Eb3RcbiAgdmFyIGZsYWdzID0gb3B0aW9ucy5ub2Nhc2UgPyAnaScgOiAnJ1xuXG4gIHZhciByZSA9IHNldC5tYXAoZnVuY3Rpb24gKHBhdHRlcm4pIHtcbiAgICByZXR1cm4gcGF0dGVybi5tYXAoZnVuY3Rpb24gKHApIHtcbiAgICAgIHJldHVybiAocCA9PT0gR0xPQlNUQVIpID8gdHdvU3RhclxuICAgICAgOiAodHlwZW9mIHAgPT09ICdzdHJpbmcnKSA/IHJlZ0V4cEVzY2FwZShwKVxuICAgICAgOiBwLl9zcmNcbiAgICB9KS5qb2luKCdcXFxcXFwvJylcbiAgfSkuam9pbignfCcpXG5cbiAgLy8gbXVzdCBtYXRjaCBlbnRpcmUgcGF0dGVyblxuICAvLyBlbmRpbmcgaW4gYSAqIG9yICoqIHdpbGwgbWFrZSBpdCBsZXNzIHN0cmljdC5cbiAgcmUgPSAnXig/OicgKyByZSArICcpJCdcblxuICAvLyBjYW4gbWF0Y2ggYW55dGhpbmcsIGFzIGxvbmcgYXMgaXQncyBub3QgdGhpcy5cbiAgaWYgKHRoaXMubmVnYXRlKSByZSA9ICdeKD8hJyArIHJlICsgJykuKiQnXG5cbiAgdHJ5IHtcbiAgICB0aGlzLnJlZ2V4cCA9IG5ldyBSZWdFeHAocmUsIGZsYWdzKVxuICB9IGNhdGNoIChleCkgLyogaXN0YW5idWwgaWdub3JlIG5leHQgLSBzaG91bGQgYmUgaW1wb3NzaWJsZSAqLyB7XG4gICAgdGhpcy5yZWdleHAgPSBmYWxzZVxuICB9XG4gIHJldHVybiB0aGlzLnJlZ2V4cFxufVxuXG5taW5pbWF0Y2gubWF0Y2ggPSBmdW5jdGlvbiAobGlzdCwgcGF0dGVybiwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuICB2YXIgbW0gPSBuZXcgTWluaW1hdGNoKHBhdHRlcm4sIG9wdGlvbnMpXG4gIGxpc3QgPSBsaXN0LmZpbHRlcihmdW5jdGlvbiAoZikge1xuICAgIHJldHVybiBtbS5tYXRjaChmKVxuICB9KVxuICBpZiAobW0ub3B0aW9ucy5ub251bGwgJiYgIWxpc3QubGVuZ3RoKSB7XG4gICAgbGlzdC5wdXNoKHBhdHRlcm4pXG4gIH1cbiAgcmV0dXJuIGxpc3Rcbn1cblxuTWluaW1hdGNoLnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uIG1hdGNoIChmLCBwYXJ0aWFsKSB7XG4gIGlmICh0eXBlb2YgcGFydGlhbCA9PT0gJ3VuZGVmaW5lZCcpIHBhcnRpYWwgPSB0aGlzLnBhcnRpYWxcbiAgdGhpcy5kZWJ1ZygnbWF0Y2gnLCBmLCB0aGlzLnBhdHRlcm4pXG4gIC8vIHNob3J0LWNpcmN1aXQgaW4gdGhlIGNhc2Ugb2YgYnVzdGVkIHRoaW5ncy5cbiAgLy8gY29tbWVudHMsIGV0Yy5cbiAgaWYgKHRoaXMuY29tbWVudCkgcmV0dXJuIGZhbHNlXG4gIGlmICh0aGlzLmVtcHR5KSByZXR1cm4gZiA9PT0gJydcblxuICBpZiAoZiA9PT0gJy8nICYmIHBhcnRpYWwpIHJldHVybiB0cnVlXG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnNcblxuICAvLyB3aW5kb3dzOiBuZWVkIHRvIHVzZSAvLCBub3QgXFxcbiAgaWYgKHBhdGguc2VwICE9PSAnLycpIHtcbiAgICBmID0gZi5zcGxpdChwYXRoLnNlcCkuam9pbignLycpXG4gIH1cblxuICAvLyB0cmVhdCB0aGUgdGVzdCBwYXRoIGFzIGEgc2V0IG9mIHBhdGhwYXJ0cy5cbiAgZiA9IGYuc3BsaXQoc2xhc2hTcGxpdClcbiAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sICdzcGxpdCcsIGYpXG5cbiAgLy8ganVzdCBPTkUgb2YgdGhlIHBhdHRlcm4gc2V0cyBpbiB0aGlzLnNldCBuZWVkcyB0byBtYXRjaFxuICAvLyBpbiBvcmRlciBmb3IgaXQgdG8gYmUgdmFsaWQuICBJZiBuZWdhdGluZywgdGhlbiBqdXN0IG9uZVxuICAvLyBtYXRjaCBtZWFucyB0aGF0IHdlIGhhdmUgZmFpbGVkLlxuICAvLyBFaXRoZXIgd2F5LCByZXR1cm4gb24gdGhlIGZpcnN0IGhpdC5cblxuICB2YXIgc2V0ID0gdGhpcy5zZXRcbiAgdGhpcy5kZWJ1Zyh0aGlzLnBhdHRlcm4sICdzZXQnLCBzZXQpXG5cbiAgLy8gRmluZCB0aGUgYmFzZW5hbWUgb2YgdGhlIHBhdGggYnkgbG9va2luZyBmb3IgdGhlIGxhc3Qgbm9uLWVtcHR5IHNlZ21lbnRcbiAgdmFyIGZpbGVuYW1lXG4gIHZhciBpXG4gIGZvciAoaSA9IGYubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBmaWxlbmFtZSA9IGZbaV1cbiAgICBpZiAoZmlsZW5hbWUpIGJyZWFrXG4gIH1cblxuICBmb3IgKGkgPSAwOyBpIDwgc2V0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHBhdHRlcm4gPSBzZXRbaV1cbiAgICB2YXIgZmlsZSA9IGZcbiAgICBpZiAob3B0aW9ucy5tYXRjaEJhc2UgJiYgcGF0dGVybi5sZW5ndGggPT09IDEpIHtcbiAgICAgIGZpbGUgPSBbZmlsZW5hbWVdXG4gICAgfVxuICAgIHZhciBoaXQgPSB0aGlzLm1hdGNoT25lKGZpbGUsIHBhdHRlcm4sIHBhcnRpYWwpXG4gICAgaWYgKGhpdCkge1xuICAgICAgaWYgKG9wdGlvbnMuZmxpcE5lZ2F0ZSkgcmV0dXJuIHRydWVcbiAgICAgIHJldHVybiAhdGhpcy5uZWdhdGVcbiAgICB9XG4gIH1cblxuICAvLyBkaWRuJ3QgZ2V0IGFueSBoaXRzLiAgdGhpcyBpcyBzdWNjZXNzIGlmIGl0J3MgYSBuZWdhdGl2ZVxuICAvLyBwYXR0ZXJuLCBmYWlsdXJlIG90aGVyd2lzZS5cbiAgaWYgKG9wdGlvbnMuZmxpcE5lZ2F0ZSkgcmV0dXJuIGZhbHNlXG4gIHJldHVybiB0aGlzLm5lZ2F0ZVxufVxuXG4vLyBzZXQgcGFydGlhbCB0byB0cnVlIHRvIHRlc3QgaWYsIGZvciBleGFtcGxlLFxuLy8gXCIvYS9iXCIgbWF0Y2hlcyB0aGUgc3RhcnQgb2YgXCIvKi9iLyovZFwiXG4vLyBQYXJ0aWFsIG1lYW5zLCBpZiB5b3UgcnVuIG91dCBvZiBmaWxlIGJlZm9yZSB5b3UgcnVuXG4vLyBvdXQgb2YgcGF0dGVybiwgdGhlbiB0aGF0J3MgZmluZSwgYXMgbG9uZyBhcyBhbGxcbi8vIHRoZSBwYXJ0cyBtYXRjaC5cbk1pbmltYXRjaC5wcm90b3R5cGUubWF0Y2hPbmUgPSBmdW5jdGlvbiAoZmlsZSwgcGF0dGVybiwgcGFydGlhbCkge1xuICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9uc1xuXG4gIHRoaXMuZGVidWcoJ21hdGNoT25lJyxcbiAgICB7ICd0aGlzJzogdGhpcywgZmlsZTogZmlsZSwgcGF0dGVybjogcGF0dGVybiB9KVxuXG4gIHRoaXMuZGVidWcoJ21hdGNoT25lJywgZmlsZS5sZW5ndGgsIHBhdHRlcm4ubGVuZ3RoKVxuXG4gIGZvciAodmFyIGZpID0gMCxcbiAgICAgIHBpID0gMCxcbiAgICAgIGZsID0gZmlsZS5sZW5ndGgsXG4gICAgICBwbCA9IHBhdHRlcm4ubGVuZ3RoXG4gICAgICA7IChmaSA8IGZsKSAmJiAocGkgPCBwbClcbiAgICAgIDsgZmkrKywgcGkrKykge1xuICAgIHRoaXMuZGVidWcoJ21hdGNoT25lIGxvb3AnKVxuICAgIHZhciBwID0gcGF0dGVybltwaV1cbiAgICB2YXIgZiA9IGZpbGVbZmldXG5cbiAgICB0aGlzLmRlYnVnKHBhdHRlcm4sIHAsIGYpXG5cbiAgICAvLyBzaG91bGQgYmUgaW1wb3NzaWJsZS5cbiAgICAvLyBzb21lIGludmFsaWQgcmVnZXhwIHN0dWZmIGluIHRoZSBzZXQuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHAgPT09IGZhbHNlKSByZXR1cm4gZmFsc2VcblxuICAgIGlmIChwID09PSBHTE9CU1RBUikge1xuICAgICAgdGhpcy5kZWJ1ZygnR0xPQlNUQVInLCBbcGF0dGVybiwgcCwgZl0pXG5cbiAgICAgIC8vIFwiKipcIlxuICAgICAgLy8gYS8qKi9iLyoqL2Mgd291bGQgbWF0Y2ggdGhlIGZvbGxvd2luZzpcbiAgICAgIC8vIGEvYi94L3kvei9jXG4gICAgICAvLyBhL3gveS96L2IvY1xuICAgICAgLy8gYS9iL3gvYi94L2NcbiAgICAgIC8vIGEvYi9jXG4gICAgICAvLyBUbyBkbyB0aGlzLCB0YWtlIHRoZSByZXN0IG9mIHRoZSBwYXR0ZXJuIGFmdGVyXG4gICAgICAvLyB0aGUgKiosIGFuZCBzZWUgaWYgaXQgd291bGQgbWF0Y2ggdGhlIGZpbGUgcmVtYWluZGVyLlxuICAgICAgLy8gSWYgc28sIHJldHVybiBzdWNjZXNzLlxuICAgICAgLy8gSWYgbm90LCB0aGUgKiogXCJzd2FsbG93c1wiIGEgc2VnbWVudCwgYW5kIHRyeSBhZ2Fpbi5cbiAgICAgIC8vIFRoaXMgaXMgcmVjdXJzaXZlbHkgYXdmdWwuXG4gICAgICAvL1xuICAgICAgLy8gYS8qKi9iLyoqL2MgbWF0Y2hpbmcgYS9iL3gveS96L2NcbiAgICAgIC8vIC0gYSBtYXRjaGVzIGFcbiAgICAgIC8vIC0gZG91Ymxlc3RhclxuICAgICAgLy8gICAtIG1hdGNoT25lKGIveC95L3ovYywgYi8qKi9jKVxuICAgICAgLy8gICAgIC0gYiBtYXRjaGVzIGJcbiAgICAgIC8vICAgICAtIGRvdWJsZXN0YXJcbiAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoeC95L3ovYywgYykgLT4gbm9cbiAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoeS96L2MsIGMpIC0+IG5vXG4gICAgICAvLyAgICAgICAtIG1hdGNoT25lKHovYywgYykgLT4gbm9cbiAgICAgIC8vICAgICAgIC0gbWF0Y2hPbmUoYywgYykgeWVzLCBoaXRcbiAgICAgIHZhciBmciA9IGZpXG4gICAgICB2YXIgcHIgPSBwaSArIDFcbiAgICAgIGlmIChwciA9PT0gcGwpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZygnKiogYXQgdGhlIGVuZCcpXG4gICAgICAgIC8vIGEgKiogYXQgdGhlIGVuZCB3aWxsIGp1c3Qgc3dhbGxvdyB0aGUgcmVzdC5cbiAgICAgICAgLy8gV2UgaGF2ZSBmb3VuZCBhIG1hdGNoLlxuICAgICAgICAvLyBob3dldmVyLCBpdCB3aWxsIG5vdCBzd2FsbG93IC8ueCwgdW5sZXNzXG4gICAgICAgIC8vIG9wdGlvbnMuZG90IGlzIHNldC5cbiAgICAgICAgLy8gLiBhbmQgLi4gYXJlICpuZXZlciogbWF0Y2hlZCBieSAqKiwgZm9yIGV4cGxvc2l2ZWx5XG4gICAgICAgIC8vIGV4cG9uZW50aWFsIHJlYXNvbnMuXG4gICAgICAgIGZvciAoOyBmaSA8IGZsOyBmaSsrKSB7XG4gICAgICAgICAgaWYgKGZpbGVbZmldID09PSAnLicgfHwgZmlsZVtmaV0gPT09ICcuLicgfHxcbiAgICAgICAgICAgICghb3B0aW9ucy5kb3QgJiYgZmlsZVtmaV0uY2hhckF0KDApID09PSAnLicpKSByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfVxuXG4gICAgICAvLyBvaywgbGV0J3Mgc2VlIGlmIHdlIGNhbiBzd2FsbG93IHdoYXRldmVyIHdlIGNhbi5cbiAgICAgIHdoaWxlIChmciA8IGZsKSB7XG4gICAgICAgIHZhciBzd2FsbG93ZWUgPSBmaWxlW2ZyXVxuXG4gICAgICAgIHRoaXMuZGVidWcoJ1xcbmdsb2JzdGFyIHdoaWxlJywgZmlsZSwgZnIsIHBhdHRlcm4sIHByLCBzd2FsbG93ZWUpXG5cbiAgICAgICAgLy8gWFhYIHJlbW92ZSB0aGlzIHNsaWNlLiAgSnVzdCBwYXNzIHRoZSBzdGFydCBpbmRleC5cbiAgICAgICAgaWYgKHRoaXMubWF0Y2hPbmUoZmlsZS5zbGljZShmciksIHBhdHRlcm4uc2xpY2UocHIpLCBwYXJ0aWFsKSkge1xuICAgICAgICAgIHRoaXMuZGVidWcoJ2dsb2JzdGFyIGZvdW5kIG1hdGNoIScsIGZyLCBmbCwgc3dhbGxvd2VlKVxuICAgICAgICAgIC8vIGZvdW5kIGEgbWF0Y2guXG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBjYW4ndCBzd2FsbG93IFwiLlwiIG9yIFwiLi5cIiBldmVyLlxuICAgICAgICAgIC8vIGNhbiBvbmx5IHN3YWxsb3cgXCIuZm9vXCIgd2hlbiBleHBsaWNpdGx5IGFza2VkLlxuICAgICAgICAgIGlmIChzd2FsbG93ZWUgPT09ICcuJyB8fCBzd2FsbG93ZWUgPT09ICcuLicgfHxcbiAgICAgICAgICAgICghb3B0aW9ucy5kb3QgJiYgc3dhbGxvd2VlLmNoYXJBdCgwKSA9PT0gJy4nKSkge1xuICAgICAgICAgICAgdGhpcy5kZWJ1ZygnZG90IGRldGVjdGVkIScsIGZpbGUsIGZyLCBwYXR0ZXJuLCBwcilcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gKiogc3dhbGxvd3MgYSBzZWdtZW50LCBhbmQgY29udGludWUuXG4gICAgICAgICAgdGhpcy5kZWJ1ZygnZ2xvYnN0YXIgc3dhbGxvdyBhIHNlZ21lbnQsIGFuZCBjb250aW51ZScpXG4gICAgICAgICAgZnIrK1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIG5vIG1hdGNoIHdhcyBmb3VuZC5cbiAgICAgIC8vIEhvd2V2ZXIsIGluIHBhcnRpYWwgbW9kZSwgd2UgY2FuJ3Qgc2F5IHRoaXMgaXMgbmVjZXNzYXJpbHkgb3Zlci5cbiAgICAgIC8vIElmIHRoZXJlJ3MgbW9yZSAqcGF0dGVybiogbGVmdCwgdGhlblxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocGFydGlhbCkge1xuICAgICAgICAvLyByYW4gb3V0IG9mIGZpbGVcbiAgICAgICAgdGhpcy5kZWJ1ZygnXFxuPj4+IG5vIG1hdGNoLCBwYXJ0aWFsPycsIGZpbGUsIGZyLCBwYXR0ZXJuLCBwcilcbiAgICAgICAgaWYgKGZyID09PSBmbCkgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIC8vIHNvbWV0aGluZyBvdGhlciB0aGFuICoqXG4gICAgLy8gbm9uLW1hZ2ljIHBhdHRlcm5zIGp1c3QgaGF2ZSB0byBtYXRjaCBleGFjdGx5XG4gICAgLy8gcGF0dGVybnMgd2l0aCBtYWdpYyBoYXZlIGJlZW4gdHVybmVkIGludG8gcmVnZXhwcy5cbiAgICB2YXIgaGl0XG4gICAgaWYgKHR5cGVvZiBwID09PSAnc3RyaW5nJykge1xuICAgICAgaGl0ID0gZiA9PT0gcFxuICAgICAgdGhpcy5kZWJ1Zygnc3RyaW5nIG1hdGNoJywgcCwgZiwgaGl0KVxuICAgIH0gZWxzZSB7XG4gICAgICBoaXQgPSBmLm1hdGNoKHApXG4gICAgICB0aGlzLmRlYnVnKCdwYXR0ZXJuIG1hdGNoJywgcCwgZiwgaGl0KVxuICAgIH1cblxuICAgIGlmICghaGl0KSByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIC8vIE5vdGU6IGVuZGluZyBpbiAvIG1lYW5zIHRoYXQgd2UnbGwgZ2V0IGEgZmluYWwgXCJcIlxuICAvLyBhdCB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuLiAgVGhpcyBjYW4gb25seSBtYXRjaCBhXG4gIC8vIGNvcnJlc3BvbmRpbmcgXCJcIiBhdCB0aGUgZW5kIG9mIHRoZSBmaWxlLlxuICAvLyBJZiB0aGUgZmlsZSBlbmRzIGluIC8sIHRoZW4gaXQgY2FuIG9ubHkgbWF0Y2ggYVxuICAvLyBhIHBhdHRlcm4gdGhhdCBlbmRzIGluIC8sIHVubGVzcyB0aGUgcGF0dGVybiBqdXN0XG4gIC8vIGRvZXNuJ3QgaGF2ZSBhbnkgbW9yZSBmb3IgaXQuIEJ1dCwgYS9iLyBzaG91bGQgKm5vdCpcbiAgLy8gbWF0Y2ggXCJhL2IvKlwiLCBldmVuIHRob3VnaCBcIlwiIG1hdGNoZXMgYWdhaW5zdCB0aGVcbiAgLy8gW14vXSo/IHBhdHRlcm4sIGV4Y2VwdCBpbiBwYXJ0aWFsIG1vZGUsIHdoZXJlIGl0IG1pZ2h0XG4gIC8vIHNpbXBseSBub3QgYmUgcmVhY2hlZCB5ZXQuXG4gIC8vIEhvd2V2ZXIsIGEvYi8gc2hvdWxkIHN0aWxsIHNhdGlzZnkgYS8qXG5cbiAgLy8gbm93IGVpdGhlciB3ZSBmZWxsIG9mZiB0aGUgZW5kIG9mIHRoZSBwYXR0ZXJuLCBvciB3ZSdyZSBkb25lLlxuICBpZiAoZmkgPT09IGZsICYmIHBpID09PSBwbCkge1xuICAgIC8vIHJhbiBvdXQgb2YgcGF0dGVybiBhbmQgZmlsZW5hbWUgYXQgdGhlIHNhbWUgdGltZS5cbiAgICAvLyBhbiBleGFjdCBoaXQhXG4gICAgcmV0dXJuIHRydWVcbiAgfSBlbHNlIGlmIChmaSA9PT0gZmwpIHtcbiAgICAvLyByYW4gb3V0IG9mIGZpbGUsIGJ1dCBzdGlsbCBoYWQgcGF0dGVybiBsZWZ0LlxuICAgIC8vIHRoaXMgaXMgb2sgaWYgd2UncmUgZG9pbmcgdGhlIG1hdGNoIGFzIHBhcnQgb2ZcbiAgICAvLyBhIGdsb2IgZnMgdHJhdmVyc2FsLlxuICAgIHJldHVybiBwYXJ0aWFsXG4gIH0gZWxzZSAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqLyBpZiAocGkgPT09IHBsKSB7XG4gICAgLy8gcmFuIG91dCBvZiBwYXR0ZXJuLCBzdGlsbCBoYXZlIGZpbGUgbGVmdC5cbiAgICAvLyB0aGlzIGlzIG9ubHkgYWNjZXB0YWJsZSBpZiB3ZSdyZSBvbiB0aGUgdmVyeSBsYXN0XG4gICAgLy8gZW1wdHkgc2VnbWVudCBvZiBhIGZpbGUgd2l0aCBhIHRyYWlsaW5nIHNsYXNoLlxuICAgIC8vIGEvKiBzaG91bGQgbWF0Y2ggYS9iL1xuICAgIHJldHVybiAoZmkgPT09IGZsIC0gMSkgJiYgKGZpbGVbZmldID09PSAnJylcbiAgfVxuXG4gIC8vIHNob3VsZCBiZSB1bnJlYWNoYWJsZS5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdGhyb3cgbmV3IEVycm9yKCd3dGY/Jylcbn1cblxuLy8gcmVwbGFjZSBzdHVmZiBsaWtlIFxcKiB3aXRoICpcbmZ1bmN0aW9uIGdsb2JVbmVzY2FwZSAocykge1xuICByZXR1cm4gcy5yZXBsYWNlKC9cXFxcKC4pL2csICckMScpXG59XG5cbmZ1bmN0aW9uIHJlZ0V4cEVzY2FwZSAocykge1xuICByZXR1cm4gcy5yZXBsYWNlKC9bLVtcXF17fSgpKis/LixcXFxcXiR8I1xcc10vZywgJ1xcXFwkJicpXG59XG4iLAogICJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gICAgfVxuICB9XG59XG4iLAogICJ0cnkge1xuICB2YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKHR5cGVvZiB1dGlsLmluaGVyaXRzICE9PSAnZnVuY3Rpb24nKSB0aHJvdyAnJztcbiAgbW9kdWxlLmV4cG9ydHMgPSB1dGlsLmluaGVyaXRzO1xufSBjYXRjaCAoZSkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vaW5oZXJpdHNfYnJvd3Nlci5qcycpO1xufVxuIiwKICAiJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBwb3NpeChwYXRoKSB7XG5cdHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nO1xufVxuXG5mdW5jdGlvbiB3aW4zMihwYXRoKSB7XG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvbm9kZS9ibG9iL2IzZmNjMjQ1ZmIyNTUzOTkwOWVmMWQ1ZWFhMDFkYmY5MmUxNjg2MzMvbGliL3BhdGguanMjTDU2XG5cdHZhciBzcGxpdERldmljZVJlID0gL14oW2EtekEtWl06fFtcXFxcXFwvXXsyfVteXFxcXFxcL10rW1xcXFxcXC9dK1teXFxcXFxcL10rKT8oW1xcXFxcXC9dKT8oW1xcc1xcU10qPykkLztcblx0dmFyIHJlc3VsdCA9IHNwbGl0RGV2aWNlUmUuZXhlYyhwYXRoKTtcblx0dmFyIGRldmljZSA9IHJlc3VsdFsxXSB8fCAnJztcblx0dmFyIGlzVW5jID0gQm9vbGVhbihkZXZpY2UgJiYgZGV2aWNlLmNoYXJBdCgxKSAhPT0gJzonKTtcblxuXHQvLyBVTkMgcGF0aHMgYXJlIGFsd2F5cyBhYnNvbHV0ZVxuXHRyZXR1cm4gQm9vbGVhbihyZXN1bHRbMl0gfHwgaXNVbmMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicgPyB3aW4zMiA6IHBvc2l4O1xubW9kdWxlLmV4cG9ydHMucG9zaXggPSBwb3NpeDtcbm1vZHVsZS5leHBvcnRzLndpbjMyID0gd2luMzI7XG4iLAogICJleHBvcnRzLnNldG9wdHMgPSBzZXRvcHRzXG5leHBvcnRzLm93blByb3AgPSBvd25Qcm9wXG5leHBvcnRzLm1ha2VBYnMgPSBtYWtlQWJzXG5leHBvcnRzLmZpbmlzaCA9IGZpbmlzaFxuZXhwb3J0cy5tYXJrID0gbWFya1xuZXhwb3J0cy5pc0lnbm9yZWQgPSBpc0lnbm9yZWRcbmV4cG9ydHMuY2hpbGRyZW5JZ25vcmVkID0gY2hpbGRyZW5JZ25vcmVkXG5cbmZ1bmN0aW9uIG93blByb3AgKG9iaiwgZmllbGQpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGZpZWxkKVxufVxuXG52YXIgZnMgPSByZXF1aXJlKFwiZnNcIilcbnZhciBwYXRoID0gcmVxdWlyZShcInBhdGhcIilcbnZhciBtaW5pbWF0Y2ggPSByZXF1aXJlKFwibWluaW1hdGNoXCIpXG52YXIgaXNBYnNvbHV0ZSA9IHJlcXVpcmUoXCJwYXRoLWlzLWFic29sdXRlXCIpXG52YXIgTWluaW1hdGNoID0gbWluaW1hdGNoLk1pbmltYXRjaFxuXG5mdW5jdGlvbiBhbHBoYXNvcnQgKGEsIGIpIHtcbiAgcmV0dXJuIGEubG9jYWxlQ29tcGFyZShiLCAnZW4nKVxufVxuXG5mdW5jdGlvbiBzZXR1cElnbm9yZXMgKHNlbGYsIG9wdGlvbnMpIHtcbiAgc2VsZi5pZ25vcmUgPSBvcHRpb25zLmlnbm9yZSB8fCBbXVxuXG4gIGlmICghQXJyYXkuaXNBcnJheShzZWxmLmlnbm9yZSkpXG4gICAgc2VsZi5pZ25vcmUgPSBbc2VsZi5pZ25vcmVdXG5cbiAgaWYgKHNlbGYuaWdub3JlLmxlbmd0aCkge1xuICAgIHNlbGYuaWdub3JlID0gc2VsZi5pZ25vcmUubWFwKGlnbm9yZU1hcClcbiAgfVxufVxuXG4vLyBpZ25vcmUgcGF0dGVybnMgYXJlIGFsd2F5cyBpbiBkb3Q6dHJ1ZSBtb2RlLlxuZnVuY3Rpb24gaWdub3JlTWFwIChwYXR0ZXJuKSB7XG4gIHZhciBnbWF0Y2hlciA9IG51bGxcbiAgaWYgKHBhdHRlcm4uc2xpY2UoLTMpID09PSAnLyoqJykge1xuICAgIHZhciBncGF0dGVybiA9IHBhdHRlcm4ucmVwbGFjZSgvKFxcL1xcKlxcKikrJC8sICcnKVxuICAgIGdtYXRjaGVyID0gbmV3IE1pbmltYXRjaChncGF0dGVybiwgeyBkb3Q6IHRydWUgfSlcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgbWF0Y2hlcjogbmV3IE1pbmltYXRjaChwYXR0ZXJuLCB7IGRvdDogdHJ1ZSB9KSxcbiAgICBnbWF0Y2hlcjogZ21hdGNoZXJcbiAgfVxufVxuXG5mdW5jdGlvbiBzZXRvcHRzIChzZWxmLCBwYXR0ZXJuLCBvcHRpb25zKSB7XG4gIGlmICghb3B0aW9ucylcbiAgICBvcHRpb25zID0ge31cblxuICAvLyBiYXNlLW1hdGNoaW5nOiBqdXN0IHVzZSBnbG9ic3RhciBmb3IgdGhhdC5cbiAgaWYgKG9wdGlvbnMubWF0Y2hCYXNlICYmIC0xID09PSBwYXR0ZXJuLmluZGV4T2YoXCIvXCIpKSB7XG4gICAgaWYgKG9wdGlvbnMubm9nbG9ic3Rhcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYmFzZSBtYXRjaGluZyByZXF1aXJlcyBnbG9ic3RhclwiKVxuICAgIH1cbiAgICBwYXR0ZXJuID0gXCIqKi9cIiArIHBhdHRlcm5cbiAgfVxuXG4gIHNlbGYuc2lsZW50ID0gISFvcHRpb25zLnNpbGVudFxuICBzZWxmLnBhdHRlcm4gPSBwYXR0ZXJuXG4gIHNlbGYuc3RyaWN0ID0gb3B0aW9ucy5zdHJpY3QgIT09IGZhbHNlXG4gIHNlbGYucmVhbHBhdGggPSAhIW9wdGlvbnMucmVhbHBhdGhcbiAgc2VsZi5yZWFscGF0aENhY2hlID0gb3B0aW9ucy5yZWFscGF0aENhY2hlIHx8IE9iamVjdC5jcmVhdGUobnVsbClcbiAgc2VsZi5mb2xsb3cgPSAhIW9wdGlvbnMuZm9sbG93XG4gIHNlbGYuZG90ID0gISFvcHRpb25zLmRvdFxuICBzZWxmLm1hcmsgPSAhIW9wdGlvbnMubWFya1xuICBzZWxmLm5vZGlyID0gISFvcHRpb25zLm5vZGlyXG4gIGlmIChzZWxmLm5vZGlyKVxuICAgIHNlbGYubWFyayA9IHRydWVcbiAgc2VsZi5zeW5jID0gISFvcHRpb25zLnN5bmNcbiAgc2VsZi5ub3VuaXF1ZSA9ICEhb3B0aW9ucy5ub3VuaXF1ZVxuICBzZWxmLm5vbnVsbCA9ICEhb3B0aW9ucy5ub251bGxcbiAgc2VsZi5ub3NvcnQgPSAhIW9wdGlvbnMubm9zb3J0XG4gIHNlbGYubm9jYXNlID0gISFvcHRpb25zLm5vY2FzZVxuICBzZWxmLnN0YXQgPSAhIW9wdGlvbnMuc3RhdFxuICBzZWxmLm5vcHJvY2VzcyA9ICEhb3B0aW9ucy5ub3Byb2Nlc3NcbiAgc2VsZi5hYnNvbHV0ZSA9ICEhb3B0aW9ucy5hYnNvbHV0ZVxuICBzZWxmLmZzID0gb3B0aW9ucy5mcyB8fCBmc1xuXG4gIHNlbGYubWF4TGVuZ3RoID0gb3B0aW9ucy5tYXhMZW5ndGggfHwgSW5maW5pdHlcbiAgc2VsZi5jYWNoZSA9IG9wdGlvbnMuY2FjaGUgfHwgT2JqZWN0LmNyZWF0ZShudWxsKVxuICBzZWxmLnN0YXRDYWNoZSA9IG9wdGlvbnMuc3RhdENhY2hlIHx8IE9iamVjdC5jcmVhdGUobnVsbClcbiAgc2VsZi5zeW1saW5rcyA9IG9wdGlvbnMuc3ltbGlua3MgfHwgT2JqZWN0LmNyZWF0ZShudWxsKVxuXG4gIHNldHVwSWdub3JlcyhzZWxmLCBvcHRpb25zKVxuXG4gIHNlbGYuY2hhbmdlZEN3ZCA9IGZhbHNlXG4gIHZhciBjd2QgPSBwcm9jZXNzLmN3ZCgpXG4gIGlmICghb3duUHJvcChvcHRpb25zLCBcImN3ZFwiKSlcbiAgICBzZWxmLmN3ZCA9IGN3ZFxuICBlbHNlIHtcbiAgICBzZWxmLmN3ZCA9IHBhdGgucmVzb2x2ZShvcHRpb25zLmN3ZClcbiAgICBzZWxmLmNoYW5nZWRDd2QgPSBzZWxmLmN3ZCAhPT0gY3dkXG4gIH1cblxuICBzZWxmLnJvb3QgPSBvcHRpb25zLnJvb3QgfHwgcGF0aC5yZXNvbHZlKHNlbGYuY3dkLCBcIi9cIilcbiAgc2VsZi5yb290ID0gcGF0aC5yZXNvbHZlKHNlbGYucm9vdClcbiAgaWYgKHByb2Nlc3MucGxhdGZvcm0gPT09IFwid2luMzJcIilcbiAgICBzZWxmLnJvb3QgPSBzZWxmLnJvb3QucmVwbGFjZSgvXFxcXC9nLCBcIi9cIilcblxuICAvLyBUT0RPOiBpcyBhbiBhYnNvbHV0ZSBgY3dkYCBzdXBwb3NlZCB0byBiZSByZXNvbHZlZCBhZ2FpbnN0IGByb290YD9cbiAgLy8gZS5nLiB7IGN3ZDogJy90ZXN0Jywgcm9vdDogX19kaXJuYW1lIH0gPT09IHBhdGguam9pbihfX2Rpcm5hbWUsICcvdGVzdCcpXG4gIHNlbGYuY3dkQWJzID0gaXNBYnNvbHV0ZShzZWxmLmN3ZCkgPyBzZWxmLmN3ZCA6IG1ha2VBYnMoc2VsZiwgc2VsZi5jd2QpXG4gIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSBcIndpbjMyXCIpXG4gICAgc2VsZi5jd2RBYnMgPSBzZWxmLmN3ZEFicy5yZXBsYWNlKC9cXFxcL2csIFwiL1wiKVxuICBzZWxmLm5vbW91bnQgPSAhIW9wdGlvbnMubm9tb3VudFxuXG4gIC8vIGRpc2FibGUgY29tbWVudHMgYW5kIG5lZ2F0aW9uIGluIE1pbmltYXRjaC5cbiAgLy8gTm90ZSB0aGF0IHRoZXkgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gR2xvYiBpdHNlbGYgYW55d2F5LlxuICBvcHRpb25zLm5vbmVnYXRlID0gdHJ1ZVxuICBvcHRpb25zLm5vY29tbWVudCA9IHRydWVcbiAgLy8gYWx3YXlzIHRyZWF0IFxcIGluIHBhdHRlcm5zIGFzIGVzY2FwZXMsIG5vdCBwYXRoIHNlcGFyYXRvcnNcbiAgb3B0aW9ucy5hbGxvd1dpbmRvd3NFc2NhcGUgPSBmYWxzZVxuXG4gIHNlbGYubWluaW1hdGNoID0gbmV3IE1pbmltYXRjaChwYXR0ZXJuLCBvcHRpb25zKVxuICBzZWxmLm9wdGlvbnMgPSBzZWxmLm1pbmltYXRjaC5vcHRpb25zXG59XG5cbmZ1bmN0aW9uIGZpbmlzaCAoc2VsZikge1xuICB2YXIgbm91ID0gc2VsZi5ub3VuaXF1ZVxuICB2YXIgYWxsID0gbm91ID8gW10gOiBPYmplY3QuY3JlYXRlKG51bGwpXG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBzZWxmLm1hdGNoZXMubGVuZ3RoOyBpIDwgbDsgaSArKykge1xuICAgIHZhciBtYXRjaGVzID0gc2VsZi5tYXRjaGVzW2ldXG4gICAgaWYgKCFtYXRjaGVzIHx8IE9iamVjdC5rZXlzKG1hdGNoZXMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKHNlbGYubm9udWxsKSB7XG4gICAgICAgIC8vIGRvIGxpa2UgdGhlIHNoZWxsLCBhbmQgc3BpdCBvdXQgdGhlIGxpdGVyYWwgZ2xvYlxuICAgICAgICB2YXIgbGl0ZXJhbCA9IHNlbGYubWluaW1hdGNoLmdsb2JTZXRbaV1cbiAgICAgICAgaWYgKG5vdSlcbiAgICAgICAgICBhbGwucHVzaChsaXRlcmFsKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgYWxsW2xpdGVyYWxdID0gdHJ1ZVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBoYWQgbWF0Y2hlc1xuICAgICAgdmFyIG0gPSBPYmplY3Qua2V5cyhtYXRjaGVzKVxuICAgICAgaWYgKG5vdSlcbiAgICAgICAgYWxsLnB1c2guYXBwbHkoYWxsLCBtKVxuICAgICAgZWxzZVxuICAgICAgICBtLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICBhbGxbbV0gPSB0cnVlXG4gICAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgaWYgKCFub3UpXG4gICAgYWxsID0gT2JqZWN0LmtleXMoYWxsKVxuXG4gIGlmICghc2VsZi5ub3NvcnQpXG4gICAgYWxsID0gYWxsLnNvcnQoYWxwaGFzb3J0KVxuXG4gIC8vIGF0ICpzb21lKiBwb2ludCB3ZSBzdGF0dGVkIGFsbCBvZiB0aGVzZVxuICBpZiAoc2VsZi5tYXJrKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGwubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFsbFtpXSA9IHNlbGYuX21hcmsoYWxsW2ldKVxuICAgIH1cbiAgICBpZiAoc2VsZi5ub2Rpcikge1xuICAgICAgYWxsID0gYWxsLmZpbHRlcihmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgbm90RGlyID0gISgvXFwvJC8udGVzdChlKSlcbiAgICAgICAgdmFyIGMgPSBzZWxmLmNhY2hlW2VdIHx8IHNlbGYuY2FjaGVbbWFrZUFicyhzZWxmLCBlKV1cbiAgICAgICAgaWYgKG5vdERpciAmJiBjKVxuICAgICAgICAgIG5vdERpciA9IGMgIT09ICdESVInICYmICFBcnJheS5pc0FycmF5KGMpXG4gICAgICAgIHJldHVybiBub3REaXJcbiAgICAgIH0pXG4gICAgfVxuICB9XG5cbiAgaWYgKHNlbGYuaWdub3JlLmxlbmd0aClcbiAgICBhbGwgPSBhbGwuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgIHJldHVybiAhaXNJZ25vcmVkKHNlbGYsIG0pXG4gICAgfSlcblxuICBzZWxmLmZvdW5kID0gYWxsXG59XG5cbmZ1bmN0aW9uIG1hcmsgKHNlbGYsIHApIHtcbiAgdmFyIGFicyA9IG1ha2VBYnMoc2VsZiwgcClcbiAgdmFyIGMgPSBzZWxmLmNhY2hlW2Fic11cbiAgdmFyIG0gPSBwXG4gIGlmIChjKSB7XG4gICAgdmFyIGlzRGlyID0gYyA9PT0gJ0RJUicgfHwgQXJyYXkuaXNBcnJheShjKVxuICAgIHZhciBzbGFzaCA9IHAuc2xpY2UoLTEpID09PSAnLydcblxuICAgIGlmIChpc0RpciAmJiAhc2xhc2gpXG4gICAgICBtICs9ICcvJ1xuICAgIGVsc2UgaWYgKCFpc0RpciAmJiBzbGFzaClcbiAgICAgIG0gPSBtLnNsaWNlKDAsIC0xKVxuXG4gICAgaWYgKG0gIT09IHApIHtcbiAgICAgIHZhciBtYWJzID0gbWFrZUFicyhzZWxmLCBtKVxuICAgICAgc2VsZi5zdGF0Q2FjaGVbbWFic10gPSBzZWxmLnN0YXRDYWNoZVthYnNdXG4gICAgICBzZWxmLmNhY2hlW21hYnNdID0gc2VsZi5jYWNoZVthYnNdXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1cbn1cblxuLy8gbG90dGEgc2l0dXBzLi4uXG5mdW5jdGlvbiBtYWtlQWJzIChzZWxmLCBmKSB7XG4gIHZhciBhYnMgPSBmXG4gIGlmIChmLmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgYWJzID0gcGF0aC5qb2luKHNlbGYucm9vdCwgZilcbiAgfSBlbHNlIGlmIChpc0Fic29sdXRlKGYpIHx8IGYgPT09ICcnKSB7XG4gICAgYWJzID0gZlxuICB9IGVsc2UgaWYgKHNlbGYuY2hhbmdlZEN3ZCkge1xuICAgIGFicyA9IHBhdGgucmVzb2x2ZShzZWxmLmN3ZCwgZilcbiAgfSBlbHNlIHtcbiAgICBhYnMgPSBwYXRoLnJlc29sdmUoZilcbiAgfVxuXG4gIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKVxuICAgIGFicyA9IGFicy5yZXBsYWNlKC9cXFxcL2csICcvJylcblxuICByZXR1cm4gYWJzXG59XG5cblxuLy8gUmV0dXJuIHRydWUsIGlmIHBhdHRlcm4gZW5kcyB3aXRoIGdsb2JzdGFyICcqKicsIGZvciB0aGUgYWNjb21wYW55aW5nIHBhcmVudCBkaXJlY3RvcnkuXG4vLyBFeDotIElmIG5vZGVfbW9kdWxlcy8qKiBpcyB0aGUgcGF0dGVybiwgYWRkICdub2RlX21vZHVsZXMnIHRvIGlnbm9yZSBsaXN0IGFsb25nIHdpdGggaXQncyBjb250ZW50c1xuZnVuY3Rpb24gaXNJZ25vcmVkIChzZWxmLCBwYXRoKSB7XG4gIGlmICghc2VsZi5pZ25vcmUubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZVxuXG4gIHJldHVybiBzZWxmLmlnbm9yZS5zb21lKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbS5tYXRjaGVyLm1hdGNoKHBhdGgpIHx8ICEhKGl0ZW0uZ21hdGNoZXIgJiYgaXRlbS5nbWF0Y2hlci5tYXRjaChwYXRoKSlcbiAgfSlcbn1cblxuZnVuY3Rpb24gY2hpbGRyZW5JZ25vcmVkIChzZWxmLCBwYXRoKSB7XG4gIGlmICghc2VsZi5pZ25vcmUubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZVxuXG4gIHJldHVybiBzZWxmLmlnbm9yZS5zb21lKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICByZXR1cm4gISEoaXRlbS5nbWF0Y2hlciAmJiBpdGVtLmdtYXRjaGVyLm1hdGNoKHBhdGgpKVxuICB9KVxufVxuIiwKICAibW9kdWxlLmV4cG9ydHMgPSBnbG9iU3luY1xuZ2xvYlN5bmMuR2xvYlN5bmMgPSBHbG9iU3luY1xuXG52YXIgcnAgPSByZXF1aXJlKCdmcy5yZWFscGF0aCcpXG52YXIgbWluaW1hdGNoID0gcmVxdWlyZSgnbWluaW1hdGNoJylcbnZhciBNaW5pbWF0Y2ggPSBtaW5pbWF0Y2guTWluaW1hdGNoXG52YXIgR2xvYiA9IHJlcXVpcmUoJy4vZ2xvYi5qcycpLkdsb2JcbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpXG52YXIgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxudmFyIGFzc2VydCA9IHJlcXVpcmUoJ2Fzc2VydCcpXG52YXIgaXNBYnNvbHV0ZSA9IHJlcXVpcmUoJ3BhdGgtaXMtYWJzb2x1dGUnKVxudmFyIGNvbW1vbiA9IHJlcXVpcmUoJy4vY29tbW9uLmpzJylcbnZhciBzZXRvcHRzID0gY29tbW9uLnNldG9wdHNcbnZhciBvd25Qcm9wID0gY29tbW9uLm93blByb3BcbnZhciBjaGlsZHJlbklnbm9yZWQgPSBjb21tb24uY2hpbGRyZW5JZ25vcmVkXG52YXIgaXNJZ25vcmVkID0gY29tbW9uLmlzSWdub3JlZFxuXG5mdW5jdGlvbiBnbG9iU3luYyAocGF0dGVybiwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdmdW5jdGlvbicgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYWxsYmFjayBwcm92aWRlZCB0byBzeW5jIGdsb2JcXG4nK1xuICAgICAgICAgICAgICAgICAgICAgICAgJ1NlZTogaHR0cHM6Ly9naXRodWIuY29tL2lzYWFjcy9ub2RlLWdsb2IvaXNzdWVzLzE2NycpXG5cbiAgcmV0dXJuIG5ldyBHbG9iU3luYyhwYXR0ZXJuLCBvcHRpb25zKS5mb3VuZFxufVxuXG5mdW5jdGlvbiBHbG9iU3luYyAocGF0dGVybiwgb3B0aW9ucykge1xuICBpZiAoIXBhdHRlcm4pXG4gICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHByb3ZpZGUgcGF0dGVybicpXG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDMpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignY2FsbGJhY2sgcHJvdmlkZWQgdG8gc3luYyBnbG9iXFxuJytcbiAgICAgICAgICAgICAgICAgICAgICAgICdTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9pc2FhY3Mvbm9kZS1nbG9iL2lzc3Vlcy8xNjcnKVxuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBHbG9iU3luYykpXG4gICAgcmV0dXJuIG5ldyBHbG9iU3luYyhwYXR0ZXJuLCBvcHRpb25zKVxuXG4gIHNldG9wdHModGhpcywgcGF0dGVybiwgb3B0aW9ucylcblxuICBpZiAodGhpcy5ub3Byb2Nlc3MpXG4gICAgcmV0dXJuIHRoaXNcblxuICB2YXIgbiA9IHRoaXMubWluaW1hdGNoLnNldC5sZW5ndGhcbiAgdGhpcy5tYXRjaGVzID0gbmV3IEFycmF5KG4pXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSArKykge1xuICAgIHRoaXMuX3Byb2Nlc3ModGhpcy5taW5pbWF0Y2guc2V0W2ldLCBpLCBmYWxzZSlcbiAgfVxuICB0aGlzLl9maW5pc2goKVxufVxuXG5HbG9iU3luYy5wcm90b3R5cGUuX2ZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgYXNzZXJ0Lm9rKHRoaXMgaW5zdGFuY2VvZiBHbG9iU3luYylcbiAgaWYgKHRoaXMucmVhbHBhdGgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICB0aGlzLm1hdGNoZXMuZm9yRWFjaChmdW5jdGlvbiAobWF0Y2hzZXQsIGluZGV4KSB7XG4gICAgICB2YXIgc2V0ID0gc2VsZi5tYXRjaGVzW2luZGV4XSA9IE9iamVjdC5jcmVhdGUobnVsbClcbiAgICAgIGZvciAodmFyIHAgaW4gbWF0Y2hzZXQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBwID0gc2VsZi5fbWFrZUFicyhwKVxuICAgICAgICAgIHZhciByZWFsID0gcnAucmVhbHBhdGhTeW5jKHAsIHNlbGYucmVhbHBhdGhDYWNoZSlcbiAgICAgICAgICBzZXRbcmVhbF0gPSB0cnVlXG4gICAgICAgIH0gY2F0Y2ggKGVyKSB7XG4gICAgICAgICAgaWYgKGVyLnN5c2NhbGwgPT09ICdzdGF0JylcbiAgICAgICAgICAgIHNldFtzZWxmLl9tYWtlQWJzKHApXSA9IHRydWVcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aHJvdyBlclxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgfVxuICBjb21tb24uZmluaXNoKHRoaXMpXG59XG5cblxuR2xvYlN5bmMucHJvdG90eXBlLl9wcm9jZXNzID0gZnVuY3Rpb24gKHBhdHRlcm4sIGluZGV4LCBpbkdsb2JTdGFyKSB7XG4gIGFzc2VydC5vayh0aGlzIGluc3RhbmNlb2YgR2xvYlN5bmMpXG5cbiAgLy8gR2V0IHRoZSBmaXJzdCBbbl0gcGFydHMgb2YgcGF0dGVybiB0aGF0IGFyZSBhbGwgc3RyaW5ncy5cbiAgdmFyIG4gPSAwXG4gIHdoaWxlICh0eXBlb2YgcGF0dGVybltuXSA9PT0gJ3N0cmluZycpIHtcbiAgICBuICsrXG4gIH1cbiAgLy8gbm93IG4gaXMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBvbmUgdGhhdCBpcyAqbm90KiBhIHN0cmluZy5cblxuICAvLyBTZWUgaWYgdGhlcmUncyBhbnl0aGluZyBlbHNlXG4gIHZhciBwcmVmaXhcbiAgc3dpdGNoIChuKSB7XG4gICAgLy8gaWYgbm90LCB0aGVuIHRoaXMgaXMgcmF0aGVyIHNpbXBsZVxuICAgIGNhc2UgcGF0dGVybi5sZW5ndGg6XG4gICAgICB0aGlzLl9wcm9jZXNzU2ltcGxlKHBhdHRlcm4uam9pbignLycpLCBpbmRleClcbiAgICAgIHJldHVyblxuXG4gICAgY2FzZSAwOlxuICAgICAgLy8gcGF0dGVybiAqc3RhcnRzKiB3aXRoIHNvbWUgbm9uLXRyaXZpYWwgaXRlbS5cbiAgICAgIC8vIGdvaW5nIHRvIHJlYWRkaXIoY3dkKSwgYnV0IG5vdCBpbmNsdWRlIHRoZSBwcmVmaXggaW4gbWF0Y2hlcy5cbiAgICAgIHByZWZpeCA9IG51bGxcbiAgICAgIGJyZWFrXG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gcGF0dGVybiBoYXMgc29tZSBzdHJpbmcgYml0cyBpbiB0aGUgZnJvbnQuXG4gICAgICAvLyB3aGF0ZXZlciBpdCBzdGFydHMgd2l0aCwgd2hldGhlciB0aGF0J3MgJ2Fic29sdXRlJyBsaWtlIC9mb28vYmFyLFxuICAgICAgLy8gb3IgJ3JlbGF0aXZlJyBsaWtlICcuLi9iYXonXG4gICAgICBwcmVmaXggPSBwYXR0ZXJuLnNsaWNlKDAsIG4pLmpvaW4oJy8nKVxuICAgICAgYnJlYWtcbiAgfVxuXG4gIHZhciByZW1haW4gPSBwYXR0ZXJuLnNsaWNlKG4pXG5cbiAgLy8gZ2V0IHRoZSBsaXN0IG9mIGVudHJpZXMuXG4gIHZhciByZWFkXG4gIGlmIChwcmVmaXggPT09IG51bGwpXG4gICAgcmVhZCA9ICcuJ1xuICBlbHNlIGlmIChpc0Fic29sdXRlKHByZWZpeCkgfHxcbiAgICAgIGlzQWJzb2x1dGUocGF0dGVybi5tYXAoZnVuY3Rpb24gKHApIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBwID09PSAnc3RyaW5nJyA/IHAgOiAnWypdJ1xuICAgICAgfSkuam9pbignLycpKSkge1xuICAgIGlmICghcHJlZml4IHx8ICFpc0Fic29sdXRlKHByZWZpeCkpXG4gICAgICBwcmVmaXggPSAnLycgKyBwcmVmaXhcbiAgICByZWFkID0gcHJlZml4XG4gIH0gZWxzZVxuICAgIHJlYWQgPSBwcmVmaXhcblxuICB2YXIgYWJzID0gdGhpcy5fbWFrZUFicyhyZWFkKVxuXG4gIC8vaWYgaWdub3JlZCwgc2tpcCBwcm9jZXNzaW5nXG4gIGlmIChjaGlsZHJlbklnbm9yZWQodGhpcywgcmVhZCkpXG4gICAgcmV0dXJuXG5cbiAgdmFyIGlzR2xvYlN0YXIgPSByZW1haW5bMF0gPT09IG1pbmltYXRjaC5HTE9CU1RBUlxuICBpZiAoaXNHbG9iU3RhcilcbiAgICB0aGlzLl9wcm9jZXNzR2xvYlN0YXIocHJlZml4LCByZWFkLCBhYnMsIHJlbWFpbiwgaW5kZXgsIGluR2xvYlN0YXIpXG4gIGVsc2VcbiAgICB0aGlzLl9wcm9jZXNzUmVhZGRpcihwcmVmaXgsIHJlYWQsIGFicywgcmVtYWluLCBpbmRleCwgaW5HbG9iU3Rhcilcbn1cblxuXG5HbG9iU3luYy5wcm90b3R5cGUuX3Byb2Nlc3NSZWFkZGlyID0gZnVuY3Rpb24gKHByZWZpeCwgcmVhZCwgYWJzLCByZW1haW4sIGluZGV4LCBpbkdsb2JTdGFyKSB7XG4gIHZhciBlbnRyaWVzID0gdGhpcy5fcmVhZGRpcihhYnMsIGluR2xvYlN0YXIpXG5cbiAgLy8gaWYgdGhlIGFicyBpc24ndCBhIGRpciwgdGhlbiBub3RoaW5nIGNhbiBtYXRjaCFcbiAgaWYgKCFlbnRyaWVzKVxuICAgIHJldHVyblxuXG4gIC8vIEl0IHdpbGwgb25seSBtYXRjaCBkb3QgZW50cmllcyBpZiBpdCBzdGFydHMgd2l0aCBhIGRvdCwgb3IgaWZcbiAgLy8gZG90IGlzIHNldC4gIFN0dWZmIGxpa2UgQCguZm9vfC5iYXIpIGlzbid0IGFsbG93ZWQuXG4gIHZhciBwbiA9IHJlbWFpblswXVxuICB2YXIgbmVnYXRlID0gISF0aGlzLm1pbmltYXRjaC5uZWdhdGVcbiAgdmFyIHJhd0dsb2IgPSBwbi5fZ2xvYlxuICB2YXIgZG90T2sgPSB0aGlzLmRvdCB8fCByYXdHbG9iLmNoYXJBdCgwKSA9PT0gJy4nXG5cbiAgdmFyIG1hdGNoZWRFbnRyaWVzID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGUgPSBlbnRyaWVzW2ldXG4gICAgaWYgKGUuY2hhckF0KDApICE9PSAnLicgfHwgZG90T2spIHtcbiAgICAgIHZhciBtXG4gICAgICBpZiAobmVnYXRlICYmICFwcmVmaXgpIHtcbiAgICAgICAgbSA9ICFlLm1hdGNoKHBuKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbSA9IGUubWF0Y2gocG4pXG4gICAgICB9XG4gICAgICBpZiAobSlcbiAgICAgICAgbWF0Y2hlZEVudHJpZXMucHVzaChlKVxuICAgIH1cbiAgfVxuXG4gIHZhciBsZW4gPSBtYXRjaGVkRW50cmllcy5sZW5ndGhcbiAgLy8gSWYgdGhlcmUgYXJlIG5vIG1hdGNoZWQgZW50cmllcywgdGhlbiBub3RoaW5nIG1hdGNoZXMuXG4gIGlmIChsZW4gPT09IDApXG4gICAgcmV0dXJuXG5cbiAgLy8gaWYgdGhpcyBpcyB0aGUgbGFzdCByZW1haW5pbmcgcGF0dGVybiBiaXQsIHRoZW4gbm8gbmVlZCBmb3JcbiAgLy8gYW4gYWRkaXRpb25hbCBzdGF0ICp1bmxlc3MqIHRoZSB1c2VyIGhhcyBzcGVjaWZpZWQgbWFyayBvclxuICAvLyBzdGF0IGV4cGxpY2l0bHkuICBXZSBrbm93IHRoZXkgZXhpc3QsIHNpbmNlIHJlYWRkaXIgcmV0dXJuZWRcbiAgLy8gdGhlbS5cblxuICBpZiAocmVtYWluLmxlbmd0aCA9PT0gMSAmJiAhdGhpcy5tYXJrICYmICF0aGlzLnN0YXQpIHtcbiAgICBpZiAoIXRoaXMubWF0Y2hlc1tpbmRleF0pXG4gICAgICB0aGlzLm1hdGNoZXNbaW5kZXhdID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKyspIHtcbiAgICAgIHZhciBlID0gbWF0Y2hlZEVudHJpZXNbaV1cbiAgICAgIGlmIChwcmVmaXgpIHtcbiAgICAgICAgaWYgKHByZWZpeC5zbGljZSgtMSkgIT09ICcvJylcbiAgICAgICAgICBlID0gcHJlZml4ICsgJy8nICsgZVxuICAgICAgICBlbHNlXG4gICAgICAgICAgZSA9IHByZWZpeCArIGVcbiAgICAgIH1cblxuICAgICAgaWYgKGUuY2hhckF0KDApID09PSAnLycgJiYgIXRoaXMubm9tb3VudCkge1xuICAgICAgICBlID0gcGF0aC5qb2luKHRoaXMucm9vdCwgZSlcbiAgICAgIH1cbiAgICAgIHRoaXMuX2VtaXRNYXRjaChpbmRleCwgZSlcbiAgICB9XG4gICAgLy8gVGhpcyB3YXMgdGhlIGxhc3Qgb25lLCBhbmQgbm8gc3RhdHMgd2VyZSBuZWVkZWRcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vIG5vdyB0ZXN0IGFsbCBtYXRjaGVkIGVudHJpZXMgYXMgc3RhbmQtaW5zIGZvciB0aGF0IHBhcnRcbiAgLy8gb2YgdGhlIHBhdHRlcm4uXG4gIHJlbWFpbi5zaGlmdCgpXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpICsrKSB7XG4gICAgdmFyIGUgPSBtYXRjaGVkRW50cmllc1tpXVxuICAgIHZhciBuZXdQYXR0ZXJuXG4gICAgaWYgKHByZWZpeClcbiAgICAgIG5ld1BhdHRlcm4gPSBbcHJlZml4LCBlXVxuICAgIGVsc2VcbiAgICAgIG5ld1BhdHRlcm4gPSBbZV1cbiAgICB0aGlzLl9wcm9jZXNzKG5ld1BhdHRlcm4uY29uY2F0KHJlbWFpbiksIGluZGV4LCBpbkdsb2JTdGFyKVxuICB9XG59XG5cblxuR2xvYlN5bmMucHJvdG90eXBlLl9lbWl0TWF0Y2ggPSBmdW5jdGlvbiAoaW5kZXgsIGUpIHtcbiAgaWYgKGlzSWdub3JlZCh0aGlzLCBlKSlcbiAgICByZXR1cm5cblxuICB2YXIgYWJzID0gdGhpcy5fbWFrZUFicyhlKVxuXG4gIGlmICh0aGlzLm1hcmspXG4gICAgZSA9IHRoaXMuX21hcmsoZSlcblxuICBpZiAodGhpcy5hYnNvbHV0ZSkge1xuICAgIGUgPSBhYnNcbiAgfVxuXG4gIGlmICh0aGlzLm1hdGNoZXNbaW5kZXhdW2VdKVxuICAgIHJldHVyblxuXG4gIGlmICh0aGlzLm5vZGlyKSB7XG4gICAgdmFyIGMgPSB0aGlzLmNhY2hlW2Fic11cbiAgICBpZiAoYyA9PT0gJ0RJUicgfHwgQXJyYXkuaXNBcnJheShjKSlcbiAgICAgIHJldHVyblxuICB9XG5cbiAgdGhpcy5tYXRjaGVzW2luZGV4XVtlXSA9IHRydWVcblxuICBpZiAodGhpcy5zdGF0KVxuICAgIHRoaXMuX3N0YXQoZSlcbn1cblxuXG5HbG9iU3luYy5wcm90b3R5cGUuX3JlYWRkaXJJbkdsb2JTdGFyID0gZnVuY3Rpb24gKGFicykge1xuICAvLyBmb2xsb3cgYWxsIHN5bWxpbmtlZCBkaXJlY3RvcmllcyBmb3JldmVyXG4gIC8vIGp1c3QgcHJvY2VlZCBhcyBpZiB0aGlzIGlzIGEgbm9uLWdsb2JzdGFyIHNpdHVhdGlvblxuICBpZiAodGhpcy5mb2xsb3cpXG4gICAgcmV0dXJuIHRoaXMuX3JlYWRkaXIoYWJzLCBmYWxzZSlcblxuICB2YXIgZW50cmllc1xuICB2YXIgbHN0YXRcbiAgdmFyIHN0YXRcbiAgdHJ5IHtcbiAgICBsc3RhdCA9IHRoaXMuZnMubHN0YXRTeW5jKGFicylcbiAgfSBjYXRjaCAoZXIpIHtcbiAgICBpZiAoZXIuY29kZSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgIC8vIGxzdGF0IGZhaWxlZCwgZG9lc24ndCBleGlzdFxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gIH1cblxuICB2YXIgaXNTeW0gPSBsc3RhdCAmJiBsc3RhdC5pc1N5bWJvbGljTGluaygpXG4gIHRoaXMuc3ltbGlua3NbYWJzXSA9IGlzU3ltXG5cbiAgLy8gSWYgaXQncyBub3QgYSBzeW1saW5rIG9yIGEgZGlyLCB0aGVuIGl0J3MgZGVmaW5pdGVseSBhIHJlZ3VsYXIgZmlsZS5cbiAgLy8gZG9uJ3QgYm90aGVyIGRvaW5nIGEgcmVhZGRpciBpbiB0aGF0IGNhc2UuXG4gIGlmICghaXNTeW0gJiYgbHN0YXQgJiYgIWxzdGF0LmlzRGlyZWN0b3J5KCkpXG4gICAgdGhpcy5jYWNoZVthYnNdID0gJ0ZJTEUnXG4gIGVsc2VcbiAgICBlbnRyaWVzID0gdGhpcy5fcmVhZGRpcihhYnMsIGZhbHNlKVxuXG4gIHJldHVybiBlbnRyaWVzXG59XG5cbkdsb2JTeW5jLnByb3RvdHlwZS5fcmVhZGRpciA9IGZ1bmN0aW9uIChhYnMsIGluR2xvYlN0YXIpIHtcbiAgdmFyIGVudHJpZXNcblxuICBpZiAoaW5HbG9iU3RhciAmJiAhb3duUHJvcCh0aGlzLnN5bWxpbmtzLCBhYnMpKVxuICAgIHJldHVybiB0aGlzLl9yZWFkZGlySW5HbG9iU3RhcihhYnMpXG5cbiAgaWYgKG93blByb3AodGhpcy5jYWNoZSwgYWJzKSkge1xuICAgIHZhciBjID0gdGhpcy5jYWNoZVthYnNdXG4gICAgaWYgKCFjIHx8IGMgPT09ICdGSUxFJylcbiAgICAgIHJldHVybiBudWxsXG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjKSlcbiAgICAgIHJldHVybiBjXG4gIH1cblxuICB0cnkge1xuICAgIHJldHVybiB0aGlzLl9yZWFkZGlyRW50cmllcyhhYnMsIHRoaXMuZnMucmVhZGRpclN5bmMoYWJzKSlcbiAgfSBjYXRjaCAoZXIpIHtcbiAgICB0aGlzLl9yZWFkZGlyRXJyb3IoYWJzLCBlcilcbiAgICByZXR1cm4gbnVsbFxuICB9XG59XG5cbkdsb2JTeW5jLnByb3RvdHlwZS5fcmVhZGRpckVudHJpZXMgPSBmdW5jdGlvbiAoYWJzLCBlbnRyaWVzKSB7XG4gIC8vIGlmIHdlIGhhdmVuJ3QgYXNrZWQgdG8gc3RhdCBldmVyeXRoaW5nLCB0aGVuIGp1c3RcbiAgLy8gYXNzdW1lIHRoYXQgZXZlcnl0aGluZyBpbiB0aGVyZSBleGlzdHMsIHNvIHdlIGNhbiBhdm9pZFxuICAvLyBoYXZpbmcgdG8gc3RhdCBpdCBhIHNlY29uZCB0aW1lLlxuICBpZiAoIXRoaXMubWFyayAmJiAhdGhpcy5zdGF0KSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSArKykge1xuICAgICAgdmFyIGUgPSBlbnRyaWVzW2ldXG4gICAgICBpZiAoYWJzID09PSAnLycpXG4gICAgICAgIGUgPSBhYnMgKyBlXG4gICAgICBlbHNlXG4gICAgICAgIGUgPSBhYnMgKyAnLycgKyBlXG4gICAgICB0aGlzLmNhY2hlW2VdID0gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIHRoaXMuY2FjaGVbYWJzXSA9IGVudHJpZXNcblxuICAvLyBtYXJrIGFuZCBjYWNoZSBkaXItbmVzc1xuICByZXR1cm4gZW50cmllc1xufVxuXG5HbG9iU3luYy5wcm90b3R5cGUuX3JlYWRkaXJFcnJvciA9IGZ1bmN0aW9uIChmLCBlcikge1xuICAvLyBoYW5kbGUgZXJyb3JzLCBhbmQgY2FjaGUgdGhlIGluZm9ybWF0aW9uXG4gIHN3aXRjaCAoZXIuY29kZSkge1xuICAgIGNhc2UgJ0VOT1RTVVAnOiAvLyBodHRwczovL2dpdGh1Yi5jb20vaXNhYWNzL25vZGUtZ2xvYi9pc3N1ZXMvMjA1XG4gICAgY2FzZSAnRU5PVERJUic6IC8vIHRvdGFsbHkgbm9ybWFsLiBtZWFucyBpdCAqZG9lcyogZXhpc3QuXG4gICAgICB2YXIgYWJzID0gdGhpcy5fbWFrZUFicyhmKVxuICAgICAgdGhpcy5jYWNoZVthYnNdID0gJ0ZJTEUnXG4gICAgICBpZiAoYWJzID09PSB0aGlzLmN3ZEFicykge1xuICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoZXIuY29kZSArICcgaW52YWxpZCBjd2QgJyArIHRoaXMuY3dkKVxuICAgICAgICBlcnJvci5wYXRoID0gdGhpcy5jd2RcbiAgICAgICAgZXJyb3IuY29kZSA9IGVyLmNvZGVcbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgIH1cbiAgICAgIGJyZWFrXG5cbiAgICBjYXNlICdFTk9FTlQnOiAvLyBub3QgdGVycmlibHkgdW51c3VhbFxuICAgIGNhc2UgJ0VMT09QJzpcbiAgICBjYXNlICdFTkFNRVRPT0xPTkcnOlxuICAgIGNhc2UgJ1VOS05PV04nOlxuICAgICAgdGhpcy5jYWNoZVt0aGlzLl9tYWtlQWJzKGYpXSA9IGZhbHNlXG4gICAgICBicmVha1xuXG4gICAgZGVmYXVsdDogLy8gc29tZSB1bnVzdWFsIGVycm9yLiAgVHJlYXQgYXMgZmFpbHVyZS5cbiAgICAgIHRoaXMuY2FjaGVbdGhpcy5fbWFrZUFicyhmKV0gPSBmYWxzZVxuICAgICAgaWYgKHRoaXMuc3RyaWN0KVxuICAgICAgICB0aHJvdyBlclxuICAgICAgaWYgKCF0aGlzLnNpbGVudClcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2xvYiBlcnJvcicsIGVyKVxuICAgICAgYnJlYWtcbiAgfVxufVxuXG5HbG9iU3luYy5wcm90b3R5cGUuX3Byb2Nlc3NHbG9iU3RhciA9IGZ1bmN0aW9uIChwcmVmaXgsIHJlYWQsIGFicywgcmVtYWluLCBpbmRleCwgaW5HbG9iU3Rhcikge1xuXG4gIHZhciBlbnRyaWVzID0gdGhpcy5fcmVhZGRpcihhYnMsIGluR2xvYlN0YXIpXG5cbiAgLy8gbm8gZW50cmllcyBtZWFucyBub3QgYSBkaXIsIHNvIGl0IGNhbiBuZXZlciBoYXZlIG1hdGNoZXNcbiAgLy8gZm9vLnR4dC8qKiBkb2Vzbid0IG1hdGNoIGZvby50eHRcbiAgaWYgKCFlbnRyaWVzKVxuICAgIHJldHVyblxuXG4gIC8vIHRlc3Qgd2l0aG91dCB0aGUgZ2xvYnN0YXIsIGFuZCB3aXRoIGV2ZXJ5IGNoaWxkIGJvdGggYmVsb3dcbiAgLy8gYW5kIHJlcGxhY2luZyB0aGUgZ2xvYnN0YXIuXG4gIHZhciByZW1haW5XaXRob3V0R2xvYlN0YXIgPSByZW1haW4uc2xpY2UoMSlcbiAgdmFyIGdzcHJlZiA9IHByZWZpeCA/IFsgcHJlZml4IF0gOiBbXVxuICB2YXIgbm9HbG9iU3RhciA9IGdzcHJlZi5jb25jYXQocmVtYWluV2l0aG91dEdsb2JTdGFyKVxuXG4gIC8vIHRoZSBub0dsb2JTdGFyIHBhdHRlcm4gZXhpdHMgdGhlIGluR2xvYlN0YXIgc3RhdGVcbiAgdGhpcy5fcHJvY2Vzcyhub0dsb2JTdGFyLCBpbmRleCwgZmFsc2UpXG5cbiAgdmFyIGxlbiA9IGVudHJpZXMubGVuZ3RoXG4gIHZhciBpc1N5bSA9IHRoaXMuc3ltbGlua3NbYWJzXVxuXG4gIC8vIElmIGl0J3MgYSBzeW1saW5rLCBhbmQgd2UncmUgaW4gYSBnbG9ic3RhciwgdGhlbiBzdG9wXG4gIGlmIChpc1N5bSAmJiBpbkdsb2JTdGFyKVxuICAgIHJldHVyblxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgZSA9IGVudHJpZXNbaV1cbiAgICBpZiAoZS5jaGFyQXQoMCkgPT09ICcuJyAmJiAhdGhpcy5kb3QpXG4gICAgICBjb250aW51ZVxuXG4gICAgLy8gdGhlc2UgdHdvIGNhc2VzIGVudGVyIHRoZSBpbkdsb2JTdGFyIHN0YXRlXG4gICAgdmFyIGluc3RlYWQgPSBnc3ByZWYuY29uY2F0KGVudHJpZXNbaV0sIHJlbWFpbldpdGhvdXRHbG9iU3RhcilcbiAgICB0aGlzLl9wcm9jZXNzKGluc3RlYWQsIGluZGV4LCB0cnVlKVxuXG4gICAgdmFyIGJlbG93ID0gZ3NwcmVmLmNvbmNhdChlbnRyaWVzW2ldLCByZW1haW4pXG4gICAgdGhpcy5fcHJvY2VzcyhiZWxvdywgaW5kZXgsIHRydWUpXG4gIH1cbn1cblxuR2xvYlN5bmMucHJvdG90eXBlLl9wcm9jZXNzU2ltcGxlID0gZnVuY3Rpb24gKHByZWZpeCwgaW5kZXgpIHtcbiAgLy8gWFhYIHJldmlldyB0aGlzLiAgU2hvdWxkbid0IGl0IGJlIGRvaW5nIHRoZSBtb3VudGluZyBldGNcbiAgLy8gYmVmb3JlIGRvaW5nIHN0YXQ/ICBraW5kYSB3ZWlyZD9cbiAgdmFyIGV4aXN0cyA9IHRoaXMuX3N0YXQocHJlZml4KVxuXG4gIGlmICghdGhpcy5tYXRjaGVzW2luZGV4XSlcbiAgICB0aGlzLm1hdGNoZXNbaW5kZXhdID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXG4gIC8vIElmIGl0IGRvZXNuJ3QgZXhpc3QsIHRoZW4ganVzdCBtYXJrIHRoZSBsYWNrIG9mIHJlc3VsdHNcbiAgaWYgKCFleGlzdHMpXG4gICAgcmV0dXJuXG5cbiAgaWYgKHByZWZpeCAmJiBpc0Fic29sdXRlKHByZWZpeCkgJiYgIXRoaXMubm9tb3VudCkge1xuICAgIHZhciB0cmFpbCA9IC9bXFwvXFxcXF0kLy50ZXN0KHByZWZpeClcbiAgICBpZiAocHJlZml4LmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgICBwcmVmaXggPSBwYXRoLmpvaW4odGhpcy5yb290LCBwcmVmaXgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHByZWZpeCA9IHBhdGgucmVzb2x2ZSh0aGlzLnJvb3QsIHByZWZpeClcbiAgICAgIGlmICh0cmFpbClcbiAgICAgICAgcHJlZml4ICs9ICcvJ1xuICAgIH1cbiAgfVxuXG4gIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKVxuICAgIHByZWZpeCA9IHByZWZpeC5yZXBsYWNlKC9cXFxcL2csICcvJylcblxuICAvLyBNYXJrIHRoaXMgYXMgYSBtYXRjaFxuICB0aGlzLl9lbWl0TWF0Y2goaW5kZXgsIHByZWZpeClcbn1cblxuLy8gUmV0dXJucyBlaXRoZXIgJ0RJUicsICdGSUxFJywgb3IgZmFsc2Vcbkdsb2JTeW5jLnByb3RvdHlwZS5fc3RhdCA9IGZ1bmN0aW9uIChmKSB7XG4gIHZhciBhYnMgPSB0aGlzLl9tYWtlQWJzKGYpXG4gIHZhciBuZWVkRGlyID0gZi5zbGljZSgtMSkgPT09ICcvJ1xuXG4gIGlmIChmLmxlbmd0aCA+IHRoaXMubWF4TGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZVxuXG4gIGlmICghdGhpcy5zdGF0ICYmIG93blByb3AodGhpcy5jYWNoZSwgYWJzKSkge1xuICAgIHZhciBjID0gdGhpcy5jYWNoZVthYnNdXG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheShjKSlcbiAgICAgIGMgPSAnRElSJ1xuXG4gICAgLy8gSXQgZXhpc3RzLCBidXQgbWF5YmUgbm90IGhvdyB3ZSBuZWVkIGl0XG4gICAgaWYgKCFuZWVkRGlyIHx8IGMgPT09ICdESVInKVxuICAgICAgcmV0dXJuIGNcblxuICAgIGlmIChuZWVkRGlyICYmIGMgPT09ICdGSUxFJylcbiAgICAgIHJldHVybiBmYWxzZVxuXG4gICAgLy8gb3RoZXJ3aXNlIHdlIGhhdmUgdG8gc3RhdCwgYmVjYXVzZSBtYXliZSBjPXRydWVcbiAgICAvLyBpZiB3ZSBrbm93IGl0IGV4aXN0cywgYnV0IG5vdCB3aGF0IGl0IGlzLlxuICB9XG5cbiAgdmFyIGV4aXN0c1xuICB2YXIgc3RhdCA9IHRoaXMuc3RhdENhY2hlW2Fic11cbiAgaWYgKCFzdGF0KSB7XG4gICAgdmFyIGxzdGF0XG4gICAgdHJ5IHtcbiAgICAgIGxzdGF0ID0gdGhpcy5mcy5sc3RhdFN5bmMoYWJzKVxuICAgIH0gY2F0Y2ggKGVyKSB7XG4gICAgICBpZiAoZXIgJiYgKGVyLmNvZGUgPT09ICdFTk9FTlQnIHx8IGVyLmNvZGUgPT09ICdFTk9URElSJykpIHtcbiAgICAgICAgdGhpcy5zdGF0Q2FjaGVbYWJzXSA9IGZhbHNlXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChsc3RhdCAmJiBsc3RhdC5pc1N5bWJvbGljTGluaygpKSB7XG4gICAgICB0cnkge1xuICAgICAgICBzdGF0ID0gdGhpcy5mcy5zdGF0U3luYyhhYnMpXG4gICAgICB9IGNhdGNoIChlcikge1xuICAgICAgICBzdGF0ID0gbHN0YXRcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdCA9IGxzdGF0XG4gICAgfVxuICB9XG5cbiAgdGhpcy5zdGF0Q2FjaGVbYWJzXSA9IHN0YXRcblxuICB2YXIgYyA9IHRydWVcbiAgaWYgKHN0YXQpXG4gICAgYyA9IHN0YXQuaXNEaXJlY3RvcnkoKSA/ICdESVInIDogJ0ZJTEUnXG5cbiAgdGhpcy5jYWNoZVthYnNdID0gdGhpcy5jYWNoZVthYnNdIHx8IGNcblxuICBpZiAobmVlZERpciAmJiBjID09PSAnRklMRScpXG4gICAgcmV0dXJuIGZhbHNlXG5cbiAgcmV0dXJuIGNcbn1cblxuR2xvYlN5bmMucHJvdG90eXBlLl9tYXJrID0gZnVuY3Rpb24gKHApIHtcbiAgcmV0dXJuIGNvbW1vbi5tYXJrKHRoaXMsIHApXG59XG5cbkdsb2JTeW5jLnByb3RvdHlwZS5fbWFrZUFicyA9IGZ1bmN0aW9uIChmKSB7XG4gIHJldHVybiBjb21tb24ubWFrZUFicyh0aGlzLCBmKVxufVxuIiwKICAiLy8gUmV0dXJucyBhIHdyYXBwZXIgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgd3JhcHBlZCBjYWxsYmFja1xuLy8gVGhlIHdyYXBwZXIgZnVuY3Rpb24gc2hvdWxkIGRvIHNvbWUgc3R1ZmYsIGFuZCByZXR1cm4gYVxuLy8gcHJlc3VtYWJseSBkaWZmZXJlbnQgY2FsbGJhY2sgZnVuY3Rpb24uXG4vLyBUaGlzIG1ha2VzIHN1cmUgdGhhdCBvd24gcHJvcGVydGllcyBhcmUgcmV0YWluZWQsIHNvIHRoYXRcbi8vIGRlY29yYXRpb25zIGFuZCBzdWNoIGFyZSBub3QgbG9zdCBhbG9uZyB0aGUgd2F5LlxubW9kdWxlLmV4cG9ydHMgPSB3cmFwcHlcbmZ1bmN0aW9uIHdyYXBweSAoZm4sIGNiKSB7XG4gIGlmIChmbiAmJiBjYikgcmV0dXJuIHdyYXBweShmbikoY2IpXG5cbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJylcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCduZWVkIHdyYXBwZXIgZnVuY3Rpb24nKVxuXG4gIE9iamVjdC5rZXlzKGZuKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gICAgd3JhcHBlcltrXSA9IGZuW2tdXG4gIH0pXG5cbiAgcmV0dXJuIHdyYXBwZXJcblxuICBmdW5jdGlvbiB3cmFwcGVyKCkge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldXG4gICAgfVxuICAgIHZhciByZXQgPSBmbi5hcHBseSh0aGlzLCBhcmdzKVxuICAgIHZhciBjYiA9IGFyZ3NbYXJncy5sZW5ndGgtMV1cbiAgICBpZiAodHlwZW9mIHJldCA9PT0gJ2Z1bmN0aW9uJyAmJiByZXQgIT09IGNiKSB7XG4gICAgICBPYmplY3Qua2V5cyhjYikuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgICAgICByZXRba10gPSBjYltrXVxuICAgICAgfSlcbiAgICB9XG4gICAgcmV0dXJuIHJldFxuICB9XG59XG4iLAogICJ2YXIgd3JhcHB5ID0gcmVxdWlyZSgnd3JhcHB5Jylcbm1vZHVsZS5leHBvcnRzID0gd3JhcHB5KG9uY2UpXG5tb2R1bGUuZXhwb3J0cy5zdHJpY3QgPSB3cmFwcHkob25jZVN0cmljdClcblxub25jZS5wcm90byA9IG9uY2UoZnVuY3Rpb24gKCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVuY3Rpb24ucHJvdG90eXBlLCAnb25jZScsIHtcbiAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG9uY2UodGhpcylcbiAgICB9LFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KVxuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGdW5jdGlvbi5wcm90b3R5cGUsICdvbmNlU3RyaWN0Jywge1xuICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gb25jZVN0cmljdCh0aGlzKVxuICAgIH0sXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pXG59KVxuXG5mdW5jdGlvbiBvbmNlIChmbikge1xuICB2YXIgZiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZi5jYWxsZWQpIHJldHVybiBmLnZhbHVlXG4gICAgZi5jYWxsZWQgPSB0cnVlXG4gICAgcmV0dXJuIGYudmFsdWUgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gIH1cbiAgZi5jYWxsZWQgPSBmYWxzZVxuICByZXR1cm4gZlxufVxuXG5mdW5jdGlvbiBvbmNlU3RyaWN0IChmbikge1xuICB2YXIgZiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZi5jYWxsZWQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZi5vbmNlRXJyb3IpXG4gICAgZi5jYWxsZWQgPSB0cnVlXG4gICAgcmV0dXJuIGYudmFsdWUgPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gIH1cbiAgdmFyIG5hbWUgPSBmbi5uYW1lIHx8ICdGdW5jdGlvbiB3cmFwcGVkIHdpdGggYG9uY2VgJ1xuICBmLm9uY2VFcnJvciA9IG5hbWUgKyBcIiBzaG91bGRuJ3QgYmUgY2FsbGVkIG1vcmUgdGhhbiBvbmNlXCJcbiAgZi5jYWxsZWQgPSBmYWxzZVxuICByZXR1cm4gZlxufVxuIiwKICAidmFyIHdyYXBweSA9IHJlcXVpcmUoJ3dyYXBweScpXG52YXIgcmVxcyA9IE9iamVjdC5jcmVhdGUobnVsbClcbnZhciBvbmNlID0gcmVxdWlyZSgnb25jZScpXG5cbm1vZHVsZS5leHBvcnRzID0gd3JhcHB5KGluZmxpZ2h0KVxuXG5mdW5jdGlvbiBpbmZsaWdodCAoa2V5LCBjYikge1xuICBpZiAocmVxc1trZXldKSB7XG4gICAgcmVxc1trZXldLnB1c2goY2IpXG4gICAgcmV0dXJuIG51bGxcbiAgfSBlbHNlIHtcbiAgICByZXFzW2tleV0gPSBbY2JdXG4gICAgcmV0dXJuIG1ha2VyZXMoa2V5KVxuICB9XG59XG5cbmZ1bmN0aW9uIG1ha2VyZXMgKGtleSkge1xuICByZXR1cm4gb25jZShmdW5jdGlvbiBSRVMgKCkge1xuICAgIHZhciBjYnMgPSByZXFzW2tleV1cbiAgICB2YXIgbGVuID0gY2JzLmxlbmd0aFxuICAgIHZhciBhcmdzID0gc2xpY2UoYXJndW1lbnRzKVxuXG4gICAgLy8gWFhYIEl0J3Mgc29tZXdoYXQgYW1iaWd1b3VzIHdoZXRoZXIgYSBuZXcgY2FsbGJhY2sgYWRkZWQgaW4gdGhpc1xuICAgIC8vIHBhc3Mgc2hvdWxkIGJlIHF1ZXVlZCBmb3IgbGF0ZXIgZXhlY3V0aW9uIGlmIHNvbWV0aGluZyBpbiB0aGVcbiAgICAvLyBsaXN0IG9mIGNhbGxiYWNrcyB0aHJvd3MsIG9yIGlmIGl0IHNob3VsZCBqdXN0IGJlIGRpc2NhcmRlZC5cbiAgICAvLyBIb3dldmVyLCBpdCdzIHN1Y2ggYW4gZWRnZSBjYXNlIHRoYXQgaXQgaGFyZGx5IG1hdHRlcnMsIGFuZCBlaXRoZXJcbiAgICAvLyBjaG9pY2UgaXMgbGlrZWx5IGFzIHN1cnByaXNpbmcgYXMgdGhlIG90aGVyLlxuICAgIC8vIEFzIGl0IGhhcHBlbnMsIHdlIGRvIGdvIGFoZWFkIGFuZCBzY2hlZHVsZSBpdCBmb3IgbGF0ZXIgZXhlY3V0aW9uLlxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNic1tpXS5hcHBseShudWxsLCBhcmdzKVxuICAgICAgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBpZiAoY2JzLmxlbmd0aCA+IGxlbikge1xuICAgICAgICAvLyBhZGRlZCBtb3JlIGluIHRoZSBpbnRlcmltLlxuICAgICAgICAvLyBkZS16YWxnbywganVzdCBpbiBjYXNlLCBidXQgZG9uJ3QgY2FsbCBhZ2Fpbi5cbiAgICAgICAgY2JzLnNwbGljZSgwLCBsZW4pXG4gICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgIFJFUy5hcHBseShudWxsLCBhcmdzKVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIHJlcXNba2V5XVxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cblxuZnVuY3Rpb24gc2xpY2UgKGFyZ3MpIHtcbiAgdmFyIGxlbmd0aCA9IGFyZ3MubGVuZ3RoXG4gIHZhciBhcnJheSA9IFtdXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgYXJyYXlbaV0gPSBhcmdzW2ldXG4gIHJldHVybiBhcnJheVxufVxuIiwKICAiLy8gQXBwcm9hY2g6XG4vL1xuLy8gMS4gR2V0IHRoZSBtaW5pbWF0Y2ggc2V0XG4vLyAyLiBGb3IgZWFjaCBwYXR0ZXJuIGluIHRoZSBzZXQsIFBST0NFU1MocGF0dGVybiwgZmFsc2UpXG4vLyAzLiBTdG9yZSBtYXRjaGVzIHBlci1zZXQsIHRoZW4gdW5pcSB0aGVtXG4vL1xuLy8gUFJPQ0VTUyhwYXR0ZXJuLCBpbkdsb2JTdGFyKVxuLy8gR2V0IHRoZSBmaXJzdCBbbl0gaXRlbXMgZnJvbSBwYXR0ZXJuIHRoYXQgYXJlIGFsbCBzdHJpbmdzXG4vLyBKb2luIHRoZXNlIHRvZ2V0aGVyLiAgVGhpcyBpcyBQUkVGSVguXG4vLyAgIElmIHRoZXJlIGlzIG5vIG1vcmUgcmVtYWluaW5nLCB0aGVuIHN0YXQoUFJFRklYKSBhbmRcbi8vICAgYWRkIHRvIG1hdGNoZXMgaWYgaXQgc3VjY2VlZHMuICBFTkQuXG4vL1xuLy8gSWYgaW5HbG9iU3RhciBhbmQgUFJFRklYIGlzIHN5bWxpbmsgYW5kIHBvaW50cyB0byBkaXJcbi8vICAgc2V0IEVOVFJJRVMgPSBbXVxuLy8gZWxzZSByZWFkZGlyKFBSRUZJWCkgYXMgRU5UUklFU1xuLy8gICBJZiBmYWlsLCBFTkRcbi8vXG4vLyB3aXRoIEVOVFJJRVNcbi8vICAgSWYgcGF0dGVybltuXSBpcyBHTE9CU1RBUlxuLy8gICAgIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVyZSB0aGUgZ2xvYnN0YXIgbWF0Y2ggaXMgZW1wdHlcbi8vICAgICAvLyBieSBwcnVuaW5nIGl0IG91dCwgYW5kIHRlc3RpbmcgdGhlIHJlc3VsdGluZyBwYXR0ZXJuXG4vLyAgICAgUFJPQ0VTUyhwYXR0ZXJuWzAuLm5dICsgcGF0dGVybltuKzEgLi4gJF0sIGZhbHNlKVxuLy8gICAgIC8vIGhhbmRsZSBvdGhlciBjYXNlcy5cbi8vICAgICBmb3IgRU5UUlkgaW4gRU5UUklFUyAobm90IGRvdGZpbGVzKVxuLy8gICAgICAgLy8gYXR0YWNoIGdsb2JzdGFyICsgdGFpbCBvbnRvIHRoZSBlbnRyeVxuLy8gICAgICAgLy8gTWFyayB0aGF0IHRoaXMgZW50cnkgaXMgYSBnbG9ic3RhciBtYXRjaFxuLy8gICAgICAgUFJPQ0VTUyhwYXR0ZXJuWzAuLm5dICsgRU5UUlkgKyBwYXR0ZXJuW24gLi4gJF0sIHRydWUpXG4vL1xuLy8gICBlbHNlIC8vIG5vdCBnbG9ic3RhclxuLy8gICAgIGZvciBFTlRSWSBpbiBFTlRSSUVTIChub3QgZG90ZmlsZXMsIHVubGVzcyBwYXR0ZXJuW25dIGlzIGRvdClcbi8vICAgICAgIFRlc3QgRU5UUlkgYWdhaW5zdCBwYXR0ZXJuW25dXG4vLyAgICAgICBJZiBmYWlscywgY29udGludWVcbi8vICAgICAgIElmIHBhc3NlcywgUFJPQ0VTUyhwYXR0ZXJuWzAuLm5dICsgaXRlbSArIHBhdHRlcm5bbisxIC4uICRdKVxuLy9cbi8vIENhdmVhdDpcbi8vICAgQ2FjaGUgYWxsIHN0YXRzIGFuZCByZWFkZGlycyByZXN1bHRzIHRvIG1pbmltaXplIHN5c2NhbGwuICBTaW5jZSBhbGxcbi8vICAgd2UgZXZlciBjYXJlIGFib3V0IGlzIGV4aXN0ZW5jZSBhbmQgZGlyZWN0b3J5LW5lc3MsIHdlIGNhbiBqdXN0IGtlZXBcbi8vICAgYHRydWVgIGZvciBmaWxlcywgYW5kIFtjaGlsZHJlbiwuLi5dIGZvciBkaXJlY3Rvcmllcywgb3IgYGZhbHNlYCBmb3Jcbi8vICAgdGhpbmdzIHRoYXQgZG9uJ3QgZXhpc3QuXG5cbm1vZHVsZS5leHBvcnRzID0gZ2xvYlxuXG52YXIgcnAgPSByZXF1aXJlKCdmcy5yZWFscGF0aCcpXG52YXIgbWluaW1hdGNoID0gcmVxdWlyZSgnbWluaW1hdGNoJylcbnZhciBNaW5pbWF0Y2ggPSBtaW5pbWF0Y2guTWluaW1hdGNoXG52YXIgaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpXG52YXIgRUUgPSByZXF1aXJlKCdldmVudHMnKS5FdmVudEVtaXR0ZXJcbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG52YXIgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0JylcbnZhciBpc0Fic29sdXRlID0gcmVxdWlyZSgncGF0aC1pcy1hYnNvbHV0ZScpXG52YXIgZ2xvYlN5bmMgPSByZXF1aXJlKCcuL3N5bmMuanMnKVxudmFyIGNvbW1vbiA9IHJlcXVpcmUoJy4vY29tbW9uLmpzJylcbnZhciBzZXRvcHRzID0gY29tbW9uLnNldG9wdHNcbnZhciBvd25Qcm9wID0gY29tbW9uLm93blByb3BcbnZhciBpbmZsaWdodCA9IHJlcXVpcmUoJ2luZmxpZ2h0JylcbnZhciB1dGlsID0gcmVxdWlyZSgndXRpbCcpXG52YXIgY2hpbGRyZW5JZ25vcmVkID0gY29tbW9uLmNoaWxkcmVuSWdub3JlZFxudmFyIGlzSWdub3JlZCA9IGNvbW1vbi5pc0lnbm9yZWRcblxudmFyIG9uY2UgPSByZXF1aXJlKCdvbmNlJylcblxuZnVuY3Rpb24gZ2xvYiAocGF0dGVybiwgb3B0aW9ucywgY2IpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSBjYiA9IG9wdGlvbnMsIG9wdGlvbnMgPSB7fVxuICBpZiAoIW9wdGlvbnMpIG9wdGlvbnMgPSB7fVxuXG4gIGlmIChvcHRpb25zLnN5bmMpIHtcbiAgICBpZiAoY2IpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYWxsYmFjayBwcm92aWRlZCB0byBzeW5jIGdsb2InKVxuICAgIHJldHVybiBnbG9iU3luYyhwYXR0ZXJuLCBvcHRpb25zKVxuICB9XG5cbiAgcmV0dXJuIG5ldyBHbG9iKHBhdHRlcm4sIG9wdGlvbnMsIGNiKVxufVxuXG5nbG9iLnN5bmMgPSBnbG9iU3luY1xudmFyIEdsb2JTeW5jID0gZ2xvYi5HbG9iU3luYyA9IGdsb2JTeW5jLkdsb2JTeW5jXG5cbi8vIG9sZCBhcGkgc3VyZmFjZVxuZ2xvYi5nbG9iID0gZ2xvYlxuXG5mdW5jdGlvbiBleHRlbmQgKG9yaWdpbiwgYWRkKSB7XG4gIGlmIChhZGQgPT09IG51bGwgfHwgdHlwZW9mIGFkZCAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gb3JpZ2luXG4gIH1cblxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGFkZClcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aFxuICB3aGlsZSAoaS0tKSB7XG4gICAgb3JpZ2luW2tleXNbaV1dID0gYWRkW2tleXNbaV1dXG4gIH1cbiAgcmV0dXJuIG9yaWdpblxufVxuXG5nbG9iLmhhc01hZ2ljID0gZnVuY3Rpb24gKHBhdHRlcm4sIG9wdGlvbnNfKSB7XG4gIHZhciBvcHRpb25zID0gZXh0ZW5kKHt9LCBvcHRpb25zXylcbiAgb3B0aW9ucy5ub3Byb2Nlc3MgPSB0cnVlXG5cbiAgdmFyIGcgPSBuZXcgR2xvYihwYXR0ZXJuLCBvcHRpb25zKVxuICB2YXIgc2V0ID0gZy5taW5pbWF0Y2guc2V0XG5cbiAgaWYgKCFwYXR0ZXJuKVxuICAgIHJldHVybiBmYWxzZVxuXG4gIGlmIChzZXQubGVuZ3RoID4gMSlcbiAgICByZXR1cm4gdHJ1ZVxuXG4gIGZvciAodmFyIGogPSAwOyBqIDwgc2V0WzBdLmxlbmd0aDsgaisrKSB7XG4gICAgaWYgKHR5cGVvZiBzZXRbMF1bal0gIT09ICdzdHJpbmcnKVxuICAgICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIHJldHVybiBmYWxzZVxufVxuXG5nbG9iLkdsb2IgPSBHbG9iXG5pbmhlcml0cyhHbG9iLCBFRSlcbmZ1bmN0aW9uIEdsb2IgKHBhdHRlcm4sIG9wdGlvbnMsIGNiKSB7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb3B0aW9uc1xuICAgIG9wdGlvbnMgPSBudWxsXG4gIH1cblxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnN5bmMpIHtcbiAgICBpZiAoY2IpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdjYWxsYmFjayBwcm92aWRlZCB0byBzeW5jIGdsb2InKVxuICAgIHJldHVybiBuZXcgR2xvYlN5bmMocGF0dGVybiwgb3B0aW9ucylcbiAgfVxuXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBHbG9iKSlcbiAgICByZXR1cm4gbmV3IEdsb2IocGF0dGVybiwgb3B0aW9ucywgY2IpXG5cbiAgc2V0b3B0cyh0aGlzLCBwYXR0ZXJuLCBvcHRpb25zKVxuICB0aGlzLl9kaWRSZWFsUGF0aCA9IGZhbHNlXG5cbiAgLy8gcHJvY2VzcyBlYWNoIHBhdHRlcm4gaW4gdGhlIG1pbmltYXRjaCBzZXRcbiAgdmFyIG4gPSB0aGlzLm1pbmltYXRjaC5zZXQubGVuZ3RoXG5cbiAgLy8gVGhlIG1hdGNoZXMgYXJlIHN0b3JlZCBhcyB7PGZpbGVuYW1lPjogdHJ1ZSwuLi59IHNvIHRoYXRcbiAgLy8gZHVwbGljYXRlcyBhcmUgYXV0b21hZ2ljYWxseSBwcnVuZWQuXG4gIC8vIExhdGVyLCB3ZSBkbyBhbiBPYmplY3Qua2V5cygpIG9uIHRoZXNlLlxuICAvLyBLZWVwIHRoZW0gYXMgYSBsaXN0IHNvIHdlIGNhbiBmaWxsIGluIHdoZW4gbm9udWxsIGlzIHNldC5cbiAgdGhpcy5tYXRjaGVzID0gbmV3IEFycmF5KG4pXG5cbiAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb25jZShjYilcbiAgICB0aGlzLm9uKCdlcnJvcicsIGNiKVxuICAgIHRoaXMub24oJ2VuZCcsIGZ1bmN0aW9uIChtYXRjaGVzKSB7XG4gICAgICBjYihudWxsLCBtYXRjaGVzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXNcbiAgdGhpcy5fcHJvY2Vzc2luZyA9IDBcblxuICB0aGlzLl9lbWl0UXVldWUgPSBbXVxuICB0aGlzLl9wcm9jZXNzUXVldWUgPSBbXVxuICB0aGlzLnBhdXNlZCA9IGZhbHNlXG5cbiAgaWYgKHRoaXMubm9wcm9jZXNzKVxuICAgIHJldHVybiB0aGlzXG5cbiAgaWYgKG4gPT09IDApXG4gICAgcmV0dXJuIGRvbmUoKVxuXG4gIHZhciBzeW5jID0gdHJ1ZVxuICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkgKyspIHtcbiAgICB0aGlzLl9wcm9jZXNzKHRoaXMubWluaW1hdGNoLnNldFtpXSwgaSwgZmFsc2UsIGRvbmUpXG4gIH1cbiAgc3luYyA9IGZhbHNlXG5cbiAgZnVuY3Rpb24gZG9uZSAoKSB7XG4gICAgLS1zZWxmLl9wcm9jZXNzaW5nXG4gICAgaWYgKHNlbGYuX3Byb2Nlc3NpbmcgPD0gMCkge1xuICAgICAgaWYgKHN5bmMpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZi5fZmluaXNoKClcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuX2ZpbmlzaCgpXG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbkdsb2IucHJvdG90eXBlLl9maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gIGFzc2VydCh0aGlzIGluc3RhbmNlb2YgR2xvYilcbiAgaWYgKHRoaXMuYWJvcnRlZClcbiAgICByZXR1cm5cblxuICBpZiAodGhpcy5yZWFscGF0aCAmJiAhdGhpcy5fZGlkUmVhbHBhdGgpXG4gICAgcmV0dXJuIHRoaXMuX3JlYWxwYXRoKClcblxuICBjb21tb24uZmluaXNoKHRoaXMpXG4gIHRoaXMuZW1pdCgnZW5kJywgdGhpcy5mb3VuZClcbn1cblxuR2xvYi5wcm90b3R5cGUuX3JlYWxwYXRoID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5fZGlkUmVhbHBhdGgpXG4gICAgcmV0dXJuXG5cbiAgdGhpcy5fZGlkUmVhbHBhdGggPSB0cnVlXG5cbiAgdmFyIG4gPSB0aGlzLm1hdGNoZXMubGVuZ3RoXG4gIGlmIChuID09PSAwKVxuICAgIHJldHVybiB0aGlzLl9maW5pc2goKVxuXG4gIHZhciBzZWxmID0gdGhpc1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubWF0Y2hlcy5sZW5ndGg7IGkrKylcbiAgICB0aGlzLl9yZWFscGF0aFNldChpLCBuZXh0KVxuXG4gIGZ1bmN0aW9uIG5leHQgKCkge1xuICAgIGlmICgtLW4gPT09IDApXG4gICAgICBzZWxmLl9maW5pc2goKVxuICB9XG59XG5cbkdsb2IucHJvdG90eXBlLl9yZWFscGF0aFNldCA9IGZ1bmN0aW9uIChpbmRleCwgY2IpIHtcbiAgdmFyIG1hdGNoc2V0ID0gdGhpcy5tYXRjaGVzW2luZGV4XVxuICBpZiAoIW1hdGNoc2V0KVxuICAgIHJldHVybiBjYigpXG5cbiAgdmFyIGZvdW5kID0gT2JqZWN0LmtleXMobWF0Y2hzZXQpXG4gIHZhciBzZWxmID0gdGhpc1xuICB2YXIgbiA9IGZvdW5kLmxlbmd0aFxuXG4gIGlmIChuID09PSAwKVxuICAgIHJldHVybiBjYigpXG5cbiAgdmFyIHNldCA9IHRoaXMubWF0Y2hlc1tpbmRleF0gPSBPYmplY3QuY3JlYXRlKG51bGwpXG4gIGZvdW5kLmZvckVhY2goZnVuY3Rpb24gKHAsIGkpIHtcbiAgICAvLyBJZiB0aGVyZSdzIGEgcHJvYmxlbSB3aXRoIHRoZSBzdGF0LCB0aGVuIGl0IG1lYW5zIHRoYXRcbiAgICAvLyBvbmUgb3IgbW9yZSBvZiB0aGUgbGlua3MgaW4gdGhlIHJlYWxwYXRoIGNvdWxkbid0IGJlXG4gICAgLy8gcmVzb2x2ZWQuICBqdXN0IHJldHVybiB0aGUgYWJzIHZhbHVlIGluIHRoYXQgY2FzZS5cbiAgICBwID0gc2VsZi5fbWFrZUFicyhwKVxuICAgIHJwLnJlYWxwYXRoKHAsIHNlbGYucmVhbHBhdGhDYWNoZSwgZnVuY3Rpb24gKGVyLCByZWFsKSB7XG4gICAgICBpZiAoIWVyKVxuICAgICAgICBzZXRbcmVhbF0gPSB0cnVlXG4gICAgICBlbHNlIGlmIChlci5zeXNjYWxsID09PSAnc3RhdCcpXG4gICAgICAgIHNldFtwXSA9IHRydWVcbiAgICAgIGVsc2VcbiAgICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVyKSAvLyBzcnNseSB3dGYgcmlnaHQgaGVyZVxuXG4gICAgICBpZiAoLS1uID09PSAwKSB7XG4gICAgICAgIHNlbGYubWF0Y2hlc1tpbmRleF0gPSBzZXRcbiAgICAgICAgY2IoKVxuICAgICAgfVxuICAgIH0pXG4gIH0pXG59XG5cbkdsb2IucHJvdG90eXBlLl9tYXJrID0gZnVuY3Rpb24gKHApIHtcbiAgcmV0dXJuIGNvbW1vbi5tYXJrKHRoaXMsIHApXG59XG5cbkdsb2IucHJvdG90eXBlLl9tYWtlQWJzID0gZnVuY3Rpb24gKGYpIHtcbiAgcmV0dXJuIGNvbW1vbi5tYWtlQWJzKHRoaXMsIGYpXG59XG5cbkdsb2IucHJvdG90eXBlLmFib3J0ID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmFib3J0ZWQgPSB0cnVlXG4gIHRoaXMuZW1pdCgnYWJvcnQnKVxufVxuXG5HbG9iLnByb3RvdHlwZS5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLnBhdXNlZCkge1xuICAgIHRoaXMucGF1c2VkID0gdHJ1ZVxuICAgIHRoaXMuZW1pdCgncGF1c2UnKVxuICB9XG59XG5cbkdsb2IucHJvdG90eXBlLnJlc3VtZSA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMucGF1c2VkKSB7XG4gICAgdGhpcy5lbWl0KCdyZXN1bWUnKVxuICAgIHRoaXMucGF1c2VkID0gZmFsc2VcbiAgICBpZiAodGhpcy5fZW1pdFF1ZXVlLmxlbmd0aCkge1xuICAgICAgdmFyIGVxID0gdGhpcy5fZW1pdFF1ZXVlLnNsaWNlKDApXG4gICAgICB0aGlzLl9lbWl0UXVldWUubGVuZ3RoID0gMFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlcS5sZW5ndGg7IGkgKyspIHtcbiAgICAgICAgdmFyIGUgPSBlcVtpXVxuICAgICAgICB0aGlzLl9lbWl0TWF0Y2goZVswXSwgZVsxXSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuX3Byb2Nlc3NRdWV1ZS5sZW5ndGgpIHtcbiAgICAgIHZhciBwcSA9IHRoaXMuX3Byb2Nlc3NRdWV1ZS5zbGljZSgwKVxuICAgICAgdGhpcy5fcHJvY2Vzc1F1ZXVlLmxlbmd0aCA9IDBcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHEubGVuZ3RoOyBpICsrKSB7XG4gICAgICAgIHZhciBwID0gcHFbaV1cbiAgICAgICAgdGhpcy5fcHJvY2Vzc2luZy0tXG4gICAgICAgIHRoaXMuX3Byb2Nlc3MocFswXSwgcFsxXSwgcFsyXSwgcFszXSlcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuR2xvYi5wcm90b3R5cGUuX3Byb2Nlc3MgPSBmdW5jdGlvbiAocGF0dGVybiwgaW5kZXgsIGluR2xvYlN0YXIsIGNiKSB7XG4gIGFzc2VydCh0aGlzIGluc3RhbmNlb2YgR2xvYilcbiAgYXNzZXJ0KHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJylcblxuICBpZiAodGhpcy5hYm9ydGVkKVxuICAgIHJldHVyblxuXG4gIHRoaXMuX3Byb2Nlc3NpbmcrK1xuICBpZiAodGhpcy5wYXVzZWQpIHtcbiAgICB0aGlzLl9wcm9jZXNzUXVldWUucHVzaChbcGF0dGVybiwgaW5kZXgsIGluR2xvYlN0YXIsIGNiXSlcbiAgICByZXR1cm5cbiAgfVxuXG4gIC8vY29uc29sZS5lcnJvcignUFJPQ0VTUyAlZCcsIHRoaXMuX3Byb2Nlc3NpbmcsIHBhdHRlcm4pXG5cbiAgLy8gR2V0IHRoZSBmaXJzdCBbbl0gcGFydHMgb2YgcGF0dGVybiB0aGF0IGFyZSBhbGwgc3RyaW5ncy5cbiAgdmFyIG4gPSAwXG4gIHdoaWxlICh0eXBlb2YgcGF0dGVybltuXSA9PT0gJ3N0cmluZycpIHtcbiAgICBuICsrXG4gIH1cbiAgLy8gbm93IG4gaXMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBvbmUgdGhhdCBpcyAqbm90KiBhIHN0cmluZy5cblxuICAvLyBzZWUgaWYgdGhlcmUncyBhbnl0aGluZyBlbHNlXG4gIHZhciBwcmVmaXhcbiAgc3dpdGNoIChuKSB7XG4gICAgLy8gaWYgbm90LCB0aGVuIHRoaXMgaXMgcmF0aGVyIHNpbXBsZVxuICAgIGNhc2UgcGF0dGVybi5sZW5ndGg6XG4gICAgICB0aGlzLl9wcm9jZXNzU2ltcGxlKHBhdHRlcm4uam9pbignLycpLCBpbmRleCwgY2IpXG4gICAgICByZXR1cm5cblxuICAgIGNhc2UgMDpcbiAgICAgIC8vIHBhdHRlcm4gKnN0YXJ0cyogd2l0aCBzb21lIG5vbi10cml2aWFsIGl0ZW0uXG4gICAgICAvLyBnb2luZyB0byByZWFkZGlyKGN3ZCksIGJ1dCBub3QgaW5jbHVkZSB0aGUgcHJlZml4IGluIG1hdGNoZXMuXG4gICAgICBwcmVmaXggPSBudWxsXG4gICAgICBicmVha1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIHBhdHRlcm4gaGFzIHNvbWUgc3RyaW5nIGJpdHMgaW4gdGhlIGZyb250LlxuICAgICAgLy8gd2hhdGV2ZXIgaXQgc3RhcnRzIHdpdGgsIHdoZXRoZXIgdGhhdCdzICdhYnNvbHV0ZScgbGlrZSAvZm9vL2JhcixcbiAgICAgIC8vIG9yICdyZWxhdGl2ZScgbGlrZSAnLi4vYmF6J1xuICAgICAgcHJlZml4ID0gcGF0dGVybi5zbGljZSgwLCBuKS5qb2luKCcvJylcbiAgICAgIGJyZWFrXG4gIH1cblxuICB2YXIgcmVtYWluID0gcGF0dGVybi5zbGljZShuKVxuXG4gIC8vIGdldCB0aGUgbGlzdCBvZiBlbnRyaWVzLlxuICB2YXIgcmVhZFxuICBpZiAocHJlZml4ID09PSBudWxsKVxuICAgIHJlYWQgPSAnLidcbiAgZWxzZSBpZiAoaXNBYnNvbHV0ZShwcmVmaXgpIHx8XG4gICAgICBpc0Fic29sdXRlKHBhdHRlcm4ubWFwKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcCA9PT0gJ3N0cmluZycgPyBwIDogJ1sqXSdcbiAgICAgIH0pLmpvaW4oJy8nKSkpIHtcbiAgICBpZiAoIXByZWZpeCB8fCAhaXNBYnNvbHV0ZShwcmVmaXgpKVxuICAgICAgcHJlZml4ID0gJy8nICsgcHJlZml4XG4gICAgcmVhZCA9IHByZWZpeFxuICB9IGVsc2VcbiAgICByZWFkID0gcHJlZml4XG5cbiAgdmFyIGFicyA9IHRoaXMuX21ha2VBYnMocmVhZClcblxuICAvL2lmIGlnbm9yZWQsIHNraXAgX3Byb2Nlc3NpbmdcbiAgaWYgKGNoaWxkcmVuSWdub3JlZCh0aGlzLCByZWFkKSlcbiAgICByZXR1cm4gY2IoKVxuXG4gIHZhciBpc0dsb2JTdGFyID0gcmVtYWluWzBdID09PSBtaW5pbWF0Y2guR0xPQlNUQVJcbiAgaWYgKGlzR2xvYlN0YXIpXG4gICAgdGhpcy5fcHJvY2Vzc0dsb2JTdGFyKHByZWZpeCwgcmVhZCwgYWJzLCByZW1haW4sIGluZGV4LCBpbkdsb2JTdGFyLCBjYilcbiAgZWxzZVxuICAgIHRoaXMuX3Byb2Nlc3NSZWFkZGlyKHByZWZpeCwgcmVhZCwgYWJzLCByZW1haW4sIGluZGV4LCBpbkdsb2JTdGFyLCBjYilcbn1cblxuR2xvYi5wcm90b3R5cGUuX3Byb2Nlc3NSZWFkZGlyID0gZnVuY3Rpb24gKHByZWZpeCwgcmVhZCwgYWJzLCByZW1haW4sIGluZGV4LCBpbkdsb2JTdGFyLCBjYikge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgdGhpcy5fcmVhZGRpcihhYnMsIGluR2xvYlN0YXIsIGZ1bmN0aW9uIChlciwgZW50cmllcykge1xuICAgIHJldHVybiBzZWxmLl9wcm9jZXNzUmVhZGRpcjIocHJlZml4LCByZWFkLCBhYnMsIHJlbWFpbiwgaW5kZXgsIGluR2xvYlN0YXIsIGVudHJpZXMsIGNiKVxuICB9KVxufVxuXG5HbG9iLnByb3RvdHlwZS5fcHJvY2Vzc1JlYWRkaXIyID0gZnVuY3Rpb24gKHByZWZpeCwgcmVhZCwgYWJzLCByZW1haW4sIGluZGV4LCBpbkdsb2JTdGFyLCBlbnRyaWVzLCBjYikge1xuXG4gIC8vIGlmIHRoZSBhYnMgaXNuJ3QgYSBkaXIsIHRoZW4gbm90aGluZyBjYW4gbWF0Y2ghXG4gIGlmICghZW50cmllcylcbiAgICByZXR1cm4gY2IoKVxuXG4gIC8vIEl0IHdpbGwgb25seSBtYXRjaCBkb3QgZW50cmllcyBpZiBpdCBzdGFydHMgd2l0aCBhIGRvdCwgb3IgaWZcbiAgLy8gZG90IGlzIHNldC4gIFN0dWZmIGxpa2UgQCguZm9vfC5iYXIpIGlzbid0IGFsbG93ZWQuXG4gIHZhciBwbiA9IHJlbWFpblswXVxuICB2YXIgbmVnYXRlID0gISF0aGlzLm1pbmltYXRjaC5uZWdhdGVcbiAgdmFyIHJhd0dsb2IgPSBwbi5fZ2xvYlxuICB2YXIgZG90T2sgPSB0aGlzLmRvdCB8fCByYXdHbG9iLmNoYXJBdCgwKSA9PT0gJy4nXG5cbiAgdmFyIG1hdGNoZWRFbnRyaWVzID0gW11cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGUgPSBlbnRyaWVzW2ldXG4gICAgaWYgKGUuY2hhckF0KDApICE9PSAnLicgfHwgZG90T2spIHtcbiAgICAgIHZhciBtXG4gICAgICBpZiAobmVnYXRlICYmICFwcmVmaXgpIHtcbiAgICAgICAgbSA9ICFlLm1hdGNoKHBuKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbSA9IGUubWF0Y2gocG4pXG4gICAgICB9XG4gICAgICBpZiAobSlcbiAgICAgICAgbWF0Y2hlZEVudHJpZXMucHVzaChlKVxuICAgIH1cbiAgfVxuXG4gIC8vY29uc29sZS5lcnJvcigncHJkMicsIHByZWZpeCwgZW50cmllcywgcmVtYWluWzBdLl9nbG9iLCBtYXRjaGVkRW50cmllcylcblxuICB2YXIgbGVuID0gbWF0Y2hlZEVudHJpZXMubGVuZ3RoXG4gIC8vIElmIHRoZXJlIGFyZSBubyBtYXRjaGVkIGVudHJpZXMsIHRoZW4gbm90aGluZyBtYXRjaGVzLlxuICBpZiAobGVuID09PSAwKVxuICAgIHJldHVybiBjYigpXG5cbiAgLy8gaWYgdGhpcyBpcyB0aGUgbGFzdCByZW1haW5pbmcgcGF0dGVybiBiaXQsIHRoZW4gbm8gbmVlZCBmb3JcbiAgLy8gYW4gYWRkaXRpb25hbCBzdGF0ICp1bmxlc3MqIHRoZSB1c2VyIGhhcyBzcGVjaWZpZWQgbWFyayBvclxuICAvLyBzdGF0IGV4cGxpY2l0bHkuICBXZSBrbm93IHRoZXkgZXhpc3QsIHNpbmNlIHJlYWRkaXIgcmV0dXJuZWRcbiAgLy8gdGhlbS5cblxuICBpZiAocmVtYWluLmxlbmd0aCA9PT0gMSAmJiAhdGhpcy5tYXJrICYmICF0aGlzLnN0YXQpIHtcbiAgICBpZiAoIXRoaXMubWF0Y2hlc1tpbmRleF0pXG4gICAgICB0aGlzLm1hdGNoZXNbaW5kZXhdID0gT2JqZWN0LmNyZWF0ZShudWxsKVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKyspIHtcbiAgICAgIHZhciBlID0gbWF0Y2hlZEVudHJpZXNbaV1cbiAgICAgIGlmIChwcmVmaXgpIHtcbiAgICAgICAgaWYgKHByZWZpeCAhPT0gJy8nKVxuICAgICAgICAgIGUgPSBwcmVmaXggKyAnLycgKyBlXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBlID0gcHJlZml4ICsgZVxuICAgICAgfVxuXG4gICAgICBpZiAoZS5jaGFyQXQoMCkgPT09ICcvJyAmJiAhdGhpcy5ub21vdW50KSB7XG4gICAgICAgIGUgPSBwYXRoLmpvaW4odGhpcy5yb290LCBlKVxuICAgICAgfVxuICAgICAgdGhpcy5fZW1pdE1hdGNoKGluZGV4LCBlKVxuICAgIH1cbiAgICAvLyBUaGlzIHdhcyB0aGUgbGFzdCBvbmUsIGFuZCBubyBzdGF0cyB3ZXJlIG5lZWRlZFxuICAgIHJldHVybiBjYigpXG4gIH1cblxuICAvLyBub3cgdGVzdCBhbGwgbWF0Y2hlZCBlbnRyaWVzIGFzIHN0YW5kLWlucyBmb3IgdGhhdCBwYXJ0XG4gIC8vIG9mIHRoZSBwYXR0ZXJuLlxuICByZW1haW4uc2hpZnQoKVxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArKykge1xuICAgIHZhciBlID0gbWF0Y2hlZEVudHJpZXNbaV1cbiAgICB2YXIgbmV3UGF0dGVyblxuICAgIGlmIChwcmVmaXgpIHtcbiAgICAgIGlmIChwcmVmaXggIT09ICcvJylcbiAgICAgICAgZSA9IHByZWZpeCArICcvJyArIGVcbiAgICAgIGVsc2VcbiAgICAgICAgZSA9IHByZWZpeCArIGVcbiAgICB9XG4gICAgdGhpcy5fcHJvY2VzcyhbZV0uY29uY2F0KHJlbWFpbiksIGluZGV4LCBpbkdsb2JTdGFyLCBjYilcbiAgfVxuICBjYigpXG59XG5cbkdsb2IucHJvdG90eXBlLl9lbWl0TWF0Y2ggPSBmdW5jdGlvbiAoaW5kZXgsIGUpIHtcbiAgaWYgKHRoaXMuYWJvcnRlZClcbiAgICByZXR1cm5cblxuICBpZiAoaXNJZ25vcmVkKHRoaXMsIGUpKVxuICAgIHJldHVyblxuXG4gIGlmICh0aGlzLnBhdXNlZCkge1xuICAgIHRoaXMuX2VtaXRRdWV1ZS5wdXNoKFtpbmRleCwgZV0pXG4gICAgcmV0dXJuXG4gIH1cblxuICB2YXIgYWJzID0gaXNBYnNvbHV0ZShlKSA/IGUgOiB0aGlzLl9tYWtlQWJzKGUpXG5cbiAgaWYgKHRoaXMubWFyaylcbiAgICBlID0gdGhpcy5fbWFyayhlKVxuXG4gIGlmICh0aGlzLmFic29sdXRlKVxuICAgIGUgPSBhYnNcblxuICBpZiAodGhpcy5tYXRjaGVzW2luZGV4XVtlXSlcbiAgICByZXR1cm5cblxuICBpZiAodGhpcy5ub2Rpcikge1xuICAgIHZhciBjID0gdGhpcy5jYWNoZVthYnNdXG4gICAgaWYgKGMgPT09ICdESVInIHx8IEFycmF5LmlzQXJyYXkoYykpXG4gICAgICByZXR1cm5cbiAgfVxuXG4gIHRoaXMubWF0Y2hlc1tpbmRleF1bZV0gPSB0cnVlXG5cbiAgdmFyIHN0ID0gdGhpcy5zdGF0Q2FjaGVbYWJzXVxuICBpZiAoc3QpXG4gICAgdGhpcy5lbWl0KCdzdGF0JywgZSwgc3QpXG5cbiAgdGhpcy5lbWl0KCdtYXRjaCcsIGUpXG59XG5cbkdsb2IucHJvdG90eXBlLl9yZWFkZGlySW5HbG9iU3RhciA9IGZ1bmN0aW9uIChhYnMsIGNiKSB7XG4gIGlmICh0aGlzLmFib3J0ZWQpXG4gICAgcmV0dXJuXG5cbiAgLy8gZm9sbG93IGFsbCBzeW1saW5rZWQgZGlyZWN0b3JpZXMgZm9yZXZlclxuICAvLyBqdXN0IHByb2NlZWQgYXMgaWYgdGhpcyBpcyBhIG5vbi1nbG9ic3RhciBzaXR1YXRpb25cbiAgaWYgKHRoaXMuZm9sbG93KVxuICAgIHJldHVybiB0aGlzLl9yZWFkZGlyKGFicywgZmFsc2UsIGNiKVxuXG4gIHZhciBsc3RhdGtleSA9ICdsc3RhdFxcMCcgKyBhYnNcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIHZhciBsc3RhdGNiID0gaW5mbGlnaHQobHN0YXRrZXksIGxzdGF0Y2JfKVxuXG4gIGlmIChsc3RhdGNiKVxuICAgIHNlbGYuZnMubHN0YXQoYWJzLCBsc3RhdGNiKVxuXG4gIGZ1bmN0aW9uIGxzdGF0Y2JfIChlciwgbHN0YXQpIHtcbiAgICBpZiAoZXIgJiYgZXIuY29kZSA9PT0gJ0VOT0VOVCcpXG4gICAgICByZXR1cm4gY2IoKVxuXG4gICAgdmFyIGlzU3ltID0gbHN0YXQgJiYgbHN0YXQuaXNTeW1ib2xpY0xpbmsoKVxuICAgIHNlbGYuc3ltbGlua3NbYWJzXSA9IGlzU3ltXG5cbiAgICAvLyBJZiBpdCdzIG5vdCBhIHN5bWxpbmsgb3IgYSBkaXIsIHRoZW4gaXQncyBkZWZpbml0ZWx5IGEgcmVndWxhciBmaWxlLlxuICAgIC8vIGRvbid0IGJvdGhlciBkb2luZyBhIHJlYWRkaXIgaW4gdGhhdCBjYXNlLlxuICAgIGlmICghaXNTeW0gJiYgbHN0YXQgJiYgIWxzdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgIHNlbGYuY2FjaGVbYWJzXSA9ICdGSUxFJ1xuICAgICAgY2IoKVxuICAgIH0gZWxzZVxuICAgICAgc2VsZi5fcmVhZGRpcihhYnMsIGZhbHNlLCBjYilcbiAgfVxufVxuXG5HbG9iLnByb3RvdHlwZS5fcmVhZGRpciA9IGZ1bmN0aW9uIChhYnMsIGluR2xvYlN0YXIsIGNiKSB7XG4gIGlmICh0aGlzLmFib3J0ZWQpXG4gICAgcmV0dXJuXG5cbiAgY2IgPSBpbmZsaWdodCgncmVhZGRpclxcMCcrYWJzKydcXDAnK2luR2xvYlN0YXIsIGNiKVxuICBpZiAoIWNiKVxuICAgIHJldHVyblxuXG4gIC8vY29uc29sZS5lcnJvcignUkQgJWogJWonLCAraW5HbG9iU3RhciwgYWJzKVxuICBpZiAoaW5HbG9iU3RhciAmJiAhb3duUHJvcCh0aGlzLnN5bWxpbmtzLCBhYnMpKVxuICAgIHJldHVybiB0aGlzLl9yZWFkZGlySW5HbG9iU3RhcihhYnMsIGNiKVxuXG4gIGlmIChvd25Qcm9wKHRoaXMuY2FjaGUsIGFicykpIHtcbiAgICB2YXIgYyA9IHRoaXMuY2FjaGVbYWJzXVxuICAgIGlmICghYyB8fCBjID09PSAnRklMRScpXG4gICAgICByZXR1cm4gY2IoKVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYykpXG4gICAgICByZXR1cm4gY2IobnVsbCwgYylcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpc1xuICBzZWxmLmZzLnJlYWRkaXIoYWJzLCByZWFkZGlyQ2IodGhpcywgYWJzLCBjYikpXG59XG5cbmZ1bmN0aW9uIHJlYWRkaXJDYiAoc2VsZiwgYWJzLCBjYikge1xuICByZXR1cm4gZnVuY3Rpb24gKGVyLCBlbnRyaWVzKSB7XG4gICAgaWYgKGVyKVxuICAgICAgc2VsZi5fcmVhZGRpckVycm9yKGFicywgZXIsIGNiKVxuICAgIGVsc2VcbiAgICAgIHNlbGYuX3JlYWRkaXJFbnRyaWVzKGFicywgZW50cmllcywgY2IpXG4gIH1cbn1cblxuR2xvYi5wcm90b3R5cGUuX3JlYWRkaXJFbnRyaWVzID0gZnVuY3Rpb24gKGFicywgZW50cmllcywgY2IpIHtcbiAgaWYgKHRoaXMuYWJvcnRlZClcbiAgICByZXR1cm5cblxuICAvLyBpZiB3ZSBoYXZlbid0IGFza2VkIHRvIHN0YXQgZXZlcnl0aGluZywgdGhlbiBqdXN0XG4gIC8vIGFzc3VtZSB0aGF0IGV2ZXJ5dGhpbmcgaW4gdGhlcmUgZXhpc3RzLCBzbyB3ZSBjYW4gYXZvaWRcbiAgLy8gaGF2aW5nIHRvIHN0YXQgaXQgYSBzZWNvbmQgdGltZS5cbiAgaWYgKCF0aGlzLm1hcmsgJiYgIXRoaXMuc3RhdCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW50cmllcy5sZW5ndGg7IGkgKyspIHtcbiAgICAgIHZhciBlID0gZW50cmllc1tpXVxuICAgICAgaWYgKGFicyA9PT0gJy8nKVxuICAgICAgICBlID0gYWJzICsgZVxuICAgICAgZWxzZVxuICAgICAgICBlID0gYWJzICsgJy8nICsgZVxuICAgICAgdGhpcy5jYWNoZVtlXSA9IHRydWVcbiAgICB9XG4gIH1cblxuICB0aGlzLmNhY2hlW2Fic10gPSBlbnRyaWVzXG4gIHJldHVybiBjYihudWxsLCBlbnRyaWVzKVxufVxuXG5HbG9iLnByb3RvdHlwZS5fcmVhZGRpckVycm9yID0gZnVuY3Rpb24gKGYsIGVyLCBjYikge1xuICBpZiAodGhpcy5hYm9ydGVkKVxuICAgIHJldHVyblxuXG4gIC8vIGhhbmRsZSBlcnJvcnMsIGFuZCBjYWNoZSB0aGUgaW5mb3JtYXRpb25cbiAgc3dpdGNoIChlci5jb2RlKSB7XG4gICAgY2FzZSAnRU5PVFNVUCc6IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9pc2FhY3Mvbm9kZS1nbG9iL2lzc3Vlcy8yMDVcbiAgICBjYXNlICdFTk9URElSJzogLy8gdG90YWxseSBub3JtYWwuIG1lYW5zIGl0ICpkb2VzKiBleGlzdC5cbiAgICAgIHZhciBhYnMgPSB0aGlzLl9tYWtlQWJzKGYpXG4gICAgICB0aGlzLmNhY2hlW2Fic10gPSAnRklMRSdcbiAgICAgIGlmIChhYnMgPT09IHRoaXMuY3dkQWJzKSB7XG4gICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihlci5jb2RlICsgJyBpbnZhbGlkIGN3ZCAnICsgdGhpcy5jd2QpXG4gICAgICAgIGVycm9yLnBhdGggPSB0aGlzLmN3ZFxuICAgICAgICBlcnJvci5jb2RlID0gZXIuY29kZVxuICAgICAgICB0aGlzLmVtaXQoJ2Vycm9yJywgZXJyb3IpXG4gICAgICAgIHRoaXMuYWJvcnQoKVxuICAgICAgfVxuICAgICAgYnJlYWtcblxuICAgIGNhc2UgJ0VOT0VOVCc6IC8vIG5vdCB0ZXJyaWJseSB1bnVzdWFsXG4gICAgY2FzZSAnRUxPT1AnOlxuICAgIGNhc2UgJ0VOQU1FVE9PTE9ORyc6XG4gICAgY2FzZSAnVU5LTk9XTic6XG4gICAgICB0aGlzLmNhY2hlW3RoaXMuX21ha2VBYnMoZildID0gZmFsc2VcbiAgICAgIGJyZWFrXG5cbiAgICBkZWZhdWx0OiAvLyBzb21lIHVudXN1YWwgZXJyb3IuICBUcmVhdCBhcyBmYWlsdXJlLlxuICAgICAgdGhpcy5jYWNoZVt0aGlzLl9tYWtlQWJzKGYpXSA9IGZhbHNlXG4gICAgICBpZiAodGhpcy5zdHJpY3QpIHtcbiAgICAgICAgdGhpcy5lbWl0KCdlcnJvcicsIGVyKVxuICAgICAgICAvLyBJZiB0aGUgZXJyb3IgaXMgaGFuZGxlZCwgdGhlbiB3ZSBhYm9ydFxuICAgICAgICAvLyBpZiBub3QsIHdlIHRocmV3IG91dCBvZiBoZXJlXG4gICAgICAgIHRoaXMuYWJvcnQoKVxuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLnNpbGVudClcbiAgICAgICAgY29uc29sZS5lcnJvcignZ2xvYiBlcnJvcicsIGVyKVxuICAgICAgYnJlYWtcbiAgfVxuXG4gIHJldHVybiBjYigpXG59XG5cbkdsb2IucHJvdG90eXBlLl9wcm9jZXNzR2xvYlN0YXIgPSBmdW5jdGlvbiAocHJlZml4LCByZWFkLCBhYnMsIHJlbWFpbiwgaW5kZXgsIGluR2xvYlN0YXIsIGNiKSB7XG4gIHZhciBzZWxmID0gdGhpc1xuICB0aGlzLl9yZWFkZGlyKGFicywgaW5HbG9iU3RhciwgZnVuY3Rpb24gKGVyLCBlbnRyaWVzKSB7XG4gICAgc2VsZi5fcHJvY2Vzc0dsb2JTdGFyMihwcmVmaXgsIHJlYWQsIGFicywgcmVtYWluLCBpbmRleCwgaW5HbG9iU3RhciwgZW50cmllcywgY2IpXG4gIH0pXG59XG5cblxuR2xvYi5wcm90b3R5cGUuX3Byb2Nlc3NHbG9iU3RhcjIgPSBmdW5jdGlvbiAocHJlZml4LCByZWFkLCBhYnMsIHJlbWFpbiwgaW5kZXgsIGluR2xvYlN0YXIsIGVudHJpZXMsIGNiKSB7XG4gIC8vY29uc29sZS5lcnJvcigncGdzMicsIHByZWZpeCwgcmVtYWluWzBdLCBlbnRyaWVzKVxuXG4gIC8vIG5vIGVudHJpZXMgbWVhbnMgbm90IGEgZGlyLCBzbyBpdCBjYW4gbmV2ZXIgaGF2ZSBtYXRjaGVzXG4gIC8vIGZvby50eHQvKiogZG9lc24ndCBtYXRjaCBmb28udHh0XG4gIGlmICghZW50cmllcylcbiAgICByZXR1cm4gY2IoKVxuXG4gIC8vIHRlc3Qgd2l0aG91dCB0aGUgZ2xvYnN0YXIsIGFuZCB3aXRoIGV2ZXJ5IGNoaWxkIGJvdGggYmVsb3dcbiAgLy8gYW5kIHJlcGxhY2luZyB0aGUgZ2xvYnN0YXIuXG4gIHZhciByZW1haW5XaXRob3V0R2xvYlN0YXIgPSByZW1haW4uc2xpY2UoMSlcbiAgdmFyIGdzcHJlZiA9IHByZWZpeCA/IFsgcHJlZml4IF0gOiBbXVxuICB2YXIgbm9HbG9iU3RhciA9IGdzcHJlZi5jb25jYXQocmVtYWluV2l0aG91dEdsb2JTdGFyKVxuXG4gIC8vIHRoZSBub0dsb2JTdGFyIHBhdHRlcm4gZXhpdHMgdGhlIGluR2xvYlN0YXIgc3RhdGVcbiAgdGhpcy5fcHJvY2Vzcyhub0dsb2JTdGFyLCBpbmRleCwgZmFsc2UsIGNiKVxuXG4gIHZhciBpc1N5bSA9IHRoaXMuc3ltbGlua3NbYWJzXVxuICB2YXIgbGVuID0gZW50cmllcy5sZW5ndGhcblxuICAvLyBJZiBpdCdzIGEgc3ltbGluaywgYW5kIHdlJ3JlIGluIGEgZ2xvYnN0YXIsIHRoZW4gc3RvcFxuICBpZiAoaXNTeW0gJiYgaW5HbG9iU3RhcilcbiAgICByZXR1cm4gY2IoKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgZSA9IGVudHJpZXNbaV1cbiAgICBpZiAoZS5jaGFyQXQoMCkgPT09ICcuJyAmJiAhdGhpcy5kb3QpXG4gICAgICBjb250aW51ZVxuXG4gICAgLy8gdGhlc2UgdHdvIGNhc2VzIGVudGVyIHRoZSBpbkdsb2JTdGFyIHN0YXRlXG4gICAgdmFyIGluc3RlYWQgPSBnc3ByZWYuY29uY2F0KGVudHJpZXNbaV0sIHJlbWFpbldpdGhvdXRHbG9iU3RhcilcbiAgICB0aGlzLl9wcm9jZXNzKGluc3RlYWQsIGluZGV4LCB0cnVlLCBjYilcblxuICAgIHZhciBiZWxvdyA9IGdzcHJlZi5jb25jYXQoZW50cmllc1tpXSwgcmVtYWluKVxuICAgIHRoaXMuX3Byb2Nlc3MoYmVsb3csIGluZGV4LCB0cnVlLCBjYilcbiAgfVxuXG4gIGNiKClcbn1cblxuR2xvYi5wcm90b3R5cGUuX3Byb2Nlc3NTaW1wbGUgPSBmdW5jdGlvbiAocHJlZml4LCBpbmRleCwgY2IpIHtcbiAgLy8gWFhYIHJldmlldyB0aGlzLiAgU2hvdWxkbid0IGl0IGJlIGRvaW5nIHRoZSBtb3VudGluZyBldGNcbiAgLy8gYmVmb3JlIGRvaW5nIHN0YXQ/ICBraW5kYSB3ZWlyZD9cbiAgdmFyIHNlbGYgPSB0aGlzXG4gIHRoaXMuX3N0YXQocHJlZml4LCBmdW5jdGlvbiAoZXIsIGV4aXN0cykge1xuICAgIHNlbGYuX3Byb2Nlc3NTaW1wbGUyKHByZWZpeCwgaW5kZXgsIGVyLCBleGlzdHMsIGNiKVxuICB9KVxufVxuR2xvYi5wcm90b3R5cGUuX3Byb2Nlc3NTaW1wbGUyID0gZnVuY3Rpb24gKHByZWZpeCwgaW5kZXgsIGVyLCBleGlzdHMsIGNiKSB7XG5cbiAgLy9jb25zb2xlLmVycm9yKCdwczInLCBwcmVmaXgsIGV4aXN0cylcblxuICBpZiAoIXRoaXMubWF0Y2hlc1tpbmRleF0pXG4gICAgdGhpcy5tYXRjaGVzW2luZGV4XSA9IE9iamVjdC5jcmVhdGUobnVsbClcblxuICAvLyBJZiBpdCBkb2Vzbid0IGV4aXN0LCB0aGVuIGp1c3QgbWFyayB0aGUgbGFjayBvZiByZXN1bHRzXG4gIGlmICghZXhpc3RzKVxuICAgIHJldHVybiBjYigpXG5cbiAgaWYgKHByZWZpeCAmJiBpc0Fic29sdXRlKHByZWZpeCkgJiYgIXRoaXMubm9tb3VudCkge1xuICAgIHZhciB0cmFpbCA9IC9bXFwvXFxcXF0kLy50ZXN0KHByZWZpeClcbiAgICBpZiAocHJlZml4LmNoYXJBdCgwKSA9PT0gJy8nKSB7XG4gICAgICBwcmVmaXggPSBwYXRoLmpvaW4odGhpcy5yb290LCBwcmVmaXgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHByZWZpeCA9IHBhdGgucmVzb2x2ZSh0aGlzLnJvb3QsIHByZWZpeClcbiAgICAgIGlmICh0cmFpbClcbiAgICAgICAgcHJlZml4ICs9ICcvJ1xuICAgIH1cbiAgfVxuXG4gIGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKVxuICAgIHByZWZpeCA9IHByZWZpeC5yZXBsYWNlKC9cXFxcL2csICcvJylcblxuICAvLyBNYXJrIHRoaXMgYXMgYSBtYXRjaFxuICB0aGlzLl9lbWl0TWF0Y2goaW5kZXgsIHByZWZpeClcbiAgY2IoKVxufVxuXG4vLyBSZXR1cm5zIGVpdGhlciAnRElSJywgJ0ZJTEUnLCBvciBmYWxzZVxuR2xvYi5wcm90b3R5cGUuX3N0YXQgPSBmdW5jdGlvbiAoZiwgY2IpIHtcbiAgdmFyIGFicyA9IHRoaXMuX21ha2VBYnMoZilcbiAgdmFyIG5lZWREaXIgPSBmLnNsaWNlKC0xKSA9PT0gJy8nXG5cbiAgaWYgKGYubGVuZ3RoID4gdGhpcy5tYXhMZW5ndGgpXG4gICAgcmV0dXJuIGNiKClcblxuICBpZiAoIXRoaXMuc3RhdCAmJiBvd25Qcm9wKHRoaXMuY2FjaGUsIGFicykpIHtcbiAgICB2YXIgYyA9IHRoaXMuY2FjaGVbYWJzXVxuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoYykpXG4gICAgICBjID0gJ0RJUidcblxuICAgIC8vIEl0IGV4aXN0cywgYnV0IG1heWJlIG5vdCBob3cgd2UgbmVlZCBpdFxuICAgIGlmICghbmVlZERpciB8fCBjID09PSAnRElSJylcbiAgICAgIHJldHVybiBjYihudWxsLCBjKVxuXG4gICAgaWYgKG5lZWREaXIgJiYgYyA9PT0gJ0ZJTEUnKVxuICAgICAgcmV0dXJuIGNiKClcblxuICAgIC8vIG90aGVyd2lzZSB3ZSBoYXZlIHRvIHN0YXQsIGJlY2F1c2UgbWF5YmUgYz10cnVlXG4gICAgLy8gaWYgd2Uga25vdyBpdCBleGlzdHMsIGJ1dCBub3Qgd2hhdCBpdCBpcy5cbiAgfVxuXG4gIHZhciBleGlzdHNcbiAgdmFyIHN0YXQgPSB0aGlzLnN0YXRDYWNoZVthYnNdXG4gIGlmIChzdGF0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoc3RhdCA9PT0gZmFsc2UpXG4gICAgICByZXR1cm4gY2IobnVsbCwgc3RhdClcbiAgICBlbHNlIHtcbiAgICAgIHZhciB0eXBlID0gc3RhdC5pc0RpcmVjdG9yeSgpID8gJ0RJUicgOiAnRklMRSdcbiAgICAgIGlmIChuZWVkRGlyICYmIHR5cGUgPT09ICdGSUxFJylcbiAgICAgICAgcmV0dXJuIGNiKClcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGNiKG51bGwsIHR5cGUsIHN0YXQpXG4gICAgfVxuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzXG4gIHZhciBzdGF0Y2IgPSBpbmZsaWdodCgnc3RhdFxcMCcgKyBhYnMsIGxzdGF0Y2JfKVxuICBpZiAoc3RhdGNiKVxuICAgIHNlbGYuZnMubHN0YXQoYWJzLCBzdGF0Y2IpXG5cbiAgZnVuY3Rpb24gbHN0YXRjYl8gKGVyLCBsc3RhdCkge1xuICAgIGlmIChsc3RhdCAmJiBsc3RhdC5pc1N5bWJvbGljTGluaygpKSB7XG4gICAgICAvLyBJZiBpdCdzIGEgc3ltbGluaywgdGhlbiB0cmVhdCBpdCBhcyB0aGUgdGFyZ2V0LCB1bmxlc3NcbiAgICAgIC8vIHRoZSB0YXJnZXQgZG9lcyBub3QgZXhpc3QsIHRoZW4gdHJlYXQgaXQgYXMgYSBmaWxlLlxuICAgICAgcmV0dXJuIHNlbGYuZnMuc3RhdChhYnMsIGZ1bmN0aW9uIChlciwgc3RhdCkge1xuICAgICAgICBpZiAoZXIpXG4gICAgICAgICAgc2VsZi5fc3RhdDIoZiwgYWJzLCBudWxsLCBsc3RhdCwgY2IpXG4gICAgICAgIGVsc2VcbiAgICAgICAgICBzZWxmLl9zdGF0MihmLCBhYnMsIGVyLCBzdGF0LCBjYilcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuX3N0YXQyKGYsIGFicywgZXIsIGxzdGF0LCBjYilcbiAgICB9XG4gIH1cbn1cblxuR2xvYi5wcm90b3R5cGUuX3N0YXQyID0gZnVuY3Rpb24gKGYsIGFicywgZXIsIHN0YXQsIGNiKSB7XG4gIGlmIChlciAmJiAoZXIuY29kZSA9PT0gJ0VOT0VOVCcgfHwgZXIuY29kZSA9PT0gJ0VOT1RESVInKSkge1xuICAgIHRoaXMuc3RhdENhY2hlW2Fic10gPSBmYWxzZVxuICAgIHJldHVybiBjYigpXG4gIH1cblxuICB2YXIgbmVlZERpciA9IGYuc2xpY2UoLTEpID09PSAnLydcbiAgdGhpcy5zdGF0Q2FjaGVbYWJzXSA9IHN0YXRcblxuICBpZiAoYWJzLnNsaWNlKC0xKSA9PT0gJy8nICYmIHN0YXQgJiYgIXN0YXQuaXNEaXJlY3RvcnkoKSlcbiAgICByZXR1cm4gY2IobnVsbCwgZmFsc2UsIHN0YXQpXG5cbiAgdmFyIGMgPSB0cnVlXG4gIGlmIChzdGF0KVxuICAgIGMgPSBzdGF0LmlzRGlyZWN0b3J5KCkgPyAnRElSJyA6ICdGSUxFJ1xuICB0aGlzLmNhY2hlW2Fic10gPSB0aGlzLmNhY2hlW2Fic10gfHwgY1xuXG4gIGlmIChuZWVkRGlyICYmIGMgPT09ICdGSUxFJylcbiAgICByZXR1cm4gY2IoKVxuXG4gIHJldHVybiBjYihudWxsLCBjLCBzdGF0KVxufVxuIiwKICAiLyohXG4gKiBTdHlsdXMgLSBTZWxlY3RvciBQYXJzZXJcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG52YXIgQ09NQklOQVRPUlMgPSBbJz4nLCAnKycsICd+J107XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgU2VsZWN0b3JQYXJzZXIge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgU2VsZWN0b3JQYXJzZXJgXG4gICAqIHdpdGggdGhlIGdpdmVuIGBzdHJgIGFuZCBzZWxlY3RvcnMgYHN0YWNrYC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICAgKiBAcGFyYW0ge0FycmF5fSBzdGFja1xuICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0c1xuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgY29uc3RydWN0b3Ioc3RyLCBzdGFjaywgcGFydHMpIHtcbiAgICB0aGlzLnN0ciA9IHN0cjtcbiAgICB0aGlzLnN0YWNrID0gc3RhY2sgfHwgW107XG4gICAgdGhpcy5wYXJ0cyA9IHBhcnRzIHx8IFtdO1xuICAgIHRoaXMucG9zID0gMDtcbiAgICB0aGlzLmxldmVsID0gMjtcbiAgICB0aGlzLm5lc3RlZCA9IHRydWU7XG4gICAgdGhpcy5pZ25vcmUgPSBmYWxzZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdW1lIHRoZSBnaXZlbiBgbGVuYCBhbmQgbW92ZSBjdXJyZW50IHBvc2l0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gbGVuXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBza2lwKGxlbikge1xuICAgIHRoaXMuc3RyID0gdGhpcy5zdHIuc3Vic3RyKGxlbik7XG4gICAgdGhpcy5wb3MgKz0gbGVuO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb25zdW1lIHNwYWNlcy5cbiAgICovXG5cbiAgc2tpcFNwYWNlcygpIHtcbiAgICB3aGlsZSAoJyAnID09IHRoaXMuc3RyWzBdKSB0aGlzLnNraXAoMSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEZldGNoIG5leHQgdG9rZW4uXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGFkdmFuY2UoKSB7XG4gICAgcmV0dXJuIHRoaXMucm9vdCgpXG4gICAgICB8fCB0aGlzLnJlbGF0aXZlKClcbiAgICAgIHx8IHRoaXMuaW5pdGlhbCgpXG4gICAgICB8fCB0aGlzLmVzY2FwZWQoKVxuICAgICAgfHwgdGhpcy5wYXJlbnQoKVxuICAgICAgfHwgdGhpcy5wYXJ0aWFsKClcbiAgICAgIHx8IHRoaXMuY2hhcigpO1xuICB9O1xuXG4gIC8qKlxuICAgKiAnLydcbiAgICovXG5cbiAgcm9vdCgpIHtcbiAgICBpZiAoIXRoaXMucG9zICYmICcvJyA9PSB0aGlzLnN0clswXVxuICAgICAgJiYgJ2RlZXAnICE9IHRoaXMuc3RyLnNsaWNlKDEsIDUpKSB7XG4gICAgICB0aGlzLm5lc3RlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5za2lwKDEpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogJy4uLydcbiAgICovXG5cbiAgcmVsYXRpdmUobXVsdGkpIHtcbiAgICBpZiAoKCF0aGlzLnBvcyB8fCBtdWx0aSkgJiYgJy4uLycgPT0gdGhpcy5zdHIuc2xpY2UoMCwgMykpIHtcbiAgICAgIHRoaXMubmVzdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLnNraXAoMyk7XG4gICAgICB3aGlsZSAodGhpcy5yZWxhdGl2ZSh0cnVlKSkgdGhpcy5sZXZlbCsrO1xuICAgICAgaWYgKCF0aGlzLnJhdykge1xuICAgICAgICB2YXIgcmV0ID0gdGhpcy5zdGFja1t0aGlzLnN0YWNrLmxlbmd0aCAtIHRoaXMubGV2ZWxdO1xuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmlnbm9yZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqICd+LydcbiAgICovXG5cbiAgaW5pdGlhbCgpIHtcbiAgICBpZiAoIXRoaXMucG9zICYmICd+JyA9PSB0aGlzLnN0clswXSAmJiAnLycgPT0gdGhpcy5zdHJbMV0pIHtcbiAgICAgIHRoaXMubmVzdGVkID0gZmFsc2U7XG4gICAgICB0aGlzLnNraXAoMik7XG4gICAgICByZXR1cm4gdGhpcy5zdGFja1swXTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqICdcXCcgKCcmJyB8ICdeJylcbiAgICovXG5cbiAgZXNjYXBlZCgpIHtcbiAgICBpZiAoJ1xcXFwnID09IHRoaXMuc3RyWzBdKSB7XG4gICAgICB2YXIgY2hhciA9IHRoaXMuc3RyWzFdO1xuICAgICAgaWYgKCcmJyA9PSBjaGFyIHx8ICdeJyA9PSBjaGFyKSB7XG4gICAgICAgIHRoaXMuc2tpcCgyKTtcbiAgICAgICAgcmV0dXJuIGNoYXI7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiAnJidcbiAgICovXG5cbiAgcGFyZW50KCkge1xuICAgIGlmICgnJicgPT0gdGhpcy5zdHJbMF0pIHtcbiAgICAgIHRoaXMubmVzdGVkID0gZmFsc2U7XG5cbiAgICAgIGlmICghdGhpcy5wb3MgJiYgKCF0aGlzLnN0YWNrLmxlbmd0aCB8fCB0aGlzLnJhdykpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoJyAnID09IHRoaXMuc3RyWysraV0pO1xuICAgICAgICBpZiAofkNPTUJJTkFUT1JTLmluZGV4T2YodGhpcy5zdHJbaV0pKSB7XG4gICAgICAgICAgdGhpcy5za2lwKGkgKyAxKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdGhpcy5za2lwKDEpO1xuICAgICAgaWYgKCF0aGlzLnJhdylcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhY2tbdGhpcy5zdGFjay5sZW5ndGggLSAxXTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqICdeWycgcmFuZ2UgJ10nXG4gICAqL1xuXG4gIHBhcnRpYWwoKSB7XG4gICAgaWYgKCdeJyA9PSB0aGlzLnN0clswXSAmJiAnWycgPT0gdGhpcy5zdHJbMV0pIHtcbiAgICAgIHRoaXMuc2tpcCgyKTtcbiAgICAgIHRoaXMuc2tpcFNwYWNlcygpO1xuICAgICAgdmFyIHJldCA9IHRoaXMucmFuZ2UoKTtcbiAgICAgIHRoaXMuc2tpcFNwYWNlcygpO1xuICAgICAgaWYgKCddJyAhPSB0aGlzLnN0clswXSkgcmV0dXJuICdeWyc7XG4gICAgICB0aGlzLm5lc3RlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5za2lwKDEpO1xuICAgICAgaWYgKHJldCkge1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pZ25vcmUgPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogJy0nPyAwLTkrXG4gICAqL1xuXG4gIG51bWJlcigpIHtcbiAgICB2YXIgaSA9IDAsIHJldCA9ICcnO1xuICAgIGlmICgnLScgPT0gdGhpcy5zdHJbaV0pXG4gICAgICByZXQgKz0gdGhpcy5zdHJbaSsrXTtcblxuICAgIHdoaWxlICh0aGlzLnN0ci5jaGFyQ29kZUF0KGkpID49IDQ4XG4gICAgICAmJiB0aGlzLnN0ci5jaGFyQ29kZUF0KGkpIDw9IDU3KVxuICAgICAgcmV0ICs9IHRoaXMuc3RyW2krK107XG5cbiAgICBpZiAocmV0KSB7XG4gICAgICB0aGlzLnNraXAoaSk7XG4gICAgICByZXR1cm4gTnVtYmVyKHJldCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBudW1iZXIgKCcuLicgbnVtYmVyKT9cbiAgICovXG5cbiAgcmFuZ2UoKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5udW1iZXIoKVxuICAgICAgLCByZXQ7XG5cbiAgICBpZiAoJy4uJyA9PSB0aGlzLnN0ci5zbGljZSgwLCAyKSkge1xuICAgICAgdGhpcy5za2lwKDIpO1xuICAgICAgdmFyIGVuZCA9IHRoaXMubnVtYmVyKClcbiAgICAgICAgLCBsZW4gPSB0aGlzLnBhcnRzLmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkgc3RhcnQgPSBsZW4gKyBzdGFydCAtIDE7XG4gICAgICBpZiAoZW5kIDwgMCkgZW5kID0gbGVuICsgZW5kIC0gMTtcblxuICAgICAgaWYgKHN0YXJ0ID4gZW5kKSB7XG4gICAgICAgIHZhciB0bXAgPSBzdGFydDtcbiAgICAgICAgc3RhcnQgPSBlbmQ7XG4gICAgICAgIGVuZCA9IHRtcDtcbiAgICAgIH1cblxuICAgICAgaWYgKGVuZCA8IGxlbiAtIDEpIHtcbiAgICAgICAgcmV0ID0gdGhpcy5wYXJ0cy5zbGljZShzdGFydCwgZW5kICsgMSkubWFwKGZ1bmN0aW9uIChwYXJ0KSB7XG4gICAgICAgICAgdmFyIHNlbGVjdG9yID0gbmV3IFNlbGVjdG9yUGFyc2VyKHBhcnQsIHRoaXMuc3RhY2ssIHRoaXMucGFydHMpO1xuICAgICAgICAgIHNlbGVjdG9yLnJhdyA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHNlbGVjdG9yLnBhcnNlKCk7XG4gICAgICAgIH0sIHRoaXMpLm1hcChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICByZXR1cm4gKHNlbGVjdG9yLm5lc3RlZCA/ICcgJyA6ICcnKSArIHNlbGVjdG9yLnZhbDtcbiAgICAgICAgfSkuam9pbignJykudHJpbSgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXQgPSB0aGlzLnN0YWNrW1xuICAgICAgICBzdGFydCA8IDAgPyB0aGlzLnN0YWNrLmxlbmd0aCArIHN0YXJ0IC0gMSA6IHN0YXJ0XG4gICAgICBdO1xuICAgIH1cblxuICAgIGlmIChyZXQpIHtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaWdub3JlID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIC4rXG4gICAqL1xuXG4gIGNoYXIoKSB7XG4gICAgdmFyIGNoYXIgPSB0aGlzLnN0clswXTtcbiAgICB0aGlzLnNraXAoMSk7XG4gICAgcmV0dXJuIGNoYXI7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBhcnNlcyB0aGUgc2VsZWN0b3IuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHBhcnNlKCkge1xuICAgIHZhciB2YWwgPSAnJztcbiAgICB3aGlsZSAodGhpcy5zdHIubGVuZ3RoKSB7XG4gICAgICB2YWwgKz0gdGhpcy5hZHZhbmNlKCkgfHwgJyc7XG4gICAgICBpZiAodGhpcy5pZ25vcmUpIHtcbiAgICAgICAgdmFsID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4geyB2YWw6IHZhbC50cmltUmlnaHQoKSwgbmVzdGVkOiB0aGlzLm5lc3RlZCB9O1xuICB9O1xufTtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSB1dGlsc1xuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgbm9kZXMgPSByZXF1aXJlKCcuL25vZGVzJylcbiAgLCBiYXNlbmFtZSA9IHJlcXVpcmUoJ3BhdGgnKS5iYXNlbmFtZVxuICAsIHJlbGF0aXZlID0gcmVxdWlyZSgncGF0aCcpLnJlbGF0aXZlXG4gICwgam9pbiA9IHJlcXVpcmUoJ3BhdGgnKS5qb2luXG4gICwgaXNBYnNvbHV0ZSA9IHJlcXVpcmUoJ3BhdGgnKS5pc0Fic29sdXRlXG4gICwgZ2xvYiA9IHJlcXVpcmUoJ2dsb2InKVxuICAsIGZzID0gcmVxdWlyZSgnZnMnKTtcblxuLyoqXG4gKiBDaGVjayBpZiBgcGF0aGAgbG9va3MgYWJzb2x1dGUuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLmFic29sdXRlID0gaXNBYnNvbHV0ZSB8fCBmdW5jdGlvbihwYXRoKXtcbiAgLy8gT24gV2luZG93cyB0aGUgcGF0aCBjb3VsZCBzdGFydCB3aXRoIGEgZHJpdmUgbGV0dGVyLCBpLmUuIGE6XFxcXCBvciB0d28gbGVhZGluZyBiYWNrc2xhc2hlcy5cbiAgLy8gQWxzbyBvbiBXaW5kb3dzLCB0aGUgcGF0aCBtYXkgaGF2ZSBiZWVuIG5vcm1hbGl6ZWQgdG8gZm9yd2FyZCBzbGFzaGVzLCBzbyBjaGVjayBmb3IgdGhpcyB0b28uXG4gIHJldHVybiBwYXRoLnN1YnN0cigwLCAyKSA9PSAnXFxcXFxcXFwnIHx8ICcvJyA9PT0gcGF0aC5jaGFyQXQoMCkgfHwgL15bYS16XTpbXFxcXFxcL10vaS50ZXN0KHBhdGgpO1xufTtcblxuLyoqXG4gKiBBdHRlbXB0IHRvIGxvb2t1cCBgcGF0aGAgd2l0aGluIGBwYXRoc2AgZnJvbSB0YWlsIHRvIGhlYWQuXG4gKiBPcHRpb25hbGx5IGEgcGF0aCB0byBgaWdub3JlYCBtYXkgYmUgcGFzc2VkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aHNcbiAqIEBwYXJhbSB7U3RyaW5nfSBpZ25vcmVcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMubG9va3VwID0gZnVuY3Rpb24ocGF0aCwgcGF0aHMsIGlnbm9yZSl7XG4gIHZhciBsb29rdXBcbiAgICAsIGkgPSBwYXRocy5sZW5ndGg7XG5cbiAgLy8gQWJzb2x1dGVcbiAgaWYgKGV4cG9ydHMuYWJzb2x1dGUocGF0aCkpIHtcbiAgICB0cnkge1xuICAgICAgZnMuc3RhdFN5bmMocGF0aCk7XG4gICAgICByZXR1cm4gcGF0aDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIElnbm9yZSwgY29udGludWUgb25cbiAgICAgIC8vIHRvIHRyeWluZyByZWxhdGl2ZSBsb29rdXAuXG4gICAgICAvLyBOZWVkZWQgZm9yIHVybCgvaW1hZ2VzL2Zvby5wbmcpXG4gICAgICAvLyBmb3IgZXhhbXBsZVxuICAgIH1cbiAgfVxuXG4gIC8vIFJlbGF0aXZlXG4gIHdoaWxlIChpLS0pIHtcbiAgICB0cnkge1xuICAgICAgbG9va3VwID0gam9pbihwYXRoc1tpXSwgcGF0aCk7XG4gICAgICBpZiAoaWdub3JlID09IGxvb2t1cCkgY29udGludWU7XG4gICAgICBmcy5zdGF0U3luYyhsb29rdXApO1xuICAgICAgcmV0dXJuIGxvb2t1cDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIElnbm9yZVxuICAgIH1cbiAgfVxufTtcblxuLyoqXG4gKiBMaWtlIGB1dGlscy5sb29rdXBgIGJ1dCB1c2VzIGBnbG9iYCB0byBmaW5kIGZpbGVzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aHNcbiAqIEBwYXJhbSB7U3RyaW5nfSBpZ25vcmVcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQGFwaSBwcml2YXRlXG4gKi9cbmV4cG9ydHMuZmluZCA9IGZ1bmN0aW9uKHBhdGgsIHBhdGhzLCBpZ25vcmUpIHtcbiAgdmFyIGxvb2t1cFxuICAgICwgZm91bmRcbiAgICAsIGkgPSBwYXRocy5sZW5ndGg7XG5cbiAgLy8gQWJzb2x1dGVcbiAgaWYgKGV4cG9ydHMuYWJzb2x1dGUocGF0aCkpIHtcbiAgICBpZiAoKGZvdW5kID0gZ2xvYi5zeW5jKHBhdGgpKS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9XG4gIH1cblxuICAvLyBSZWxhdGl2ZVxuICB3aGlsZSAoaS0tKSB7XG4gICAgbG9va3VwID0gam9pbihwYXRoc1tpXSwgcGF0aCk7XG4gICAgaWYgKGlnbm9yZSA9PSBsb29rdXApIGNvbnRpbnVlO1xuICAgIGlmICgoZm91bmQgPSBnbG9iLnN5bmMobG9va3VwKSkubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIExvb2t1cCBpbmRleCBmaWxlIGluc2lkZSBkaXIgd2l0aCBnaXZlbiBgbmFtZWAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge0FycmF5fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5sb29rdXBJbmRleCA9IGZ1bmN0aW9uKG5hbWUsIHBhdGhzLCBmaWxlbmFtZSl7XG4gIC8vIGZvby9pbmRleC5zdHlsXG4gIHZhciBmb3VuZCA9IGV4cG9ydHMuZmluZChqb2luKG5hbWUsICdpbmRleC5zdHlsJyksIHBhdGhzLCBmaWxlbmFtZSk7XG4gIGlmICghZm91bmQpIHtcbiAgICAvLyBmb28vZm9vLnN0eWxcbiAgICBmb3VuZCA9IGV4cG9ydHMuZmluZChqb2luKG5hbWUsIGJhc2VuYW1lKG5hbWUpLnJlcGxhY2UoL1xcLnN0eWwvaSwgJycpICsgJy5zdHlsJyksIHBhdGhzLCBmaWxlbmFtZSk7XG4gIH1cbiAgaWYgKCFmb3VuZCAmJiAhfm5hbWUuaW5kZXhPZignbm9kZV9tb2R1bGVzJykpIHtcbiAgICAvLyBub2RlX21vZHVsZXMvZm9vLy4uIG9yIG5vZGVfbW9kdWxlcy9mb28uc3R5bC8uLlxuICAgIGZvdW5kID0gbG9va3VwUGFja2FnZShqb2luKCdub2RlX21vZHVsZXMnLCBuYW1lKSk7XG4gIH1cbiAgcmV0dXJuIGZvdW5kO1xuXG4gIGZ1bmN0aW9uIGxvb2t1cFBhY2thZ2UoZGlyKSB7XG4gICAgdmFyIHBrZyA9IGV4cG9ydHMubG9va3VwKGpvaW4oZGlyLCAncGFja2FnZS5qc29uJyksIHBhdGhzLCBmaWxlbmFtZSk7XG4gICAgaWYgKCFwa2cpIHtcbiAgICAgIHJldHVybiAvXFwuc3R5bCQvaS50ZXN0KGRpcikgPyBleHBvcnRzLmxvb2t1cEluZGV4KGRpciwgcGF0aHMsIGZpbGVuYW1lKSA6IGxvb2t1cFBhY2thZ2UoZGlyICsgJy5zdHlsJyk7XG4gICAgfVxuICAgIHZhciBtYWluID0gcmVxdWlyZShyZWxhdGl2ZShfX2Rpcm5hbWUsIHBrZykpLm1haW47XG4gICAgaWYgKG1haW4pIHtcbiAgICAgIGZvdW5kID0gZXhwb3J0cy5maW5kKGpvaW4oZGlyLCBtYWluKSwgcGF0aHMsIGZpbGVuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm91bmQgPSBleHBvcnRzLmxvb2t1cEluZGV4KGRpciwgcGF0aHMsIGZpbGVuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xuICB9XG59O1xuXG4vKipcbiAqIEZvcm1hdCB0aGUgZ2l2ZW4gYGVycmAgd2l0aCB0aGUgZ2l2ZW4gYG9wdGlvbnNgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogICAtIGBmaWxlbmFtZWAgICBjb250ZXh0IGZpbGVuYW1lXG4gKiAgIC0gYGNvbnRleHRgICAgIGNvbnRleHQgbGluZSBjb3VudCBbOF1cbiAqICAgLSBgbGluZW5vYCAgICAgY29udGV4dCBsaW5lIG51bWJlclxuICogICAtIGBjb2x1bW5gICAgICBjb250ZXh0IGNvbHVtbiBudW1iZXJcbiAqICAgLSBgaW5wdXRgICAgICAgICBpbnB1dCBzdHJpbmdcbiAqXG4gKiBAcGFyYW0ge0Vycm9yfSBlcnJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtFcnJvcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMuZm9ybWF0RXhjZXB0aW9uID0gZnVuY3Rpb24oZXJyLCBvcHRpb25zKXtcbiAgdmFyIGxpbmVubyA9IG9wdGlvbnMubGluZW5vXG4gICAgLCBjb2x1bW4gPSBvcHRpb25zLmNvbHVtblxuICAgICwgZmlsZW5hbWUgPSBvcHRpb25zLmZpbGVuYW1lXG4gICAgLCBzdHIgPSBvcHRpb25zLmlucHV0XG4gICAgLCBjb250ZXh0ID0gb3B0aW9ucy5jb250ZXh0IHx8IDhcbiAgICAsIGNvbnRleHQgPSBjb250ZXh0IC8gMlxuICAgICwgbGluZXMgPSAoJ1xcbicgKyBzdHIpLnNwbGl0KCdcXG4nKVxuICAgICwgc3RhcnQgPSBNYXRoLm1heChsaW5lbm8gLSBjb250ZXh0LCAxKVxuICAgICwgZW5kID0gTWF0aC5taW4obGluZXMubGVuZ3RoLCBsaW5lbm8gKyBjb250ZXh0KVxuICAgICwgcGFkID0gZW5kLnRvU3RyaW5nKCkubGVuZ3RoO1xuXG4gIHZhciBjb250ZXh0ID0gbGluZXMuc2xpY2Uoc3RhcnQsIGVuZCkubWFwKGZ1bmN0aW9uKGxpbmUsIGkpe1xuICAgIHZhciBjdXJyID0gaSArIHN0YXJ0O1xuICAgIHJldHVybiAnICAgJ1xuICAgICAgKyBBcnJheShwYWQgLSBjdXJyLnRvU3RyaW5nKCkubGVuZ3RoICsgMSkuam9pbignICcpXG4gICAgICArIGN1cnJcbiAgICAgICsgJ3wgJ1xuICAgICAgKyBsaW5lXG4gICAgICArIChjdXJyID09IGxpbmVub1xuICAgICAgICA/ICdcXG4nICsgQXJyYXkoY3Vyci50b1N0cmluZygpLmxlbmd0aCArIDUgKyBjb2x1bW4pLmpvaW4oJy0nKSArICdeJ1xuICAgICAgICA6ICcnKTtcbiAgfSkuam9pbignXFxuJyk7XG5cbiAgZXJyLm1lc3NhZ2UgPSBmaWxlbmFtZVxuICAgICsgJzonICsgbGluZW5vXG4gICAgKyAnOicgKyBjb2x1bW5cbiAgICArICdcXG4nICsgY29udGV4dFxuICAgICsgJ1xcblxcbicgKyBlcnIubWVzc2FnZSArICdcXG4nXG4gICAgKyAoZXJyLnN0eWx1c1N0YWNrID8gZXJyLnN0eWx1c1N0YWNrICsgJ1xcbicgOiAnJyk7XG5cbiAgLy8gRG9uJ3Qgc2hvdyBKUyBzdGFjayB0cmFjZSBmb3IgU3R5bHVzIGVycm9yc1xuICBpZiAoZXJyLmZyb21TdHlsdXMpIGVyci5zdGFjayA9ICdFcnJvcjogJyArIGVyci5tZXNzYWdlO1xuXG4gIHJldHVybiBlcnI7XG59O1xuXG4vKipcbiAqIEFzc2VydCB0aGF0IGBub2RlYCBpcyBvZiB0aGUgZ2l2ZW4gYHR5cGVgLCBvciB0aHJvdy5cbiAqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHR5cGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXJhbVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmFzc2VydFR5cGUgPSBmdW5jdGlvbihub2RlLCB0eXBlLCBwYXJhbSl7XG4gIGV4cG9ydHMuYXNzZXJ0UHJlc2VudChub2RlLCBwYXJhbSk7XG4gIGlmIChub2RlLm5vZGVOYW1lID09IHR5cGUpIHJldHVybjtcbiAgdmFyIGFjdHVhbCA9IG5vZGUubm9kZU5hbWVcbiAgICAsIG1zZyA9ICdleHBlY3RlZCAnXG4gICAgICArIChwYXJhbSA/ICdcIicgKyBwYXJhbSArICdcIiB0byBiZSBhICcgOiAgJycpXG4gICAgICArIHR5cGUgKyAnLCBidXQgZ290ICdcbiAgICAgICsgYWN0dWFsICsgJzonICsgbm9kZTtcbiAgdGhyb3cgbmV3IEVycm9yKCdUeXBlRXJyb3I6ICcgKyBtc2cpO1xufTtcblxuLyoqXG4gKiBBc3NlcnQgdGhhdCBgbm9kZWAgaXMgYSBgU3RyaW5nYCBvciBgSWRlbnRgLlxuICpcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHBhcmFtIHtTdHJpbmd9IHBhcmFtXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuYXNzZXJ0U3RyaW5nID0gZnVuY3Rpb24obm9kZSwgcGFyYW0pe1xuICBleHBvcnRzLmFzc2VydFByZXNlbnQobm9kZSwgcGFyYW0pO1xuICBzd2l0Y2ggKG5vZGUubm9kZU5hbWUpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgIGNhc2UgJ2lkZW50JzpcbiAgICBjYXNlICdsaXRlcmFsJzpcbiAgICAgIHJldHVybjtcbiAgICBkZWZhdWx0OlxuICAgICAgdmFyIGFjdHVhbCA9IG5vZGUubm9kZU5hbWVcbiAgICAgICAgLCBtc2cgPSAnZXhwZWN0ZWQgc3RyaW5nLCBpZGVudCBvciBsaXRlcmFsLCBidXQgZ290ICcgKyBhY3R1YWwgKyAnOicgKyBub2RlO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUeXBlRXJyb3I6ICcgKyBtc2cpO1xuICB9XG59O1xuXG4vKipcbiAqIEFzc2VydCB0aGF0IGBub2RlYCBpcyBhIGBSR0JBYCBvciBgSFNMQWAuXG4gKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcGFyYW0ge1N0cmluZ30gcGFyYW1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5hc3NlcnRDb2xvciA9IGZ1bmN0aW9uKG5vZGUsIHBhcmFtKXtcbiAgZXhwb3J0cy5hc3NlcnRQcmVzZW50KG5vZGUsIHBhcmFtKTtcbiAgc3dpdGNoIChub2RlLm5vZGVOYW1lKSB7XG4gICAgY2FzZSAncmdiYSc6XG4gICAgY2FzZSAnaHNsYSc6XG4gICAgICByZXR1cm47XG4gICAgZGVmYXVsdDpcbiAgICAgIHZhciBhY3R1YWwgPSBub2RlLm5vZGVOYW1lXG4gICAgICAgICwgbXNnID0gJ2V4cGVjdGVkIHJnYmEgb3IgaHNsYSwgYnV0IGdvdCAnICsgYWN0dWFsICsgJzonICsgbm9kZTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVHlwZUVycm9yOiAnICsgbXNnKTtcbiAgfVxufTtcblxuLyoqXG4gKiBBc3NlcnQgdGhhdCBwYXJhbSBgbmFtZWAgaXMgZ2l2ZW4sIGFrYSB0aGUgYG5vZGVgIGlzIHBhc3NlZC5cbiAqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuYXNzZXJ0UHJlc2VudCA9IGZ1bmN0aW9uKG5vZGUsIG5hbWUpe1xuICBpZiAobm9kZSkgcmV0dXJuO1xuICBpZiAobmFtZSkgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBuYW1lICsgJ1wiIGFyZ3VtZW50IHJlcXVpcmVkJyk7XG4gIHRocm93IG5ldyBFcnJvcignYXJndW1lbnQgbWlzc2luZycpO1xufTtcblxuLyoqXG4gKiBVbndyYXAgYGV4cHJgLlxuICpcbiAqIFRha2VzIGFuIGV4cHJlc3Npb25zIHdpdGggbGVuZ3RoIG9mIDFcbiAqIHN1Y2ggYXMgYCgoMSAyIDMpKWAgYW5kIHVud3JhcHMgaXQgdG8gYCgxIDIgMylgLlxuICpcbiAqIEBwYXJhbSB7RXhwcmVzc2lvbn0gZXhwclxuICogQHJldHVybiB7Tm9kZX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy51bndyYXAgPSBmdW5jdGlvbihleHByKXtcbiAgLy8gZXhwbGljaXRseSBwcmVzZXJ2ZSB0aGUgZXhwcmVzc2lvblxuICBpZiAoZXhwci5wcmVzZXJ2ZSkgcmV0dXJuIGV4cHI7XG4gIGlmICgnYXJndW1lbnRzJyAhPSBleHByLm5vZGVOYW1lICYmICdleHByZXNzaW9uJyAhPSBleHByLm5vZGVOYW1lKSByZXR1cm4gZXhwcjtcbiAgaWYgKDEgIT0gZXhwci5ub2Rlcy5sZW5ndGgpIHJldHVybiBleHByO1xuICBpZiAoJ2FyZ3VtZW50cycgIT0gZXhwci5ub2Rlc1swXS5ub2RlTmFtZSAmJiAnZXhwcmVzc2lvbicgIT0gZXhwci5ub2Rlc1swXS5ub2RlTmFtZSkgcmV0dXJuIGV4cHI7XG4gIHJldHVybiBleHBvcnRzLnVud3JhcChleHByLm5vZGVzWzBdKTtcbn07XG5cbi8qKlxuICogQ29lcmNlIEphdmFTY3JpcHQgdmFsdWVzIHRvIHRoZWlyIFN0eWx1cyBlcXVpdmFsZW50cy5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSB2YWxcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3Jhd11cbiAqIEByZXR1cm4ge05vZGV9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuY29lcmNlID0gZnVuY3Rpb24odmFsLCByYXcpe1xuICBzd2l0Y2ggKHR5cGVvZiB2YWwpIHtcbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICByZXR1cm4gdmFsO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gbmV3IG5vZGVzLlN0cmluZyh2YWwpO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIG5ldyBub2Rlcy5Cb29sZWFuKHZhbCk7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBuZXcgbm9kZXMuVW5pdCh2YWwpO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAobnVsbCA9PSB2YWwpIHJldHVybiBub2Rlcy5udWxsO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsKSkgcmV0dXJuIGV4cG9ydHMuY29lcmNlQXJyYXkodmFsLCByYXcpO1xuICAgICAgaWYgKHZhbC5ub2RlTmFtZSkgcmV0dXJuIHZhbDtcbiAgICAgIHJldHVybiBleHBvcnRzLmNvZXJjZU9iamVjdCh2YWwsIHJhdyk7XG4gIH1cbn07XG5cbi8qKlxuICogQ29lcmNlIGEgamF2YXNjcmlwdCBgQXJyYXlgIHRvIGEgU3R5bHVzIGBFeHByZXNzaW9uYC5cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSB2YWxcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3Jhd11cbiAqIEByZXR1cm4ge0V4cHJlc3Npb259XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLmNvZXJjZUFycmF5ID0gZnVuY3Rpb24odmFsLCByYXcpe1xuICB2YXIgZXhwciA9IG5ldyBub2Rlcy5FeHByZXNzaW9uO1xuICB2YWwuZm9yRWFjaChmdW5jdGlvbih2YWwpe1xuICAgIGV4cHIucHVzaChleHBvcnRzLmNvZXJjZSh2YWwsIHJhdykpO1xuICB9KTtcbiAgcmV0dXJuIGV4cHI7XG59O1xuXG4vKipcbiAqIENvZXJjZSBhIGphdmFzY3JpcHQgb2JqZWN0IHRvIGEgU3R5bHVzIGBFeHByZXNzaW9uYCBvciBgT2JqZWN0YC5cbiAqXG4gKiBGb3IgZXhhbXBsZSBgeyBmb286ICdiYXInLCBiYXI6ICdiYXonIH1gIHdvdWxkIGJlY29tZVxuICogdGhlIGV4cHJlc3Npb24gYChmb28gJ2JhcicpIChiYXIgJ2JheicpYC4gSWYgYHJhd2AgaXMgdHJ1ZVxuICogZ2l2ZW4gYG9iamAgd291bGQgYmVjb21lIGEgU3R5bHVzIGhhc2ggb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmpcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW3Jhd11cbiAqIEByZXR1cm4ge0V4cHJlc3Npb258T2JqZWN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5leHBvcnRzLmNvZXJjZU9iamVjdCA9IGZ1bmN0aW9uKG9iaiwgcmF3KXtcbiAgdmFyIG5vZGUgPSByYXcgPyBuZXcgbm9kZXMuT2JqZWN0IDogbmV3IG5vZGVzLkV4cHJlc3Npb25cbiAgICAsIHZhbDtcblxuICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgdmFsID0gZXhwb3J0cy5jb2VyY2Uob2JqW2tleV0sIHJhdyk7XG4gICAga2V5ID0gbmV3IG5vZGVzLklkZW50KGtleSk7XG4gICAgaWYgKHJhdykge1xuICAgICAgbm9kZS5zZXQoa2V5LCB2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBub2RlLnB1c2goZXhwb3J0cy5jb2VyY2VBcnJheShba2V5LCB2YWxdKSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG5vZGU7XG59O1xuXG4vKipcbiAqIFJldHVybiBwYXJhbSBuYW1lcyBmb3IgYGZuYC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7QXJyYXl9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5leHBvcnRzLnBhcmFtcyA9IGZ1bmN0aW9uKGZuKXtcbiAgcmV0dXJuIGZuXG4gICAgLnRvU3RyaW5nKClcbiAgICAubWF0Y2goL1xcKChbXildKilcXCkvKVsxXS5zcGxpdCgvICosICovKTtcbn07XG5cbi8qKlxuICogTWVyZ2Ugb2JqZWN0IGBiYCB3aXRoIGBhYC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gYVxuICogQHBhcmFtIHtPYmplY3R9IGJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gW2RlZXBdXG4gKiBAcmV0dXJuIHtPYmplY3R9IGFcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5leHBvcnRzLm1lcmdlID0gZnVuY3Rpb24oYSwgYiwgZGVlcCkge1xuICBmb3IgKHZhciBrIGluIGIpIHtcbiAgICBpZiAoZGVlcCAmJiBhW2tdKSB7XG4gICAgICB2YXIgbm9kZUEgPSBleHBvcnRzLnVud3JhcChhW2tdKS5maXJzdFxuICAgICAgICAsIG5vZGVCID0gZXhwb3J0cy51bndyYXAoYltrXSkuZmlyc3Q7XG5cbiAgICAgIGlmICgnb2JqZWN0JyA9PSBub2RlQS5ub2RlTmFtZSAmJiAnb2JqZWN0JyA9PSBub2RlQi5ub2RlTmFtZSkge1xuICAgICAgICBhW2tdLmZpcnN0LnZhbHMgPSBleHBvcnRzLm1lcmdlKG5vZGVBLnZhbHMsIG5vZGVCLnZhbHMsIGRlZXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYVtrXSA9IGJba107XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGFba10gPSBiW2tdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYTtcbn07XG5cbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSB3aXRoIHVuaXF1ZSB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIHtBcnJheX0gYXJyXG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMudW5pcSA9IGZ1bmN0aW9uKGFycil7XG4gIHZhciBvYmogPSB7fVxuICAgICwgcmV0ID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgIGlmIChhcnJbaV0gaW4gb2JqKSBjb250aW51ZTtcblxuICAgIG9ialthcnJbaV1dID0gdHJ1ZTtcbiAgICByZXQucHVzaChhcnJbaV0pO1xuICB9XG4gIHJldHVybiByZXQ7XG59O1xuXG4vKipcbiAqIENvbXBpbGUgc2VsZWN0b3Igc3RyaW5ncyBpbiBgYXJyYCBmcm9tIHRoZSBib3R0b20tdXBcbiAqIHRvIHByb2R1Y2UgdGhlIHNlbGVjdG9yIGNvbWJpbmF0aW9ucy4gRm9yIGV4YW1wbGVcbiAqIHRoZSBmb2xsb3dpbmcgU3R5bHVzOlxuICpcbiAqICAgIHVsXG4gKiAgICAgIGxpXG4gKiAgICAgIHBcbiAqICAgICAgICBhXG4gKiAgICAgICAgICBjb2xvcjogcmVkXG4gKlxuICogV291bGQgcmV0dXJuOlxuICpcbiAqICAgICAgWyAndWwgbGkgYScsICd1bCBwIGEnIF1cbiAqXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gbGVhdmVIaWRkZW5cbiAqIEByZXR1cm4ge0FycmF5fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZXhwb3J0cy5jb21waWxlU2VsZWN0b3JzID0gZnVuY3Rpb24oYXJyLCBsZWF2ZUhpZGRlbil7XG4gIHZhciBzZWxlY3RvcnMgPSBbXVxuICAgICwgUGFyc2VyID0gcmVxdWlyZSgnLi9zZWxlY3Rvci1wYXJzZXInKVxuICAgICwgaW5kZW50ID0gKHRoaXMuaW5kZW50IHx8ICcnKVxuICAgICwgYnVmID0gW107XG5cbiAgZnVuY3Rpb24gcGFyc2Uoc2VsZWN0b3IsIGJ1Zikge1xuICAgIHZhciBwYXJ0cyA9IFtzZWxlY3Rvci52YWxdXG4gICAgICAsIHN0ciA9IG5ldyBQYXJzZXIocGFydHNbMF0sIHBhcmVudHMsIHBhcnRzKS5wYXJzZSgpLnZhbFxuICAgICAgLCBwYXJlbnRzID0gW107XG5cbiAgICBpZiAoYnVmLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJ1Zi5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICBwYXJ0cy5wdXNoKGJ1ZltpXSk7XG4gICAgICAgIHBhcmVudHMucHVzaChzdHIpO1xuICAgICAgICB2YXIgY2hpbGQgPSBuZXcgUGFyc2VyKGJ1ZltpXSwgcGFyZW50cywgcGFydHMpLnBhcnNlKCk7XG5cbiAgICAgICAgaWYgKGNoaWxkLm5lc3RlZCkge1xuICAgICAgICAgIHN0ciArPSAnICcgKyBjaGlsZC52YWw7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3RyID0gY2hpbGQudmFsO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdHIudHJpbSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tcGlsZShhcnIsIGkpIHtcbiAgICBpZiAoaSkge1xuICAgICAgYXJyW2ldLmZvckVhY2goZnVuY3Rpb24oc2VsZWN0b3Ipe1xuICAgICAgICBpZiAoIWxlYXZlSGlkZGVuICYmIHNlbGVjdG9yLmlzUGxhY2Vob2xkZXIpIHJldHVybjtcbiAgICAgICAgaWYgKHNlbGVjdG9yLmluaGVyaXRzKSB7XG4gICAgICAgICAgYnVmLnVuc2hpZnQoc2VsZWN0b3IudmFsKTtcbiAgICAgICAgICBjb21waWxlKGFyciwgaSAtIDEpO1xuICAgICAgICAgIGJ1Zi5zaGlmdCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdG9ycy5wdXNoKGluZGVudCArIHBhcnNlKHNlbGVjdG9yLCBidWYpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFyclswXS5mb3JFYWNoKGZ1bmN0aW9uKHNlbGVjdG9yKXtcbiAgICAgICAgaWYgKCFsZWF2ZUhpZGRlbiAmJiBzZWxlY3Rvci5pc1BsYWNlaG9sZGVyKSByZXR1cm47XG4gICAgICAgIHZhciBzdHIgPSBwYXJzZShzZWxlY3RvciwgYnVmKTtcbiAgICAgICAgaWYgKHN0cikgc2VsZWN0b3JzLnB1c2goaW5kZW50ICsgc3RyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbXBpbGUoYXJyLCBhcnIubGVuZ3RoIC0gMSk7XG5cbiAgLy8gUmV0dXJuIHRoZSBsaXN0IHdpdGggdW5pcXVlIHNlbGVjdG9ycyBvbmx5XG4gIHJldHVybiBleHBvcnRzLnVuaXEoc2VsZWN0b3JzKTtcbn07XG5cbi8qKlxuICogQXR0ZW1wdCB0byBwYXJzZSBzdHJpbmcuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7Tm9kZX1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmV4cG9ydHMucGFyc2VTdHJpbmcgPSBmdW5jdGlvbihzdHIpe1xuICB2YXIgUGFyc2VyID0gcmVxdWlyZSgnLi9wYXJzZXInKVxuICAgICwgcGFyc2VyXG4gICAgLCByZXQ7XG5cbiAgdHJ5IHtcbiAgICBwYXJzZXIgPSBuZXcgUGFyc2VyKHN0cik7XG4gICAgcmV0ID0gcGFyc2VyLmxpc3QoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldCA9IG5ldyBub2Rlcy5MaXRlcmFsKHN0cik7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn07XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpO1xuXG4vKipcbiAqIEFkZCBwcm9wZXJ0eSBgbmFtZWAgd2l0aCB0aGUgZ2l2ZW4gYGV4cHJgXG4gKiB0byB0aGUgbWl4aW4tYWJsZSBibG9jay5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xJZGVudHxMaXRlcmFsfSBuYW1lXG4gKiBAcGFyYW0ge0V4cHJlc3Npb259IGV4cHJcbiAqIEByZXR1cm4ge1Byb3BlcnR5fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhZGRQcm9wZXJ0eShuYW1lLCBleHByKXtcbiAgdXRpbHMuYXNzZXJ0VHlwZShuYW1lLCAnZXhwcmVzc2lvbicsICduYW1lJyk7XG4gIG5hbWUgPSB1dGlscy51bndyYXAobmFtZSkuZmlyc3Q7XG4gIHV0aWxzLmFzc2VydFN0cmluZyhuYW1lLCAnbmFtZScpO1xuICB1dGlscy5hc3NlcnRUeXBlKGV4cHIsICdleHByZXNzaW9uJywgJ2V4cHInKTtcbiAgdmFyIHByb3AgPSBuZXcgbm9kZXMuUHJvcGVydHkoW25hbWVdLCBleHByKTtcbiAgdmFyIGJsb2NrID0gdGhpcy5jbG9zZXN0QmxvY2s7XG5cbiAgdmFyIGxlbiA9IGJsb2NrLm5vZGVzLmxlbmd0aFxuICAgICwgaGVhZCA9IGJsb2NrLm5vZGVzLnNsaWNlKDAsIGJsb2NrLmluZGV4KVxuICAgICwgdGFpbCA9IGJsb2NrLm5vZGVzLnNsaWNlKGJsb2NrLmluZGV4KyssIGxlbik7XG4gIGhlYWQucHVzaChwcm9wKTtcbiAgYmxvY2subm9kZXMgPSBoZWFkLmNvbmNhdCh0YWlsKTtcblxuICByZXR1cm4gcHJvcDtcbn0pLnJhdyA9IHRydWU7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIEFkanVzdCBIU0wgYGNvbG9yYCBgcHJvcGAgYnkgYGFtb3VudGAuXG4gKlxuICogQHBhcmFtIHtSR0JBfEhTTEF9IGNvbG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gcHJvcFxuICogQHBhcmFtIHtVbml0fSBhbW91bnRcbiAqIEByZXR1cm4ge1JHQkF9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBhZGp1c3QoY29sb3IsIHByb3AsIGFtb3VudCl7XG4gIHV0aWxzLmFzc2VydENvbG9yKGNvbG9yLCAnY29sb3InKTtcbiAgdXRpbHMuYXNzZXJ0U3RyaW5nKHByb3AsICdwcm9wJyk7XG4gIHV0aWxzLmFzc2VydFR5cGUoYW1vdW50LCAndW5pdCcsICdhbW91bnQnKTtcbiAgdmFyIGhzbCA9IGNvbG9yLmhzbGEuY2xvbmUoKTtcbiAgcHJvcCA9IHsgaHVlOiAnaCcsIHNhdHVyYXRpb246ICdzJywgbGlnaHRuZXNzOiAnbCcgfVtwcm9wLnN0cmluZ107XG4gIGlmICghcHJvcCkgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGFkanVzdG1lbnQgcHJvcGVydHknKTtcbiAgdmFyIHZhbCA9IGFtb3VudC52YWw7XG4gIGlmICgnJScgPT0gYW1vdW50LnR5cGUpe1xuICAgIHZhbCA9ICdsJyA9PSBwcm9wICYmIHZhbCA+IDBcbiAgICAgID8gKDEwMCAtIGhzbFtwcm9wXSkgKiB2YWwgLyAxMDBcbiAgICAgIDogaHNsW3Byb3BdICogKHZhbCAvIDEwMCk7XG4gIH1cbiAgaHNsW3Byb3BdICs9IHZhbDtcbiAgcmV0dXJuIGhzbC5yZ2JhO1xufTtcbmFkanVzdC5wYXJhbXMgPSBbJ2NvbG9yJywgJ3Byb3AnLCAnYW1vdW50J107XG5tb2R1bGUuZXhwb3J0cyA9IGFkanVzdDtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJyk7XG5cbi8qKlxuICogUmV0dXJuIGEgYFJHQkFgIGZyb20gdGhlIHIsZyxiLGEgY2hhbm5lbHMuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgcmdiYSgyNTUsMCwwLDAuNSlcbiAqICAgIC8vID0+IHJnYmEoMjU1LDAsMCwwLjUpXG4gKlxuICogICAgcmdiYSgyNTUsMCwwLDEpXG4gKiAgICAvLyA9PiAjZmYwMDAwXG4gKlxuICogICAgcmdiYSgjZmZjYzAwLCA1MCUpXG4gKiAgICAvLyByZ2JhKDI1NSwyMDQsMCwwLjUpXG4gKlxuICogQHBhcmFtIHtVbml0fFJHQkF8SFNMQX0gcmVkXG4gKiBAcGFyYW0ge1VuaXR9IGdyZWVuXG4gKiBAcGFyYW0ge1VuaXR9IGJsdWVcbiAqIEBwYXJhbSB7VW5pdH0gYWxwaGFcbiAqIEByZXR1cm4ge1JHQkF9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHJnYmEocmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEpe1xuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBjYXNlIDE6XG4gICAgICB1dGlscy5hc3NlcnRDb2xvcihyZWQpO1xuICAgICAgcmV0dXJuIHJlZC5yZ2JhO1xuICAgIGNhc2UgMjpcbiAgICAgIHV0aWxzLmFzc2VydENvbG9yKHJlZCk7XG4gICAgICB2YXIgY29sb3IgPSByZWQucmdiYTtcbiAgICAgIHV0aWxzLmFzc2VydFR5cGUoZ3JlZW4sICd1bml0JywgJ2FscGhhJyk7XG4gICAgICBhbHBoYSA9IGdyZWVuLmNsb25lKCk7XG4gICAgICBpZiAoJyUnID09IGFscGhhLnR5cGUpIGFscGhhLnZhbCAvPSAxMDA7XG4gICAgICByZXR1cm4gbmV3IG5vZGVzLlJHQkEoXG4gICAgICAgICAgY29sb3IuclxuICAgICAgICAsIGNvbG9yLmdcbiAgICAgICAgLCBjb2xvci5iXG4gICAgICAgICwgYWxwaGEudmFsKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdXRpbHMuYXNzZXJ0VHlwZShyZWQsICd1bml0JywgJ3JlZCcpO1xuICAgICAgdXRpbHMuYXNzZXJ0VHlwZShncmVlbiwgJ3VuaXQnLCAnZ3JlZW4nKTtcbiAgICAgIHV0aWxzLmFzc2VydFR5cGUoYmx1ZSwgJ3VuaXQnLCAnYmx1ZScpO1xuICAgICAgdXRpbHMuYXNzZXJ0VHlwZShhbHBoYSwgJ3VuaXQnLCAnYWxwaGEnKTtcbiAgICAgIHZhciByID0gJyUnID09IHJlZC50eXBlID8gTWF0aC5yb3VuZChyZWQudmFsICogMi41NSkgOiByZWQudmFsXG4gICAgICAgICwgZyA9ICclJyA9PSBncmVlbi50eXBlID8gTWF0aC5yb3VuZChncmVlbi52YWwgKiAyLjU1KSA6IGdyZWVuLnZhbFxuICAgICAgICAsIGIgPSAnJScgPT0gYmx1ZS50eXBlID8gTWF0aC5yb3VuZChibHVlLnZhbCAqIDIuNTUpIDogYmx1ZS52YWw7XG5cbiAgICAgIGFscGhhID0gYWxwaGEuY2xvbmUoKTtcbiAgICAgIGlmIChhbHBoYSAmJiAnJScgPT0gYWxwaGEudHlwZSkgYWxwaGEudmFsIC89IDEwMDtcbiAgICAgIHJldHVybiBuZXcgbm9kZXMuUkdCQShcbiAgICAgICAgICByXG4gICAgICAgICwgZ1xuICAgICAgICAsIGJcbiAgICAgICAgLCBhbHBoYS52YWwpO1xuICB9XG59XG5yZ2JhLnBhcmFtcyA9IFsncmVkJywgJ2dyZWVuJywgJ2JsdWUnLCAnYWxwaGEnXTtcbm1vZHVsZS5leHBvcnRzID0gcmdiYTtcbiIsCiAgInZhciBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJylcbiAgLCByZ2JhID0gcmVxdWlyZSgnLi9yZ2JhJyk7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBhbHBoYSBjb21wb25lbnQgb2YgdGhlIGdpdmVuIGBjb2xvcmAsXG4gKiBvciBzZXQgdGhlIGFscGhhIGNvbXBvbmVudCB0byB0aGUgb3B0aW9uYWwgc2Vjb25kIGB2YWx1ZWAgYXJndW1lbnQuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgYWxwaGEoI2ZmZilcbiAqICAgIC8vID0+IDFcbiAqXG4gKiAgICBhbHBoYShyZ2JhKDAsMCwwLDAuMykpXG4gKiAgICAvLyA9PiAwLjNcbiAqXG4gKiAgICBhbHBoYSgjZmZmLCAwLjUpXG4gKiAgICAvLyA9PiByZ2JhKDI1NSwyNTUsMjU1LDAuNSlcbiAqXG4gKiBAcGFyYW0ge1JHQkF8SFNMQX0gY29sb3JcbiAqIEBwYXJhbSB7VW5pdH0gW3ZhbHVlXVxuICogQHJldHVybiB7VW5pdHxSR0JBfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBhbHBoYShjb2xvciwgdmFsdWUpe1xuICBjb2xvciA9IGNvbG9yLnJnYmE7XG4gIGlmICh2YWx1ZSkge1xuICAgIHJldHVybiByZ2JhKFxuICAgICAgbmV3IG5vZGVzLlVuaXQoY29sb3IuciksXG4gICAgICBuZXcgbm9kZXMuVW5pdChjb2xvci5nKSxcbiAgICAgIG5ldyBub2Rlcy5Vbml0KGNvbG9yLmIpLFxuICAgICAgdmFsdWVcbiAgICApO1xuICB9XG4gIHJldHVybiBuZXcgbm9kZXMuVW5pdChjb2xvci5hLCAnJyk7XG59O1xuYWxwaGEucGFyYW1zID0gWydjb2xvcicsICd2YWx1ZSddO1xubW9kdWxlLmV4cG9ydHMgPSBhbHBoYTtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJyk7XG5cbi8qKlxuICogUmV0dXJuIGEgYExpdGVyYWxgIGBudW1gIGNvbnZlcnRlZCB0byB0aGUgcHJvdmlkZWQgYGJhc2VgLCBwYWRkZWQgdG8gYHdpZHRoYFxuICogd2l0aCB6ZXJvZXMgKGRlZmF1bHQgd2lkdGggaXMgMilcbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbnVtXG4gKiBAcGFyYW0ge051bWJlcn0gYmFzZVxuICogQHBhcmFtIHtOdW1iZXJ9IHdpZHRoXG4gKiBAcmV0dXJuIHtMaXRlcmFsfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihudW0sIGJhc2UsIHdpZHRoKSB7XG4gIHV0aWxzLmFzc2VydFByZXNlbnQobnVtLCAnbnVtYmVyJyk7XG4gIHV0aWxzLmFzc2VydFByZXNlbnQoYmFzZSwgJ2Jhc2UnKTtcbiAgbnVtID0gdXRpbHMudW53cmFwKG51bSkubm9kZXNbMF0udmFsO1xuICBiYXNlID0gdXRpbHMudW53cmFwKGJhc2UpLm5vZGVzWzBdLnZhbDtcbiAgd2lkdGggPSAod2lkdGggJiYgdXRpbHMudW53cmFwKHdpZHRoKS5ub2Rlc1swXS52YWwpIHx8IDI7XG4gIHZhciByZXN1bHQgPSBOdW1iZXIobnVtKS50b1N0cmluZyhiYXNlKTtcbiAgd2hpbGUgKHJlc3VsdC5sZW5ndGggPCB3aWR0aCkge1xuICAgIHJlc3VsdCA9ICcwJyArIHJlc3VsdDtcbiAgfVxuICByZXR1cm4gbmV3IG5vZGVzLkxpdGVyYWwocmVzdWx0KTtcbn0pLnJhdyA9IHRydWU7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGJhc2VuYW1lIG9mIGBwYXRoYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aFxuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBiYXNlbmFtZShwLCBleHQpe1xuICB1dGlscy5hc3NlcnRTdHJpbmcocCwgJ3BhdGgnKTtcbiAgcmV0dXJuIHBhdGguYmFzZW5hbWUocC52YWwsIGV4dCAmJiBleHQudmFsKTtcbn07XG5iYXNlbmFtZS5wYXJhbXMgPSBbJ3AnLCAnZXh0J107XG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VuYW1lO1xuIiwKICAidmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKTtcblxuLyoqXG4gKiBCbGVuZCB0aGUgYHRvcGAgY29sb3Igb3ZlciB0aGUgYGJvdHRvbWBcbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgYmxlbmQocmdiYSgjRkZGLCAwLjUpLCAjMDAwKVxuICogICAgIC8vID0+ICM4MDgwODBcbiAqIFxuICogICAgIGJsZW5kKHJnYmEoI0ZGREUwMCwuNDIpLCAjMTlDMjYxKVxuICogICAgIC8vID0+ICM3YWNlMzhcbiAqIFxuICogICAgIGJsZW5kKHJnYmEobGltZSwgMC41KSwgcmdiYShyZWQsIDAuMjUpKVxuICogICAgIC8vID0+IHJnYmEoMTI4LDEyOCwwLDAuNjI1KVxuICpcbiAqIEBwYXJhbSB7UkdCQXxIU0xBfSB0b3BcbiAqIEBwYXJhbSB7UkdCQXxIU0xBfSBbYm90dG9tPSNmZmZdXG4gKiBAcmV0dXJuIHtSR0JBfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBibGVuZCh0b3AsIGJvdHRvbSl7XG4gIC8vIFRPRE86IGRpZmZlcmVudCBibGVuZCBtb2RlcyBsaWtlIG92ZXJsYXkgZXRjLlxuICB1dGlscy5hc3NlcnRDb2xvcih0b3ApO1xuICB0b3AgPSB0b3AucmdiYTtcbiAgYm90dG9tID0gYm90dG9tIHx8IG5ldyBub2Rlcy5SR0JBKDI1NSwgMjU1LCAyNTUsIDEpO1xuICB1dGlscy5hc3NlcnRDb2xvcihib3R0b20pO1xuICBib3R0b20gPSBib3R0b20ucmdiYTtcblxuICByZXR1cm4gbmV3IG5vZGVzLlJHQkEoXG4gICAgdG9wLnIgKiB0b3AuYSArIGJvdHRvbS5yICogKDEgLSB0b3AuYSksXG4gICAgdG9wLmcgKiB0b3AuYSArIGJvdHRvbS5nICogKDEgLSB0b3AuYSksXG4gICAgdG9wLmIgKiB0b3AuYSArIGJvdHRvbS5iICogKDEgLSB0b3AuYSksXG4gICAgdG9wLmEgKyBib3R0b20uYSAtIHRvcC5hICogYm90dG9tLmEpO1xufTtcbmJsZW5kLnBhcmFtcyA9IFsndG9wJywgJ2JvdHRvbSddO1xubW9kdWxlLmV4cG9ydHMgPSBibGVuZDtcbiIsCiAgInZhciBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJylcbiAgLCByZ2JhID0gcmVxdWlyZSgnLi9yZ2JhJyk7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBibHVlIGNvbXBvbmVudCBvZiB0aGUgZ2l2ZW4gYGNvbG9yYCxcbiAqIG9yIHNldCB0aGUgYmx1ZSBjb21wb25lbnQgdG8gdGhlIG9wdGlvbmFsIHNlY29uZCBgdmFsdWVgIGFyZ3VtZW50LlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIGJsdWUoIzAwYylcbiAqICAgIC8vID0+IDIwNFxuICpcbiAqICAgIGJsdWUoIzAwMCwgMjU1KVxuICogICAgLy8gPT4gIzAwZlxuICpcbiAqIEBwYXJhbSB7UkdCQXxIU0xBfSBjb2xvclxuICogQHBhcmFtIHtVbml0fSBbdmFsdWVdXG4gKiBAcmV0dXJuIHtVbml0fFJHQkF9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGJsdWUoY29sb3IsIHZhbHVlKXtcbiAgY29sb3IgPSBjb2xvci5yZ2JhO1xuICBpZiAodmFsdWUpIHtcbiAgICByZXR1cm4gcmdiYShcbiAgICAgIG5ldyBub2Rlcy5Vbml0KGNvbG9yLnIpLFxuICAgICAgbmV3IG5vZGVzLlVuaXQoY29sb3IuZyksXG4gICAgICB2YWx1ZSxcbiAgICAgIG5ldyBub2Rlcy5Vbml0KGNvbG9yLmEpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gbmV3IG5vZGVzLlVuaXQoY29sb3IuYiwgJycpO1xufTtcbmJsdWUucGFyYW1zID0gWydjb2xvcicsICd2YWx1ZSddO1xubW9kdWxlLmV4cG9ydHMgPSBibHVlO1xuIiwKICAidmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBSZXR1cm4gYSBjbG9uZSBvZiB0aGUgZ2l2ZW4gYGV4cHJgLlxuICpcbiAqIEBwYXJhbSB7RXhwcmVzc2lvbn0gZXhwclxuICogQHJldHVybiB7Tm9kZX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY2xvbmUoZXhwcil7XG4gIHV0aWxzLmFzc2VydFByZXNlbnQoZXhwciwgJ2V4cHInKTtcbiAgcmV0dXJuIGV4cHIuY2xvbmUoKTtcbn0pLnJhdyA9IHRydWU7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpO1xuXG4vKipcbiAqIENvbG9yIGNvbXBvbmVudCBuYW1lIG1hcC5cbiAqL1xuXG52YXIgY29tcG9uZW50TWFwID0ge1xuICAgIHJlZDogJ3InXG4gICwgZ3JlZW46ICdnJ1xuICAsIGJsdWU6ICdiJ1xuICAsIGFscGhhOiAnYSdcbiAgLCBodWU6ICdoJ1xuICAsIHNhdHVyYXRpb246ICdzJ1xuICAsIGxpZ2h0bmVzczogJ2wnXG59O1xuXG4vKipcbiAqIENvbG9yIGNvbXBvbmVudCB1bml0IHR5cGUgbWFwLlxuICovXG5cbnZhciB1bml0TWFwID0ge1xuICAgIGh1ZTogJ2RlZydcbiAgLCBzYXR1cmF0aW9uOiAnJSdcbiAgLCBsaWdodG5lc3M6ICclJ1xufTtcblxuLyoqXG4gKiBDb2xvciB0eXBlIG1hcC5cbiAqL1xuXG52YXIgdHlwZU1hcCA9IHtcbiAgICByZWQ6ICdyZ2JhJ1xuICAsIGJsdWU6ICdyZ2JhJ1xuICAsIGdyZWVuOiAncmdiYSdcbiAgLCBhbHBoYTogJ3JnYmEnXG4gICwgaHVlOiAnaHNsYSdcbiAgLCBzYXR1cmF0aW9uOiAnaHNsYSdcbiAgLCBsaWdodG5lc3M6ICdoc2xhJ1xufTtcblxuLyoqXG4gKiBSZXR1cm4gY29tcG9uZW50IGBuYW1lYCBmb3IgdGhlIGdpdmVuIGBjb2xvcmAuXG4gKlxuICogQHBhcmFtIHtSR0JBfEhTTEF9IGNvbG9yXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7VW5pdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gY29tcG9uZW50KGNvbG9yLCBuYW1lKSB7XG4gIHV0aWxzLmFzc2VydENvbG9yKGNvbG9yLCAnY29sb3InKTtcbiAgdXRpbHMuYXNzZXJ0U3RyaW5nKG5hbWUsICduYW1lJyk7XG4gIHZhciBuYW1lID0gbmFtZS5zdHJpbmdcbiAgICAsIHVuaXQgPSB1bml0TWFwW25hbWVdXG4gICAgLCB0eXBlID0gdHlwZU1hcFtuYW1lXVxuICAgICwgbmFtZSA9IGNvbXBvbmVudE1hcFtuYW1lXTtcbiAgaWYgKCFuYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgY29sb3IgY29tcG9uZW50IFwiJyArIG5hbWUgKyAnXCInKTtcbiAgcmV0dXJuIG5ldyBub2Rlcy5Vbml0KGNvbG9yW3R5cGVdW25hbWVdLCB1bml0KTtcbn07XG5jb21wb25lbnQucGFyYW1zID0gWydjb2xvcicsICduYW1lJ107XG5tb2R1bGUuZXhwb3J0cyA9IGNvbXBvbmVudDtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJyk7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcmVsYXRpdmUgbHVtaW5hbmNlIG9mIHRoZSBnaXZlbiBgY29sb3JgLFxuICogc2VlIGh0dHA6Ly93d3cudzMub3JnL1RSL1dDQUcyMC8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICAgbHVtaW5vc2l0eSh3aGl0ZSlcbiAqICAgICAvLyA9PiAxXG4gKiBcbiAqICAgICBsdW1pbm9zaXR5KCMwMDApXG4gKiAgICAgLy8gPT4gMFxuICogXG4gKiAgICAgbHVtaW5vc2l0eShyZWQpXG4gKiAgICAgLy8gPT4gMC4yMTI2XG4gKlxuICogQHBhcmFtIHtSR0JBfEhTTEF9IGNvbG9yXG4gKiBAcmV0dXJuIHtVbml0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBsdW1pbm9zaXR5KGNvbG9yKXtcbiAgdXRpbHMuYXNzZXJ0Q29sb3IoY29sb3IpO1xuICBjb2xvciA9IGNvbG9yLnJnYmE7XG4gIGZ1bmN0aW9uIHByb2Nlc3NDaGFubmVsKGNoYW5uZWwpIHtcbiAgICBjaGFubmVsID0gY2hhbm5lbCAvIDI1NTtcbiAgICByZXR1cm4gKDAuMDM5MjggPiBjaGFubmVsKVxuICAgICAgPyBjaGFubmVsIC8gMTIuOTJcbiAgICAgIDogTWF0aC5wb3coKChjaGFubmVsICsgMC4wNTUpIC8gMS4wNTUpLCAyLjQpO1xuICB9XG4gIHJldHVybiBuZXcgbm9kZXMuVW5pdChcbiAgICAwLjIxMjYgKiBwcm9jZXNzQ2hhbm5lbChjb2xvci5yKVxuICAgICsgMC43MTUyICogcHJvY2Vzc0NoYW5uZWwoY29sb3IuZylcbiAgICArIDAuMDcyMiAqIHByb2Nlc3NDaGFubmVsKGNvbG9yLmIpXG4gICk7XG59O1xubHVtaW5vc2l0eS5wYXJhbXMgPSBbJ2NvbG9yJ107XG5tb2R1bGUuZXhwb3J0cyA9IGx1bWlub3NpdHk7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpXG4gICwgYmxlbmQgPSByZXF1aXJlKCcuL2JsZW5kJylcbiAgLCBsdW1pbm9zaXR5ID0gcmVxdWlyZSgnLi9sdW1pbm9zaXR5Jyk7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgY29udHJhc3QgcmF0aW8gb2JqZWN0IGJldHdlZW4gYHRvcGAgYW5kIGBib3R0b21gIGNvbG9ycyxcbiAqIGJhc2VkIG9uIGh0dHA6Ly9sZWF2ZXJvdS5naXRodWIuaW8vY29udHJhc3QtcmF0aW8vXG4gKiBhbmQgaHR0cHM6Ly9naXRodWIuY29tL0xlYVZlcm91L2NvbnRyYXN0LXJhdGlvL2Jsb2IvZ2gtcGFnZXMvY29sb3IuanMjTDEwOFxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICBjb250cmFzdCgjMDAwLCAjZmZmKS5yYXRpb1xuICogICAgID0+IDIxXG4gKlxuICogICAgIGNvbnRyYXN0KCMwMDAsIHJnYmEoI0ZGRiwgMC41KSlcbiAqICAgICA9PiB7IFwicmF0aW9cIjogXCIxMy4xNTtcIiwgXCJlcnJvclwiOiBcIjcuODVcIiwgXCJtaW5cIjogXCI1LjNcIiwgXCJtYXhcIjogXCIyMVwiIH1cbiAqXG4gKiBAcGFyYW0ge1JHQkF8SFNMQX0gdG9wXG4gKiBAcGFyYW0ge1JHQkF8SFNMQX0gW2JvdHRvbT0jZmZmXVxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBjb250cmFzdCh0b3AsIGJvdHRvbSl7XG4gIGlmICgncmdiYScgIT0gdG9wLm5vZGVOYW1lICYmICdoc2xhJyAhPSB0b3Aubm9kZU5hbWUpIHtcbiAgICByZXR1cm4gbmV3IG5vZGVzLkxpdGVyYWwoJ2NvbnRyYXN0KCcgKyAodG9wLmlzTnVsbCA/ICcnIDogdG9wLnRvU3RyaW5nKCkpICsgJyknKTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IG5vZGVzLk9iamVjdCgpO1xuICB0b3AgPSB0b3AucmdiYTtcbiAgYm90dG9tID0gYm90dG9tIHx8IG5ldyBub2Rlcy5SR0JBKDI1NSwgMjU1LCAyNTUsIDEpO1xuICB1dGlscy5hc3NlcnRDb2xvcihib3R0b20pO1xuICBib3R0b20gPSBib3R0b20ucmdiYTtcbiAgZnVuY3Rpb24gY29udHJhc3QodG9wLCBib3R0b20pIHtcbiAgICBpZiAoMSA+IHRvcC5hKSB7XG4gICAgICB0b3AgPSBibGVuZCh0b3AsIGJvdHRvbSk7XG4gICAgfVxuICAgIHZhciBsMSA9IGx1bWlub3NpdHkoYm90dG9tKS52YWwgKyAwLjA1XG4gICAgICAsIGwyID0gbHVtaW5vc2l0eSh0b3ApLnZhbCArIDAuMDVcbiAgICAgICwgcmF0aW8gPSBsMSAvIGwyO1xuXG4gICAgaWYgKGwyID4gbDEpIHtcbiAgICAgIHJhdGlvID0gMSAvIHJhdGlvO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5yb3VuZChyYXRpbyAqIDEwKSAvIDEwO1xuICB9XG5cbiAgaWYgKDEgPD0gYm90dG9tLmEpIHtcbiAgICB2YXIgcmVzdWx0UmF0aW8gPSBuZXcgbm9kZXMuVW5pdChjb250cmFzdCh0b3AsIGJvdHRvbSkpO1xuICAgIHJlc3VsdC5zZXQoJ3JhdGlvJywgcmVzdWx0UmF0aW8pO1xuICAgIHJlc3VsdC5zZXQoJ2Vycm9yJywgbmV3IG5vZGVzLlVuaXQoMCkpO1xuICAgIHJlc3VsdC5zZXQoJ21pbicsIHJlc3VsdFJhdGlvKTtcbiAgICByZXN1bHQuc2V0KCdtYXgnLCByZXN1bHRSYXRpbyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIG9uQmxhY2sgPSBjb250cmFzdCh0b3AsIGJsZW5kKGJvdHRvbSwgbmV3IG5vZGVzLlJHQkEoMCwgMCwgMCwgMSkpKVxuICAgICAgLCBvbldoaXRlID0gY29udHJhc3QodG9wLCBibGVuZChib3R0b20sIG5ldyBub2Rlcy5SR0JBKDI1NSwgMjU1LCAyNTUsIDEpKSlcbiAgICAgICwgbWF4ID0gTWF0aC5tYXgob25CbGFjaywgb25XaGl0ZSk7XG4gICAgZnVuY3Rpb24gcHJvY2Vzc0NoYW5uZWwodG9wQ2hhbm5lbCwgYm90dG9tQ2hhbm5lbCkge1xuICAgICAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KDAsICh0b3BDaGFubmVsIC0gYm90dG9tQ2hhbm5lbCAqIGJvdHRvbS5hKSAvICgxIC0gYm90dG9tLmEpKSwgMjU1KTtcbiAgICB9XG4gICAgdmFyIGNsb3Nlc3QgPSBuZXcgbm9kZXMuUkdCQShcbiAgICAgIHByb2Nlc3NDaGFubmVsKHRvcC5yLCBib3R0b20uciksXG4gICAgICBwcm9jZXNzQ2hhbm5lbCh0b3AuZywgYm90dG9tLmcpLFxuICAgICAgcHJvY2Vzc0NoYW5uZWwodG9wLmIsIGJvdHRvbS5iKSxcbiAgICAgIDFcbiAgICApO1xuICAgIHZhciBtaW4gPSBjb250cmFzdCh0b3AsIGJsZW5kKGJvdHRvbSwgY2xvc2VzdCkpO1xuXG4gICAgcmVzdWx0LnNldCgncmF0aW8nLCBuZXcgbm9kZXMuVW5pdChNYXRoLnJvdW5kKChtaW4gKyBtYXgpICogNTApIC8gMTAwKSk7XG4gICAgcmVzdWx0LnNldCgnZXJyb3InLCBuZXcgbm9kZXMuVW5pdChNYXRoLnJvdW5kKChtYXggLSBtaW4pICogNTApIC8gMTAwKSk7XG4gICAgcmVzdWx0LnNldCgnbWluJywgbmV3IG5vZGVzLlVuaXQobWluKSk7XG4gICAgcmVzdWx0LnNldCgnbWF4JywgbmV3IG5vZGVzLlVuaXQobWF4KSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnRyYXN0LnBhcmFtcyA9IFsndG9wJywgJ2JvdHRvbSddO1xubW9kdWxlLmV4cG9ydHMgPSBjb250cmFzdDtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogTGlrZSBgdW5xdW90ZWAgYnV0IHRyaWVzIHRvIGNvbnZlcnRcbiAqIHRoZSBnaXZlbiBgc3RyYCB0byBhIFN0eWx1cyBub2RlLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEByZXR1cm4ge05vZGV9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGNvbnZlcnQoc3RyKXtcbiAgdXRpbHMuYXNzZXJ0U3RyaW5nKHN0ciwgJ3N0cicpO1xuICByZXR1cm4gdXRpbHMucGFyc2VTdHJpbmcoc3RyLnN0cmluZyk7XG59O1xuY29udmVydC5wYXJhbXMgPSBbJ3N0ciddO1xubW9kdWxlLmV4cG9ydHMgPSBjb252ZXJ0O1xuIiwKICAidmFyIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBAbWVkaWEgc3RyaW5nIGZvciB0aGUgY3VycmVudCBibG9ja1xuICpcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjdXJyZW50TWVkaWEoKXtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICByZXR1cm4gbmV3IG5vZGVzLlN0cmluZyhsb29rRm9yTWVkaWEodGhpcy5jbG9zZXN0QmxvY2subm9kZSkgfHwgJycpO1xuXG4gIGZ1bmN0aW9uIGxvb2tGb3JNZWRpYShub2RlKXtcbiAgICBpZiAoJ21lZGlhJyA9PSBub2RlLm5vZGVOYW1lKSB7XG4gICAgICBub2RlLnZhbCA9IHNlbGYudmlzaXQobm9kZS52YWwpO1xuICAgICAgcmV0dXJuIG5vZGUudG9TdHJpbmcoKTtcbiAgICB9IGVsc2UgaWYgKG5vZGUuYmxvY2sucGFyZW50Lm5vZGUpIHtcbiAgICAgIHJldHVybiBsb29rRm9yTWVkaWEobm9kZS5ibG9jay5wYXJlbnQubm9kZSk7XG4gICAgfVxuICB9XG59O1xuIiwKICAidmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKTtcblxuLyoqXG4gKiBTZXQgYSB2YXJpYWJsZSBgbmFtZWAgb24gY3VycmVudCBzY29wZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHBhcmFtIHtFeHByZXNzaW9ufSBleHByXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtnbG9iYWxdXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRlZmluZShuYW1lLCBleHByLCBnbG9iYWwpe1xuICB1dGlscy5hc3NlcnRUeXBlKG5hbWUsICdzdHJpbmcnLCAnbmFtZScpO1xuICBleHByID0gdXRpbHMudW53cmFwKGV4cHIpO1xuICB2YXIgc2NvcGUgPSB0aGlzLmN1cnJlbnRTY29wZTtcbiAgaWYgKGdsb2JhbCAmJiBnbG9iYWwudG9Cb29sZWFuKCkuaXNUcnVlKSB7XG4gICAgc2NvcGUgPSB0aGlzLmdsb2JhbC5zY29wZTtcbiAgfVxuICB2YXIgbm9kZSA9IG5ldyBub2Rlcy5JZGVudChuYW1lLnZhbCwgZXhwcik7XG4gIHNjb3BlLmFkZChub2RlKTtcbiAgcmV0dXJuIG5vZGVzLm51bGw7XG59O1xuZGVmaW5lLnBhcmFtcyA9IFsnbmFtZScsICdleHByJywgJ2dsb2JhbCddO1xubW9kdWxlLmV4cG9ydHMgPSBkZWZpbmU7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGRpcm5hbWUgb2YgYHBhdGhgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGRpcm5hbWUocCl7XG4gIHV0aWxzLmFzc2VydFN0cmluZyhwLCAncGF0aCcpO1xuICByZXR1cm4gcGF0aC5kaXJuYW1lKHAudmFsKS5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG59O1xuZGlybmFtZS5wYXJhbXMgPSBbJ3AnXTtcbm1vZHVsZS5leHBvcnRzID0gZGlybmFtZTtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVGhyb3cgYW4gZXJyb3Igd2l0aCB0aGUgZ2l2ZW4gYG1zZ2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG1zZ1xuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBlcnJvcihtc2cpe1xuICB1dGlscy5hc3NlcnRUeXBlKG1zZywgJ3N0cmluZycsICdtc2cnKTtcbiAgdmFyIGVyciA9IG5ldyBFcnJvcihtc2cudmFsKTtcbiAgZXJyLmZyb21TdHlsdXMgPSB0cnVlO1xuICB0aHJvdyBlcnI7XG59O1xuZXJyb3IucGFyYW1zID0gWydtc2cnXTtcbm1vZHVsZS5leHBvcnRzID0gZXJyb3I7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGV4dG5hbWUgb2YgYHBhdGhgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGV4dG5hbWUocCl7XG4gIHV0aWxzLmFzc2VydFN0cmluZyhwLCAncGF0aCcpO1xuICByZXR1cm4gcGF0aC5leHRuYW1lKHAudmFsKTtcbn07XG5leHRuYW1lLnBhcmFtcyA9IFsncCddO1xubW9kdWxlLmV4cG9ydHMgPSBleHRuYW1lO1xuIiwKICAidmFyIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKVxuICAsIHJnYmEgPSByZXF1aXJlKCcuL3JnYmEnKTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGdyZWVuIGNvbXBvbmVudCBvZiB0aGUgZ2l2ZW4gYGNvbG9yYCxcbiAqIG9yIHNldCB0aGUgZ3JlZW4gY29tcG9uZW50IHRvIHRoZSBvcHRpb25hbCBzZWNvbmQgYHZhbHVlYCBhcmd1bWVudC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICBncmVlbigjMGMwKVxuICogICAgLy8gPT4gMjA0XG4gKlxuICogICAgZ3JlZW4oIzAwMCwgMjU1KVxuICogICAgLy8gPT4gIzBmMFxuICpcbiAqIEBwYXJhbSB7UkdCQXxIU0xBfSBjb2xvclxuICogQHBhcmFtIHtVbml0fSBbdmFsdWVdXG4gKiBAcmV0dXJuIHtVbml0fFJHQkF9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGdyZWVuKGNvbG9yLCB2YWx1ZSl7XG4gIGNvbG9yID0gY29sb3IucmdiYTtcbiAgaWYgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHJnYmEoXG4gICAgICBuZXcgbm9kZXMuVW5pdChjb2xvci5yKSxcbiAgICAgIHZhbHVlLFxuICAgICAgbmV3IG5vZGVzLlVuaXQoY29sb3IuYiksXG4gICAgICBuZXcgbm9kZXMuVW5pdChjb2xvci5hKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG5ldyBub2Rlcy5Vbml0KGNvbG9yLmcsICcnKTtcbn07XG5ncmVlbi5wYXJhbXMgPSBbJ2NvbG9yJywgJ3ZhbHVlJ107XG5tb2R1bGUuZXhwb3J0cyA9IGdyZWVuO1xuIiwKICAidmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKTtcblxuLyoqXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBgY29sb3JgIHRvIGFuIGBIU0xBYCBub2RlLFxuICogb3IgaCxzLGwsYSBjb21wb25lbnQgdmFsdWVzLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIGhzbGEoMTBkZWcsIDUwJSwgMzAlLCAwLjUpXG4gKiAgICAvLyA9PiBIU0xBXG4gKlxuICogICAgaHNsYSgjZmZjYzAwKVxuICogICAgLy8gPT4gSFNMQVxuICpcbiAqIEBwYXJhbSB7UkdCQXxIU0xBfFVuaXR9IGh1ZVxuICogQHBhcmFtIHtVbml0fSBzYXR1cmF0aW9uXG4gKiBAcGFyYW0ge1VuaXR9IGxpZ2h0bmVzc1xuICogQHBhcmFtIHtVbml0fSBhbHBoYVxuICogQHJldHVybiB7SFNMQX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gaHNsYShodWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcywgYWxwaGEpe1xuICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICBjYXNlIDE6XG4gICAgICB1dGlscy5hc3NlcnRDb2xvcihodWUpO1xuICAgICAgcmV0dXJuIGh1ZS5oc2xhO1xuICAgIGNhc2UgMjpcbiAgICAgIHV0aWxzLmFzc2VydENvbG9yKGh1ZSk7XG4gICAgICB2YXIgY29sb3IgPSBodWUuaHNsYTtcbiAgICAgIHV0aWxzLmFzc2VydFR5cGUoc2F0dXJhdGlvbiwgJ3VuaXQnLCAnYWxwaGEnKTtcbiAgICAgIHZhciBhbHBoYSA9IHNhdHVyYXRpb24uY2xvbmUoKTtcbiAgICAgIGlmICgnJScgPT0gYWxwaGEudHlwZSkgYWxwaGEudmFsIC89IDEwMDtcbiAgICAgIHJldHVybiBuZXcgbm9kZXMuSFNMQShcbiAgICAgICAgICBjb2xvci5oXG4gICAgICAgICwgY29sb3Iuc1xuICAgICAgICAsIGNvbG9yLmxcbiAgICAgICAgLCBhbHBoYS52YWwpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB1dGlscy5hc3NlcnRUeXBlKGh1ZSwgJ3VuaXQnLCAnaHVlJyk7XG4gICAgICB1dGlscy5hc3NlcnRUeXBlKHNhdHVyYXRpb24sICd1bml0JywgJ3NhdHVyYXRpb24nKTtcbiAgICAgIHV0aWxzLmFzc2VydFR5cGUobGlnaHRuZXNzLCAndW5pdCcsICdsaWdodG5lc3MnKTtcbiAgICAgIHV0aWxzLmFzc2VydFR5cGUoYWxwaGEsICd1bml0JywgJ2FscGhhJyk7XG4gICAgICB2YXIgYWxwaGEgPSBhbHBoYS5jbG9uZSgpO1xuICAgICAgaWYgKGFscGhhICYmICclJyA9PSBhbHBoYS50eXBlKSBhbHBoYS52YWwgLz0gMTAwO1xuICAgICAgcmV0dXJuIG5ldyBub2Rlcy5IU0xBKFxuICAgICAgICAgIGh1ZS52YWxcbiAgICAgICAgLCBzYXR1cmF0aW9uLnZhbFxuICAgICAgICAsIGxpZ2h0bmVzcy52YWxcbiAgICAgICAgLCBhbHBoYS52YWwpO1xuICB9XG59O1xuaHNsYS5wYXJhbXMgPSBbJ2h1ZScsICdzYXR1cmF0aW9uJywgJ2xpZ2h0bmVzcycsICdhbHBoYSddO1xubW9kdWxlLmV4cG9ydHMgPSBoc2xhO1xuIiwKICAidmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKVxuICAsIGhzbGEgPSByZXF1aXJlKCcuL2hzbGEnKTtcblxuLyoqXG4gKiBDb252ZXJ0IHRoZSBnaXZlbiBgY29sb3JgIHRvIGFuIGBIU0xBYCBub2RlLFxuICogb3IgaCxzLGwgY29tcG9uZW50IHZhbHVlcy5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICBoc2woMTAsIDUwLCAzMClcbiAqICAgIC8vID0+IEhTTEFcbiAqXG4gKiAgICBoc2woI2ZmY2MwMClcbiAqICAgIC8vID0+IEhTTEFcbiAqXG4gKiBAcGFyYW0ge1VuaXR8SFNMQXxSR0JBfSBodWVcbiAqIEBwYXJhbSB7VW5pdH0gc2F0dXJhdGlvblxuICogQHBhcmFtIHtVbml0fSBsaWdodG5lc3NcbiAqIEByZXR1cm4ge0hTTEF9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGhzbChodWUsIHNhdHVyYXRpb24sIGxpZ2h0bmVzcyl7XG4gIGlmICgxID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB1dGlscy5hc3NlcnRDb2xvcihodWUsICdjb2xvcicpO1xuICAgIHJldHVybiBodWUuaHNsYTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gaHNsYShcbiAgICAgICAgaHVlXG4gICAgICAsIHNhdHVyYXRpb25cbiAgICAgICwgbGlnaHRuZXNzXG4gICAgICAsIG5ldyBub2Rlcy5Vbml0KDEpKTtcbiAgfVxufTtcbmhzbC5wYXJhbXMgPSBbJ2h1ZScsICdzYXR1cmF0aW9uJywgJ2xpZ2h0bmVzcyddO1xubW9kdWxlLmV4cG9ydHMgPSBoc2w7XG4iLAogICJ2YXIgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpXG4gICwgaHNsYSA9IHJlcXVpcmUoJy4vaHNsYScpXG4gICwgY29tcG9uZW50ID0gcmVxdWlyZSgnLi9jb21wb25lbnQnKTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGh1ZSBjb21wb25lbnQgb2YgdGhlIGdpdmVuIGBjb2xvcmAsXG4gKiBvciBzZXQgdGhlIGh1ZSBjb21wb25lbnQgdG8gdGhlIG9wdGlvbmFsIHNlY29uZCBgdmFsdWVgIGFyZ3VtZW50LlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIGh1ZSgjMDBjKVxuICogICAgLy8gPT4gMjQwZGVnXG4gKlxuICogICAgaHVlKCMwMGMsIDkwZGVnKVxuICogICAgLy8gPT4gIzZjMFxuICpcbiAqIEBwYXJhbSB7UkdCQXxIU0xBfSBjb2xvclxuICogQHBhcmFtIHtVbml0fSBbdmFsdWVdXG4gKiBAcmV0dXJuIHtVbml0fFJHQkF9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGh1ZShjb2xvciwgdmFsdWUpe1xuICBpZiAodmFsdWUpIHtcbiAgICB2YXIgaHNsYUNvbG9yID0gY29sb3IuaHNsYTtcbiAgICByZXR1cm4gaHNsYShcbiAgICAgIHZhbHVlLFxuICAgICAgbmV3IG5vZGVzLlVuaXQoaHNsYUNvbG9yLnMpLFxuICAgICAgbmV3IG5vZGVzLlVuaXQoaHNsYUNvbG9yLmwpLFxuICAgICAgbmV3IG5vZGVzLlVuaXQoaHNsYUNvbG9yLmEpXG4gICAgKVxuICB9XG4gIHJldHVybiBjb21wb25lbnQoY29sb3IsIG5ldyBub2Rlcy5TdHJpbmcoJ2h1ZScpKTtcbn07XG5odWUucGFyYW1zID0gWydjb2xvcicsICd2YWx1ZSddO1xubW9kdWxlLmV4cG9ydHMgPSBodWU7XG4iLAogICI7KGZ1bmN0aW9uIChzYXgpIHsgLy8gd3JhcHBlciBmb3Igbm9uLW5vZGUgZW52c1xuICBzYXgucGFyc2VyID0gZnVuY3Rpb24gKHN0cmljdCwgb3B0KSB7IHJldHVybiBuZXcgU0FYUGFyc2VyKHN0cmljdCwgb3B0KSB9XG4gIHNheC5TQVhQYXJzZXIgPSBTQVhQYXJzZXJcbiAgc2F4LlNBWFN0cmVhbSA9IFNBWFN0cmVhbVxuICBzYXguY3JlYXRlU3RyZWFtID0gY3JlYXRlU3RyZWFtXG5cbiAgLy8gV2hlbiB3ZSBwYXNzIHRoZSBNQVhfQlVGRkVSX0xFTkdUSCBwb3NpdGlvbiwgc3RhcnQgY2hlY2tpbmcgZm9yIGJ1ZmZlciBvdmVycnVucy5cbiAgLy8gV2hlbiB3ZSBjaGVjaywgc2NoZWR1bGUgdGhlIG5leHQgY2hlY2sgZm9yIE1BWF9CVUZGRVJfTEVOR1RIIC0gKG1heChidWZmZXIgbGVuZ3RocykpLFxuICAvLyBzaW5jZSB0aGF0J3MgdGhlIGVhcmxpZXN0IHRoYXQgYSBidWZmZXIgb3ZlcnJ1biBjb3VsZCBvY2N1ci4gIFRoaXMgd2F5LCBjaGVja3MgYXJlXG4gIC8vIGFzIHJhcmUgYXMgcmVxdWlyZWQsIGJ1dCBhcyBvZnRlbiBhcyBuZWNlc3NhcnkgdG8gZW5zdXJlIG5ldmVyIGNyb3NzaW5nIHRoaXMgYm91bmQuXG4gIC8vIEZ1cnRoZXJtb3JlLCBidWZmZXJzIGFyZSBvbmx5IHRlc3RlZCBhdCBtb3N0IG9uY2UgcGVyIHdyaXRlKCksIHNvIHBhc3NpbmcgYSB2ZXJ5XG4gIC8vIGxhcmdlIHN0cmluZyBpbnRvIHdyaXRlKCkgbWlnaHQgaGF2ZSB1bmRlc2lyYWJsZSBlZmZlY3RzLCBidXQgdGhpcyBpcyBtYW5hZ2VhYmxlIGJ5XG4gIC8vIHRoZSBjYWxsZXIsIHNvIGl0IGlzIGFzc3VtZWQgdG8gYmUgc2FmZS4gIFRodXMsIGEgY2FsbCB0byB3cml0ZSgpIG1heSwgaW4gdGhlIGV4dHJlbWVcbiAgLy8gZWRnZSBjYXNlLCByZXN1bHQgaW4gY3JlYXRpbmcgYXQgbW9zdCBvbmUgY29tcGxldGUgY29weSBvZiB0aGUgc3RyaW5nIHBhc3NlZCBpbi5cbiAgLy8gU2V0IHRvIEluZmluaXR5IHRvIGhhdmUgdW5saW1pdGVkIGJ1ZmZlcnMuXG4gIHNheC5NQVhfQlVGRkVSX0xFTkdUSCA9IDY0ICogMTAyNFxuXG4gIHZhciBidWZmZXJzID0gW1xuICAgICdjb21tZW50JywgJ3NnbWxEZWNsJywgJ3RleHROb2RlJywgJ3RhZ05hbWUnLCAnZG9jdHlwZScsXG4gICAgJ3Byb2NJbnN0TmFtZScsICdwcm9jSW5zdEJvZHknLCAnZW50aXR5JywgJ2F0dHJpYk5hbWUnLFxuICAgICdhdHRyaWJWYWx1ZScsICdjZGF0YScsICdzY3JpcHQnXG4gIF1cblxuICBzYXguRVZFTlRTID0gW1xuICAgICd0ZXh0JyxcbiAgICAncHJvY2Vzc2luZ2luc3RydWN0aW9uJyxcbiAgICAnc2dtbGRlY2xhcmF0aW9uJyxcbiAgICAnZG9jdHlwZScsXG4gICAgJ2NvbW1lbnQnLFxuICAgICdvcGVudGFnc3RhcnQnLFxuICAgICdhdHRyaWJ1dGUnLFxuICAgICdvcGVudGFnJyxcbiAgICAnY2xvc2V0YWcnLFxuICAgICdvcGVuY2RhdGEnLFxuICAgICdjZGF0YScsXG4gICAgJ2Nsb3NlY2RhdGEnLFxuICAgICdlcnJvcicsXG4gICAgJ2VuZCcsXG4gICAgJ3JlYWR5JyxcbiAgICAnc2NyaXB0JyxcbiAgICAnb3Blbm5hbWVzcGFjZScsXG4gICAgJ2Nsb3NlbmFtZXNwYWNlJ1xuICBdXG5cbiAgZnVuY3Rpb24gU0FYUGFyc2VyIChzdHJpY3QsIG9wdCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTQVhQYXJzZXIpKSB7XG4gICAgICByZXR1cm4gbmV3IFNBWFBhcnNlcihzdHJpY3QsIG9wdClcbiAgICB9XG5cbiAgICB2YXIgcGFyc2VyID0gdGhpc1xuICAgIGNsZWFyQnVmZmVycyhwYXJzZXIpXG4gICAgcGFyc2VyLnEgPSBwYXJzZXIuYyA9ICcnXG4gICAgcGFyc2VyLmJ1ZmZlckNoZWNrUG9zaXRpb24gPSBzYXguTUFYX0JVRkZFUl9MRU5HVEhcbiAgICBwYXJzZXIub3B0ID0gb3B0IHx8IHt9XG4gICAgcGFyc2VyLm9wdC5sb3dlcmNhc2UgPSBwYXJzZXIub3B0Lmxvd2VyY2FzZSB8fCBwYXJzZXIub3B0Lmxvd2VyY2FzZXRhZ3NcbiAgICBwYXJzZXIubG9vc2VDYXNlID0gcGFyc2VyLm9wdC5sb3dlcmNhc2UgPyAndG9Mb3dlckNhc2UnIDogJ3RvVXBwZXJDYXNlJ1xuICAgIHBhcnNlci50YWdzID0gW11cbiAgICBwYXJzZXIuY2xvc2VkID0gcGFyc2VyLmNsb3NlZFJvb3QgPSBwYXJzZXIuc2F3Um9vdCA9IGZhbHNlXG4gICAgcGFyc2VyLnRhZyA9IHBhcnNlci5lcnJvciA9IG51bGxcbiAgICBwYXJzZXIuc3RyaWN0ID0gISFzdHJpY3RcbiAgICBwYXJzZXIubm9zY3JpcHQgPSAhIShzdHJpY3QgfHwgcGFyc2VyLm9wdC5ub3NjcmlwdClcbiAgICBwYXJzZXIuc3RhdGUgPSBTLkJFR0lOXG4gICAgcGFyc2VyLnN0cmljdEVudGl0aWVzID0gcGFyc2VyLm9wdC5zdHJpY3RFbnRpdGllc1xuICAgIHBhcnNlci5FTlRJVElFUyA9IHBhcnNlci5zdHJpY3RFbnRpdGllcyA/IE9iamVjdC5jcmVhdGUoc2F4LlhNTF9FTlRJVElFUykgOiBPYmplY3QuY3JlYXRlKHNheC5FTlRJVElFUylcbiAgICBwYXJzZXIuYXR0cmliTGlzdCA9IFtdXG5cbiAgICAvLyBuYW1lc3BhY2VzIGZvcm0gYSBwcm90b3R5cGUgY2hhaW4uXG4gICAgLy8gaXQgYWx3YXlzIHBvaW50cyBhdCB0aGUgY3VycmVudCB0YWcsXG4gICAgLy8gd2hpY2ggcHJvdG9zIHRvIGl0cyBwYXJlbnQgdGFnLlxuICAgIGlmIChwYXJzZXIub3B0LnhtbG5zKSB7XG4gICAgICBwYXJzZXIubnMgPSBPYmplY3QuY3JlYXRlKHJvb3ROUylcbiAgICB9XG5cbiAgICAvLyBtb3N0bHkganVzdCBmb3IgZXJyb3IgcmVwb3J0aW5nXG4gICAgcGFyc2VyLnRyYWNrUG9zaXRpb24gPSBwYXJzZXIub3B0LnBvc2l0aW9uICE9PSBmYWxzZVxuICAgIGlmIChwYXJzZXIudHJhY2tQb3NpdGlvbikge1xuICAgICAgcGFyc2VyLnBvc2l0aW9uID0gcGFyc2VyLmxpbmUgPSBwYXJzZXIuY29sdW1uID0gMFxuICAgIH1cbiAgICBlbWl0KHBhcnNlciwgJ29ucmVhZHknKVxuICB9XG5cbiAgaWYgKCFPYmplY3QuY3JlYXRlKSB7XG4gICAgT2JqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICBmdW5jdGlvbiBGICgpIHt9XG4gICAgICBGLnByb3RvdHlwZSA9IG9cbiAgICAgIHZhciBuZXdmID0gbmV3IEYoKVxuICAgICAgcmV0dXJuIG5ld2ZcbiAgICB9XG4gIH1cblxuICBpZiAoIU9iamVjdC5rZXlzKSB7XG4gICAgT2JqZWN0LmtleXMgPSBmdW5jdGlvbiAobykge1xuICAgICAgdmFyIGEgPSBbXVxuICAgICAgZm9yICh2YXIgaSBpbiBvKSBpZiAoby5oYXNPd25Qcm9wZXJ0eShpKSkgYS5wdXNoKGkpXG4gICAgICByZXR1cm4gYVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrQnVmZmVyTGVuZ3RoIChwYXJzZXIpIHtcbiAgICB2YXIgbWF4QWxsb3dlZCA9IE1hdGgubWF4KHNheC5NQVhfQlVGRkVSX0xFTkdUSCwgMTApXG4gICAgdmFyIG1heEFjdHVhbCA9IDBcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGJ1ZmZlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgbGVuID0gcGFyc2VyW2J1ZmZlcnNbaV1dLmxlbmd0aFxuICAgICAgaWYgKGxlbiA+IG1heEFsbG93ZWQpIHtcbiAgICAgICAgLy8gVGV4dC9jZGF0YSBub2RlcyBjYW4gZ2V0IGJpZywgYW5kIHNpbmNlIHRoZXkncmUgYnVmZmVyZWQsXG4gICAgICAgIC8vIHdlIGNhbiBnZXQgaGVyZSB1bmRlciBub3JtYWwgY29uZGl0aW9ucy5cbiAgICAgICAgLy8gQXZvaWQgaXNzdWVzIGJ5IGVtaXR0aW5nIHRoZSB0ZXh0IG5vZGUgbm93LFxuICAgICAgICAvLyBzbyBhdCBsZWFzdCBpdCB3b24ndCBnZXQgYW55IGJpZ2dlci5cbiAgICAgICAgc3dpdGNoIChidWZmZXJzW2ldKSB7XG4gICAgICAgICAgY2FzZSAndGV4dE5vZGUnOlxuICAgICAgICAgICAgY2xvc2VUZXh0KHBhcnNlcilcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICBjYXNlICdjZGF0YSc6XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNkYXRhJywgcGFyc2VyLmNkYXRhKVxuICAgICAgICAgICAgcGFyc2VyLmNkYXRhID0gJydcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICBjYXNlICdzY3JpcHQnOlxuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25zY3JpcHQnLCBwYXJzZXIuc2NyaXB0KVxuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCA9ICcnXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGVycm9yKHBhcnNlciwgJ01heCBidWZmZXIgbGVuZ3RoIGV4Y2VlZGVkOiAnICsgYnVmZmVyc1tpXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbWF4QWN0dWFsID0gTWF0aC5tYXgobWF4QWN0dWFsLCBsZW4pXG4gICAgfVxuICAgIC8vIHNjaGVkdWxlIHRoZSBuZXh0IGNoZWNrIGZvciB0aGUgZWFybGllc3QgcG9zc2libGUgYnVmZmVyIG92ZXJydW4uXG4gICAgdmFyIG0gPSBzYXguTUFYX0JVRkZFUl9MRU5HVEggLSBtYXhBY3R1YWxcbiAgICBwYXJzZXIuYnVmZmVyQ2hlY2tQb3NpdGlvbiA9IG0gKyBwYXJzZXIucG9zaXRpb25cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyQnVmZmVycyAocGFyc2VyKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBidWZmZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgcGFyc2VyW2J1ZmZlcnNbaV1dID0gJydcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaEJ1ZmZlcnMgKHBhcnNlcikge1xuICAgIGNsb3NlVGV4dChwYXJzZXIpXG4gICAgaWYgKHBhcnNlci5jZGF0YSAhPT0gJycpIHtcbiAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uY2RhdGEnLCBwYXJzZXIuY2RhdGEpXG4gICAgICBwYXJzZXIuY2RhdGEgPSAnJ1xuICAgIH1cbiAgICBpZiAocGFyc2VyLnNjcmlwdCAhPT0gJycpIHtcbiAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uc2NyaXB0JywgcGFyc2VyLnNjcmlwdClcbiAgICAgIHBhcnNlci5zY3JpcHQgPSAnJ1xuICAgIH1cbiAgfVxuXG4gIFNBWFBhcnNlci5wcm90b3R5cGUgPSB7XG4gICAgZW5kOiBmdW5jdGlvbiAoKSB7IGVuZCh0aGlzKSB9LFxuICAgIHdyaXRlOiB3cml0ZSxcbiAgICByZXN1bWU6IGZ1bmN0aW9uICgpIHsgdGhpcy5lcnJvciA9IG51bGw7IHJldHVybiB0aGlzIH0sXG4gICAgY2xvc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMud3JpdGUobnVsbCkgfSxcbiAgICBmbHVzaDogZnVuY3Rpb24gKCkgeyBmbHVzaEJ1ZmZlcnModGhpcykgfVxuICB9XG5cbiAgdmFyIFN0cmVhbVxuICB0cnkge1xuICAgIFN0cmVhbSA9IHJlcXVpcmUoJ3N0cmVhbScpLlN0cmVhbVxuICB9IGNhdGNoIChleCkge1xuICAgIFN0cmVhbSA9IGZ1bmN0aW9uICgpIHt9XG4gIH1cbiAgaWYgKCFTdHJlYW0pIFN0cmVhbSA9IGZ1bmN0aW9uICgpIHt9XG5cbiAgdmFyIHN0cmVhbVdyYXBzID0gc2F4LkVWRU5UUy5maWx0ZXIoZnVuY3Rpb24gKGV2KSB7XG4gICAgcmV0dXJuIGV2ICE9PSAnZXJyb3InICYmIGV2ICE9PSAnZW5kJ1xuICB9KVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVN0cmVhbSAoc3RyaWN0LCBvcHQpIHtcbiAgICByZXR1cm4gbmV3IFNBWFN0cmVhbShzdHJpY3QsIG9wdClcbiAgfVxuXG4gIGZ1bmN0aW9uIFNBWFN0cmVhbSAoc3RyaWN0LCBvcHQpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgU0FYU3RyZWFtKSkge1xuICAgICAgcmV0dXJuIG5ldyBTQVhTdHJlYW0oc3RyaWN0LCBvcHQpXG4gICAgfVxuXG4gICAgU3RyZWFtLmFwcGx5KHRoaXMpXG5cbiAgICB0aGlzLl9wYXJzZXIgPSBuZXcgU0FYUGFyc2VyKHN0cmljdCwgb3B0KVxuICAgIHRoaXMud3JpdGFibGUgPSB0cnVlXG4gICAgdGhpcy5yZWFkYWJsZSA9IHRydWVcblxuICAgIHZhciBtZSA9IHRoaXNcblxuICAgIHRoaXMuX3BhcnNlci5vbmVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIG1lLmVtaXQoJ2VuZCcpXG4gICAgfVxuXG4gICAgdGhpcy5fcGFyc2VyLm9uZXJyb3IgPSBmdW5jdGlvbiAoZXIpIHtcbiAgICAgIG1lLmVtaXQoJ2Vycm9yJywgZXIpXG5cbiAgICAgIC8vIGlmIGRpZG4ndCB0aHJvdywgdGhlbiBtZWFucyBlcnJvciB3YXMgaGFuZGxlZC5cbiAgICAgIC8vIGdvIGFoZWFkIGFuZCBjbGVhciBlcnJvciwgc28gd2UgY2FuIHdyaXRlIGFnYWluLlxuICAgICAgbWUuX3BhcnNlci5lcnJvciA9IG51bGxcbiAgICB9XG5cbiAgICB0aGlzLl9kZWNvZGVyID0gbnVsbFxuXG4gICAgc3RyZWFtV3JhcHMuZm9yRWFjaChmdW5jdGlvbiAoZXYpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtZSwgJ29uJyArIGV2LCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBtZS5fcGFyc2VyWydvbicgKyBldl1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoaCkge1xuICAgICAgICAgIGlmICghaCkge1xuICAgICAgICAgICAgbWUucmVtb3ZlQWxsTGlzdGVuZXJzKGV2KVxuICAgICAgICAgICAgbWUuX3BhcnNlclsnb24nICsgZXZdID0gaFxuICAgICAgICAgICAgcmV0dXJuIGhcbiAgICAgICAgICB9XG4gICAgICAgICAgbWUub24oZXYsIGgpXG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2VcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIFNBWFN0cmVhbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFN0cmVhbS5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IFNBWFN0cmVhbVxuICAgIH1cbiAgfSlcblxuICBTQVhTdHJlYW0ucHJvdG90eXBlLndyaXRlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAodHlwZW9mIEJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgdHlwZW9mIEJ1ZmZlci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgQnVmZmVyLmlzQnVmZmVyKGRhdGEpKSB7XG4gICAgICBpZiAoIXRoaXMuX2RlY29kZXIpIHtcbiAgICAgICAgdmFyIFNEID0gcmVxdWlyZSgnc3RyaW5nX2RlY29kZXInKS5TdHJpbmdEZWNvZGVyXG4gICAgICAgIHRoaXMuX2RlY29kZXIgPSBuZXcgU0QoJ3V0ZjgnKVxuICAgICAgfVxuICAgICAgZGF0YSA9IHRoaXMuX2RlY29kZXIud3JpdGUoZGF0YSlcbiAgICB9XG5cbiAgICB0aGlzLl9wYXJzZXIud3JpdGUoZGF0YS50b1N0cmluZygpKVxuICAgIHRoaXMuZW1pdCgnZGF0YScsIGRhdGEpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIFNBWFN0cmVhbS5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKGNodW5rKSB7XG4gICAgaWYgKGNodW5rICYmIGNodW5rLmxlbmd0aCkge1xuICAgICAgdGhpcy53cml0ZShjaHVuaylcbiAgICB9XG4gICAgdGhpcy5fcGFyc2VyLmVuZCgpXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIFNBWFN0cmVhbS5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXYsIGhhbmRsZXIpIHtcbiAgICB2YXIgbWUgPSB0aGlzXG4gICAgaWYgKCFtZS5fcGFyc2VyWydvbicgKyBldl0gJiYgc3RyZWFtV3JhcHMuaW5kZXhPZihldikgIT09IC0xKSB7XG4gICAgICBtZS5fcGFyc2VyWydvbicgKyBldl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/IFthcmd1bWVudHNbMF1dIDogQXJyYXkuYXBwbHkobnVsbCwgYXJndW1lbnRzKVxuICAgICAgICBhcmdzLnNwbGljZSgwLCAwLCBldilcbiAgICAgICAgbWUuZW1pdC5hcHBseShtZSwgYXJncylcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gU3RyZWFtLnByb3RvdHlwZS5vbi5jYWxsKG1lLCBldiwgaGFuZGxlcilcbiAgfVxuXG4gIC8vIHRoaXMgcmVhbGx5IG5lZWRzIHRvIGJlIHJlcGxhY2VkIHdpdGggY2hhcmFjdGVyIGNsYXNzZXMuXG4gIC8vIFhNTCBhbGxvd3MgYWxsIG1hbm5lciBvZiByaWRpY3Vsb3VzIG51bWJlcnMgYW5kIGRpZ2l0cy5cbiAgdmFyIENEQVRBID0gJ1tDREFUQVsnXG4gIHZhciBET0NUWVBFID0gJ0RPQ1RZUEUnXG4gIHZhciBYTUxfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSdcbiAgdmFyIFhNTE5TX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLydcbiAgdmFyIHJvb3ROUyA9IHsgeG1sOiBYTUxfTkFNRVNQQUNFLCB4bWxuczogWE1MTlNfTkFNRVNQQUNFIH1cblxuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMteG1sLyNOVC1OYW1lU3RhcnRDaGFyXG4gIC8vIFRoaXMgaW1wbGVtZW50YXRpb24gd29ya3Mgb24gc3RyaW5ncywgYSBzaW5nbGUgY2hhcmFjdGVyIGF0IGEgdGltZVxuICAvLyBhcyBzdWNoLCBpdCBjYW5ub3QgZXZlciBzdXBwb3J0IGFzdHJhbC1wbGFuZSBjaGFyYWN0ZXJzICgxMDAwMC1FRkZGRilcbiAgLy8gd2l0aG91dCBhIHNpZ25pZmljYW50IGJyZWFraW5nIGNoYW5nZSB0byBlaXRoZXIgdGhpcyAgcGFyc2VyLCBvciB0aGVcbiAgLy8gSmF2YVNjcmlwdCBsYW5ndWFnZS4gIEltcGxlbWVudGF0aW9uIG9mIGFuIGVtb2ppLWNhcGFibGUgeG1sIHBhcnNlclxuICAvLyBpcyBsZWZ0IGFzIGFuIGV4ZXJjaXNlIGZvciB0aGUgcmVhZGVyLlxuICB2YXIgbmFtZVN0YXJ0ID0gL1s6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF0vXG5cbiAgdmFyIG5hbWVCb2R5ID0gL1s6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRFxcdTAwQjdcXHUwMzAwLVxcdTAzNkZcXHUyMDNGLVxcdTIwNDAuXFxkLV0vXG5cbiAgdmFyIGVudGl0eVN0YXJ0ID0gL1sjOl9BLVphLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRdL1xuICB2YXIgZW50aXR5Qm9keSA9IC9bIzpfQS1aYS16XFx1MDBDMC1cXHUwMEQ2XFx1MDBEOC1cXHUwMEY2XFx1MDBGOC1cXHUwMkZGXFx1MDM3MC1cXHUwMzdEXFx1MDM3Ri1cXHUxRkZGXFx1MjAwQy1cXHUyMDBEXFx1MjA3MC1cXHUyMThGXFx1MkMwMC1cXHUyRkVGXFx1MzAwMS1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkZEXFx1MDBCN1xcdTAzMDAtXFx1MDM2RlxcdTIwM0YtXFx1MjA0MC5cXGQtXS9cblxuICBmdW5jdGlvbiBpc1doaXRlc3BhY2UgKGMpIHtcbiAgICByZXR1cm4gYyA9PT0gJyAnIHx8IGMgPT09ICdcXG4nIHx8IGMgPT09ICdcXHInIHx8IGMgPT09ICdcXHQnXG4gIH1cblxuICBmdW5jdGlvbiBpc1F1b3RlIChjKSB7XG4gICAgcmV0dXJuIGMgPT09ICdcIicgfHwgYyA9PT0gJ1xcJydcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQXR0cmliRW5kIChjKSB7XG4gICAgcmV0dXJuIGMgPT09ICc+JyB8fCBpc1doaXRlc3BhY2UoYylcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzTWF0Y2ggKHJlZ2V4LCBjKSB7XG4gICAgcmV0dXJuIHJlZ2V4LnRlc3QoYylcbiAgfVxuXG4gIGZ1bmN0aW9uIG5vdE1hdGNoIChyZWdleCwgYykge1xuICAgIHJldHVybiAhaXNNYXRjaChyZWdleCwgYylcbiAgfVxuXG4gIHZhciBTID0gMFxuICBzYXguU1RBVEUgPSB7XG4gICAgQkVHSU46IFMrKywgLy8gbGVhZGluZyBieXRlIG9yZGVyIG1hcmsgb3Igd2hpdGVzcGFjZVxuICAgIEJFR0lOX1dISVRFU1BBQ0U6IFMrKywgLy8gbGVhZGluZyB3aGl0ZXNwYWNlXG4gICAgVEVYVDogUysrLCAvLyBnZW5lcmFsIHN0dWZmXG4gICAgVEVYVF9FTlRJVFk6IFMrKywgLy8gJmFtcCBhbmQgc3VjaC5cbiAgICBPUEVOX1dBS0E6IFMrKywgLy8gPFxuICAgIFNHTUxfREVDTDogUysrLCAvLyA8IUJMQVJHXG4gICAgU0dNTF9ERUNMX1FVT1RFRDogUysrLCAvLyA8IUJMQVJHIGZvbyBcImJhclxuICAgIERPQ1RZUEU6IFMrKywgLy8gPCFET0NUWVBFXG4gICAgRE9DVFlQRV9RVU9URUQ6IFMrKywgLy8gPCFET0NUWVBFIFwiLy9ibGFoXG4gICAgRE9DVFlQRV9EVEQ6IFMrKywgLy8gPCFET0NUWVBFIFwiLy9ibGFoXCIgWyAuLi5cbiAgICBET0NUWVBFX0RURF9RVU9URUQ6IFMrKywgLy8gPCFET0NUWVBFIFwiLy9ibGFoXCIgWyBcImZvb1xuICAgIENPTU1FTlRfU1RBUlRJTkc6IFMrKywgLy8gPCEtXG4gICAgQ09NTUVOVDogUysrLCAvLyA8IS0tXG4gICAgQ09NTUVOVF9FTkRJTkc6IFMrKywgLy8gPCEtLSBibGFoIC1cbiAgICBDT01NRU5UX0VOREVEOiBTKyssIC8vIDwhLS0gYmxhaCAtLVxuICAgIENEQVRBOiBTKyssIC8vIDwhW0NEQVRBWyBzb21ldGhpbmdcbiAgICBDREFUQV9FTkRJTkc6IFMrKywgLy8gXVxuICAgIENEQVRBX0VORElOR18yOiBTKyssIC8vIF1dXG4gICAgUFJPQ19JTlNUOiBTKyssIC8vIDw/aGlcbiAgICBQUk9DX0lOU1RfQk9EWTogUysrLCAvLyA8P2hpIHRoZXJlXG4gICAgUFJPQ19JTlNUX0VORElORzogUysrLCAvLyA8P2hpIFwidGhlcmVcIiA/XG4gICAgT1BFTl9UQUc6IFMrKywgLy8gPHN0cm9uZ1xuICAgIE9QRU5fVEFHX1NMQVNIOiBTKyssIC8vIDxzdHJvbmcgL1xuICAgIEFUVFJJQjogUysrLCAvLyA8YVxuICAgIEFUVFJJQl9OQU1FOiBTKyssIC8vIDxhIGZvb1xuICAgIEFUVFJJQl9OQU1FX1NBV19XSElURTogUysrLCAvLyA8YSBmb28gX1xuICAgIEFUVFJJQl9WQUxVRTogUysrLCAvLyA8YSBmb289XG4gICAgQVRUUklCX1ZBTFVFX1FVT1RFRDogUysrLCAvLyA8YSBmb289XCJiYXJcbiAgICBBVFRSSUJfVkFMVUVfQ0xPU0VEOiBTKyssIC8vIDxhIGZvbz1cImJhclwiXG4gICAgQVRUUklCX1ZBTFVFX1VOUVVPVEVEOiBTKyssIC8vIDxhIGZvbz1iYXJcbiAgICBBVFRSSUJfVkFMVUVfRU5USVRZX1E6IFMrKywgLy8gPGZvbyBiYXI9XCImcXVvdDtcIlxuICAgIEFUVFJJQl9WQUxVRV9FTlRJVFlfVTogUysrLCAvLyA8Zm9vIGJhcj0mcXVvdFxuICAgIENMT1NFX1RBRzogUysrLCAvLyA8L2FcbiAgICBDTE9TRV9UQUdfU0FXX1dISVRFOiBTKyssIC8vIDwvYSAgID5cbiAgICBTQ1JJUFQ6IFMrKywgLy8gPHNjcmlwdD4gLi4uXG4gICAgU0NSSVBUX0VORElORzogUysrIC8vIDxzY3JpcHQ+IC4uLiA8XG4gIH1cblxuICBzYXguWE1MX0VOVElUSUVTID0ge1xuICAgICdhbXAnOiAnJicsXG4gICAgJ2d0JzogJz4nLFxuICAgICdsdCc6ICc8JyxcbiAgICAncXVvdCc6ICdcIicsXG4gICAgJ2Fwb3MnOiBcIidcIlxuICB9XG5cbiAgc2F4LkVOVElUSUVTID0ge1xuICAgICdhbXAnOiAnJicsXG4gICAgJ2d0JzogJz4nLFxuICAgICdsdCc6ICc8JyxcbiAgICAncXVvdCc6ICdcIicsXG4gICAgJ2Fwb3MnOiBcIidcIixcbiAgICAnQUVsaWcnOiAxOTgsXG4gICAgJ0FhY3V0ZSc6IDE5MyxcbiAgICAnQWNpcmMnOiAxOTQsXG4gICAgJ0FncmF2ZSc6IDE5MixcbiAgICAnQXJpbmcnOiAxOTcsXG4gICAgJ0F0aWxkZSc6IDE5NSxcbiAgICAnQXVtbCc6IDE5NixcbiAgICAnQ2NlZGlsJzogMTk5LFxuICAgICdFVEgnOiAyMDgsXG4gICAgJ0VhY3V0ZSc6IDIwMSxcbiAgICAnRWNpcmMnOiAyMDIsXG4gICAgJ0VncmF2ZSc6IDIwMCxcbiAgICAnRXVtbCc6IDIwMyxcbiAgICAnSWFjdXRlJzogMjA1LFxuICAgICdJY2lyYyc6IDIwNixcbiAgICAnSWdyYXZlJzogMjA0LFxuICAgICdJdW1sJzogMjA3LFxuICAgICdOdGlsZGUnOiAyMDksXG4gICAgJ09hY3V0ZSc6IDIxMSxcbiAgICAnT2NpcmMnOiAyMTIsXG4gICAgJ09ncmF2ZSc6IDIxMCxcbiAgICAnT3NsYXNoJzogMjE2LFxuICAgICdPdGlsZGUnOiAyMTMsXG4gICAgJ091bWwnOiAyMTQsXG4gICAgJ1RIT1JOJzogMjIyLFxuICAgICdVYWN1dGUnOiAyMTgsXG4gICAgJ1VjaXJjJzogMjE5LFxuICAgICdVZ3JhdmUnOiAyMTcsXG4gICAgJ1V1bWwnOiAyMjAsXG4gICAgJ1lhY3V0ZSc6IDIyMSxcbiAgICAnYWFjdXRlJzogMjI1LFxuICAgICdhY2lyYyc6IDIyNixcbiAgICAnYWVsaWcnOiAyMzAsXG4gICAgJ2FncmF2ZSc6IDIyNCxcbiAgICAnYXJpbmcnOiAyMjksXG4gICAgJ2F0aWxkZSc6IDIyNyxcbiAgICAnYXVtbCc6IDIyOCxcbiAgICAnY2NlZGlsJzogMjMxLFxuICAgICdlYWN1dGUnOiAyMzMsXG4gICAgJ2VjaXJjJzogMjM0LFxuICAgICdlZ3JhdmUnOiAyMzIsXG4gICAgJ2V0aCc6IDI0MCxcbiAgICAnZXVtbCc6IDIzNSxcbiAgICAnaWFjdXRlJzogMjM3LFxuICAgICdpY2lyYyc6IDIzOCxcbiAgICAnaWdyYXZlJzogMjM2LFxuICAgICdpdW1sJzogMjM5LFxuICAgICdudGlsZGUnOiAyNDEsXG4gICAgJ29hY3V0ZSc6IDI0MyxcbiAgICAnb2NpcmMnOiAyNDQsXG4gICAgJ29ncmF2ZSc6IDI0MixcbiAgICAnb3NsYXNoJzogMjQ4LFxuICAgICdvdGlsZGUnOiAyNDUsXG4gICAgJ291bWwnOiAyNDYsXG4gICAgJ3N6bGlnJzogMjIzLFxuICAgICd0aG9ybic6IDI1NCxcbiAgICAndWFjdXRlJzogMjUwLFxuICAgICd1Y2lyYyc6IDI1MSxcbiAgICAndWdyYXZlJzogMjQ5LFxuICAgICd1dW1sJzogMjUyLFxuICAgICd5YWN1dGUnOiAyNTMsXG4gICAgJ3l1bWwnOiAyNTUsXG4gICAgJ2NvcHknOiAxNjksXG4gICAgJ3JlZyc6IDE3NCxcbiAgICAnbmJzcCc6IDE2MCxcbiAgICAnaWV4Y2wnOiAxNjEsXG4gICAgJ2NlbnQnOiAxNjIsXG4gICAgJ3BvdW5kJzogMTYzLFxuICAgICdjdXJyZW4nOiAxNjQsXG4gICAgJ3llbic6IDE2NSxcbiAgICAnYnJ2YmFyJzogMTY2LFxuICAgICdzZWN0JzogMTY3LFxuICAgICd1bWwnOiAxNjgsXG4gICAgJ29yZGYnOiAxNzAsXG4gICAgJ2xhcXVvJzogMTcxLFxuICAgICdub3QnOiAxNzIsXG4gICAgJ3NoeSc6IDE3MyxcbiAgICAnbWFjcic6IDE3NSxcbiAgICAnZGVnJzogMTc2LFxuICAgICdwbHVzbW4nOiAxNzcsXG4gICAgJ3N1cDEnOiAxODUsXG4gICAgJ3N1cDInOiAxNzgsXG4gICAgJ3N1cDMnOiAxNzksXG4gICAgJ2FjdXRlJzogMTgwLFxuICAgICdtaWNybyc6IDE4MSxcbiAgICAncGFyYSc6IDE4MixcbiAgICAnbWlkZG90JzogMTgzLFxuICAgICdjZWRpbCc6IDE4NCxcbiAgICAnb3JkbSc6IDE4NixcbiAgICAncmFxdW8nOiAxODcsXG4gICAgJ2ZyYWMxNCc6IDE4OCxcbiAgICAnZnJhYzEyJzogMTg5LFxuICAgICdmcmFjMzQnOiAxOTAsXG4gICAgJ2lxdWVzdCc6IDE5MSxcbiAgICAndGltZXMnOiAyMTUsXG4gICAgJ2RpdmlkZSc6IDI0NyxcbiAgICAnT0VsaWcnOiAzMzgsXG4gICAgJ29lbGlnJzogMzM5LFxuICAgICdTY2Fyb24nOiAzNTIsXG4gICAgJ3NjYXJvbic6IDM1MyxcbiAgICAnWXVtbCc6IDM3NixcbiAgICAnZm5vZic6IDQwMixcbiAgICAnY2lyYyc6IDcxMCxcbiAgICAndGlsZGUnOiA3MzIsXG4gICAgJ0FscGhhJzogOTEzLFxuICAgICdCZXRhJzogOTE0LFxuICAgICdHYW1tYSc6IDkxNSxcbiAgICAnRGVsdGEnOiA5MTYsXG4gICAgJ0Vwc2lsb24nOiA5MTcsXG4gICAgJ1pldGEnOiA5MTgsXG4gICAgJ0V0YSc6IDkxOSxcbiAgICAnVGhldGEnOiA5MjAsXG4gICAgJ0lvdGEnOiA5MjEsXG4gICAgJ0thcHBhJzogOTIyLFxuICAgICdMYW1iZGEnOiA5MjMsXG4gICAgJ011JzogOTI0LFxuICAgICdOdSc6IDkyNSxcbiAgICAnWGknOiA5MjYsXG4gICAgJ09taWNyb24nOiA5MjcsXG4gICAgJ1BpJzogOTI4LFxuICAgICdSaG8nOiA5MjksXG4gICAgJ1NpZ21hJzogOTMxLFxuICAgICdUYXUnOiA5MzIsXG4gICAgJ1Vwc2lsb24nOiA5MzMsXG4gICAgJ1BoaSc6IDkzNCxcbiAgICAnQ2hpJzogOTM1LFxuICAgICdQc2knOiA5MzYsXG4gICAgJ09tZWdhJzogOTM3LFxuICAgICdhbHBoYSc6IDk0NSxcbiAgICAnYmV0YSc6IDk0NixcbiAgICAnZ2FtbWEnOiA5NDcsXG4gICAgJ2RlbHRhJzogOTQ4LFxuICAgICdlcHNpbG9uJzogOTQ5LFxuICAgICd6ZXRhJzogOTUwLFxuICAgICdldGEnOiA5NTEsXG4gICAgJ3RoZXRhJzogOTUyLFxuICAgICdpb3RhJzogOTUzLFxuICAgICdrYXBwYSc6IDk1NCxcbiAgICAnbGFtYmRhJzogOTU1LFxuICAgICdtdSc6IDk1NixcbiAgICAnbnUnOiA5NTcsXG4gICAgJ3hpJzogOTU4LFxuICAgICdvbWljcm9uJzogOTU5LFxuICAgICdwaSc6IDk2MCxcbiAgICAncmhvJzogOTYxLFxuICAgICdzaWdtYWYnOiA5NjIsXG4gICAgJ3NpZ21hJzogOTYzLFxuICAgICd0YXUnOiA5NjQsXG4gICAgJ3Vwc2lsb24nOiA5NjUsXG4gICAgJ3BoaSc6IDk2NixcbiAgICAnY2hpJzogOTY3LFxuICAgICdwc2knOiA5NjgsXG4gICAgJ29tZWdhJzogOTY5LFxuICAgICd0aGV0YXN5bSc6IDk3NyxcbiAgICAndXBzaWgnOiA5NzgsXG4gICAgJ3Bpdic6IDk4MixcbiAgICAnZW5zcCc6IDgxOTQsXG4gICAgJ2Vtc3AnOiA4MTk1LFxuICAgICd0aGluc3AnOiA4MjAxLFxuICAgICd6d25qJzogODIwNCxcbiAgICAnendqJzogODIwNSxcbiAgICAnbHJtJzogODIwNixcbiAgICAncmxtJzogODIwNyxcbiAgICAnbmRhc2gnOiA4MjExLFxuICAgICdtZGFzaCc6IDgyMTIsXG4gICAgJ2xzcXVvJzogODIxNixcbiAgICAncnNxdW8nOiA4MjE3LFxuICAgICdzYnF1byc6IDgyMTgsXG4gICAgJ2xkcXVvJzogODIyMCxcbiAgICAncmRxdW8nOiA4MjIxLFxuICAgICdiZHF1byc6IDgyMjIsXG4gICAgJ2RhZ2dlcic6IDgyMjQsXG4gICAgJ0RhZ2dlcic6IDgyMjUsXG4gICAgJ2J1bGwnOiA4MjI2LFxuICAgICdoZWxsaXAnOiA4MjMwLFxuICAgICdwZXJtaWwnOiA4MjQwLFxuICAgICdwcmltZSc6IDgyNDIsXG4gICAgJ1ByaW1lJzogODI0MyxcbiAgICAnbHNhcXVvJzogODI0OSxcbiAgICAncnNhcXVvJzogODI1MCxcbiAgICAnb2xpbmUnOiA4MjU0LFxuICAgICdmcmFzbCc6IDgyNjAsXG4gICAgJ2V1cm8nOiA4MzY0LFxuICAgICdpbWFnZSc6IDg0NjUsXG4gICAgJ3dlaWVycCc6IDg0NzIsXG4gICAgJ3JlYWwnOiA4NDc2LFxuICAgICd0cmFkZSc6IDg0ODIsXG4gICAgJ2FsZWZzeW0nOiA4NTAxLFxuICAgICdsYXJyJzogODU5MixcbiAgICAndWFycic6IDg1OTMsXG4gICAgJ3JhcnInOiA4NTk0LFxuICAgICdkYXJyJzogODU5NSxcbiAgICAnaGFycic6IDg1OTYsXG4gICAgJ2NyYXJyJzogODYyOSxcbiAgICAnbEFycic6IDg2NTYsXG4gICAgJ3VBcnInOiA4NjU3LFxuICAgICdyQXJyJzogODY1OCxcbiAgICAnZEFycic6IDg2NTksXG4gICAgJ2hBcnInOiA4NjYwLFxuICAgICdmb3JhbGwnOiA4NzA0LFxuICAgICdwYXJ0JzogODcwNixcbiAgICAnZXhpc3QnOiA4NzA3LFxuICAgICdlbXB0eSc6IDg3MDksXG4gICAgJ25hYmxhJzogODcxMSxcbiAgICAnaXNpbic6IDg3MTIsXG4gICAgJ25vdGluJzogODcxMyxcbiAgICAnbmknOiA4NzE1LFxuICAgICdwcm9kJzogODcxOSxcbiAgICAnc3VtJzogODcyMSxcbiAgICAnbWludXMnOiA4NzIyLFxuICAgICdsb3dhc3QnOiA4NzI3LFxuICAgICdyYWRpYyc6IDg3MzAsXG4gICAgJ3Byb3AnOiA4NzMzLFxuICAgICdpbmZpbic6IDg3MzQsXG4gICAgJ2FuZyc6IDg3MzYsXG4gICAgJ2FuZCc6IDg3NDMsXG4gICAgJ29yJzogODc0NCxcbiAgICAnY2FwJzogODc0NSxcbiAgICAnY3VwJzogODc0NixcbiAgICAnaW50JzogODc0NyxcbiAgICAndGhlcmU0JzogODc1NixcbiAgICAnc2ltJzogODc2NCxcbiAgICAnY29uZyc6IDg3NzMsXG4gICAgJ2FzeW1wJzogODc3NixcbiAgICAnbmUnOiA4ODAwLFxuICAgICdlcXVpdic6IDg4MDEsXG4gICAgJ2xlJzogODgwNCxcbiAgICAnZ2UnOiA4ODA1LFxuICAgICdzdWInOiA4ODM0LFxuICAgICdzdXAnOiA4ODM1LFxuICAgICduc3ViJzogODgzNixcbiAgICAnc3ViZSc6IDg4MzgsXG4gICAgJ3N1cGUnOiA4ODM5LFxuICAgICdvcGx1cyc6IDg4NTMsXG4gICAgJ290aW1lcyc6IDg4NTUsXG4gICAgJ3BlcnAnOiA4ODY5LFxuICAgICdzZG90JzogODkwMSxcbiAgICAnbGNlaWwnOiA4OTY4LFxuICAgICdyY2VpbCc6IDg5NjksXG4gICAgJ2xmbG9vcic6IDg5NzAsXG4gICAgJ3JmbG9vcic6IDg5NzEsXG4gICAgJ2xhbmcnOiA5MDAxLFxuICAgICdyYW5nJzogOTAwMixcbiAgICAnbG96JzogOTY3NCxcbiAgICAnc3BhZGVzJzogOTgyNCxcbiAgICAnY2x1YnMnOiA5ODI3LFxuICAgICdoZWFydHMnOiA5ODI5LFxuICAgICdkaWFtcyc6IDk4MzBcbiAgfVxuXG4gIE9iamVjdC5rZXlzKHNheC5FTlRJVElFUykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGUgPSBzYXguRU5USVRJRVNba2V5XVxuICAgIHZhciBzID0gdHlwZW9mIGUgPT09ICdudW1iZXInID8gU3RyaW5nLmZyb21DaGFyQ29kZShlKSA6IGVcbiAgICBzYXguRU5USVRJRVNba2V5XSA9IHNcbiAgfSlcblxuICBmb3IgKHZhciBzIGluIHNheC5TVEFURSkge1xuICAgIHNheC5TVEFURVtzYXguU1RBVEVbc11dID0gc1xuICB9XG5cbiAgLy8gc2hvcnRoYW5kXG4gIFMgPSBzYXguU1RBVEVcblxuICBmdW5jdGlvbiBlbWl0IChwYXJzZXIsIGV2ZW50LCBkYXRhKSB7XG4gICAgcGFyc2VyW2V2ZW50XSAmJiBwYXJzZXJbZXZlbnRdKGRhdGEpXG4gIH1cblxuICBmdW5jdGlvbiBlbWl0Tm9kZSAocGFyc2VyLCBub2RlVHlwZSwgZGF0YSkge1xuICAgIGlmIChwYXJzZXIudGV4dE5vZGUpIGNsb3NlVGV4dChwYXJzZXIpXG4gICAgZW1pdChwYXJzZXIsIG5vZGVUeXBlLCBkYXRhKVxuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VUZXh0IChwYXJzZXIpIHtcbiAgICBwYXJzZXIudGV4dE5vZGUgPSB0ZXh0b3B0cyhwYXJzZXIub3B0LCBwYXJzZXIudGV4dE5vZGUpXG4gICAgaWYgKHBhcnNlci50ZXh0Tm9kZSkgZW1pdChwYXJzZXIsICdvbnRleHQnLCBwYXJzZXIudGV4dE5vZGUpXG4gICAgcGFyc2VyLnRleHROb2RlID0gJydcbiAgfVxuXG4gIGZ1bmN0aW9uIHRleHRvcHRzIChvcHQsIHRleHQpIHtcbiAgICBpZiAob3B0LnRyaW0pIHRleHQgPSB0ZXh0LnRyaW0oKVxuICAgIGlmIChvcHQubm9ybWFsaXplKSB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXHMrL2csICcgJylcbiAgICByZXR1cm4gdGV4dFxuICB9XG5cbiAgZnVuY3Rpb24gZXJyb3IgKHBhcnNlciwgZXIpIHtcbiAgICBjbG9zZVRleHQocGFyc2VyKVxuICAgIGlmIChwYXJzZXIudHJhY2tQb3NpdGlvbikge1xuICAgICAgZXIgKz0gJ1xcbkxpbmU6ICcgKyBwYXJzZXIubGluZSArXG4gICAgICAgICdcXG5Db2x1bW46ICcgKyBwYXJzZXIuY29sdW1uICtcbiAgICAgICAgJ1xcbkNoYXI6ICcgKyBwYXJzZXIuY1xuICAgIH1cbiAgICBlciA9IG5ldyBFcnJvcihlcilcbiAgICBwYXJzZXIuZXJyb3IgPSBlclxuICAgIGVtaXQocGFyc2VyLCAnb25lcnJvcicsIGVyKVxuICAgIHJldHVybiBwYXJzZXJcbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZCAocGFyc2VyKSB7XG4gICAgaWYgKHBhcnNlci5zYXdSb290ICYmICFwYXJzZXIuY2xvc2VkUm9vdCkgc3RyaWN0RmFpbChwYXJzZXIsICdVbmNsb3NlZCByb290IHRhZycpXG4gICAgaWYgKChwYXJzZXIuc3RhdGUgIT09IFMuQkVHSU4pICYmXG4gICAgICAocGFyc2VyLnN0YXRlICE9PSBTLkJFR0lOX1dISVRFU1BBQ0UpICYmXG4gICAgICAocGFyc2VyLnN0YXRlICE9PSBTLlRFWFQpKSB7XG4gICAgICBlcnJvcihwYXJzZXIsICdVbmV4cGVjdGVkIGVuZCcpXG4gICAgfVxuICAgIGNsb3NlVGV4dChwYXJzZXIpXG4gICAgcGFyc2VyLmMgPSAnJ1xuICAgIHBhcnNlci5jbG9zZWQgPSB0cnVlXG4gICAgZW1pdChwYXJzZXIsICdvbmVuZCcpXG4gICAgU0FYUGFyc2VyLmNhbGwocGFyc2VyLCBwYXJzZXIuc3RyaWN0LCBwYXJzZXIub3B0KVxuICAgIHJldHVybiBwYXJzZXJcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmljdEZhaWwgKHBhcnNlciwgbWVzc2FnZSkge1xuICAgIGlmICh0eXBlb2YgcGFyc2VyICE9PSAnb2JqZWN0JyB8fCAhKHBhcnNlciBpbnN0YW5jZW9mIFNBWFBhcnNlcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGNhbGwgdG8gc3RyaWN0RmFpbCcpXG4gICAgfVxuICAgIGlmIChwYXJzZXIuc3RyaWN0KSB7XG4gICAgICBlcnJvcihwYXJzZXIsIG1lc3NhZ2UpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbmV3VGFnIChwYXJzZXIpIHtcbiAgICBpZiAoIXBhcnNlci5zdHJpY3QpIHBhcnNlci50YWdOYW1lID0gcGFyc2VyLnRhZ05hbWVbcGFyc2VyLmxvb3NlQ2FzZV0oKVxuICAgIHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXJcbiAgICB2YXIgdGFnID0gcGFyc2VyLnRhZyA9IHsgbmFtZTogcGFyc2VyLnRhZ05hbWUsIGF0dHJpYnV0ZXM6IHt9IH1cblxuICAgIC8vIHdpbGwgYmUgb3ZlcnJpZGRlbiBpZiB0YWcgY29udGFpbHMgYW4geG1sbnM9XCJmb29cIiBvciB4bWxuczpmb289XCJiYXJcIlxuICAgIGlmIChwYXJzZXIub3B0LnhtbG5zKSB7XG4gICAgICB0YWcubnMgPSBwYXJlbnQubnNcbiAgICB9XG4gICAgcGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoID0gMFxuICAgIGVtaXROb2RlKHBhcnNlciwgJ29ub3BlbnRhZ3N0YXJ0JywgdGFnKVxuICB9XG5cbiAgZnVuY3Rpb24gcW5hbWUgKG5hbWUsIGF0dHJpYnV0ZSkge1xuICAgIHZhciBpID0gbmFtZS5pbmRleE9mKCc6JylcbiAgICB2YXIgcXVhbE5hbWUgPSBpIDwgMCA/IFsgJycsIG5hbWUgXSA6IG5hbWUuc3BsaXQoJzonKVxuICAgIHZhciBwcmVmaXggPSBxdWFsTmFtZVswXVxuICAgIHZhciBsb2NhbCA9IHF1YWxOYW1lWzFdXG5cbiAgICAvLyA8eCBcInhtbG5zXCI9XCJodHRwOi8vZm9vXCI+XG4gICAgaWYgKGF0dHJpYnV0ZSAmJiBuYW1lID09PSAneG1sbnMnKSB7XG4gICAgICBwcmVmaXggPSAneG1sbnMnXG4gICAgICBsb2NhbCA9ICcnXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgcHJlZml4OiBwcmVmaXgsIGxvY2FsOiBsb2NhbCB9XG4gIH1cblxuICBmdW5jdGlvbiBhdHRyaWIgKHBhcnNlcikge1xuICAgIGlmICghcGFyc2VyLnN0cmljdCkge1xuICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliTmFtZVtwYXJzZXIubG9vc2VDYXNlXSgpXG4gICAgfVxuXG4gICAgaWYgKHBhcnNlci5hdHRyaWJMaXN0LmluZGV4T2YocGFyc2VyLmF0dHJpYk5hbWUpICE9PSAtMSB8fFxuICAgICAgcGFyc2VyLnRhZy5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KHBhcnNlci5hdHRyaWJOYW1lKSkge1xuICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHBhcnNlci5vcHQueG1sbnMpIHtcbiAgICAgIHZhciBxbiA9IHFuYW1lKHBhcnNlci5hdHRyaWJOYW1lLCB0cnVlKVxuICAgICAgdmFyIHByZWZpeCA9IHFuLnByZWZpeFxuICAgICAgdmFyIGxvY2FsID0gcW4ubG9jYWxcblxuICAgICAgaWYgKHByZWZpeCA9PT0gJ3htbG5zJykge1xuICAgICAgICAvLyBuYW1lc3BhY2UgYmluZGluZyBhdHRyaWJ1dGUuIHB1c2ggdGhlIGJpbmRpbmcgaW50byBzY29wZVxuICAgICAgICBpZiAobG9jYWwgPT09ICd4bWwnICYmIHBhcnNlci5hdHRyaWJWYWx1ZSAhPT0gWE1MX05BTUVTUEFDRSkge1xuICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLFxuICAgICAgICAgICAgJ3htbDogcHJlZml4IG11c3QgYmUgYm91bmQgdG8gJyArIFhNTF9OQU1FU1BBQ0UgKyAnXFxuJyArXG4gICAgICAgICAgICAnQWN0dWFsOiAnICsgcGFyc2VyLmF0dHJpYlZhbHVlKVxuICAgICAgICB9IGVsc2UgaWYgKGxvY2FsID09PSAneG1sbnMnICYmIHBhcnNlci5hdHRyaWJWYWx1ZSAhPT0gWE1MTlNfTkFNRVNQQUNFKSB7XG4gICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsXG4gICAgICAgICAgICAneG1sbnM6IHByZWZpeCBtdXN0IGJlIGJvdW5kIHRvICcgKyBYTUxOU19OQU1FU1BBQ0UgKyAnXFxuJyArXG4gICAgICAgICAgICAnQWN0dWFsOiAnICsgcGFyc2VyLmF0dHJpYlZhbHVlKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciB0YWcgPSBwYXJzZXIudGFnXG4gICAgICAgICAgdmFyIHBhcmVudCA9IHBhcnNlci50YWdzW3BhcnNlci50YWdzLmxlbmd0aCAtIDFdIHx8IHBhcnNlclxuICAgICAgICAgIGlmICh0YWcubnMgPT09IHBhcmVudC5ucykge1xuICAgICAgICAgICAgdGFnLm5zID0gT2JqZWN0LmNyZWF0ZShwYXJlbnQubnMpXG4gICAgICAgICAgfVxuICAgICAgICAgIHRhZy5uc1tsb2NhbF0gPSBwYXJzZXIuYXR0cmliVmFsdWVcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBkZWZlciBvbmF0dHJpYnV0ZSBldmVudHMgdW50aWwgYWxsIGF0dHJpYnV0ZXMgaGF2ZSBiZWVuIHNlZW5cbiAgICAgIC8vIHNvIGFueSBuZXcgYmluZGluZ3MgY2FuIHRha2UgZWZmZWN0LiBwcmVzZXJ2ZSBhdHRyaWJ1dGUgb3JkZXJcbiAgICAgIC8vIHNvIGRlZmVycmVkIGV2ZW50cyBjYW4gYmUgZW1pdHRlZCBpbiBkb2N1bWVudCBvcmRlclxuICAgICAgcGFyc2VyLmF0dHJpYkxpc3QucHVzaChbcGFyc2VyLmF0dHJpYk5hbWUsIHBhcnNlci5hdHRyaWJWYWx1ZV0pXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGluIG5vbi14bWxucyBtb2RlLCB3ZSBjYW4gZW1pdCB0aGUgZXZlbnQgcmlnaHQgYXdheVxuICAgICAgcGFyc2VyLnRhZy5hdHRyaWJ1dGVzW3BhcnNlci5hdHRyaWJOYW1lXSA9IHBhcnNlci5hdHRyaWJWYWx1ZVxuICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25hdHRyaWJ1dGUnLCB7XG4gICAgICAgIG5hbWU6IHBhcnNlci5hdHRyaWJOYW1lLFxuICAgICAgICB2YWx1ZTogcGFyc2VyLmF0dHJpYlZhbHVlXG4gICAgICB9KVxuICAgIH1cblxuICAgIHBhcnNlci5hdHRyaWJOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgfVxuXG4gIGZ1bmN0aW9uIG9wZW5UYWcgKHBhcnNlciwgc2VsZkNsb3NpbmcpIHtcbiAgICBpZiAocGFyc2VyLm9wdC54bWxucykge1xuICAgICAgLy8gZW1pdCBuYW1lc3BhY2UgYmluZGluZyBldmVudHNcbiAgICAgIHZhciB0YWcgPSBwYXJzZXIudGFnXG5cbiAgICAgIC8vIGFkZCBuYW1lc3BhY2UgaW5mbyB0byB0YWdcbiAgICAgIHZhciBxbiA9IHFuYW1lKHBhcnNlci50YWdOYW1lKVxuICAgICAgdGFnLnByZWZpeCA9IHFuLnByZWZpeFxuICAgICAgdGFnLmxvY2FsID0gcW4ubG9jYWxcbiAgICAgIHRhZy51cmkgPSB0YWcubnNbcW4ucHJlZml4XSB8fCAnJ1xuXG4gICAgICBpZiAodGFnLnByZWZpeCAmJiAhdGFnLnVyaSkge1xuICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1VuYm91bmQgbmFtZXNwYWNlIHByZWZpeDogJyArXG4gICAgICAgICAgSlNPTi5zdHJpbmdpZnkocGFyc2VyLnRhZ05hbWUpKVxuICAgICAgICB0YWcudXJpID0gcW4ucHJlZml4XG4gICAgICB9XG5cbiAgICAgIHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXJcbiAgICAgIGlmICh0YWcubnMgJiYgcGFyZW50Lm5zICE9PSB0YWcubnMpIHtcbiAgICAgICAgT2JqZWN0LmtleXModGFnLm5zKS5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25vcGVubmFtZXNwYWNlJywge1xuICAgICAgICAgICAgcHJlZml4OiBwLFxuICAgICAgICAgICAgdXJpOiB0YWcubnNbcF1cbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBoYW5kbGUgZGVmZXJyZWQgb25hdHRyaWJ1dGUgZXZlbnRzXG4gICAgICAvLyBOb3RlOiBkbyBub3QgYXBwbHkgZGVmYXVsdCBucyB0byBhdHRyaWJ1dGVzOlxuICAgICAgLy8gICBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMteG1sLW5hbWVzLyNkZWZhdWx0aW5nXG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgbnYgPSBwYXJzZXIuYXR0cmliTGlzdFtpXVxuICAgICAgICB2YXIgbmFtZSA9IG52WzBdXG4gICAgICAgIHZhciB2YWx1ZSA9IG52WzFdXG4gICAgICAgIHZhciBxdWFsTmFtZSA9IHFuYW1lKG5hbWUsIHRydWUpXG4gICAgICAgIHZhciBwcmVmaXggPSBxdWFsTmFtZS5wcmVmaXhcbiAgICAgICAgdmFyIGxvY2FsID0gcXVhbE5hbWUubG9jYWxcbiAgICAgICAgdmFyIHVyaSA9IHByZWZpeCA9PT0gJycgPyAnJyA6ICh0YWcubnNbcHJlZml4XSB8fCAnJylcbiAgICAgICAgdmFyIGEgPSB7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgcHJlZml4OiBwcmVmaXgsXG4gICAgICAgICAgbG9jYWw6IGxvY2FsLFxuICAgICAgICAgIHVyaTogdXJpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBpZiB0aGVyZSdzIGFueSBhdHRyaWJ1dGVzIHdpdGggYW4gdW5kZWZpbmVkIG5hbWVzcGFjZSxcbiAgICAgICAgLy8gdGhlbiBmYWlsIG9uIHRoZW0gbm93LlxuICAgICAgICBpZiAocHJlZml4ICYmIHByZWZpeCAhPT0gJ3htbG5zJyAmJiAhdXJpKSB7XG4gICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdVbmJvdW5kIG5hbWVzcGFjZSBwcmVmaXg6ICcgK1xuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJlZml4KSlcbiAgICAgICAgICBhLnVyaSA9IHByZWZpeFxuICAgICAgICB9XG4gICAgICAgIHBhcnNlci50YWcuYXR0cmlidXRlc1tuYW1lXSA9IGFcbiAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25hdHRyaWJ1dGUnLCBhKVxuICAgICAgfVxuICAgICAgcGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoID0gMFxuICAgIH1cblxuICAgIHBhcnNlci50YWcuaXNTZWxmQ2xvc2luZyA9ICEhc2VsZkNsb3NpbmdcblxuICAgIC8vIHByb2Nlc3MgdGhlIHRhZ1xuICAgIHBhcnNlci5zYXdSb290ID0gdHJ1ZVxuICAgIHBhcnNlci50YWdzLnB1c2gocGFyc2VyLnRhZylcbiAgICBlbWl0Tm9kZShwYXJzZXIsICdvbm9wZW50YWcnLCBwYXJzZXIudGFnKVxuICAgIGlmICghc2VsZkNsb3NpbmcpIHtcbiAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgPHNjcmlwdD4gaW4gbm9uLXN0cmljdCBtb2RlLlxuICAgICAgaWYgKCFwYXJzZXIubm9zY3JpcHQgJiYgcGFyc2VyLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NjcmlwdCcpIHtcbiAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgICAgfVxuICAgICAgcGFyc2VyLnRhZyA9IG51bGxcbiAgICAgIHBhcnNlci50YWdOYW1lID0gJydcbiAgICB9XG4gICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICAgIHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDBcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlVGFnIChwYXJzZXIpIHtcbiAgICBpZiAoIXBhcnNlci50YWdOYW1lKSB7XG4gICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1dlaXJkIGVtcHR5IGNsb3NlIHRhZy4nKVxuICAgICAgcGFyc2VyLnRleHROb2RlICs9ICc8Lz4nXG4gICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChwYXJzZXIuc2NyaXB0KSB7XG4gICAgICBpZiAocGFyc2VyLnRhZ05hbWUgIT09ICdzY3JpcHQnKSB7XG4gICAgICAgIHBhcnNlci5zY3JpcHQgKz0gJzwvJyArIHBhcnNlci50YWdOYW1lICsgJz4nXG4gICAgICAgIHBhcnNlci50YWdOYW1lID0gJydcbiAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRcbiAgICAgICAgcmV0dXJuXG4gICAgICB9XG4gICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbnNjcmlwdCcsIHBhcnNlci5zY3JpcHQpXG4gICAgICBwYXJzZXIuc2NyaXB0ID0gJydcbiAgICB9XG5cbiAgICAvLyBmaXJzdCBtYWtlIHN1cmUgdGhhdCB0aGUgY2xvc2luZyB0YWcgYWN0dWFsbHkgZXhpc3RzLlxuICAgIC8vIDxhPjxiPjwvYz48L2I+PC9hPiB3aWxsIGNsb3NlIGV2ZXJ5dGhpbmcsIG90aGVyd2lzZS5cbiAgICB2YXIgdCA9IHBhcnNlci50YWdzLmxlbmd0aFxuICAgIHZhciB0YWdOYW1lID0gcGFyc2VyLnRhZ05hbWVcbiAgICBpZiAoIXBhcnNlci5zdHJpY3QpIHtcbiAgICAgIHRhZ05hbWUgPSB0YWdOYW1lW3BhcnNlci5sb29zZUNhc2VdKClcbiAgICB9XG4gICAgdmFyIGNsb3NlVG8gPSB0YWdOYW1lXG4gICAgd2hpbGUgKHQtLSkge1xuICAgICAgdmFyIGNsb3NlID0gcGFyc2VyLnRhZ3NbdF1cbiAgICAgIGlmIChjbG9zZS5uYW1lICE9PSBjbG9zZVRvKSB7XG4gICAgICAgIC8vIGZhaWwgdGhlIGZpcnN0IHRpbWUgaW4gc3RyaWN0IG1vZGVcbiAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdVbmV4cGVjdGVkIGNsb3NlIHRhZycpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVha1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRpZG4ndCBmaW5kIGl0LiAgd2UgYWxyZWFkeSBmYWlsZWQgZm9yIHN0cmljdCwgc28ganVzdCBhYm9ydC5cbiAgICBpZiAodCA8IDApIHtcbiAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5tYXRjaGVkIGNsb3NpbmcgdGFnOiAnICsgcGFyc2VyLnRhZ05hbWUpXG4gICAgICBwYXJzZXIudGV4dE5vZGUgKz0gJzwvJyArIHBhcnNlci50YWdOYW1lICsgJz4nXG4gICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBwYXJzZXIudGFnTmFtZSA9IHRhZ05hbWVcbiAgICB2YXIgcyA9IHBhcnNlci50YWdzLmxlbmd0aFxuICAgIHdoaWxlIChzLS0gPiB0KSB7XG4gICAgICB2YXIgdGFnID0gcGFyc2VyLnRhZyA9IHBhcnNlci50YWdzLnBvcCgpXG4gICAgICBwYXJzZXIudGFnTmFtZSA9IHBhcnNlci50YWcubmFtZVxuICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jbG9zZXRhZycsIHBhcnNlci50YWdOYW1lKVxuXG4gICAgICB2YXIgeCA9IHt9XG4gICAgICBmb3IgKHZhciBpIGluIHRhZy5ucykge1xuICAgICAgICB4W2ldID0gdGFnLm5zW2ldXG4gICAgICB9XG5cbiAgICAgIHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXJcbiAgICAgIGlmIChwYXJzZXIub3B0LnhtbG5zICYmIHRhZy5ucyAhPT0gcGFyZW50Lm5zKSB7XG4gICAgICAgIC8vIHJlbW92ZSBuYW1lc3BhY2UgYmluZGluZ3MgaW50cm9kdWNlZCBieSB0YWdcbiAgICAgICAgT2JqZWN0LmtleXModGFnLm5zKS5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XG4gICAgICAgICAgdmFyIG4gPSB0YWcubnNbcF1cbiAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNsb3NlbmFtZXNwYWNlJywgeyBwcmVmaXg6IHAsIHVyaTogbiB9KVxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAodCA9PT0gMCkgcGFyc2VyLmNsb3NlZFJvb3QgPSB0cnVlXG4gICAgcGFyc2VyLnRhZ05hbWUgPSBwYXJzZXIuYXR0cmliVmFsdWUgPSBwYXJzZXIuYXR0cmliTmFtZSA9ICcnXG4gICAgcGFyc2VyLmF0dHJpYkxpc3QubGVuZ3RoID0gMFxuICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICB9XG5cbiAgZnVuY3Rpb24gcGFyc2VFbnRpdHkgKHBhcnNlcikge1xuICAgIHZhciBlbnRpdHkgPSBwYXJzZXIuZW50aXR5XG4gICAgdmFyIGVudGl0eUxDID0gZW50aXR5LnRvTG93ZXJDYXNlKClcbiAgICB2YXIgbnVtXG4gICAgdmFyIG51bVN0ciA9ICcnXG5cbiAgICBpZiAocGFyc2VyLkVOVElUSUVTW2VudGl0eV0pIHtcbiAgICAgIHJldHVybiBwYXJzZXIuRU5USVRJRVNbZW50aXR5XVxuICAgIH1cbiAgICBpZiAocGFyc2VyLkVOVElUSUVTW2VudGl0eUxDXSkge1xuICAgICAgcmV0dXJuIHBhcnNlci5FTlRJVElFU1tlbnRpdHlMQ11cbiAgICB9XG4gICAgZW50aXR5ID0gZW50aXR5TENcbiAgICBpZiAoZW50aXR5LmNoYXJBdCgwKSA9PT0gJyMnKSB7XG4gICAgICBpZiAoZW50aXR5LmNoYXJBdCgxKSA9PT0gJ3gnKSB7XG4gICAgICAgIGVudGl0eSA9IGVudGl0eS5zbGljZSgyKVxuICAgICAgICBudW0gPSBwYXJzZUludChlbnRpdHksIDE2KVxuICAgICAgICBudW1TdHIgPSBudW0udG9TdHJpbmcoMTYpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbnRpdHkgPSBlbnRpdHkuc2xpY2UoMSlcbiAgICAgICAgbnVtID0gcGFyc2VJbnQoZW50aXR5LCAxMClcbiAgICAgICAgbnVtU3RyID0gbnVtLnRvU3RyaW5nKDEwKVxuICAgICAgfVxuICAgIH1cbiAgICBlbnRpdHkgPSBlbnRpdHkucmVwbGFjZSgvXjArLywgJycpXG4gICAgaWYgKGlzTmFOKG51bSkgfHwgbnVtU3RyLnRvTG93ZXJDYXNlKCkgIT09IGVudGl0eSkge1xuICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGNoYXJhY3RlciBlbnRpdHknKVxuICAgICAgcmV0dXJuICcmJyArIHBhcnNlci5lbnRpdHkgKyAnOydcbiAgICB9XG5cbiAgICByZXR1cm4gU3RyaW5nLmZyb21Db2RlUG9pbnQobnVtKVxuICB9XG5cbiAgZnVuY3Rpb24gYmVnaW5XaGl0ZVNwYWNlIChwYXJzZXIsIGMpIHtcbiAgICBpZiAoYyA9PT0gJzwnKSB7XG4gICAgICBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fV0FLQVxuICAgICAgcGFyc2VyLnN0YXJ0VGFnUG9zaXRpb24gPSBwYXJzZXIucG9zaXRpb25cbiAgICB9IGVsc2UgaWYgKCFpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgIC8vIGhhdmUgdG8gcHJvY2VzcyB0aGlzIGFzIGEgdGV4dCBub2RlLlxuICAgICAgLy8gd2VpcmQsIGJ1dCBoYXBwZW5zLlxuICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdOb24td2hpdGVzcGFjZSBiZWZvcmUgZmlyc3QgdGFnLicpXG4gICAgICBwYXJzZXIudGV4dE5vZGUgPSBjXG4gICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGFyQXQgKGNodW5rLCBpKSB7XG4gICAgdmFyIHJlc3VsdCA9ICcnXG4gICAgaWYgKGkgPCBjaHVuay5sZW5ndGgpIHtcbiAgICAgIHJlc3VsdCA9IGNodW5rLmNoYXJBdChpKVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZSAoY2h1bmspIHtcbiAgICB2YXIgcGFyc2VyID0gdGhpc1xuICAgIGlmICh0aGlzLmVycm9yKSB7XG4gICAgICB0aHJvdyB0aGlzLmVycm9yXG4gICAgfVxuICAgIGlmIChwYXJzZXIuY2xvc2VkKSB7XG4gICAgICByZXR1cm4gZXJyb3IocGFyc2VyLFxuICAgICAgICAnQ2Fubm90IHdyaXRlIGFmdGVyIGNsb3NlLiBBc3NpZ24gYW4gb25yZWFkeSBoYW5kbGVyLicpXG4gICAgfVxuICAgIGlmIChjaHVuayA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGVuZChwYXJzZXIpXG4gICAgfVxuICAgIGlmICh0eXBlb2YgY2h1bmsgPT09ICdvYmplY3QnKSB7XG4gICAgICBjaHVuayA9IGNodW5rLnRvU3RyaW5nKClcbiAgICB9XG4gICAgdmFyIGkgPSAwXG4gICAgdmFyIGMgPSAnJ1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICBjID0gY2hhckF0KGNodW5rLCBpKyspXG4gICAgICBwYXJzZXIuYyA9IGNcblxuICAgICAgaWYgKCFjKSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG5cbiAgICAgIGlmIChwYXJzZXIudHJhY2tQb3NpdGlvbikge1xuICAgICAgICBwYXJzZXIucG9zaXRpb24rK1xuICAgICAgICBpZiAoYyA9PT0gJ1xcbicpIHtcbiAgICAgICAgICBwYXJzZXIubGluZSsrXG4gICAgICAgICAgcGFyc2VyLmNvbHVtbiA9IDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJzZXIuY29sdW1uKytcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKHBhcnNlci5zdGF0ZSkge1xuICAgICAgICBjYXNlIFMuQkVHSU46XG4gICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5CRUdJTl9XSElURVNQQUNFXG4gICAgICAgICAgaWYgKGMgPT09ICdcXHVGRUZGJykge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgICAgYmVnaW5XaGl0ZVNwYWNlKHBhcnNlciwgYylcbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5CRUdJTl9XSElURVNQQUNFOlxuICAgICAgICAgIGJlZ2luV2hpdGVTcGFjZShwYXJzZXIsIGMpXG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuVEVYVDpcbiAgICAgICAgICBpZiAocGFyc2VyLnNhd1Jvb3QgJiYgIXBhcnNlci5jbG9zZWRSb290KSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRpID0gaSAtIDFcbiAgICAgICAgICAgIHdoaWxlIChjICYmIGMgIT09ICc8JyAmJiBjICE9PSAnJicpIHtcbiAgICAgICAgICAgICAgYyA9IGNoYXJBdChjaHVuaywgaSsrKVxuICAgICAgICAgICAgICBpZiAoYyAmJiBwYXJzZXIudHJhY2tQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIHBhcnNlci5wb3NpdGlvbisrXG4gICAgICAgICAgICAgICAgaWYgKGMgPT09ICdcXG4nKSB7XG4gICAgICAgICAgICAgICAgICBwYXJzZXIubGluZSsrXG4gICAgICAgICAgICAgICAgICBwYXJzZXIuY29sdW1uID0gMFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwYXJzZXIuY29sdW1uKytcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci50ZXh0Tm9kZSArPSBjaHVuay5zdWJzdHJpbmcoc3RhcnRpLCBpIC0gMSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGMgPT09ICc8JyAmJiAhKHBhcnNlci5zYXdSb290ICYmIHBhcnNlci5jbG9zZWRSb290ICYmICFwYXJzZXIuc3RyaWN0KSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1dBS0FcbiAgICAgICAgICAgIHBhcnNlci5zdGFydFRhZ1Bvc2l0aW9uID0gcGFyc2VyLnBvc2l0aW9uXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNXaGl0ZXNwYWNlKGMpICYmICghcGFyc2VyLnNhd1Jvb3QgfHwgcGFyc2VyLmNsb3NlZFJvb3QpKSB7XG4gICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVGV4dCBkYXRhIG91dHNpZGUgb2Ygcm9vdCBub2RlLicpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJyYnKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVF9FTlRJVFlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhcnNlci50ZXh0Tm9kZSArPSBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNDUklQVDpcbiAgICAgICAgICAvLyBvbmx5IG5vbi1zdHJpY3RcbiAgICAgICAgICBpZiAoYyA9PT0gJzwnKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVF9FTkRJTkdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNDUklQVF9FTkRJTkc6XG4gICAgICAgICAgaWYgKGMgPT09ICcvJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DTE9TRV9UQUdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCArPSAnPCcgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5PUEVOX1dBS0E6XG4gICAgICAgICAgLy8gZWl0aGVyIGEgLywgPywgISwgb3IgdGV4dCBpcyBjb21pbmcgbmV4dC5cbiAgICAgICAgICBpZiAoYyA9PT0gJyEnKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNHTUxfREVDTFxuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgLy8gd2FpdCBmb3IgaXQuLi5cbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1RBR1xuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgPSBjXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0xPU0VfVEFHXG4gICAgICAgICAgICBwYXJzZXIudGFnTmFtZSA9ICcnXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUXG4gICAgICAgICAgICBwYXJzZXIucHJvY0luc3ROYW1lID0gcGFyc2VyLnByb2NJbnN0Qm9keSA9ICcnXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5lbmNvZGVkIDwnKVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgd2FzIHNvbWUgd2hpdGVzcGFjZSwgdGhlbiBhZGQgdGhhdCBpbi5cbiAgICAgICAgICAgIGlmIChwYXJzZXIuc3RhcnRUYWdQb3NpdGlvbiArIDEgPCBwYXJzZXIucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgdmFyIHBhZCA9IHBhcnNlci5wb3NpdGlvbiAtIHBhcnNlci5zdGFydFRhZ1Bvc2l0aW9uXG4gICAgICAgICAgICAgIGMgPSBuZXcgQXJyYXkocGFkKS5qb2luKCcgJykgKyBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIudGV4dE5vZGUgKz0gJzwnICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNHTUxfREVDTDpcbiAgICAgICAgICBpZiAoKHBhcnNlci5zZ21sRGVjbCArIGMpLnRvVXBwZXJDYXNlKCkgPT09IENEQVRBKSB7XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbm9wZW5jZGF0YScpXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNEQVRBXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlci5zZ21sRGVjbCArIGMgPT09ICctLScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVFxuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKChwYXJzZXIuc2dtbERlY2wgKyBjKS50b1VwcGVyQ2FzZSgpID09PSBET0NUWVBFKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVcbiAgICAgICAgICAgIGlmIChwYXJzZXIuZG9jdHlwZSB8fCBwYXJzZXIuc2F3Um9vdCkge1xuICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlcixcbiAgICAgICAgICAgICAgICAnSW5hcHByb3ByaWF0ZWx5IGxvY2F0ZWQgZG9jdHlwZSBkZWNsYXJhdGlvbicpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIuZG9jdHlwZSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgPSAnJ1xuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbnNnbWxkZWNsYXJhdGlvbicsIHBhcnNlci5zZ21sRGVjbClcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzUXVvdGUoYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0dNTF9ERUNMX1FVT1RFRFxuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsICs9IGNcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsICs9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuU0dNTF9ERUNMX1FVT1RFRDpcbiAgICAgICAgICBpZiAoYyA9PT0gcGFyc2VyLnEpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0dNTF9ERUNMXG4gICAgICAgICAgICBwYXJzZXIucSA9ICcnXG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCArPSBjXG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuRE9DVFlQRTpcbiAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uZG9jdHlwZScsIHBhcnNlci5kb2N0eXBlKVxuICAgICAgICAgICAgcGFyc2VyLmRvY3R5cGUgPSB0cnVlIC8vIGp1c3QgcmVtZW1iZXIgdGhhdCB3ZSBzYXcgaXQuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5kb2N0eXBlICs9IGNcbiAgICAgICAgICAgIGlmIChjID09PSAnWycpIHtcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFX0RURFxuICAgICAgICAgICAgfSBlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRV9RVU9URURcbiAgICAgICAgICAgICAgcGFyc2VyLnEgPSBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkRPQ1RZUEVfUVVPVEVEOlxuICAgICAgICAgIHBhcnNlci5kb2N0eXBlICs9IGNcbiAgICAgICAgICBpZiAoYyA9PT0gcGFyc2VyLnEpIHtcbiAgICAgICAgICAgIHBhcnNlci5xID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5ET0NUWVBFX0RURDpcbiAgICAgICAgICBwYXJzZXIuZG9jdHlwZSArPSBjXG4gICAgICAgICAgaWYgKGMgPT09ICddJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5ET0NUWVBFXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfRFREX1FVT1RFRFxuICAgICAgICAgICAgcGFyc2VyLnEgPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkRPQ1RZUEVfRFREX1FVT1RFRDpcbiAgICAgICAgICBwYXJzZXIuZG9jdHlwZSArPSBjXG4gICAgICAgICAgaWYgKGMgPT09IHBhcnNlci5xKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfRFREXG4gICAgICAgICAgICBwYXJzZXIucSA9ICcnXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNPTU1FTlQ6XG4gICAgICAgICAgaWYgKGMgPT09ICctJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DT01NRU5UX0VORElOR1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuY29tbWVudCArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNPTU1FTlRfRU5ESU5HOlxuICAgICAgICAgIGlmIChjID09PSAnLScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVF9FTkRFRFxuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgPSB0ZXh0b3B0cyhwYXJzZXIub3B0LCBwYXJzZXIuY29tbWVudClcbiAgICAgICAgICAgIGlmIChwYXJzZXIuY29tbWVudCkge1xuICAgICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNvbW1lbnQnLCBwYXJzZXIuY29tbWVudClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci5jb21tZW50ID0gJydcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgKz0gJy0nICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DT01NRU5UXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNPTU1FTlRfRU5ERUQ6XG4gICAgICAgICAgaWYgKGMgIT09ICc+Jykge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdNYWxmb3JtZWQgY29tbWVudCcpXG4gICAgICAgICAgICAvLyBhbGxvdyA8IS0tIGJsYWggLS0gYmxvbyAtLT4gaW4gbm9uLXN0cmljdCBtb2RlLFxuICAgICAgICAgICAgLy8gd2hpY2ggaXMgYSBjb21tZW50IG9mIFwiIGJsYWggLS0gYmxvbyBcIlxuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgKz0gJy0tJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0RBVEE6XG4gICAgICAgICAgaWYgKGMgPT09ICddJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DREFUQV9FTkRJTkdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0RBVEFfRU5ESU5HOlxuICAgICAgICAgIGlmIChjID09PSAnXScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFfRU5ESU5HXzJcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9ICddJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0RBVEFfRU5ESU5HXzI6XG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgaWYgKHBhcnNlci5jZGF0YSkge1xuICAgICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNkYXRhJywgcGFyc2VyLmNkYXRhKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jbG9zZWNkYXRhJylcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICddJykge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9ICddJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuY2RhdGEgKz0gJ11dJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuUFJPQ19JTlNUOlxuICAgICAgICAgIGlmIChjID09PSAnPycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUX0VORElOR1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVF9CT0RZXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5wcm9jSW5zdE5hbWUgKz0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5QUk9DX0lOU1RfQk9EWTpcbiAgICAgICAgICBpZiAoIXBhcnNlci5wcm9jSW5zdEJvZHkgJiYgaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVF9FTkRJTkdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnByb2NJbnN0Qm9keSArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlBST0NfSU5TVF9FTkRJTkc6XG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25wcm9jZXNzaW5naW5zdHJ1Y3Rpb24nLCB7XG4gICAgICAgICAgICAgIG5hbWU6IHBhcnNlci5wcm9jSW5zdE5hbWUsXG4gICAgICAgICAgICAgIGJvZHk6IHBhcnNlci5wcm9jSW5zdEJvZHlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBwYXJzZXIucHJvY0luc3ROYW1lID0gcGFyc2VyLnByb2NJbnN0Qm9keSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnByb2NJbnN0Qm9keSArPSAnPycgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlBST0NfSU5TVF9CT0RZXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLk9QRU5fVEFHOlxuICAgICAgICAgIGlmIChpc01hdGNoKG5hbWVCb2R5LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgKz0gY1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdUYWcocGFyc2VyKVxuICAgICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgICBvcGVuVGFnKHBhcnNlcilcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJy8nKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdfU0xBU0hcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICghaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGNoYXJhY3RlciBpbiB0YWcgbmFtZScpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuT1BFTl9UQUdfU0xBU0g6XG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIsIHRydWUpXG4gICAgICAgICAgICBjbG9zZVRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnRm9yd2FyZC1zbGFzaCBpbiBvcGVuaW5nIHRhZyBub3QgZm9sbG93ZWQgYnkgPicpXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQlxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUI6XG4gICAgICAgICAgLy8gaGF2ZW4ndCByZWFkIHRoZSBhdHRyaWJ1dGUgbmFtZSB5ZXQuXG4gICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdfU0xBU0hcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBjXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfTkFNRVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgYXR0cmlidXRlIG5hbWUnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfTkFNRTpcbiAgICAgICAgICBpZiAoYyA9PT0gJz0nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0F0dHJpYnV0ZSB3aXRob3V0IHZhbHVlJylcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSA9IHBhcnNlci5hdHRyaWJOYW1lXG4gICAgICAgICAgICBhdHRyaWIocGFyc2VyKVxuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX05BTUVfU0FXX1dISVRFXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVCb2R5LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgKz0gY1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgYXR0cmlidXRlIG5hbWUnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfTkFNRV9TQVdfV0hJVEU6XG4gICAgICAgICAgaWYgKGMgPT09ICc9Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdBdHRyaWJ1dGUgd2l0aG91dCB2YWx1ZScpXG4gICAgICAgICAgICBwYXJzZXIudGFnLmF0dHJpYnV0ZXNbcGFyc2VyLmF0dHJpYk5hbWVdID0gJydcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSA9ICcnXG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmF0dHJpYnV0ZScsIHtcbiAgICAgICAgICAgICAgbmFtZTogcGFyc2VyLmF0dHJpYk5hbWUsXG4gICAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gJydcbiAgICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgICBwYXJzZXIuYXR0cmliTmFtZSA9IGNcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfTkFNRVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lJylcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFOlxuICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1F1b3RlKGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIucSA9IGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1FVT1RFRFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1VucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZScpXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9VTlFVT1RFRFxuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlID0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfUVVPVEVEOlxuICAgICAgICAgIGlmIChjICE9PSBwYXJzZXIucSkge1xuICAgICAgICAgICAgaWYgKGMgPT09ICcmJykge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfUVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlICs9IGNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGF0dHJpYihwYXJzZXIpXG4gICAgICAgICAgcGFyc2VyLnEgPSAnJ1xuICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX0NMT1NFRFxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9DTE9TRUQ6XG4gICAgICAgICAgaWYgKGlzV2hpdGVzcGFjZShjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdfU0xBU0hcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzTWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdObyB3aGl0ZXNwYWNlIGJldHdlZW4gYXR0cmlidXRlcycpXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliTmFtZSA9IGNcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9OQU1FXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBhdHRyaWJ1dGUgbmFtZScpXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9VTlFVT1RFRDpcbiAgICAgICAgICBpZiAoIWlzQXR0cmliRW5kKGMpKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJyYnKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX0VOVElUWV9VXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgKz0gY1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgICAgYXR0cmliKHBhcnNlcilcbiAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBvcGVuVGFnKHBhcnNlcilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0xPU0VfVEFHOlxuICAgICAgICAgIGlmICghcGFyc2VyLnRhZ05hbWUpIHtcbiAgICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobm90TWF0Y2gobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgICBpZiAocGFyc2VyLnNjcmlwdCkge1xuICAgICAgICAgICAgICAgIHBhcnNlci5zY3JpcHQgKz0gJzwvJyArIGNcbiAgICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVFxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCB0YWduYW1lIGluIGNsb3NpbmcgdGFnLicpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhcnNlci50YWdOYW1lID0gY1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBjbG9zZVRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIGlmIChpc01hdGNoKG5hbWVCb2R5LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgKz0gY1xuICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VyLnNjcmlwdCkge1xuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCArPSAnPC8nICsgcGFyc2VyLnRhZ05hbWVcbiAgICAgICAgICAgIHBhcnNlci50YWdOYW1lID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaXNXaGl0ZXNwYWNlKGMpKSB7XG4gICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCB0YWduYW1lIGluIGNsb3NpbmcgdGFnJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0xPU0VfVEFHX1NBV19XSElURVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5DTE9TRV9UQUdfU0FXX1dISVRFOlxuICAgICAgICAgIGlmIChpc1doaXRlc3BhY2UoYykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIGNsb3NlVGFnKHBhcnNlcilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGNoYXJhY3RlcnMgaW4gY2xvc2luZyB0YWcnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5URVhUX0VOVElUWTpcbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfUTpcbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfVTpcbiAgICAgICAgICB2YXIgcmV0dXJuU3RhdGVcbiAgICAgICAgICB2YXIgYnVmZmVyXG4gICAgICAgICAgc3dpdGNoIChwYXJzZXIuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgUy5URVhUX0VOVElUWTpcbiAgICAgICAgICAgICAgcmV0dXJuU3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICAgICAgYnVmZmVyID0gJ3RleHROb2RlJ1xuICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX0VOVElUWV9ROlxuICAgICAgICAgICAgICByZXR1cm5TdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1FVT1RFRFxuICAgICAgICAgICAgICBidWZmZXIgPSAnYXR0cmliVmFsdWUnXG4gICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfRU5USVRZX1U6XG4gICAgICAgICAgICAgIHJldHVyblN0YXRlID0gUy5BVFRSSUJfVkFMVUVfVU5RVU9URURcbiAgICAgICAgICAgICAgYnVmZmVyID0gJ2F0dHJpYlZhbHVlJ1xuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjID09PSAnOycpIHtcbiAgICAgICAgICAgIGlmIChwYXJzZXIub3B0LnVucGFyc2VkRW50aXRpZXMpIHtcbiAgICAgICAgICAgICAgdmFyIHBhcnNlZEVudGl0eSA9IHBhcnNlRW50aXR5KHBhcnNlcilcbiAgICAgICAgICAgICAgcGFyc2VyLmVudGl0eSA9ICcnXG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IHJldHVyblN0YXRlXG4gICAgICAgICAgICAgIHBhcnNlci53cml0ZShwYXJzZWRFbnRpdHkpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYXJzZXJbYnVmZmVyXSArPSBwYXJzZUVudGl0eShwYXJzZXIpXG4gICAgICAgICAgICAgIHBhcnNlci5lbnRpdHkgPSAnJ1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSByZXR1cm5TdGF0ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNNYXRjaChwYXJzZXIuZW50aXR5Lmxlbmd0aCA/IGVudGl0eUJvZHkgOiBlbnRpdHlTdGFydCwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5lbnRpdHkgKz0gY1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgY2hhcmFjdGVyIGluIGVudGl0eSBuYW1lJylcbiAgICAgICAgICAgIHBhcnNlcltidWZmZXJdICs9ICcmJyArIHBhcnNlci5lbnRpdHkgKyBjXG4gICAgICAgICAgICBwYXJzZXIuZW50aXR5ID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IHJldHVyblN0YXRlXG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBkZWZhdWx0OiAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqLyB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBhcnNlciwgJ1Vua25vd24gc3RhdGU6ICcgKyBwYXJzZXIuc3RhdGUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IC8vIHdoaWxlXG5cbiAgICBpZiAocGFyc2VyLnBvc2l0aW9uID49IHBhcnNlci5idWZmZXJDaGVja1Bvc2l0aW9uKSB7XG4gICAgICBjaGVja0J1ZmZlckxlbmd0aChwYXJzZXIpXG4gICAgfVxuICAgIHJldHVybiBwYXJzZXJcbiAgfVxuXG4gIC8qISBodHRwOi8vbXRocy5iZS9mcm9tY29kZXBvaW50IHYwLjEuMCBieSBAbWF0aGlhcyAqL1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoIVN0cmluZy5mcm9tQ29kZVBvaW50KSB7XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdHJpbmdGcm9tQ2hhckNvZGUgPSBTdHJpbmcuZnJvbUNoYXJDb2RlXG4gICAgICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yXG4gICAgICB2YXIgZnJvbUNvZGVQb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIE1BWF9TSVpFID0gMHg0MDAwXG4gICAgICAgIHZhciBjb2RlVW5pdHMgPSBbXVxuICAgICAgICB2YXIgaGlnaFN1cnJvZ2F0ZVxuICAgICAgICB2YXIgbG93U3Vycm9nYXRlXG4gICAgICAgIHZhciBpbmRleCA9IC0xXG4gICAgICAgIHZhciBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoXG4gICAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuICcnXG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIGNvZGVQb2ludCA9IE51bWJlcihhcmd1bWVudHNbaW5kZXhdKVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc0Zpbml0ZShjb2RlUG9pbnQpIHx8IC8vIGBOYU5gLCBgK0luZmluaXR5YCwgb3IgYC1JbmZpbml0eWBcbiAgICAgICAgICAgIGNvZGVQb2ludCA8IDAgfHwgLy8gbm90IGEgdmFsaWQgVW5pY29kZSBjb2RlIHBvaW50XG4gICAgICAgICAgICBjb2RlUG9pbnQgPiAweDEwRkZGRiB8fCAvLyBub3QgYSB2YWxpZCBVbmljb2RlIGNvZGUgcG9pbnRcbiAgICAgICAgICAgIGZsb29yKGNvZGVQb2ludCkgIT09IGNvZGVQb2ludCAvLyBub3QgYW4gaW50ZWdlclxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcignSW52YWxpZCBjb2RlIHBvaW50OiAnICsgY29kZVBvaW50KVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY29kZVBvaW50IDw9IDB4RkZGRikgeyAvLyBCTVAgY29kZSBwb2ludFxuICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goY29kZVBvaW50KVxuICAgICAgICAgIH0gZWxzZSB7IC8vIEFzdHJhbCBjb2RlIHBvaW50OyBzcGxpdCBpbiBzdXJyb2dhdGUgaGFsdmVzXG4gICAgICAgICAgICAvLyBodHRwOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nI3N1cnJvZ2F0ZS1mb3JtdWxhZVxuICAgICAgICAgICAgY29kZVBvaW50IC09IDB4MTAwMDBcbiAgICAgICAgICAgIGhpZ2hTdXJyb2dhdGUgPSAoY29kZVBvaW50ID4+IDEwKSArIDB4RDgwMFxuICAgICAgICAgICAgbG93U3Vycm9nYXRlID0gKGNvZGVQb2ludCAlIDB4NDAwKSArIDB4REMwMFxuICAgICAgICAgICAgY29kZVVuaXRzLnB1c2goaGlnaFN1cnJvZ2F0ZSwgbG93U3Vycm9nYXRlKVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSBsZW5ndGggfHwgY29kZVVuaXRzLmxlbmd0aCA+IE1BWF9TSVpFKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIGNvZGVVbml0cylcbiAgICAgICAgICAgIGNvZGVVbml0cy5sZW5ndGggPSAwXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcsICdmcm9tQ29kZVBvaW50Jywge1xuICAgICAgICAgIHZhbHVlOiBmcm9tQ29kZVBvaW50LFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgU3RyaW5nLmZyb21Db2RlUG9pbnQgPSBmcm9tQ29kZVBvaW50XG4gICAgICB9XG4gICAgfSgpKVxuICB9XG59KSh0eXBlb2YgZXhwb3J0cyA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnNheCA9IHt9IDogZXhwb3J0cylcbiIsCiAgIlxuXG4vKiFcbiAqIFN0eWx1cyAtIHBsdWdpbiAtIHVybFxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgQnVmZmVyID0gcmVxdWlyZSgnYnVmZmVyJykuQnVmZmVyXG4gICwgZnMgPSByZXF1aXJlKCdmcycpXG4gICwgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxuICAsIHNheCA9IHJlcXVpcmUoJ3NheCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEltYWdlIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYEltYWdlYCB3aXRoIHRoZSBnaXZlbiBgY3R4YCBhbmQgYHBhdGguXG4gICAqXG4gICAqIEBwYXJhbSB7RXZhbHVhdG9yfSBjdHhcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKGN0eCwgcGF0aCkge1xuICAgIHRoaXMuY3R4ID0gY3R4O1xuICAgIHRoaXMucGF0aCA9IHV0aWxzLmxvb2t1cChwYXRoLCBjdHgucGF0aHMpO1xuICAgIGlmICghdGhpcy5wYXRoKSB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBsb2NhdGUgZmlsZSAnICsgcGF0aCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBPcGVuIHRoZSBpbWFnZSBmb3IgcmVhZGluZy5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5mZCA9IGZzLm9wZW5TeW5jKHRoaXMucGF0aCwgJ3InKTtcbiAgICB0aGlzLmxlbmd0aCA9IGZzLmZzdGF0U3luYyh0aGlzLmZkKS5zaXplO1xuICAgIHRoaXMuZXh0bmFtZSA9IHBhdGguZXh0bmFtZSh0aGlzLnBhdGgpLnNsaWNlKDEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDbG9zZSB0aGUgZmlsZS5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGNsb3NlKCkge1xuICAgIGlmICh0aGlzLmZkKSBmcy5jbG9zZVN5bmModGhpcy5mZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgdHlwZSBvZiBpbWFnZSwgc3VwcG9ydHM6XG4gICAqXG4gICAqICAtIGdpZlxuICAgKiAgLSBwbmdcbiAgICogIC0ganBlZ1xuICAgKiAgLSBzdmdcbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgdHlwZSgpIHtcbiAgICB2YXIgdHlwZVxuICAgICAgLCBidWYgPSBCdWZmZXIuYWxsb2MoNCk7XG5cbiAgICBmcy5yZWFkU3luYyh0aGlzLmZkLCBidWYsIDAsIDQsIDApO1xuXG4gICAgLy8gR0lGXG4gICAgaWYgKDB4NDcgPT0gYnVmWzBdICYmIDB4NDkgPT0gYnVmWzFdICYmIDB4NDYgPT0gYnVmWzJdKSB0eXBlID0gJ2dpZic7XG5cbiAgICAvLyBQTkdcbiAgICBlbHNlIGlmICgweDUwID09IGJ1ZlsxXSAmJiAweDRFID09IGJ1ZlsyXSAmJiAweDQ3ID09IGJ1ZlszXSkgdHlwZSA9ICdwbmcnO1xuXG4gICAgLy8gSlBFR1xuICAgIGVsc2UgaWYgKDB4ZmYgPT0gYnVmWzBdICYmIDB4ZDggPT0gYnVmWzFdKSB0eXBlID0gJ2pwZWcnO1xuXG4gICAgLy8gU1ZHXG4gICAgZWxzZSBpZiAoJ3N2ZycgPT0gdGhpcy5leHRuYW1lKSB0eXBlID0gdGhpcy5leHRuYW1lO1xuXG4gICAgcmV0dXJuIHR5cGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBpbWFnZSBkaW1lbnNpb25zIGBbd2lkdGgsIGhlaWdodF1gLlxuICAgKlxuICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHNpemUoKSB7XG4gICAgdmFyIHR5cGUgPSB0aGlzLnR5cGUoKVxuICAgICAgLCB3aWR0aFxuICAgICAgLCBoZWlnaHRcbiAgICAgICwgYnVmXG4gICAgICAsIG9mZnNldFxuICAgICAgLCBibG9ja1NpemVcbiAgICAgICwgcGFyc2VyO1xuXG4gICAgZnVuY3Rpb24gdWludDE2KGIpIHsgcmV0dXJuIGJbMV0gPDwgOCB8IGJbMF07IH1cbiAgICBmdW5jdGlvbiB1aW50MzIoYikgeyByZXR1cm4gYlswXSA8PCAyNCB8IGJbMV0gPDwgMTYgfCBiWzJdIDw8IDggfCBiWzNdOyB9XG5cbiAgICAvLyBEZXRlcm1pbmUgZGltZW5zaW9uc1xuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnanBlZyc6XG4gICAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvYyh0aGlzLmxlbmd0aCk7XG4gICAgICAgIGZzLnJlYWRTeW5jKHRoaXMuZmQsIGJ1ZiwgMCwgdGhpcy5sZW5ndGgsIDApO1xuICAgICAgICBvZmZzZXQgPSA0O1xuICAgICAgICBibG9ja1NpemUgPSBidWZbb2Zmc2V0XSA8PCA4IHwgYnVmW29mZnNldCArIDFdO1xuXG4gICAgICAgIHdoaWxlIChvZmZzZXQgPCB0aGlzLmxlbmd0aCkge1xuICAgICAgICAgIG9mZnNldCArPSBibG9ja1NpemU7XG4gICAgICAgICAgaWYgKG9mZnNldCA+PSB0aGlzLmxlbmd0aCB8fCAweGZmICE9IGJ1ZltvZmZzZXRdKSBicmVhaztcbiAgICAgICAgICAvLyBTT0YwIG9yIFNPRjIgKHByb2dyZXNzaXZlKVxuICAgICAgICAgIGlmICgweGMwID09IGJ1ZltvZmZzZXQgKyAxXSB8fCAweGMyID09IGJ1ZltvZmZzZXQgKyAxXSkge1xuICAgICAgICAgICAgaGVpZ2h0ID0gYnVmW29mZnNldCArIDVdIDw8IDggfCBidWZbb2Zmc2V0ICsgNl07XG4gICAgICAgICAgICB3aWR0aCA9IGJ1ZltvZmZzZXQgKyA3XSA8PCA4IHwgYnVmW29mZnNldCArIDhdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvZmZzZXQgKz0gMjtcbiAgICAgICAgICAgIGJsb2NrU2l6ZSA9IGJ1ZltvZmZzZXRdIDw8IDggfCBidWZbb2Zmc2V0ICsgMV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncG5nJzpcbiAgICAgICAgYnVmID0gQnVmZmVyLmFsbG9jKDgpO1xuICAgICAgICAvLyBJSERSIGNodW5rIHdpZHRoIC8gaGVpZ2h0IHVpbnQzMl90IGJpZy1lbmRpYW5cbiAgICAgICAgZnMucmVhZFN5bmModGhpcy5mZCwgYnVmLCAwLCA4LCAxNik7XG4gICAgICAgIHdpZHRoID0gdWludDMyKGJ1Zik7XG4gICAgICAgIGhlaWdodCA9IHVpbnQzMihidWYuc2xpY2UoNCwgOCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2dpZic6XG4gICAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvYyg0KTtcbiAgICAgICAgLy8gd2lkdGggLyBoZWlnaHQgdWludDE2X3QgbGl0dGxlLWVuZGlhblxuICAgICAgICBmcy5yZWFkU3luYyh0aGlzLmZkLCBidWYsIDAsIDQsIDYpO1xuICAgICAgICB3aWR0aCA9IHVpbnQxNihidWYpO1xuICAgICAgICBoZWlnaHQgPSB1aW50MTYoYnVmLnNsaWNlKDIsIDQpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdmcnOlxuICAgICAgICBvZmZzZXQgPSBNYXRoLm1pbih0aGlzLmxlbmd0aCwgMTAyNCk7XG4gICAgICAgIGJ1ZiA9IEJ1ZmZlci5hbGxvYyhvZmZzZXQpO1xuICAgICAgICBmcy5yZWFkU3luYyh0aGlzLmZkLCBidWYsIDAsIG9mZnNldCwgMCk7XG4gICAgICAgIGJ1ZiA9IGJ1Zi50b1N0cmluZygndXRmOCcpO1xuICAgICAgICBwYXJzZXIgPSBzYXgucGFyc2VyKHRydWUpO1xuICAgICAgICBwYXJzZXIub25vcGVudGFnID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICBpZiAoJ3N2ZycgPT0gbm9kZS5uYW1lICYmIG5vZGUuYXR0cmlidXRlcy53aWR0aCAmJiBub2RlLmF0dHJpYnV0ZXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICB3aWR0aCA9IHBhcnNlSW50KG5vZGUuYXR0cmlidXRlcy53aWR0aCwgMTApO1xuICAgICAgICAgICAgaGVpZ2h0ID0gcGFyc2VJbnQobm9kZS5hdHRyaWJ1dGVzLmhlaWdodCwgMTApO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcGFyc2VyLndyaXRlKGJ1ZikuY2xvc2UoKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKCdudW1iZXInICE9IHR5cGVvZiB3aWR0aCkgdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQgdG8gZmluZCB3aWR0aCBvZiBcIicgKyB0aGlzLnBhdGggKyAnXCInKTtcbiAgICBpZiAoJ251bWJlcicgIT0gdHlwZW9mIGhlaWdodCkgdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQgdG8gZmluZCBoZWlnaHQgb2YgXCInICsgdGhpcy5wYXRoICsgJ1wiJyk7XG5cbiAgICByZXR1cm4gW3dpZHRoLCBoZWlnaHRdO1xuICB9O1xufTtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJylcbiAgLCBJbWFnZSA9IHJlcXVpcmUoJy4vaW1hZ2UnKTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGdpdmVuIGBpbWdgIHBhdGguXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgaW1hZ2Utc2l6ZSgnZm9vLnBuZycpXG4gKiAgICAvLyA9PiAyMDBweCAxMDBweFxuICpcbiAqICAgIGltYWdlLXNpemUoJ2Zvby5wbmcnKVswXVxuICogICAgLy8gPT4gMjAwcHhcbiAqXG4gKiAgICBpbWFnZS1zaXplKCdmb28ucG5nJylbMV1cbiAqICAgIC8vID0+IDEwMHB4XG4gKlxuICogQ2FuIGJlIHVzZWQgdG8gdGVzdCBpZiB0aGUgaW1hZ2UgZXhpc3RzLFxuICogdXNpbmcgYW4gb3B0aW9uYWwgYXJndW1lbnQgc2V0IHRvIGB0cnVlYFxuICogKHdpdGhvdXQgdGhpcyBhcmd1bWVudCB0aGlzIGZ1bmN0aW9uIHRocm93cyBlcnJvclxuICogaWYgdGhlcmUgaXMgbm8gc3VjaCBpbWFnZSkuXG4gKlxuICogRXhhbXBsZTpcbiAqXG4gKiAgICBpbWFnZS1zaXplKCdub3N1Y2hpbWFnZS5wbmcnLCB0cnVlKVswXVxuICogICAgLy8gPT4gMFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBpbWdcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaWdub3JlRXJyXG4gKiBAcmV0dXJuIHtFeHByZXNzaW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBpbWFnZVNpemUoaW1nLCBpZ25vcmVFcnIpIHtcbiAgdXRpbHMuYXNzZXJ0VHlwZShpbWcsICdzdHJpbmcnLCAnaW1nJyk7XG4gIHRyeSB7XG4gICAgdmFyIGltZyA9IG5ldyBJbWFnZSh0aGlzLCBpbWcuc3RyaW5nKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgaWYgKGlnbm9yZUVycikge1xuICAgICAgcmV0dXJuIFtuZXcgbm9kZXMuVW5pdCgwKSwgbmV3IG5vZGVzLlVuaXQoMCldO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9XG5cbiAgLy8gUmVhZCBzaXplXG4gIGltZy5vcGVuKCk7XG4gIHZhciBzaXplID0gaW1nLnNpemUoKTtcbiAgaW1nLmNsb3NlKCk7XG5cbiAgLy8gUmV0dXJuICh3IGgpXG4gIHZhciBleHByID0gW107XG4gIGV4cHIucHVzaChuZXcgbm9kZXMuVW5pdChzaXplWzBdLCAncHgnKSk7XG4gIGV4cHIucHVzaChuZXcgbm9kZXMuVW5pdChzaXplWzFdLCAncHgnKSk7XG5cbiAgcmV0dXJuIGV4cHI7XG59O1xuaW1hZ2VTaXplLnBhcmFtcyA9IFsnaW1nJywgJ2lnbm9yZUVyciddO1xubW9kdWxlLmV4cG9ydHMgPSBpbWFnZVNpemU7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpXG4gICwgcmVhZEZpbGUgPSByZXF1aXJlKCdmcycpLnJlYWRGaWxlU3luYztcblxuLyoqXG4gKiBDb252ZXJ0IGEgLmpzb24gZmlsZSBpbnRvIHN0eWx1cyB2YXJpYWJsZXMgb3Igb2JqZWN0LlxuICogTmVzdGVkIHZhcmlhYmxlIG9iamVjdCBrZXlzIGFyZSBqb2luZWQgd2l0aCBhIGRhc2ggKC0pXG4gKlxuICogR2l2ZW4gdGhpcyBzYW1wbGUgbWVkaWEtcXVlcmllcy5qc29uIGZpbGU6XG4gKiB7XG4gKiAgIFwic21hbGxcIjogXCJzY3JlZW4gYW5kIChtYXgtd2lkdGg6NDAwcHgpXCIsXG4gKiAgIFwidGFibGV0XCI6IHtcbiAqICAgICBcImxhbmRzY2FwZVwiOiBcInNjcmVlbiBhbmQgKG1pbi13aWR0aDo2MDBweCkgYW5kIChvcmllbnRhdGlvbjpsYW5kc2NhcGUpXCIsXG4gKiAgICAgXCJwb3J0cmFpdFwiOiBcInNjcmVlbiBhbmQgKG1pbi13aWR0aDo2MDBweCkgYW5kIChvcmllbnRhdGlvbjpwb3J0cmFpdClcIlxuICogICB9XG4gKiB9XG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAganNvbignbWVkaWEtcXVlcmllcy5qc29uJylcbiAqXG4gKiAgICBAbWVkaWEgc21hbGxcbiAqICAgIC8vID0+IEBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NDAwcHgpXG4gKlxuICogICAgQG1lZGlhIHRhYmxldC1sYW5kc2NhcGVcbiAqICAgIC8vID0+IEBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6NjAwcHgpIGFuZCAob3JpZW50YXRpb246bGFuZHNjYXBlKVxuICpcbiAqICAgIHZhcnMgPSBqc29uKCd2YXJzLmpzb24nLCB7IGhhc2g6IHRydWUgfSlcbiAqICAgIGJvZHlcbiAqICAgICAgd2lkdGg6IHZhcnMud2lkdGhcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aFxuICogQHBhcmFtIHtCb29sZWFufSBbbG9jYWxdXG4gKiBAcGFyYW0ge1N0cmluZ30gW25hbWVQcmVmaXhdXG4gKiBAYXBpIHB1YmxpY1xuKi9cblxuZnVuY3Rpb24ganNvbihwYXRoLCBsb2NhbCwgbmFtZVByZWZpeCl7XG4gIHV0aWxzLmFzc2VydFN0cmluZyhwYXRoLCAncGF0aCcpO1xuXG4gIC8vIGxvb2t1cFxuICBwYXRoID0gcGF0aC5zdHJpbmc7XG4gIHZhciBmb3VuZCA9IHV0aWxzLmxvb2t1cChwYXRoLCB0aGlzLm9wdGlvbnMucGF0aHMsIHRoaXMub3B0aW9ucy5maWxlbmFtZSlcbiAgICAsIG9wdGlvbnMgPSAobG9jYWwgJiYgJ29iamVjdCcgPT0gbG9jYWwubm9kZU5hbWUpICYmIGxvY2FsO1xuXG4gIGlmICghZm91bmQpIHtcbiAgICAvLyBvcHRpb25hbCBKU09OIGZpbGVcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmdldCgnb3B0aW9uYWwnKS50b0Jvb2xlYW4oKS5pc1RydWUpIHtcbiAgICAgIHJldHVybiBub2Rlcy5udWxsO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ZhaWxlZCB0byBsb2NhdGUgLmpzb24gZmlsZSAnICsgcGF0aCk7XG4gIH1cblxuICAvLyByZWFkXG4gIHZhciBqc29uID0gSlNPTi5wYXJzZShyZWFkRmlsZShmb3VuZCwgJ3V0ZjgnKSk7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gY29udmVydChqc29uLCBvcHRpb25zKTtcbiAgfSBlbHNlIHtcbiAgICBvbGRKc29uLmNhbGwodGhpcywganNvbiwgbG9jYWwsIG5hbWVQcmVmaXgpO1xuICB9XG5cbiAgZnVuY3Rpb24gY29udmVydChvYmosIG9wdGlvbnMpe1xuICAgIHZhciByZXQgPSBuZXcgbm9kZXMuT2JqZWN0KClcbiAgICAgICwgbGVhdmVTdHJpbmdzID0gb3B0aW9ucy5nZXQoJ2xlYXZlLXN0cmluZ3MnKS50b0Jvb2xlYW4oKTtcblxuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIHZhciB2YWwgPSBvYmpba2V5XTtcbiAgICAgIGlmICgnb2JqZWN0JyA9PSB0eXBlb2YgdmFsKSB7XG4gICAgICAgIHJldC5zZXQoa2V5LCBjb252ZXJ0KHZhbCwgb3B0aW9ucykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gdXRpbHMuY29lcmNlKHZhbCk7XG4gICAgICAgIGlmICgnc3RyaW5nJyA9PSB2YWwubm9kZU5hbWUgJiYgbGVhdmVTdHJpbmdzLmlzRmFsc2UpIHtcbiAgICAgICAgICB2YWwgPSB1dGlscy5wYXJzZVN0cmluZyh2YWwuc3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICByZXQuc2V0KGtleSwgdmFsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJldDtcbiAgfVxufTtcbmpzb24ucGFyYW1zID0gWydwYXRoJywgJ2xvY2FsJywgJ25hbWVQcmVmaXgnXTtcbm1vZHVsZS5leHBvcnRzID0ganNvbjtcblxuLyoqXG4gKiBPbGQgYGpzb25gIEJJRi5cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBvbGRKc29uKGpzb24sIGxvY2FsLCBuYW1lUHJlZml4KXtcbiAgaWYgKG5hbWVQcmVmaXgpIHtcbiAgICB1dGlscy5hc3NlcnRTdHJpbmcobmFtZVByZWZpeCwgJ25hbWVQcmVmaXgnKTtcbiAgICBuYW1lUHJlZml4ID0gbmFtZVByZWZpeC52YWw7XG4gIH0gZWxzZSB7XG4gICAgbmFtZVByZWZpeCA9ICcnO1xuICB9XG4gIGxvY2FsID0gbG9jYWwgPyBsb2NhbC50b0Jvb2xlYW4oKSA6IG5ldyBub2Rlcy5Cb29sZWFuKGxvY2FsKTtcbiAgdmFyIHNjb3BlID0gbG9jYWwuaXNUcnVlID8gdGhpcy5jdXJyZW50U2NvcGUgOiB0aGlzLmdsb2JhbC5zY29wZTtcblxuICBjb252ZXJ0KGpzb24pO1xuICByZXR1cm47XG5cbiAgZnVuY3Rpb24gY29udmVydChvYmosIHByZWZpeCl7XG4gICAgcHJlZml4ID0gcHJlZml4ID8gcHJlZml4ICsgJy0nIDogJyc7XG4gICAgZm9yICh2YXIga2V5IGluIG9iail7XG4gICAgICB2YXIgdmFsID0gb2JqW2tleV07XG4gICAgICB2YXIgbmFtZSA9IHByZWZpeCArIGtleTtcbiAgICAgIGlmICgnb2JqZWN0JyA9PSB0eXBlb2YgdmFsKSB7XG4gICAgICAgIGNvbnZlcnQodmFsLCBuYW1lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbCA9IHV0aWxzLmNvZXJjZSh2YWwpO1xuICAgICAgICBpZiAoJ3N0cmluZycgPT0gdmFsLm5vZGVOYW1lKSB2YWwgPSB1dGlscy5wYXJzZVN0cmluZyh2YWwuc3RyaW5nKTtcbiAgICAgICAgc2NvcGUuYWRkKHsgbmFtZTogbmFtZVByZWZpeCArIG5hbWUsIHZhbDogdmFsIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogUmV0dXJuIGxlbmd0aCBvZiB0aGUgZ2l2ZW4gYGV4cHJgLlxuICpcbiAqIEBwYXJhbSB7RXhwcmVzc2lvbn0gZXhwclxuICogQHJldHVybiB7VW5pdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbGVuZ3RoKGV4cHIpe1xuICBpZiAoZXhwcikge1xuICAgIGlmIChleHByLm5vZGVzKSB7XG4gICAgICB2YXIgbm9kZXMgPSB1dGlscy51bndyYXAoZXhwcikubm9kZXM7XG4gICAgICBpZiAoMSA9PSBub2Rlcy5sZW5ndGggJiYgJ29iamVjdCcgPT0gbm9kZXNbMF0ubm9kZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGVzWzBdLmxlbmd0aDtcbiAgICAgIH0gZWxzZSBpZiAoMSA9PSBub2Rlcy5sZW5ndGggJiYgJ3N0cmluZycgPT0gbm9kZXNbMF0ubm9kZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5vZGVzWzBdLnZhbC5sZW5ndGg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbm9kZXMubGVuZ3RoO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDA7XG59KS5yYXcgPSB0cnVlO1xuIiwKICAidmFyIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKVxuICAsIGhzbGEgPSByZXF1aXJlKCcuL2hzbGEnKVxuICAsIGNvbXBvbmVudCA9IHJlcXVpcmUoJy4vY29tcG9uZW50Jyk7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaWdodG5lc3MgY29tcG9uZW50IG9mIHRoZSBnaXZlbiBgY29sb3JgLFxuICogb3Igc2V0IHRoZSBsaWdodG5lc3MgY29tcG9uZW50IHRvIHRoZSBvcHRpb25hbCBzZWNvbmQgYHZhbHVlYCBhcmd1bWVudC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICBsaWdodG5lc3MoIzAwYylcbiAqICAgIC8vID0+IDEwMCVcbiAqXG4gKiAgICBsaWdodG5lc3MoIzAwYywgODAlKVxuICogICAgLy8gPT4gIzk5ZlxuICpcbiAqIEBwYXJhbSB7UkdCQXxIU0xBfSBjb2xvclxuICogQHBhcmFtIHtVbml0fSBbdmFsdWVdXG4gKiBAcmV0dXJuIHtVbml0fFJHQkF9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIGxpZ2h0bmVzcyhjb2xvciwgdmFsdWUpe1xuICBpZiAodmFsdWUpIHtcbiAgICB2YXIgaHNsYUNvbG9yID0gY29sb3IuaHNsYTtcbiAgICByZXR1cm4gaHNsYShcbiAgICAgIG5ldyBub2Rlcy5Vbml0KGhzbGFDb2xvci5oKSxcbiAgICAgIG5ldyBub2Rlcy5Vbml0KGhzbGFDb2xvci5zKSxcbiAgICAgIHZhbHVlLFxuICAgICAgbmV3IG5vZGVzLlVuaXQoaHNsYUNvbG9yLmEpXG4gICAgKVxuICB9XG4gIHJldHVybiBjb21wb25lbnQoY29sb3IsIG5ldyBub2Rlcy5TdHJpbmcoJ2xpZ2h0bmVzcycpKTtcbn07XG5saWdodG5lc3MucGFyYW1zID0gWydjb2xvcicsICd2YWx1ZSddO1xubW9kdWxlLmV4cG9ydHMgPSBsaWdodG5lc3M7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpO1xuXG4vKipcbiAqIFJldHVybiB0aGUgc2VwYXJhdG9yIG9mIHRoZSBnaXZlbiBgbGlzdGAuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgbGlzdDEgPSBhIGIgY1xuICogICAgbGlzdC1zZXBhcmF0b3IobGlzdDEpXG4gKiAgICAvLyA9PiAnICdcbiAqXG4gKiAgICBsaXN0MiA9IGEsIGIsIGNcbiAqICAgIGxpc3Qtc2VwYXJhdG9yKGxpc3QyKVxuICogICAgLy8gPT4gJywnXG4gKlxuICogQHBhcmFtIHtFeHBlcnNzaW9ufSBsaXN0XG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGxpc3RTZXBhcmF0b3IobGlzdCl7XG4gIGxpc3QgPSB1dGlscy51bndyYXAobGlzdCk7XG4gIHJldHVybiBuZXcgbm9kZXMuU3RyaW5nKGxpc3QuaXNMaXN0ID8gJywnIDogJyAnKTtcbn0pLnJhdyA9IHRydWU7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpO1xuXG4vKipcbiAqIExvb2t1cCB2YXJpYWJsZSBgbmFtZWAgb3IgcmV0dXJuIE51bGwuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAqIEByZXR1cm4ge01peGVkfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBsb29rdXAobmFtZSl7XG4gIHV0aWxzLmFzc2VydFR5cGUobmFtZSwgJ3N0cmluZycsICduYW1lJyk7XG4gIHZhciBub2RlID0gdGhpcy5sb29rdXAobmFtZS52YWwpO1xuICBpZiAoIW5vZGUpIHJldHVybiBub2Rlcy5udWxsO1xuICByZXR1cm4gdGhpcy52aXNpdChub2RlKTtcbn1cbmxvb2t1cC5wYXJhbXMgPSBbJ25hbWUnXTtcbm1vZHVsZS5leHBvcnRzID0gbG9va3VwO1xuIiwKICAidmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKTtcblxudmFyIFZBTElEX0ZMQUdTID0gJ2lnbSc7XG5cbi8qKlxuICogcmV0cmlldmVzIHRoZSBtYXRjaGVzIHdoZW4gbWF0Y2hpbmcgYSBgdmFsYChzdHJpbmcpXG4gKiBhZ2FpbnN0IGEgYHBhdHRlcm5gKHJlZ3VsYXIgZXhwcmVzc2lvbikuXG4gKlxuICogRXhhbXBsZXM6XG4gKiAgICRyZWdleCA9ICdeKGhlaWdodHx3aWR0aCk/KFs8Pj1dezEsfSkoLiopJ1xuICpcbiAqICAgbWF0Y2goJHJlZ2V4LCdoZWlnaHQ+PXNtJylcbiAqIFx0IC8vID0+ICgnaGVpZ2h0Pj1zbScgJ2hlaWdodCcgJz49JyAnc20nKVxuICogXHQgLy8gPT4gYWxzbyB0cnV0aHlcbiAqXG4gKiAgIG1hdGNoKCRyZWdleCwgJ2xvcmVtIGlwc3VtJylcbiAqICAgLy8gPT4gbnVsbFxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXR0ZXJuXG4gKiBAcGFyYW0ge1N0cmluZ3xJZGVudH0gdmFsXG4gKiBAcGFyYW0ge1N0cmluZ3xJZGVudH0gW2ZsYWdzPScnXVxuICogQHJldHVybiB7U3RyaW5nfE51bGx9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIG1hdGNoKHBhdHRlcm4sIHZhbCwgZmxhZ3Mpe1xuICB1dGlscy5hc3NlcnRUeXBlKHBhdHRlcm4sICdzdHJpbmcnLCAncGF0dGVybicpO1xuICB1dGlscy5hc3NlcnRTdHJpbmcodmFsLCAndmFsJyk7XG4gIHZhciByZSA9IG5ldyBSZWdFeHAocGF0dGVybi52YWwsIHZhbGlkYXRlRmxhZ3MoZmxhZ3MpID8gZmxhZ3Muc3RyaW5nIDogJycpO1xuICByZXR1cm4gdmFsLnN0cmluZy5tYXRjaChyZSk7XG59XG5tYXRjaC5wYXJhbXMgPSBbJ3BhdHRlcm4nLCAndmFsJywgJ2ZsYWdzJ107XG5tb2R1bGUuZXhwb3J0cyA9IG1hdGNoO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZUZsYWdzKGZsYWdzKSB7XG4gIGZsYWdzID0gZmxhZ3MgJiYgZmxhZ3Muc3RyaW5nO1xuXG4gIGlmIChmbGFncykge1xuICAgIHJldHVybiBmbGFncy5zcGxpdCgnJykuZXZlcnkoZnVuY3Rpb24oZmxhZykge1xuICAgICAgcmV0dXJuIH5WQUxJRF9GTEFHUy5pbmRleE9mKGZsYWcpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJyk7XG5cbi8qKlxuICogQXBwbHkgTWF0aCBgZm5gIHRvIGBuYC5cbiAqXG4gKiBAcGFyYW0ge1VuaXR9IG5cbiAqIEBwYXJhbSB7U3RyaW5nfSBmblxuICogQHJldHVybiB7VW5pdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIG1hdGgobiwgZm4pe1xuICB1dGlscy5hc3NlcnRUeXBlKG4sICd1bml0JywgJ24nKTtcbiAgdXRpbHMuYXNzZXJ0U3RyaW5nKGZuLCAnZm4nKTtcbiAgcmV0dXJuIG5ldyBub2Rlcy5Vbml0KE1hdGhbZm4uc3RyaW5nXShuLnZhbCksIG4udHlwZSk7XG59XG5tYXRoLnBhcmFtcyA9IFsnbicsICdmbiddO1xubW9kdWxlLmV4cG9ydHMgPSBtYXRoO1xuIiwKICAidmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBNZXJnZSB0aGUgb2JqZWN0IGBkZXN0YCB3aXRoIHRoZSBnaXZlbiBhcmdzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBkZXN0XG4gKiBAcGFyYW0ge09iamVjdH0gLi4uXG4gKiBAcmV0dXJuIHtPYmplY3R9IGRlc3RcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gbWVyZ2UoZGVzdCl7XG4gIHV0aWxzLmFzc2VydFByZXNlbnQoZGVzdCwgJ2Rlc3QnKTtcbiAgZGVzdCA9IHV0aWxzLnVud3JhcChkZXN0KS5maXJzdDtcbiAgdXRpbHMuYXNzZXJ0VHlwZShkZXN0LCAnb2JqZWN0JywgJ2Rlc3QnKTtcblxuICB2YXIgbGFzdCA9IHV0aWxzLnVud3JhcChhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdKS5maXJzdFxuICAgICwgZGVlcCA9ICh0cnVlID09PSBsYXN0LnZhbCk7XG5cbiAgZm9yICh2YXIgaSA9IDEsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGggLSBkZWVwOyBpIDwgbGVuOyArK2kpIHtcbiAgICB1dGlscy5tZXJnZShkZXN0LnZhbHMsIHV0aWxzLnVud3JhcChhcmd1bWVudHNbaV0pLmZpcnN0LnZhbHMsIGRlZXApO1xuICB9XG4gIHJldHVybiBkZXN0O1xufSkucmF3ID0gdHJ1ZTtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogUGVyZm9ybSBgb3BgIG9uIHRoZSBgbGVmdGAgYW5kIGByaWdodGAgb3BlcmFuZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG9wXG4gKiBAcGFyYW0ge05vZGV9IGxlZnRcbiAqIEBwYXJhbSB7Tm9kZX0gcmlnaHRcbiAqIEByZXR1cm4ge05vZGV9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIG9wZXJhdGUob3AsIGxlZnQsIHJpZ2h0KXtcbiAgdXRpbHMuYXNzZXJ0VHlwZShvcCwgJ3N0cmluZycsICdvcCcpO1xuICB1dGlscy5hc3NlcnRQcmVzZW50KGxlZnQsICdsZWZ0Jyk7XG4gIHV0aWxzLmFzc2VydFByZXNlbnQocmlnaHQsICdyaWdodCcpO1xuICByZXR1cm4gbGVmdC5vcGVyYXRlKG9wLnZhbCwgcmlnaHQpO1xufVxub3BlcmF0ZS5wYXJhbXMgPSBbJ29wJywgJ2xlZnQnLCAncmlnaHQnXTtcbm1vZHVsZS5leHBvcnRzID0gb3BlcmF0ZTtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJyk7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBvcHBvc2l0ZXMgb2YgdGhlIGdpdmVuIGBwb3NpdGlvbnNgLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIG9wcG9zaXRlLXBvc2l0aW9uKHRvcCBsZWZ0KVxuICogICAgLy8gPT4gYm90dG9tIHJpZ2h0XG4gKlxuICogQHBhcmFtIHtFeHByZXNzaW9ufSBwb3NpdGlvbnNcbiAqIEByZXR1cm4ge0V4cHJlc3Npb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIG9wcG9zaXRlUG9zaXRpb24ocG9zaXRpb25zKXtcbiAgdmFyIGV4cHIgPSBbXTtcbiAgdXRpbHMudW53cmFwKHBvc2l0aW9ucykubm9kZXMuZm9yRWFjaChmdW5jdGlvbihwb3MsIGkpe1xuICAgIHV0aWxzLmFzc2VydFN0cmluZyhwb3MsICdwb3NpdGlvbiAnICsgaSk7XG4gICAgcG9zID0gKGZ1bmN0aW9uKCl7IHN3aXRjaCAocG9zLnN0cmluZykge1xuICAgICAgY2FzZSAndG9wJzogcmV0dXJuICdib3R0b20nO1xuICAgICAgY2FzZSAnYm90dG9tJzogcmV0dXJuICd0b3AnO1xuICAgICAgY2FzZSAnbGVmdCc6IHJldHVybiAncmlnaHQnO1xuICAgICAgY2FzZSAncmlnaHQnOiByZXR1cm4gJ2xlZnQnO1xuICAgICAgY2FzZSAnY2VudGVyJzogcmV0dXJuICdjZW50ZXInO1xuICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIHBvc2l0aW9uICcgKyBwb3MpO1xuICAgIH19KSgpO1xuICAgIGV4cHIucHVzaChuZXcgbm9kZXMuTGl0ZXJhbChwb3MpKTtcbiAgfSk7XG4gIHJldHVybiBleHByO1xufSkucmF3ID0gdHJ1ZTtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJyk7XG5cbi8qKlxuICogSW5zcGVjdCB0aGUgZ2l2ZW4gYGV4cHJgLlxuICpcbiAqIEBwYXJhbSB7RXhwcmVzc2lvbn0gZXhwclxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwKCl7XG4gIFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKGV4cHIpe1xuICAgIGV4cHIgPSB1dGlscy51bndyYXAoZXhwcik7XG4gICAgaWYgKCFleHByLm5vZGVzLmxlbmd0aCkgcmV0dXJuO1xuICAgIGNvbnNvbGUubG9nKCdcXHUwMDFiWzkwbWluc3BlY3Q6XFx1MDAxYlswbSAlcycsIGV4cHIudG9TdHJpbmcoKS5yZXBsYWNlKC9eXFwofFxcKSQvZywgJycpKTtcbiAgfSlcbiAgcmV0dXJuIG5vZGVzLm51bGw7XG59KS5yYXcgPSB0cnVlO1xuIiwKICAidmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbi8qKlxuICogUGVmb3JtIGEgcGF0aCBqb2luLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhdGhqb2luKCl7XG4gIHZhciBwYXRocyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5tYXAoZnVuY3Rpb24ocGF0aCl7XG4gICAgcmV0dXJuIHBhdGguZmlyc3Quc3RyaW5nO1xuICB9KTtcbiAgcmV0dXJuIHBhdGguam9pbi5hcHBseShudWxsLCBwYXRocykucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xufSkucmF3ID0gdHJ1ZTtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogUG9wIGEgdmFsdWUgZnJvbSBgZXhwcmAuXG4gKlxuICogQHBhcmFtIHtFeHByZXNzaW9ufSBleHByXG4gKiBAcmV0dXJuIHtOb2RlfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG4obW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBwb3AoZXhwcikge1xuICBleHByID0gdXRpbHMudW53cmFwKGV4cHIpO1xuICByZXR1cm4gZXhwci5ub2Rlcy5wb3AoKTtcbn0pLnJhdyA9IHRydWU7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIFB1c2ggdGhlIGdpdmVuIGFyZ3MgdG8gYGV4cHJgLlxuICpcbiAqIEBwYXJhbSB7RXhwcmVzc2lvbn0gZXhwclxuICogQHBhcmFtIHtOb2RlfSAuLi5cbiAqIEByZXR1cm4ge1VuaXR9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4cHIpe1xuICBleHByID0gdXRpbHMudW53cmFwKGV4cHIpO1xuICBmb3IgKHZhciBpID0gMSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgZXhwci5ub2Rlcy5wdXNoKHV0aWxzLnVud3JhcChhcmd1bWVudHNbaV0pLmNsb25lKCkpO1xuICB9XG4gIHJldHVybiBleHByLm5vZGVzLmxlbmd0aDtcbn0pLnJhdyA9IHRydWU7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpO1xuXG4vKipcbiAqIFJldHVybnMgYSBsaXN0IG9mIHVuaXRzIGZyb20gYHN0YXJ0YCB0byBgc3RvcGBcbiAqIGJ5IGBzdGVwYC4gSWYgYHN0ZXBgIGFyZ3VtZW50IGlzIG9taXR0ZWQsXG4gKiBpdCBkZWZhdWx0cyB0byAxLlxuICpcbiAqIEBwYXJhbSB7VW5pdH0gc3RhcnRcbiAqIEBwYXJhbSB7VW5pdH0gc3RvcFxuICogQHBhcmFtIHtVbml0fSBbc3RlcF1cbiAqIEByZXR1cm4ge0V4cHJlc3Npb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBzdG9wLCBzdGVwKXtcbiAgdXRpbHMuYXNzZXJ0VHlwZShzdGFydCwgJ3VuaXQnLCAnc3RhcnQnKTtcbiAgdXRpbHMuYXNzZXJ0VHlwZShzdG9wLCAndW5pdCcsICdzdG9wJyk7XG4gIGlmIChzdGVwKSB7XG4gICAgdXRpbHMuYXNzZXJ0VHlwZShzdGVwLCAndW5pdCcsICdzdGVwJyk7XG4gICAgaWYgKDAgPT0gc3RlcC52YWwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQXJndW1lbnRFcnJvcjogXCJzdGVwXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgemVybycpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBzdGVwID0gbmV3IG5vZGVzLlVuaXQoMSk7XG4gIH1cbiAgdmFyIGxpc3QgPSBuZXcgbm9kZXMuRXhwcmVzc2lvbjtcbiAgZm9yICh2YXIgaSA9IHN0YXJ0LnZhbDsgaSA8PSBzdG9wLnZhbDsgaSArPSBzdGVwLnZhbCkge1xuICAgIGxpc3QucHVzaChuZXcgbm9kZXMuVW5pdChpLCBzdGFydC50eXBlKSk7XG4gIH1cbiAgcmV0dXJuIGxpc3Q7XG59XG5yYW5nZS5wYXJhbXMgPSBbJ3N0YXJ0JywgJ3N0b3AnLCAnc3RlcCddO1xubW9kdWxlLmV4cG9ydHMgPSByYW5nZTtcbiIsCiAgInZhciBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJylcbiAgLCByZ2JhID0gcmVxdWlyZSgnLi9yZ2JhJyk7XG5cbi8qKlxuICogUmV0dXJuIHRoZSByZWQgY29tcG9uZW50IG9mIHRoZSBnaXZlbiBgY29sb3JgLFxuICogb3Igc2V0IHRoZSByZWQgY29tcG9uZW50IHRvIHRoZSBvcHRpb25hbCBzZWNvbmQgYHZhbHVlYCBhcmd1bWVudC5cbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiAgICByZWQoI2MwMClcbiAqICAgIC8vID0+IDIwNFxuICpcbiAqICAgIHJlZCgjMDAwLCAyNTUpXG4gKiAgICAvLyA9PiAjZjAwXG4gKlxuICogQHBhcmFtIHtSR0JBfEhTTEF9IGNvbG9yXG4gKiBAcGFyYW0ge1VuaXR9IFt2YWx1ZV1cbiAqIEByZXR1cm4ge1VuaXR8UkdCQX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gcmVkKGNvbG9yLCB2YWx1ZSl7XG4gIGNvbG9yID0gY29sb3IucmdiYTtcbiAgaWYgKHZhbHVlKSB7XG4gICAgcmV0dXJuIHJnYmEoXG4gICAgICB2YWx1ZSxcbiAgICAgIG5ldyBub2Rlcy5Vbml0KGNvbG9yLmcpLFxuICAgICAgbmV3IG5vZGVzLlVuaXQoY29sb3IuYiksXG4gICAgICBuZXcgbm9kZXMuVW5pdChjb2xvci5hKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIG5ldyBub2Rlcy5Vbml0KGNvbG9yLnIsICcnKTtcbn1cbnJlZC5wYXJhbXMgPSBbJ2NvbG9yJywgJ3ZhbHVlJ107XG5tb2R1bGUuZXhwb3J0cyA9IHJlZDtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBnaXZlbiBga2V5YCBmcm9tIHRoZSBgb2JqZWN0YC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0XG4gKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHJlbW92ZShvYmplY3QsIGtleSl7XG4gIHV0aWxzLmFzc2VydFR5cGUob2JqZWN0LCAnb2JqZWN0JywgJ29iamVjdCcpO1xuICB1dGlscy5hc3NlcnRTdHJpbmcoa2V5LCAna2V5Jyk7XG4gIGRlbGV0ZSBvYmplY3QudmFsc1trZXkuc3RyaW5nXTtcbiAgcmV0dXJuIG9iamVjdDtcbn1cbnJlbW92ZS5wYXJhbXMgPSBbJ29iamVjdCcsICdrZXknXTtcbm1vZHVsZS5leHBvcnRzID0gcmVtb3ZlO1xuIiwKICAidmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKTtcblxuLyoqXG4gKiBSZXR1cm5zIHN0cmluZyB3aXRoIGFsbCBtYXRjaGVzIG9mIGBwYXR0ZXJuYCByZXBsYWNlZCBieSBgcmVwbGFjZW1lbnRgIGluIGdpdmVuIGB2YWxgXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHBhdHRlcm5cbiAqIEBwYXJhbSB7U3RyaW5nfSByZXBsYWNlbWVudFxuICogQHBhcmFtIHtTdHJpbmd8SWRlbnR9IHZhbFxuICogQHJldHVybiB7U3RyaW5nfElkZW50fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiByZXBsYWNlKHBhdHRlcm4sIHJlcGxhY2VtZW50LCB2YWwpe1xuICB1dGlscy5hc3NlcnRTdHJpbmcocGF0dGVybiwgJ3BhdHRlcm4nKTtcbiAgdXRpbHMuYXNzZXJ0U3RyaW5nKHJlcGxhY2VtZW50LCAncmVwbGFjZW1lbnQnKTtcbiAgdXRpbHMuYXNzZXJ0U3RyaW5nKHZhbCwgJ3ZhbCcpO1xuICBwYXR0ZXJuID0gbmV3IFJlZ0V4cChwYXR0ZXJuLnN0cmluZywgJ2cnKTtcbiAgdmFyIHJlcyA9IHZhbC5zdHJpbmcucmVwbGFjZShwYXR0ZXJuLCByZXBsYWNlbWVudC5zdHJpbmcpO1xuICByZXR1cm4gdmFsIGluc3RhbmNlb2Ygbm9kZXMuSWRlbnRcbiAgICA/IG5ldyBub2Rlcy5JZGVudChyZXMpXG4gICAgOiBuZXcgbm9kZXMuU3RyaW5nKHJlcyk7XG59XG5yZXBsYWNlLnBhcmFtcyA9IFsncGF0dGVybicsICdyZXBsYWNlbWVudCcsICd2YWwnXTtcbm1vZHVsZS5leHBvcnRzID0gcmVwbGFjZTtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJylcbiAgLCByZ2JhID0gcmVxdWlyZSgnLi9yZ2JhJyk7XG5cbi8qKlxuICogUmV0dXJuIGEgYFJHQkFgIGZyb20gdGhlIHIsZyxiIGNoYW5uZWxzLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIHJnYigyNTUsMjA0LDApXG4gKiAgICAvLyA9PiAjZmZjYzAwXG4gKlxuICogICAgcmdiKCNmZmYpXG4gKiAgICAvLyA9PiAjZmZmXG4gKlxuICogQHBhcmFtIHtVbml0fFJHQkF8SFNMQX0gcmVkXG4gKiBAcGFyYW0ge1VuaXR9IGdyZWVuXG4gKiBAcGFyYW0ge1VuaXR9IGJsdWVcbiAqIEByZXR1cm4ge1JHQkF9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHJnYihyZWQsIGdyZWVuLCBibHVlKXtcbiAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgY2FzZSAxOlxuICAgICAgdXRpbHMuYXNzZXJ0Q29sb3IocmVkKTtcbiAgICAgIHZhciBjb2xvciA9IHJlZC5yZ2JhO1xuICAgICAgcmV0dXJuIG5ldyBub2Rlcy5SR0JBKFxuICAgICAgICAgIGNvbG9yLnJcbiAgICAgICAgLCBjb2xvci5nXG4gICAgICAgICwgY29sb3IuYlxuICAgICAgICAsIDEpO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gcmdiYShcbiAgICAgICAgICByZWRcbiAgICAgICAgLCBncmVlblxuICAgICAgICAsIGJsdWVcbiAgICAgICAgLCBuZXcgbm9kZXMuVW5pdCgxKSk7XG4gIH1cbn1cbnJnYi5wYXJhbXMgPSBbJ3JlZCcsICdncmVlbicsICdibHVlJ107XG5tb2R1bGUuZXhwb3J0cyA9IHJnYjtcbiIsCiAgIlxuLyoqXG4gKiBDb252ZXJ0IGdpdmVuIHZhbHVlJ3MgYmFzZSBpbnRvIHRoZSBwYXJhbWV0ZXIgdW5pdE5hbWVcbiAqXG4gKiBAcGFyYW0ge0RvdWJsZX0gdmFsdWVcbiAqIEBwYXJhbSB7U3RyaW5nfSB1bml0TmFtZVxuICogQHJldHVybiB7RG91YmxlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjb252ZXJ0QW5nbGUodmFsdWUsIHVuaXROYW1lKSB7XG5cdHZhciBmYWN0b3JzID0ge1xuXHRcdFwicmFkXCIgOiAxLFxuXHRcdFwiZGVnXCIgOiAxODAgLyBNYXRoLlBJLFxuXHRcdFwidHVyblwiOiAwLjUgLyBNYXRoLlBJLFxuXHRcdFwiZ3JhZFwiOiAyMDAgLyBNYXRoLlBJXG5cdH1cblx0cmV0dXJuIHZhbHVlICogZmFjdG9yc1t1bml0TmFtZV07XG59XG4iLAogICJ2YXIgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpXG4gICwgY29udmVydCA9IHJlcXVpcmUoJy4vY29udmVydC1hbmdsZScpO1xuXG4vKipcbiAqIFJldHVybiB0aGUgYXJjdGFuZ2VudCBvZiB0aGUgZ2l2ZW4gYHZhbHVlYC5cbiAqXG4gKiBAcGFyYW0ge0RvdWJsZX0gdHJpZ1ZhbHVlXG4gKiBAcGFyYW0ge1VuaXR9IG91dHB1dCBcbiAqIEByZXR1cm4ge1VuaXR9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gYXRhbih0cmlnVmFsdWUsIG91dHB1dCkge1xuXHR2YXIgb3V0cHV0ID0gdHlwZW9mIG91dHB1dCAhPT0gJ3VuZGVmaW5lZCcgPyBvdXRwdXQgOiAnZGVnJztcblx0dmFyIHZhbHVlID0gTWF0aC5hdGFuKHRyaWdWYWx1ZSkgO1xuXHR2YXIgbSA9IE1hdGgucG93KDEwLCA5KTtcblx0dmFyIGNvbnZlcnRlZFZhbHVlID0gY29udmVydCh2YWx1ZSwgb3V0cHV0KTtcblx0Y29udmVydGVkVmFsdWUgPSBNYXRoLnJvdW5kKGNvbnZlcnRlZFZhbHVlICogbSkgLyBtO1xuICByZXR1cm4gbmV3IG5vZGVzLlVuaXQoY29udmVydGVkVmFsdWUsIG91dHB1dCk7XG59O1xuIiwKICAidmFyIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKVxuICAsIGNvbnZlcnQgPSByZXF1aXJlKCcuL2NvbnZlcnQtYW5nbGUnKTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGFyY3NpbmUgb2YgdGhlIGdpdmVuIGB2YWx1ZWAuXG4gKlxuICogQHBhcmFtIHtEb3VibGV9IHRyaWdWYWx1ZVxuICogQHBhcmFtIHtVbml0fSBvdXRwdXQgXG4gKiBAcmV0dXJuIHtVbml0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGF0YW4odHJpZ1ZhbHVlLCBvdXRwdXQpIHtcblx0dmFyIG91dHB1dCA9IHR5cGVvZiBvdXRwdXQgIT09ICd1bmRlZmluZWQnID8gb3V0cHV0IDogJ2RlZyc7XG4gIHZhciBtID0gTWF0aC5wb3coMTAsIDkpO1xuXHR2YXIgdmFsdWUgPSBNYXRoLmFzaW4odHJpZ1ZhbHVlKSA7XG5cdHZhciBjb252ZXJ0ZWRWYWx1ZSA9IGNvbnZlcnQodmFsdWUsIG91dHB1dCk7XG5cdGNvbnZlcnRlZFZhbHVlID0gTWF0aC5yb3VuZChjb252ZXJ0ZWRWYWx1ZSAqIG0pIC8gbTtcbiAgcmV0dXJuIG5ldyBub2Rlcy5Vbml0KGNvbnZlcnRlZFZhbHVlLCBvdXRwdXQpO1xufTtcbiIsCiAgInZhciBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJylcbiAgLCBjb252ZXJ0ID0gcmVxdWlyZSgnLi9jb252ZXJ0LWFuZ2xlJylcbiAgLCBhc2luICAgID0gcmVxdWlyZSgnLi9hc2luJyk7XG5cbi8qKlxuICogUmV0dXJuIHRoZSBhcmNjb3NpbmUgb2YgdGhlIGdpdmVuIGB2YWx1ZWAuXG4gKlxuICogQHBhcmFtIHtEb3VibGV9IHRyaWdWYWx1ZVxuICogQHBhcmFtIHtVbml0fSBvdXRwdXQgXG4gKiBAcmV0dXJuIHtVbml0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBhY29zKHRyaWdWYWx1ZSwgb3V0cHV0KSB7XG5cdHZhciBvdXRwdXQgPSB0eXBlb2Ygb3V0cHV0ICE9PSAndW5kZWZpbmVkJyA/IG91dHB1dCA6ICdkZWcnO1xuXHR2YXIgY29udmVydGVkVmFsdWUgPSBjb252ZXJ0KE1hdGguUEkgLyAyLCBvdXRwdXQpIC0gYXNpbih0cmlnVmFsdWUsIG91dHB1dCkudmFsO1xuXHR2YXIgbSA9IE1hdGgucG93KDEwLCA5KTtcblx0Y29udmVydGVkVmFsdWUgPSBNYXRoLnJvdW5kKGNvbnZlcnRlZFZhbHVlICogbSkgLyBtO1xuICByZXR1cm4gbmV3IG5vZGVzLlVuaXQoY29udmVydGVkVmFsdWUsIG91dHB1dCk7XG59O1xuIiwKICAiLyohXG4gKiBTdHlsdXMgLSBDb21waWxlclxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgVmlzaXRvciA9IHJlcXVpcmUoJy4vJylcbiAgLCB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgQ29tcGlsZXIgZXh0ZW5kcyBWaXNpdG9yIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYENvbXBpbGVyYCB3aXRoIHRoZSBnaXZlbiBgcm9vdGAgTm9kZVxuICAgKiBhbmQgdGhlIGZvbGxvd2luZyBgb3B0aW9uc2AuXG4gICAqXG4gICAqIE9wdGlvbnM6XG4gICAqXG4gICAqICAgLSBgY29tcHJlc3NgICBDb21wcmVzcyB0aGUgQ1NTIG91dHB1dCAoZGVmYXVsdDogZmFsc2UpXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gcm9vdFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3Rvcihyb290LCBvcHRpb25zKSB7XG4gICAgc3VwZXIocm9vdCk7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpcy5jb21wcmVzcyA9IG9wdGlvbnMuY29tcHJlc3M7XG4gICAgdGhpcy5maXJlYnVnID0gb3B0aW9ucy5maXJlYnVnO1xuICAgIHRoaXMubGluZW5vcyA9IG9wdGlvbnMubGluZW5vcztcbiAgICB0aGlzLnNwYWNlcyA9IG9wdGlvbnNbJ2luZGVudCBzcGFjZXMnXSB8fCAyO1xuICAgIHRoaXMuaW5kZW50cyA9IDE7XG4gICAgdGhpcy5zdGFjayA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbXBpbGUgdG8gY3NzLCBhbmQgcmV0dXJuIGEgc3RyaW5nIG9mIENTUy5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgY29tcGlsZSgpIHtcbiAgICByZXR1cm4gdGhpcy52aXNpdCh0aGlzLnJvb3QpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBPdXRwdXQgYHN0cmBcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgb3V0KHN0ciwgbm9kZSkge1xuICAgIHJldHVybiBzdHI7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBpbmRlbnRhdGlvbiBzdHJpbmcuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGdldCBpbmRlbnQoKSB7XG4gICAgaWYgKHRoaXMuY29tcHJlc3MpIHJldHVybiAnJztcbiAgICByZXR1cm4gbmV3IEFycmF5KHRoaXMuaW5kZW50cykuam9pbihBcnJheSh0aGlzLnNwYWNlcyArIDEpLmpvaW4oJyAnKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGdpdmVuIGBub2RlYCBuZWVkcyBicmFja2V0cy5cbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBuZWVkQnJhY2tldHMobm9kZSkge1xuICAgIHJldHVybiAxID09IHRoaXMuaW5kZW50c1xuICAgICAgfHwgJ2F0cnVsZScgIT0gbm9kZS5ub2RlTmFtZVxuICAgICAgfHwgbm9kZS5oYXNPbmx5UHJvcGVydGllcztcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgUm9vdC5cbiAgICovXG5cbiAgdmlzaXRSb290KGJsb2NrKSB7XG4gICAgdGhpcy5idWYgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYmxvY2subm9kZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIHZhciBub2RlID0gYmxvY2subm9kZXNbaV07XG4gICAgICBpZiAodGhpcy5saW5lbm9zIHx8IHRoaXMuZmlyZWJ1ZykgdGhpcy5kZWJ1Z0luZm8obm9kZSk7XG4gICAgICB2YXIgcmV0ID0gdGhpcy52aXNpdChub2RlKTtcbiAgICAgIGlmIChyZXQpIHRoaXMuYnVmICs9IHRoaXMub3V0KHJldCArICdcXG4nLCBub2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYnVmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBCbG9jay5cbiAgICovXG5cbiAgdmlzaXRCbG9jayhibG9jaykge1xuICAgIHZhciBub2RlXG4gICAgICAsIHNlcGFyYXRvciA9IHRoaXMuY29tcHJlc3MgPyAnJyA6ICdcXG4nXG4gICAgICAsIG5lZWRCcmFja2V0c1xuICAgICAgLCBsYXN0UHJvcGVydHlJbmRleDtcblxuICAgIGlmIChibG9jay5oYXNQcm9wZXJ0aWVzICYmICFibG9jay5sYWNrc1JlbmRlcmVkU2VsZWN0b3JzKSB7XG4gICAgICBuZWVkQnJhY2tldHMgPSB0aGlzLm5lZWRCcmFja2V0cyhibG9jay5ub2RlKTtcblxuICAgICAgaWYgKHRoaXMuY29tcHJlc3MpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IGJsb2NrLm5vZGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgaWYgKGJsb2NrLm5vZGVzW2ldLm5vZGVOYW1lID09PSAncHJvcGVydHknKSB7XG4gICAgICAgICAgICBsYXN0UHJvcGVydHlJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChuZWVkQnJhY2tldHMpIHtcbiAgICAgICAgdGhpcy5idWYgKz0gdGhpcy5vdXQodGhpcy5jb21wcmVzcyA/ICd7JyA6ICcge1xcbicpO1xuICAgICAgICArK3RoaXMuaW5kZW50cztcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBibG9jay5ub2Rlcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgICB0aGlzLmxhc3QgPSBsYXN0UHJvcGVydHlJbmRleCA9PT0gaTtcbiAgICAgICAgbm9kZSA9IGJsb2NrLm5vZGVzW2ldO1xuICAgICAgICBzd2l0Y2ggKG5vZGUubm9kZU5hbWUpIHtcbiAgICAgICAgICBjYXNlICdudWxsJzpcbiAgICAgICAgICBjYXNlICdleHByZXNzaW9uJzpcbiAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgICAgIGNhc2UgJ2Jsb2NrJzpcbiAgICAgICAgICBjYXNlICd1bml0JzpcbiAgICAgICAgICBjYXNlICdtZWRpYSc6XG4gICAgICAgICAgY2FzZSAna2V5ZnJhbWVzJzpcbiAgICAgICAgICBjYXNlICdhdHJ1bGUnOlxuICAgICAgICAgIGNhc2UgJ3N1cHBvcnRzJzpcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIC8vIGlubGluZSBjb21tZW50c1xuICAgICAgICAgIGNhc2UgIXRoaXMuY29tcHJlc3MgJiYgbm9kZS5pbmxpbmUgJiYgJ2NvbW1lbnQnOlxuICAgICAgICAgICAgdGhpcy5idWYgPSB0aGlzLmJ1Zi5zbGljZSgwLCAtMSk7XG4gICAgICAgICAgICB0aGlzLmJ1ZiArPSB0aGlzLm91dCgnICcgKyB0aGlzLnZpc2l0KG5vZGUpICsgJ1xcbicsIG5vZGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAncHJvcGVydHknOlxuICAgICAgICAgICAgdmFyIHJldCA9IHRoaXMudmlzaXQobm9kZSkgKyBzZXBhcmF0b3I7XG4gICAgICAgICAgICB0aGlzLmJ1ZiArPSB0aGlzLmNvbXByZXNzID8gcmV0IDogdGhpcy5vdXQocmV0LCBub2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aGlzLmJ1ZiArPSB0aGlzLm91dCh0aGlzLnZpc2l0KG5vZGUpICsgc2VwYXJhdG9yLCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG5lZWRCcmFja2V0cykge1xuICAgICAgICAtLXRoaXMuaW5kZW50cztcbiAgICAgICAgdGhpcy5idWYgKz0gdGhpcy5vdXQodGhpcy5pbmRlbnQgKyAnfScgKyBzZXBhcmF0b3IpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5lc3RpbmdcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYmxvY2subm9kZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIG5vZGUgPSBibG9jay5ub2Rlc1tpXTtcbiAgICAgIHN3aXRjaCAobm9kZS5ub2RlTmFtZSkge1xuICAgICAgICBjYXNlICdncm91cCc6XG4gICAgICAgIGNhc2UgJ2Jsb2NrJzpcbiAgICAgICAgY2FzZSAna2V5ZnJhbWVzJzpcbiAgICAgICAgICBpZiAodGhpcy5saW5lbm9zIHx8IHRoaXMuZmlyZWJ1ZykgdGhpcy5kZWJ1Z0luZm8obm9kZSk7XG4gICAgICAgICAgdGhpcy52aXNpdChub2RlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbWVkaWEnOlxuICAgICAgICBjYXNlICdpbXBvcnQnOlxuICAgICAgICBjYXNlICdhdHJ1bGUnOlxuICAgICAgICBjYXNlICdzdXBwb3J0cyc6XG4gICAgICAgICAgdGhpcy52aXNpdChub2RlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY29tbWVudCc6XG4gICAgICAgICAgLy8gb25seSBzaG93IHVuc3VwcHJlc3NlZCBjb21tZW50c1xuICAgICAgICAgIGlmICghbm9kZS5zdXBwcmVzcykge1xuICAgICAgICAgICAgdGhpcy5idWYgKz0gdGhpcy5vdXQodGhpcy5pbmRlbnQgKyB0aGlzLnZpc2l0KG5vZGUpICsgJ1xcbicsIG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2hhcnNldCc6XG4gICAgICAgIGNhc2UgJ2xpdGVyYWwnOlxuICAgICAgICBjYXNlICduYW1lc3BhY2UnOlxuICAgICAgICAgIHRoaXMuYnVmICs9IHRoaXMub3V0KHRoaXMudmlzaXQobm9kZSkgKyAnXFxuJywgbm9kZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBLZXlmcmFtZXMuXG4gICAqL1xuXG4gIHZpc2l0S2V5ZnJhbWVzKG5vZGUpIHtcbiAgICBpZiAoIW5vZGUuZnJhbWVzKSByZXR1cm47XG5cbiAgICB2YXIgcHJlZml4ID0gJ29mZmljaWFsJyA9PSBub2RlLnByZWZpeFxuICAgICAgPyAnJ1xuICAgICAgOiAnLScgKyBub2RlLnByZWZpeCArICctJztcblxuICAgIHRoaXMuYnVmICs9IHRoaXMub3V0KCdAJyArIHByZWZpeCArICdrZXlmcmFtZXMgJ1xuICAgICAgKyB0aGlzLnZpc2l0KG5vZGUudmFsKVxuICAgICAgKyAodGhpcy5jb21wcmVzcyA/ICd7JyA6ICcge1xcbicpLCBub2RlKTtcblxuICAgIHRoaXMua2V5ZnJhbWUgPSB0cnVlO1xuICAgICsrdGhpcy5pbmRlbnRzO1xuICAgIHRoaXMudmlzaXQobm9kZS5ibG9jayk7XG4gICAgLS10aGlzLmluZGVudHM7XG4gICAgdGhpcy5rZXlmcmFtZSA9IGZhbHNlO1xuXG4gICAgdGhpcy5idWYgKz0gdGhpcy5vdXQoJ30nICsgKHRoaXMuY29tcHJlc3MgPyAnJyA6ICdcXG4nKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IE1lZGlhLlxuICAgKi9cblxuICB2aXNpdE1lZGlhKG1lZGlhKSB7XG4gICAgdmFyIHZhbCA9IG1lZGlhLnZhbDtcbiAgICBpZiAoIW1lZGlhLmhhc091dHB1dCB8fCAhdmFsLm5vZGVzLmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgdGhpcy5idWYgKz0gdGhpcy5vdXQoJ0BtZWRpYSAnLCBtZWRpYSk7XG4gICAgdGhpcy52aXNpdCh2YWwpO1xuICAgIHRoaXMuYnVmICs9IHRoaXMub3V0KHRoaXMuY29tcHJlc3MgPyAneycgOiAnIHtcXG4nKTtcbiAgICArK3RoaXMuaW5kZW50cztcbiAgICB0aGlzLnZpc2l0KG1lZGlhLmJsb2NrKTtcbiAgICAtLXRoaXMuaW5kZW50cztcbiAgICB0aGlzLmJ1ZiArPSB0aGlzLm91dCgnfScgKyAodGhpcy5jb21wcmVzcyA/ICcnIDogJ1xcbicpKTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgUXVlcnlMaXN0LlxuICAgKi9cblxuICB2aXNpdFF1ZXJ5TGlzdChxdWVyaWVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHF1ZXJpZXMubm9kZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIHRoaXMudmlzaXQocXVlcmllcy5ub2Rlc1tpXSk7XG4gICAgICBpZiAobGVuIC0gMSAhPSBpKSB0aGlzLmJ1ZiArPSB0aGlzLm91dCgnLCcgKyAodGhpcy5jb21wcmVzcyA/ICcnIDogJyAnKSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBRdWVyeS5cbiAgICovXG5cbiAgdmlzaXRRdWVyeShub2RlKSB7XG4gICAgdmFyIGxlbiA9IG5vZGUubm9kZXMubGVuZ3RoO1xuICAgIGlmIChub2RlLnByZWRpY2F0ZSkgdGhpcy5idWYgKz0gdGhpcy5vdXQobm9kZS5wcmVkaWNhdGUgKyAnICcpO1xuICAgIGlmIChub2RlLnR5cGUpIHRoaXMuYnVmICs9IHRoaXMub3V0KG5vZGUudHlwZSArIChsZW4gPyAnIGFuZCAnIDogJycpKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICB0aGlzLmJ1ZiArPSB0aGlzLm91dCh0aGlzLnZpc2l0KG5vZGUubm9kZXNbaV0pKTtcbiAgICAgIGlmIChsZW4gLSAxICE9IGkpIHRoaXMuYnVmICs9IHRoaXMub3V0KCcgYW5kICcpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgRmVhdHVyZS5cbiAgICovXG5cbiAgdmlzaXRGZWF0dXJlKG5vZGUpIHtcbiAgICBpZiAoIW5vZGUuZXhwcikge1xuICAgICAgcmV0dXJuIG5vZGUubmFtZTtcbiAgICB9IGVsc2UgaWYgKG5vZGUuZXhwci5pc0VtcHR5KSB7XG4gICAgICByZXR1cm4gJygnICsgbm9kZS5uYW1lICsgJyknO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJygnICsgbm9kZS5uYW1lICsgJzonICsgKHRoaXMuY29tcHJlc3MgPyAnJyA6ICcgJykgKyB0aGlzLnZpc2l0KG5vZGUuZXhwcikgKyAnKSc7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBJbXBvcnQuXG4gICAqL1xuXG4gIHZpc2l0SW1wb3J0KGltcG9ydGVkKSB7XG4gICAgdGhpcy5idWYgKz0gdGhpcy5vdXQoJ0BpbXBvcnQgJyArIHRoaXMudmlzaXQoaW1wb3J0ZWQucGF0aCkgKyAnO1xcbicsIGltcG9ydGVkKTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgQXRydWxlLlxuICAgKi9cblxuICB2aXNpdEF0cnVsZShhdHJ1bGUpIHtcbiAgICB2YXIgbmV3bGluZSA9IHRoaXMuY29tcHJlc3MgPyAnJyA6ICdcXG4nO1xuXG4gICAgdGhpcy5idWYgKz0gdGhpcy5vdXQodGhpcy5pbmRlbnQgKyAnQCcgKyBhdHJ1bGUudHlwZSwgYXRydWxlKTtcblxuICAgIGlmIChhdHJ1bGUudmFsKSB0aGlzLmJ1ZiArPSB0aGlzLm91dCgnICcgKyBhdHJ1bGUudmFsLnRyaW0oKSk7XG5cbiAgICBpZiAoYXRydWxlLmJsb2NrKSB7XG4gICAgICBpZiAoYXRydWxlLmJsb2NrLmlzRW1wdHkpIHtcbiAgICAgICAgdGhpcy5idWYgKz0gdGhpcy5vdXQoKHRoaXMuY29tcHJlc3MgPyAnJyA6ICcgJykgKyAne30nICsgbmV3bGluZSk7XG4gICAgICB9IGVsc2UgaWYgKGF0cnVsZS5oYXNPbmx5UHJvcGVydGllcykge1xuICAgICAgICB0aGlzLnZpc2l0KGF0cnVsZS5ibG9jayk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmJ1ZiArPSB0aGlzLm91dCh0aGlzLmNvbXByZXNzID8gJ3snIDogJyB7XFxuJyk7XG4gICAgICAgICsrdGhpcy5pbmRlbnRzO1xuICAgICAgICB0aGlzLnZpc2l0KGF0cnVsZS5ibG9jayk7XG4gICAgICAgIC0tdGhpcy5pbmRlbnRzO1xuICAgICAgICB0aGlzLmJ1ZiArPSB0aGlzLm91dCh0aGlzLmluZGVudCArICd9JyArIG5ld2xpbmUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmJ1ZiArPSB0aGlzLm91dCgnOycgKyBuZXdsaW5lKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IFN1cHBvcnRzLlxuICAgKi9cblxuICB2aXNpdFN1cHBvcnRzKG5vZGUpIHtcbiAgICBpZiAoIW5vZGUuaGFzT3V0cHV0KSByZXR1cm47XG5cbiAgICB0aGlzLmJ1ZiArPSB0aGlzLm91dCh0aGlzLmluZGVudCArICdAc3VwcG9ydHMgJywgbm9kZSk7XG4gICAgdGhpcy5pc0NvbmRpdGlvbiA9IHRydWU7XG4gICAgdGhpcy5idWYgKz0gdGhpcy5vdXQodGhpcy52aXNpdChub2RlLmNvbmRpdGlvbikpO1xuICAgIHRoaXMuaXNDb25kaXRpb24gPSBmYWxzZTtcbiAgICB0aGlzLmJ1ZiArPSB0aGlzLm91dCh0aGlzLmNvbXByZXNzID8gJ3snIDogJyB7XFxuJyk7XG4gICAgKyt0aGlzLmluZGVudHM7XG4gICAgdGhpcy52aXNpdChub2RlLmJsb2NrKTtcbiAgICAtLXRoaXMuaW5kZW50cztcbiAgICB0aGlzLmJ1ZiArPSB0aGlzLm91dCh0aGlzLmluZGVudCArICd9JyArICh0aGlzLmNvbXByZXNzID8gJycgOiAnXFxuJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFZpc2l0IENvbW1lbnQuXG4gICAqL1xuXG4gIHZpc2l0Q29tbWVudChjb21tZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuY29tcHJlc3NcbiAgICAgID8gY29tbWVudC5zdXBwcmVzc1xuICAgICAgICA/ICcnXG4gICAgICAgIDogY29tbWVudC5zdHJcbiAgICAgIDogY29tbWVudC5zdHI7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEZ1bmN0aW9uLlxuICAgKi9cblxuICB2aXNpdEZ1bmN0aW9uKGZuKSB7XG4gICAgcmV0dXJuIGZuLm5hbWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IENoYXJzZXQuXG4gICAqL1xuXG4gIHZpc2l0Q2hhcnNldChjaGFyc2V0KSB7XG4gICAgcmV0dXJuICdAY2hhcnNldCAnICsgdGhpcy52aXNpdChjaGFyc2V0LnZhbCkgKyAnOyc7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IE5hbWVzcGFjZS5cbiAgICovXG5cbiAgdmlzaXROYW1lc3BhY2UobmFtZXNwYWNlKSB7XG4gICAgcmV0dXJuICdAbmFtZXNwYWNlICdcbiAgICAgICsgKG5hbWVzcGFjZS5wcmVmaXggPyB0aGlzLnZpc2l0KG5hbWVzcGFjZS5wcmVmaXgpICsgJyAnIDogJycpXG4gICAgICArIHRoaXMudmlzaXQobmFtZXNwYWNlLnZhbCkgKyAnOyc7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IExpdGVyYWwuXG4gICAqL1xuXG4gIHZpc2l0TGl0ZXJhbChsaXQpIHtcbiAgICB2YXIgdmFsID0gbGl0LnZhbDtcbiAgICBpZiAobGl0LmNzcykgdmFsID0gdmFsLnJlcGxhY2UoL14gIC9nbSwgJycpO1xuICAgIHJldHVybiB2YWw7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEJvb2xlYW4uXG4gICAqL1xuXG4gIHZpc2l0Qm9vbGVhbihib29sKSB7XG4gICAgcmV0dXJuIGJvb2wudG9TdHJpbmcoKTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgUkdCQS5cbiAgICovXG5cbiAgdmlzaXRSR0JBKHJnYmEpIHtcbiAgICByZXR1cm4gcmdiYS50b1N0cmluZygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBIU0xBLlxuICAgKi9cblxuICB2aXNpdEhTTEEoaHNsYSkge1xuICAgIHJldHVybiBoc2xhLnJnYmEudG9TdHJpbmcoKTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgVW5pdC5cbiAgICovXG5cbiAgdmlzaXRVbml0KHVuaXQpIHtcbiAgICB2YXIgdHlwZSA9IHVuaXQudHlwZSB8fCAnJ1xuICAgICAgLCBuID0gdW5pdC52YWxcbiAgICAgICwgZmxvYXQgPSBuICE9IChuIHwgMCk7XG5cbiAgICAvLyBDb21wcmVzc1xuICAgIGlmICh0aGlzLmNvbXByZXNzKSB7XG4gICAgICAvLyBBbHdheXMgcmV0dXJuICcwJyB1bmxlc3MgdGhlIHVuaXQgaXMgYSBwZXJjZW50YWdlLCB0aW1lLCBkZWdyZWUgb3IgZnJhY3Rpb25cbiAgICAgIGlmICghKFsnJScsICdzJywgJ21zJywgJ2RlZycsICdmciddLmluY2x1ZGVzKHR5cGUpKSAmJiAwID09IG4pIHJldHVybiAnMCc7XG4gICAgICAvLyBPbWl0IGxlYWRpbmcgJzAnIG9uIGZsb2F0c1xuICAgICAgaWYgKGZsb2F0ICYmIG4gPCAxICYmIG4gPiAtMSkge1xuICAgICAgICByZXR1cm4gbi50b1N0cmluZygpLnJlcGxhY2UoJzAuJywgJy4nKSArIHR5cGU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIChmbG9hdCA/IHBhcnNlRmxvYXQobi50b0ZpeGVkKDE1KSkgOiBuKS50b1N0cmluZygpICsgdHlwZTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgR3JvdXAuXG4gICAqL1xuXG4gIHZpc2l0R3JvdXAoZ3JvdXApIHtcbiAgICB2YXIgc3RhY2sgPSB0aGlzLmtleWZyYW1lID8gW10gOiB0aGlzLnN0YWNrXG4gICAgICAsIGNvbW1hID0gdGhpcy5jb21wcmVzcyA/ICcsJyA6ICcsXFxuJztcblxuICAgIHN0YWNrLnB1c2goZ3JvdXAubm9kZXMpO1xuXG4gICAgLy8gc2VsZWN0b3JzXG4gICAgaWYgKGdyb3VwLmJsb2NrLmhhc1Byb3BlcnRpZXMpIHtcbiAgICAgIHZhciBzZWxlY3RvcnMgPSB1dGlscy5jb21waWxlU2VsZWN0b3JzLmNhbGwodGhpcywgc3RhY2spXG4gICAgICAgICwgbGVuID0gc2VsZWN0b3JzLmxlbmd0aDtcblxuICAgICAgaWYgKGxlbikge1xuICAgICAgICBpZiAodGhpcy5rZXlmcmFtZSkgY29tbWEgPSB0aGlzLmNvbXByZXNzID8gJywnIDogJywgJztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgdmFyIHNlbGVjdG9yID0gc2VsZWN0b3JzW2ldXG4gICAgICAgICAgICAsIGxhc3QgPSAoaSA9PSBsZW4gLSAxKTtcblxuICAgICAgICAgIC8vIGtleWZyYW1lIGJsb2NrcyAoMTAlLCAyMCUgeyAuLi4gfSlcbiAgICAgICAgICBpZiAodGhpcy5rZXlmcmFtZSkgc2VsZWN0b3IgPSBpID8gc2VsZWN0b3IudHJpbSgpIDogc2VsZWN0b3I7XG5cbiAgICAgICAgICB0aGlzLmJ1ZiArPSB0aGlzLm91dChzZWxlY3RvciArIChsYXN0ID8gJycgOiBjb21tYSksIGdyb3VwLm5vZGVzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ3JvdXAuYmxvY2subGFja3NSZW5kZXJlZFNlbGVjdG9ycyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gb3V0cHV0IGJsb2NrXG4gICAgdGhpcy52aXNpdChncm91cC5ibG9jayk7XG4gICAgc3RhY2sucG9wKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IElkZW50LlxuICAgKi9cblxuICB2aXNpdElkZW50KGlkZW50KSB7XG4gICAgcmV0dXJuIGlkZW50Lm5hbWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IFN0cmluZy5cbiAgICovXG5cbiAgdmlzaXRTdHJpbmcoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHRoaXMuaXNVUkxcbiAgICAgID8gc3RyaW5nLnZhbFxuICAgICAgOiBzdHJpbmcudG9TdHJpbmcoKTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgTnVsbC5cbiAgICovXG5cbiAgdmlzaXROdWxsKG5vZGUpIHtcbiAgICByZXR1cm4gJyc7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IENhbGwuXG4gICAqL1xuXG4gIHZpc2l0Q2FsbChjYWxsKSB7XG4gICAgdGhpcy5pc1VSTCA9ICd1cmwnID09IGNhbGwubmFtZTtcbiAgICB2YXIgYXJncyA9IGNhbGwuYXJncy5ub2Rlcy5tYXAoZnVuY3Rpb24gKGFyZykge1xuICAgICAgcmV0dXJuIHRoaXMudmlzaXQoYXJnKTtcbiAgICB9LCB0aGlzKS5qb2luKHRoaXMuY29tcHJlc3MgPyAnLCcgOiAnLCAnKTtcbiAgICBpZiAodGhpcy5pc1VSTCkgYXJncyA9ICdcIicgKyBhcmdzICsgJ1wiJztcbiAgICB0aGlzLmlzVVJMID0gZmFsc2U7XG4gICAgcmV0dXJuIGNhbGwubmFtZSArICcoJyArIGFyZ3MgKyAnKSc7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEV4cHJlc3Npb24uXG4gICAqL1xuXG4gIHZpc2l0RXhwcmVzc2lvbihleHByKSB7XG4gICAgdmFyIGJ1ZiA9IFtdXG4gICAgICAsIHNlbGYgPSB0aGlzXG4gICAgICAsIGxlbiA9IGV4cHIubm9kZXMubGVuZ3RoXG4gICAgICAsIG5vZGVzID0gZXhwci5ub2Rlcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIHNlbGYudmlzaXQobm9kZSk7IH0pO1xuXG4gICAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSwgaSkge1xuICAgICAgdmFyIGxhc3QgPSBpID09IGxlbiAtIDE7XG4gICAgICBidWYucHVzaChub2RlKTtcbiAgICAgIGlmICgnLycgPT0gbm9kZXNbaSArIDFdIHx8ICcvJyA9PSBub2RlKSByZXR1cm47XG4gICAgICBpZiAobGFzdCkgcmV0dXJuO1xuXG4gICAgICB2YXIgc3BhY2UgPSBzZWxmLmlzVVJMIHx8IChzZWxmLmlzQ29uZGl0aW9uXG4gICAgICAgICYmICgnKScgPT0gbm9kZXNbaSArIDFdIHx8ICcoJyA9PSBub2RlKSlcbiAgICAgICAgPyAnJyA6ICcgJztcblxuICAgICAgYnVmLnB1c2goZXhwci5pc0xpc3RcbiAgICAgICAgPyAoc2VsZi5jb21wcmVzcyA/ICcsJyA6ICcsICcpXG4gICAgICAgIDogc3BhY2UpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGJ1Zi5qb2luKCcnKTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgQXJndW1lbnRzLlxuICAgKi9cblxuICBnZXQgdmlzaXRBcmd1bWVudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlzaXRFeHByZXNzaW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFZpc2l0IFByb3BlcnR5LlxuICAgKi9cblxuICB2aXNpdFByb3BlcnR5KHByb3ApIHtcbiAgICB2YXIgdmFsID0gdGhpcy52aXNpdChwcm9wLmV4cHIpLnRyaW0oKVxuICAgICAgLCBuYW1lID0gKHByb3AubmFtZSB8fCBwcm9wLnNlZ21lbnRzLmpvaW4oJycpKVxuICAgICAgLCBhcnIgPSBbXTtcblxuICAgIGlmIChuYW1lID09PSAnQGFwcGx5Jykge1xuICAgICAgYXJyLnB1c2goXG4gICAgICAgIHRoaXMub3V0KHRoaXMuaW5kZW50KSxcbiAgICAgICAgdGhpcy5vdXQobmFtZSArICcgJywgcHJvcCksXG4gICAgICAgIHRoaXMub3V0KHZhbCwgcHJvcC5leHByKSxcbiAgICAgICAgdGhpcy5vdXQodGhpcy5jb21wcmVzcyA/ICh0aGlzLmxhc3QgPyAnJyA6ICc7JykgOiAnOycpXG4gICAgICApO1xuICAgICAgcmV0dXJuIGFyci5qb2luKCcnKTtcbiAgICB9XG4gICAgYXJyLnB1c2goXG4gICAgICB0aGlzLm91dCh0aGlzLmluZGVudCksXG4gICAgICB0aGlzLm91dChuYW1lICsgKHRoaXMuY29tcHJlc3MgPyAnOicgOiAnOiAnKSwgcHJvcCksXG4gICAgICB0aGlzLm91dCh2YWwsIHByb3AuZXhwciksXG4gICAgICB0aGlzLm91dCh0aGlzLmNvbXByZXNzID8gKHRoaXMubGFzdCA/ICcnIDogJzsnKSA6ICc7JylcbiAgICApO1xuICAgIHJldHVybiBhcnIuam9pbignJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlYnVnIGluZm8uXG4gICAqL1xuXG4gIGRlYnVnSW5mbyhub2RlKSB7XG5cbiAgICB2YXIgcGF0aCA9IG5vZGUuZmlsZW5hbWUgPT0gJ3N0ZGluJyA/ICdzdGRpbicgOiBmcy5yZWFscGF0aFN5bmMobm9kZS5maWxlbmFtZSlcbiAgICAgICwgbGluZSA9IChub2RlLm5vZGVzICYmIG5vZGUubm9kZXMubGVuZ3RoID8gbm9kZS5ub2Rlc1swXS5saW5lbm8gOiBub2RlLmxpbmVubykgfHwgMTtcblxuICAgIGlmICh0aGlzLmxpbmVub3MpIHtcbiAgICAgIHRoaXMuYnVmICs9ICdcXG4vKiAnICsgJ2xpbmUgJyArIGxpbmUgKyAnIDogJyArIHBhdGggKyAnICovXFxuJztcbiAgICB9XG5cbiAgICBpZiAodGhpcy5maXJlYnVnKSB7XG4gICAgICAvLyBkZWJ1ZyBpbmZvIGZvciBmaXJlYnVnLCB0aGUgY3JhenkgZm9ybWF0dGluZyBpcyBuZWVkZWRcbiAgICAgIHBhdGggPSAnZmlsZVxcXFxcXDpcXFxcXFwvXFxcXFxcLycgKyBwYXRoLnJlcGxhY2UoLyhbLjovXFxcXF0pL2csIGZ1bmN0aW9uIChtKSB7XG4gICAgICAgIHJldHVybiAnXFxcXCcgKyAobSA9PT0gJ1xcXFwnID8gJ1xcLycgOiBtKVxuICAgICAgfSk7XG4gICAgICBsaW5lID0gJ1xcXFwwMDAwMycgKyBsaW5lO1xuICAgICAgdGhpcy5idWYgKz0gJ1xcbkBtZWRpYSAtc3R5bHVzLWRlYnVnLWluZm8nXG4gICAgICAgICsgJ3tmaWxlbmFtZXtmb250LWZhbWlseTonICsgcGF0aFxuICAgICAgICArICd9bGluZXtmb250LWZhbWlseTonICsgbGluZSArICd9fVxcbic7XG4gICAgfVxuICB9XG5cbn07XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpXG4gICwgQ29tcGlsZXIgPSByZXF1aXJlKCcuLi92aXNpdG9yL2NvbXBpbGVyJyk7XG5cbi8qKlxuICogUmV0dXJuIGEgYExpdGVyYWxgIHdpdGggdGhlIGdpdmVuIGBmbXRgLCBhbmRcbiAqIHZhcmlhYmxlIG51bWJlciBvZiBhcmd1bWVudHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGZtdFxuICogQHBhcmFtIHtOb2RlfSAuLi5cbiAqIEByZXR1cm4ge0xpdGVyYWx9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHMoZm10KXtcbiAgZm10ID0gdXRpbHMudW53cmFwKGZtdCkubm9kZXNbMF07XG4gIHV0aWxzLmFzc2VydFN0cmluZyhmbXQpO1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgICAsIHN0ciA9IGZtdC5zdHJpbmdcbiAgICAsIGFyZ3MgPSBhcmd1bWVudHNcbiAgICAsIGkgPSAxO1xuXG4gIC8vIGZvcm1hdFxuICBzdHIgPSBzdHIucmVwbGFjZSgvJShzfGQpL2csIGZ1bmN0aW9uKF8sIHNwZWNpZmllcil7XG4gICAgdmFyIGFyZyA9IGFyZ3NbaSsrXSB8fCBub2Rlcy5udWxsO1xuICAgIHN3aXRjaCAoc3BlY2lmaWVyKSB7XG4gICAgICBjYXNlICdzJzpcbiAgICAgICAgcmV0dXJuIG5ldyBDb21waWxlcihhcmcsIHNlbGYub3B0aW9ucykuY29tcGlsZSgpO1xuICAgICAgY2FzZSAnZCc6XG4gICAgICAgIGFyZyA9IHV0aWxzLnVud3JhcChhcmcpLmZpcnN0O1xuICAgICAgICBpZiAoJ3VuaXQnICE9IGFyZy5ub2RlTmFtZSkgdGhyb3cgbmV3IEVycm9yKCclZCByZXF1aXJlcyBhIHVuaXQnKTtcbiAgICAgICAgcmV0dXJuIGFyZy52YWw7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gbmV3IG5vZGVzLkxpdGVyYWwoc3RyKTtcbn0pLnJhdyA9IHRydWU7XG4iLAogICJ2YXIgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpXG4gICwgaHNsYSA9IHJlcXVpcmUoJy4vaHNsYScpXG4gICwgY29tcG9uZW50ID0gcmVxdWlyZSgnLi9jb21wb25lbnQnKTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIHNhdHVyYXRpb24gY29tcG9uZW50IG9mIHRoZSBnaXZlbiBgY29sb3JgLFxuICogb3Igc2V0IHRoZSBzYXR1cmF0aW9uIGNvbXBvbmVudCB0byB0aGUgb3B0aW9uYWwgc2Vjb25kIGB2YWx1ZWAgYXJndW1lbnQuXG4gKlxuICogRXhhbXBsZXM6XG4gKlxuICogICAgc2F0dXJhdGlvbigjMDBjKVxuICogICAgLy8gPT4gMTAwJVxuICpcbiAqICAgIHNhdHVyYXRpb24oIzAwYywgNTAlKVxuICogICAgLy8gPT4gIzMzOVxuICpcbiAqIEBwYXJhbSB7UkdCQXxIU0xBfSBjb2xvclxuICogQHBhcmFtIHtVbml0fSBbdmFsdWVdXG4gKiBAcmV0dXJuIHtVbml0fFJHQkF9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHNhdHVyYXRpb24oY29sb3IsIHZhbHVlKXtcbiAgaWYgKHZhbHVlKSB7XG4gICAgdmFyIGhzbGFDb2xvciA9IGNvbG9yLmhzbGE7XG4gICAgcmV0dXJuIGhzbGEoXG4gICAgICBuZXcgbm9kZXMuVW5pdChoc2xhQ29sb3IuaCksXG4gICAgICB2YWx1ZSxcbiAgICAgIG5ldyBub2Rlcy5Vbml0KGhzbGFDb2xvci5sKSxcbiAgICAgIG5ldyBub2Rlcy5Vbml0KGhzbGFDb2xvci5hKVxuICAgIClcbiAgfVxuICByZXR1cm4gY29tcG9uZW50KGNvbG9yLCBuZXcgbm9kZXMuU3RyaW5nKCdzYXR1cmF0aW9uJykpO1xufVxuc2F0dXJhdGlvbi5wYXJhbXMgPSBbJ2NvbG9yJywgJ3ZhbHVlJ107XG5tb2R1bGUuZXhwb3J0cyA9IHNhdHVyYXRpb247XG4iLAogICJcbi8qIVxuICogU3R5bHVzIC0gTm9ybWFsaXplclxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgVmlzaXRvciA9IHJlcXVpcmUoJy4vJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJylcbiAgLCB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgTm9ybWFsaXplciBleHRlbmRzIFZpc2l0b3Ige1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgTm9ybWFsaXplcmAgd2l0aCB0aGUgZ2l2ZW4gYHJvb3RgIE5vZGUuXG4gICAqXG4gICAqIFRoaXMgdmlzaXRvciBpbXBsZW1lbnRzIHRoZSBmaXJzdCBzdGFnZSBvZiB0aGUgZHVlbC1zdGFnZVxuICAgKiBjb21waWxlciwgdGFza2VkIHdpdGggc3RyaXBwaW5nIHRoZSBcImdhcmJhZ2VcIiBmcm9tXG4gICAqIHRoZSBldmFsdWF0ZWQgbm9kZXMsIGRpdGNoaW5nIG51bGwgcnVsZXMsIHJlc29sdmluZ1xuICAgKiBydWxlc2V0IHNlbGVjdG9ycyBldGMuIFRoaXMgc3RlcCBwZXJmb3JtcyB0aGUgbG9naWNcbiAgICogbmVjZXNzYXJ5IHRvIGZhY2lsaXRhdGUgdGhlIFwiQGV4dGVuZFwiIGZ1bmN0aW9uYWxpdHksXG4gICAqIGFzIHRoZXNlIG11c3QgYmUgcmVzb2x2ZWQgX2JlZm9yZV8gYnVmZmVyaW5nIG91dHB1dC5cbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSByb290XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKHJvb3QsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihyb290KTtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLmhvaXN0ID0gb3B0aW9uc1snaG9pc3QgYXRydWxlcyddO1xuICAgIHRoaXMuc3RhY2sgPSBbXTtcbiAgICB0aGlzLm1hcCA9IHt9O1xuICAgIHRoaXMuaW1wb3J0cyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIE5vcm1hbGl6ZSB0aGUgbm9kZSB0cmVlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgbm9ybWFsaXplKCkge1xuICAgIHZhciByZXQgPSB0aGlzLnZpc2l0KHRoaXMucm9vdCk7XG5cbiAgICBpZiAodGhpcy5ob2lzdCkge1xuICAgICAgLy8gaG9pc3QgQGltcG9ydFxuICAgICAgaWYgKHRoaXMuaW1wb3J0cy5sZW5ndGgpIHJldC5ub2RlcyA9IHRoaXMuaW1wb3J0cy5jb25jYXQocmV0Lm5vZGVzKTtcblxuICAgICAgLy8gaG9pc3QgQGNoYXJzZXRcbiAgICAgIGlmICh0aGlzLmNoYXJzZXQpIHJldC5ub2RlcyA9IFt0aGlzLmNoYXJzZXRdLmNvbmNhdChyZXQubm9kZXMpO1xuICAgIH1cblxuICAgIHJldHVybiByZXQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJ1YmJsZSB1cCB0aGUgZ2l2ZW4gYG5vZGVgLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGJ1YmJsZShub2RlKSB7XG4gICAgdmFyIHByb3BzID0gW11cbiAgICAgICwgb3RoZXIgPSBbXVxuICAgICAgLCBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIGZpbHRlclByb3BzKGJsb2NrKSB7XG4gICAgICBibG9jay5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIG5vZGUgPSBzZWxmLnZpc2l0KG5vZGUpO1xuXG4gICAgICAgIHN3aXRjaCAobm9kZS5ub2RlTmFtZSkge1xuICAgICAgICAgIGNhc2UgJ3Byb3BlcnR5JzpcbiAgICAgICAgICAgIHByb3BzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdibG9jayc6XG4gICAgICAgICAgICBmaWx0ZXJQcm9wcyhub2RlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBvdGhlci5wdXNoKG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmaWx0ZXJQcm9wcyhub2RlLmJsb2NrKTtcblxuICAgIGlmIChwcm9wcy5sZW5ndGgpIHtcbiAgICAgIHZhciBzZWxlY3RvciA9IG5ldyBub2Rlcy5TZWxlY3RvcihbbmV3IG5vZGVzLkxpdGVyYWwoJyYnKV0pO1xuICAgICAgc2VsZWN0b3IubGluZW5vID0gbm9kZS5saW5lbm87XG4gICAgICBzZWxlY3Rvci5jb2x1bW4gPSBub2RlLmNvbHVtbjtcbiAgICAgIHNlbGVjdG9yLmZpbGVuYW1lID0gbm9kZS5maWxlbmFtZTtcbiAgICAgIHNlbGVjdG9yLnZhbCA9ICcmJztcblxuICAgICAgdmFyIGdyb3VwID0gbmV3IG5vZGVzLkdyb3VwO1xuICAgICAgZ3JvdXAubGluZW5vID0gbm9kZS5saW5lbm87XG4gICAgICBncm91cC5jb2x1bW4gPSBub2RlLmNvbHVtbjtcbiAgICAgIGdyb3VwLmZpbGVuYW1lID0gbm9kZS5maWxlbmFtZTtcblxuICAgICAgdmFyIGJsb2NrID0gbmV3IG5vZGVzLkJsb2NrKG5vZGUuYmxvY2ssIGdyb3VwKTtcbiAgICAgIGJsb2NrLmxpbmVubyA9IG5vZGUubGluZW5vO1xuICAgICAgYmxvY2suY29sdW1uID0gbm9kZS5jb2x1bW47XG4gICAgICBibG9jay5maWxlbmFtZSA9IG5vZGUuZmlsZW5hbWU7XG5cbiAgICAgIHByb3BzLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgYmxvY2sucHVzaChwcm9wKTtcbiAgICAgIH0pO1xuXG4gICAgICBncm91cC5wdXNoKHNlbGVjdG9yKTtcbiAgICAgIGdyb3VwLmJsb2NrID0gYmxvY2s7XG5cbiAgICAgIG5vZGUuYmxvY2subm9kZXMgPSBbXTtcbiAgICAgIG5vZGUuYmxvY2sucHVzaChncm91cCk7XG4gICAgICBvdGhlci5mb3JFYWNoKGZ1bmN0aW9uIChuKSB7XG4gICAgICAgIG5vZGUuYmxvY2sucHVzaChuKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZ3JvdXAgPSB0aGlzLmNsb3Nlc3RHcm91cChub2RlLmJsb2NrKTtcbiAgICAgIGlmIChncm91cCkgbm9kZS5ncm91cCA9IGdyb3VwLmNsb25lKCk7XG5cbiAgICAgIG5vZGUuYnViYmxlZCA9IHRydWU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gZ3JvdXAgY2xvc2VzdCB0byB0aGUgZ2l2ZW4gYGJsb2NrYC5cbiAgICpcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2tcbiAgICogQHJldHVybiB7R3JvdXB9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBjbG9zZXN0R3JvdXAoYmxvY2spIHtcbiAgICB2YXIgcGFyZW50ID0gYmxvY2sucGFyZW50XG4gICAgICAsIG5vZGU7XG4gICAgd2hpbGUgKHBhcmVudCAmJiAobm9kZSA9IHBhcmVudC5ub2RlKSkge1xuICAgICAgaWYgKCdncm91cCcgPT0gbm9kZS5ub2RlTmFtZSkgcmV0dXJuIG5vZGU7XG4gICAgICBwYXJlbnQgPSBub2RlLmJsb2NrICYmIG5vZGUuYmxvY2sucGFyZW50O1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgUm9vdC5cbiAgICovXG5cbiAgdmlzaXRSb290KGJsb2NrKSB7XG4gICAgdmFyIHJldCA9IG5ldyBub2Rlcy5Sb290XG4gICAgICAsIG5vZGU7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJsb2NrLm5vZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICBub2RlID0gYmxvY2subm9kZXNbaV07XG4gICAgICBzd2l0Y2ggKG5vZGUubm9kZU5hbWUpIHtcbiAgICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICAgIGNhc2UgJ2V4cHJlc3Npb24nOlxuICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgIGNhc2UgJ3VuaXQnOlxuICAgICAgICBjYXNlICdhdGJsb2NrJzpcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aGlzLnJvb3RJbmRleCA9IGk7XG4gICAgICAgICAgcmV0LnB1c2godGhpcy52aXNpdChub2RlKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHJldDtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgUHJvcGVydHkuXG4gICAqL1xuXG4gIHZpc2l0UHJvcGVydHkocHJvcCkge1xuICAgIHRoaXMudmlzaXQocHJvcC5leHByKTtcbiAgICByZXR1cm4gcHJvcDtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgRXhwcmVzc2lvbi5cbiAgICovXG5cbiAgdmlzaXRFeHByZXNzaW9uKGV4cHIpIHtcbiAgICBleHByLm5vZGVzID0gZXhwci5ub2Rlcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIC8vIHJldHVybnMgYGJsb2NrYCBsaXRlcmFsIGlmIG1peGluJ3MgYmxvY2tcbiAgICAgIC8vIGlzIHVzZWQgYXMgcGFydCBvZiBhIHByb3BlcnR5IHZhbHVlXG4gICAgICBpZiAoJ2Jsb2NrJyA9PSBub2RlLm5vZGVOYW1lKSB7XG4gICAgICAgIHZhciBsaXRlcmFsID0gbmV3IG5vZGVzLkxpdGVyYWwoJ2Jsb2NrJyk7XG4gICAgICAgIGxpdGVyYWwubGluZW5vID0gZXhwci5saW5lbm87XG4gICAgICAgIGxpdGVyYWwuY29sdW1uID0gZXhwci5jb2x1bW47XG4gICAgICAgIHJldHVybiBsaXRlcmFsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGV4cHI7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEJsb2NrLlxuICAgKi9cblxuICB2aXNpdEJsb2NrKGJsb2NrKSB7XG4gICAgdmFyIG5vZGU7XG5cbiAgICBpZiAoYmxvY2suaGFzUHJvcGVydGllcykge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJsb2NrLm5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIG5vZGUgPSBibG9jay5ub2Rlc1tpXTtcbiAgICAgICAgc3dpdGNoIChub2RlLm5vZGVOYW1lKSB7XG4gICAgICAgICAgY2FzZSAnbnVsbCc6XG4gICAgICAgICAgY2FzZSAnZXhwcmVzc2lvbic6XG4gICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgICAgICBjYXNlICd1bml0JzpcbiAgICAgICAgICBjYXNlICdhdGJsb2NrJzpcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBibG9jay5ub2Rlc1tpXSA9IHRoaXMudmlzaXQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBuZXN0aW5nXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJsb2NrLm5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBub2RlID0gYmxvY2subm9kZXNbaV07XG4gICAgICBibG9jay5ub2Rlc1tpXSA9IHRoaXMudmlzaXQobm9kZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGJsb2NrO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBHcm91cC5cbiAgICovXG5cbiAgdmlzaXRHcm91cChncm91cCkge1xuICAgIHZhciBzdGFjayA9IHRoaXMuc3RhY2tcbiAgICAgICwgbWFwID0gdGhpcy5tYXBcbiAgICAgICwgcGFydHM7XG5cbiAgICAvLyBub3JtYWxpemUgaW50ZXJwb2xhdGVkIHNlbGVjdG9ycyB3aXRoIGNvbW1hXG4gICAgZ3JvdXAubm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0b3IsIGkpIHtcbiAgICAgIGlmICghfnNlbGVjdG9yLnZhbC5pbmRleE9mKCcsJykpIHJldHVybjtcbiAgICAgIGlmICh+c2VsZWN0b3IudmFsLmluZGV4T2YoJ1xcXFwsJykpIHtcbiAgICAgICAgc2VsZWN0b3IudmFsID0gc2VsZWN0b3IudmFsLnJlcGxhY2UoL1xcXFwsL2csICcsJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhcnRzID0gc2VsZWN0b3IudmFsLnNwbGl0KCcsJyk7XG4gICAgICB2YXIgcm9vdCA9ICcvJyA9PSBzZWxlY3Rvci52YWwuY2hhckF0KDApXG4gICAgICAgICwgcGFydCwgcztcbiAgICAgIGZvciAodmFyIGsgPSAwLCBsZW4gPSBwYXJ0cy5sZW5ndGg7IGsgPCBsZW47ICsraykge1xuICAgICAgICBwYXJ0ID0gcGFydHNba10udHJpbSgpO1xuICAgICAgICBpZiAocm9vdCAmJiBrID4gMCAmJiAhfnBhcnQuaW5kZXhPZignJicpKSB7XG4gICAgICAgICAgcGFydCA9ICcvJyArIHBhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgcyA9IG5ldyBub2Rlcy5TZWxlY3RvcihbbmV3IG5vZGVzLkxpdGVyYWwocGFydCldKTtcbiAgICAgICAgcy52YWwgPSBwYXJ0O1xuICAgICAgICBzLmJsb2NrID0gZ3JvdXAuYmxvY2s7XG4gICAgICAgIGdyb3VwLm5vZGVzW2krK10gPSBzO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHN0YWNrLnB1c2goZ3JvdXAubm9kZXMpO1xuXG4gICAgdmFyIHNlbGVjdG9ycyA9IHV0aWxzLmNvbXBpbGVTZWxlY3RvcnMoc3RhY2ssIHRydWUpO1xuXG4gICAgLy8gbWFwIGZvciBleHRlbnNpb24gbG9va3VwXG4gICAgc2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgICBtYXBbc2VsZWN0b3JdID0gbWFwW3NlbGVjdG9yXSB8fCBbXTtcbiAgICAgIG1hcFtzZWxlY3Rvcl0ucHVzaChncm91cCk7XG4gICAgfSk7XG5cbiAgICAvLyBleHRlbnNpb25zXG4gICAgdGhpcy5leHRlbmQoZ3JvdXAsIHNlbGVjdG9ycyk7XG5cbiAgICBzdGFjay5wb3AoKTtcbiAgICByZXR1cm4gZ3JvdXA7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEZ1bmN0aW9uLlxuICAgKi9cblxuICB2aXNpdEZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBub2Rlcy5udWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBNZWRpYS5cbiAgICovXG5cbiAgdmlzaXRNZWRpYShtZWRpYSkge1xuICAgIHZhciBtZWRpYXMgPSBbXVxuICAgICAgLCBncm91cCA9IHRoaXMuY2xvc2VzdEdyb3VwKG1lZGlhLmJsb2NrKVxuICAgICAgLCBwYXJlbnQ7XG5cbiAgICBmdW5jdGlvbiBtZXJnZVF1ZXJpZXMoYmxvY2spIHtcbiAgICAgIGJsb2NrLm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUsIGkpIHtcbiAgICAgICAgc3dpdGNoIChub2RlLm5vZGVOYW1lKSB7XG4gICAgICAgICAgY2FzZSAnbWVkaWEnOlxuICAgICAgICAgICAgbm9kZS52YWwgPSBtZWRpYS52YWwubWVyZ2Uobm9kZS52YWwpO1xuICAgICAgICAgICAgbWVkaWFzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICBibG9jay5ub2Rlc1tpXSA9IG5vZGVzLm51bGw7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdibG9jayc6XG4gICAgICAgICAgICBtZXJnZVF1ZXJpZXMobm9kZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgaWYgKG5vZGUuYmxvY2sgJiYgbm9kZS5ibG9jay5ub2RlcylcbiAgICAgICAgICAgICAgbWVyZ2VRdWVyaWVzKG5vZGUuYmxvY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBtZXJnZVF1ZXJpZXMobWVkaWEuYmxvY2spO1xuICAgIHRoaXMuYnViYmxlKG1lZGlhKTtcblxuICAgIGlmIChtZWRpYXMubGVuZ3RoKSB7XG4gICAgICBtZWRpYXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAoZ3JvdXApIHtcbiAgICAgICAgICBncm91cC5ibG9jay5wdXNoKG5vZGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucm9vdC5ub2Rlcy5zcGxpY2UoKyt0aGlzLnJvb3RJbmRleCwgMCwgbm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IHRoaXMudmlzaXQobm9kZSk7XG4gICAgICAgIHBhcmVudCA9IG5vZGUuYmxvY2sucGFyZW50O1xuICAgICAgICBpZiAobm9kZS5idWJibGVkICYmICghZ3JvdXAgfHwgJ2dyb3VwJyA9PSBwYXJlbnQubm9kZS5ub2RlTmFtZSkpIHtcbiAgICAgICAgICBub2RlLmdyb3VwLmJsb2NrID0gbm9kZS5ibG9jay5ub2Rlc1swXS5ibG9jaztcbiAgICAgICAgICBub2RlLmJsb2NrLm5vZGVzWzBdID0gbm9kZS5ncm91cDtcbiAgICAgICAgfVxuICAgICAgfSwgdGhpcyk7XG4gICAgfVxuICAgIHJldHVybiBtZWRpYTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgU3VwcG9ydHMuXG4gICAqL1xuXG4gIHZpc2l0U3VwcG9ydHMobm9kZSkge1xuICAgIHRoaXMuYnViYmxlKG5vZGUpO1xuICAgIHJldHVybiBub2RlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBBdHJ1bGUuXG4gICAqL1xuXG4gIHZpc2l0QXRydWxlKG5vZGUpIHtcbiAgICBpZiAobm9kZS5ibG9jaykgbm9kZS5ibG9jayA9IHRoaXMudmlzaXQobm9kZS5ibG9jayk7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEtleWZyYW1lcy5cbiAgICovXG5cbiAgdmlzaXRLZXlmcmFtZXMobm9kZSkge1xuICAgIHZhciBmcmFtZXMgPSBub2RlLmJsb2NrLm5vZGVzLmZpbHRlcihmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAgIHJldHVybiBmcmFtZS5ibG9jayAmJiBmcmFtZS5ibG9jay5oYXNQcm9wZXJ0aWVzO1xuICAgIH0pO1xuICAgIG5vZGUuZnJhbWVzID0gZnJhbWVzLmxlbmd0aDtcbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgSW1wb3J0LlxuICAgKi9cblxuICB2aXNpdEltcG9ydChub2RlKSB7XG4gICAgdGhpcy5pbXBvcnRzLnB1c2gobm9kZSk7XG4gICAgcmV0dXJuIHRoaXMuaG9pc3QgPyBub2Rlcy5udWxsIDogbm9kZTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgQ2hhcnNldC5cbiAgICovXG5cbiAgdmlzaXRDaGFyc2V0KG5vZGUpIHtcbiAgICB0aGlzLmNoYXJzZXQgPSBub2RlO1xuICAgIHJldHVybiB0aGlzLmhvaXN0ID8gbm9kZXMubnVsbCA6IG5vZGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFwcGx5IGBncm91cGAgZXh0ZW5zaW9ucy5cbiAgICpcbiAgICogQHBhcmFtIHtHcm91cH0gZ3JvdXBcbiAgICogQHBhcmFtIHtBcnJheX0gc2VsZWN0b3JzXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBleHRlbmQoZ3JvdXAsIHNlbGVjdG9ycykge1xuICAgIHZhciBtYXAgPSB0aGlzLm1hcFxuICAgICAgLCBzZWxmID0gdGhpc1xuICAgICAgLCBwYXJlbnQgPSB0aGlzLmNsb3Nlc3RHcm91cChncm91cC5ibG9jayk7XG5cbiAgICBncm91cC5leHRlbmRzLmZvckVhY2goZnVuY3Rpb24gKGV4dGVuZCkge1xuICAgICAgdmFyIGdyb3VwcyA9IG1hcFtleHRlbmQuc2VsZWN0b3JdO1xuICAgICAgaWYgKCFncm91cHMpIHtcbiAgICAgICAgaWYgKGV4dGVuZC5vcHRpb25hbCkgcmV0dXJuO1xuICAgICAgICBncm91cHMgPSBzZWxmLl9jaGVja0ZvclByZWZpeGVkR3JvdXBzKGV4dGVuZC5zZWxlY3Rvcik7XG4gICAgICAgIGlmICghZ3JvdXBzKSB7XG4gICAgICAgICAgdmFyIGVyciA9IG5ldyBFcnJvcignRmFpbGVkIHRvIEBleHRlbmQgXCInICsgZXh0ZW5kLnNlbGVjdG9yICsgJ1wiJyk7XG4gICAgICAgICAgZXJyLmxpbmVubyA9IGV4dGVuZC5saW5lbm87XG4gICAgICAgICAgZXJyLmNvbHVtbiA9IGV4dGVuZC5jb2x1bW47XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzZWxlY3RvcnMuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBuZXcgbm9kZXMuU2VsZWN0b3I7XG4gICAgICAgIG5vZGUudmFsID0gc2VsZWN0b3I7XG4gICAgICAgIG5vZGUuaW5oZXJpdHMgPSBmYWxzZTtcbiAgICAgICAgZ3JvdXBzLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwKSB7XG4gICAgICAgICAgLy8gcHJldmVudCByZWN1cnNpdmUgZXh0ZW5kXG4gICAgICAgICAgaWYgKCFwYXJlbnQgfHwgKHBhcmVudCAhPSBncm91cCkpIHNlbGYuZXh0ZW5kKGdyb3VwLCBzZWxlY3RvcnMpO1xuICAgICAgICAgIGdyb3VwLnB1c2gobm9kZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBncm91cC5ibG9jayA9IHRoaXMudmlzaXQoZ3JvdXAuYmxvY2spO1xuICB9O1xuXG4gIF9jaGVja0ZvclByZWZpeGVkR3JvdXBzKHNlbGVjdG9yKSB7XG4gICAgdmFyIHByZWZpeCA9IFtdO1xuICAgIHZhciBtYXAgPSB0aGlzLm1hcDtcbiAgICB2YXIgcmVzdWx0ID0gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzdGFja0VsZW1lbnRBcnJheSA9IHRoaXMuc3RhY2tbaV07XG4gICAgICB2YXIgc3RhY2tFbGVtZW50ID0gc3RhY2tFbGVtZW50QXJyYXlbMF07XG4gICAgICBwcmVmaXgucHVzaChzdGFja0VsZW1lbnQudmFsKTtcbiAgICAgIHZhciBmdWxsU2VsZWN0b3IgPSBwcmVmaXguam9pbihcIiBcIikgKyBcIiBcIiArIHNlbGVjdG9yO1xuICAgICAgcmVzdWx0ID0gbWFwW2Z1bGxTZWxlY3Rvcl07XG4gICAgICBpZiAocmVzdWx0KVxuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn07XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gc2VsZWN0b3IgZXhpc3RzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzZWxcbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHNlbGVjdG9yRXhpc3RzKHNlbCkge1xuICB1dGlscy5hc3NlcnRTdHJpbmcoc2VsLCAnc2VsZWN0b3InKTtcblxuICBpZiAoIXRoaXMuX19zZWxlY3RvcnNNYXBfXykge1xuICAgIHZhciBOb3JtYWxpemVyID0gcmVxdWlyZSgnLi4vdmlzaXRvci9ub3JtYWxpemVyJylcbiAgICAgICwgdmlzaXRvciA9IG5ldyBOb3JtYWxpemVyKHRoaXMucm9vdC5jbG9uZSgpKTtcbiAgICB2aXNpdG9yLnZpc2l0KHZpc2l0b3Iucm9vdCk7XG5cbiAgICB0aGlzLl9fc2VsZWN0b3JzTWFwX18gPSB2aXNpdG9yLm1hcDtcbiAgfVxuXG4gIHJldHVybiBzZWwuc3RyaW5nIGluIHRoaXMuX19zZWxlY3RvcnNNYXBfXztcbn1cbnNlbGVjdG9yRXhpc3RzLnBhcmFtcyA9IFsnc2VsJ107XG5tb2R1bGUuZXhwb3J0cyA9IHNlbGVjdG9yRXhpc3RzO1xuIiwKICAidmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxuLyoqXG4gKiBSZXR1cm4gdGhlIGN1cnJlbnQgc2VsZWN0b3Igb3IgY29tcGlsZVxuICogc2VsZWN0b3IgZnJvbSBhIHN0cmluZyBvciBhIGxpc3QuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd8RXhwcmVzc2lvbn1cbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2VsZWN0b3IoKXtcbiAgdmFyIHN0YWNrID0gdGhpcy5zZWxlY3RvclN0YWNrXG4gICAgLCBhcmdzID0gW10uc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuXG4gIGlmICgxID09IGFyZ3MubGVuZ3RoKSB7XG4gICAgdmFyIGV4cHIgPSB1dGlscy51bndyYXAoYXJnc1swXSlcbiAgICAgICwgbGVuID0gZXhwci5ub2Rlcy5sZW5ndGg7XG5cbiAgICAvLyBzZWxlY3RvcignLmEnKVxuICAgIGlmICgxID09IGxlbikge1xuICAgICAgdXRpbHMuYXNzZXJ0U3RyaW5nKGV4cHIuZmlyc3QsICdzZWxlY3RvcicpO1xuICAgICAgdmFyIFNlbGVjdG9yUGFyc2VyID0gcmVxdWlyZSgnLi4vc2VsZWN0b3ItcGFyc2VyJylcbiAgICAgICAgLCB2YWwgPSBleHByLmZpcnN0LnN0cmluZ1xuICAgICAgICAsIHBhcnNlZCA9IG5ldyBTZWxlY3RvclBhcnNlcih2YWwpLnBhcnNlKCkudmFsO1xuXG4gICAgICBpZiAocGFyc2VkID09IHZhbCkgcmV0dXJuIHZhbDtcblxuICAgICAgc3RhY2sucHVzaChwYXJzZSh2YWwpKTtcbiAgICB9IGVsc2UgaWYgKGxlbiA+IDEpIHtcbiAgICAgIC8vIHNlbGVjdG9yLWxpc3QgPSAnLmEnLCAnLmInLCAnLmMnXG4gICAgICAvLyBzZWxlY3RvcihzZWxlY3Rvci1saXN0KVxuICAgICAgaWYgKGV4cHIuaXNMaXN0KSB7XG4gICAgICAgIHB1c2hUb1N0YWNrKGV4cHIubm9kZXMsIHN0YWNrKTtcbiAgICAgIC8vIHNlbGVjdG9yKCcuYScgJy5iJyAnLmMnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhY2sucHVzaChwYXJzZShleHByLm5vZGVzLm1hcChmdW5jdGlvbihub2RlKXtcbiAgICAgICAgICB1dGlscy5hc3NlcnRTdHJpbmcobm9kZSwgJ3NlbGVjdG9yJyk7XG4gICAgICAgICAgcmV0dXJuIG5vZGUuc3RyaW5nO1xuICAgICAgICB9KS5qb2luKCcgJykpKTtcbiAgICAgIH1cbiAgICB9XG4gIC8vIHNlbGVjdG9yKCcuYScsICcuYicsICcuYycpXG4gIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggPiAxKSB7XG4gICAgcHVzaFRvU3RhY2soYXJncywgc3RhY2spO1xuICB9XG5cbiAgcmV0dXJuIHN0YWNrLmxlbmd0aCA/IHV0aWxzLmNvbXBpbGVTZWxlY3RvcnMoc3RhY2spLmpvaW4oJywnKSA6ICcmJztcbn0pLnJhdyA9IHRydWU7XG5cbmZ1bmN0aW9uIHB1c2hUb1N0YWNrKHNlbGVjdG9ycywgc3RhY2spIHtcbiAgc2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24oc2VsKSB7XG4gICAgc2VsID0gc2VsLmZpcnN0O1xuICAgIHV0aWxzLmFzc2VydFN0cmluZyhzZWwsICdzZWxlY3RvcicpO1xuICAgIHN0YWNrLnB1c2gocGFyc2Uoc2VsLnN0cmluZykpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcGFyc2Uoc2VsZWN0b3IpIHtcbiAgdmFyIFBhcnNlciA9IG5ldyByZXF1aXJlKCcuLi9wYXJzZXInKVxuICAgICwgcGFyc2VyID0gbmV3IFBhcnNlcihzZWxlY3RvcilcbiAgICAsIG5vZGVzO1xuICBwYXJzZXIuc3RhdGUucHVzaCgnc2VsZWN0b3ItcGFydHMnKTtcbiAgbm9kZXMgPSBwYXJzZXIuc2VsZWN0b3IoKTtcbiAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbihub2RlKSB7XG4gICAgbm9kZS52YWwgPSBub2RlLnNlZ21lbnRzLm1hcChmdW5jdGlvbihzZWcpe1xuICAgICAgcmV0dXJuIHNlZy50b1N0cmluZygpO1xuICAgIH0pLmpvaW4oJycpO1xuICB9KTtcbiAgcmV0dXJuIG5vZGVzO1xufVxuIiwKICAidmFyIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKVxuICAsIFBhcnNlciA9IHJlcXVpcmUoJy4uL3NlbGVjdG9yLXBhcnNlcicpO1xuXG4vKipcbiAqIFJldHVybiBhIGxpc3Qgd2l0aCByYXcgc2VsZWN0b3JzIHBhcnRzXG4gKiBvZiB0aGUgY3VycmVudCBncm91cC5cbiAqXG4gKiBGb3IgZXhhbXBsZTpcbiAqXG4gKiAgICAuYSwgLmJcbiAqICAgICAgLmNcbiAqICAgICAgICAuZFxuICogICAgICAgICAgdGVzdDogc2VsZWN0b3JzKCkgLy8gPT4gJy5hLC5iJywgJyYgLmMnLCAnJiAuZCdcbiAqXG4gKiBAcmV0dXJuIHtFeHByZXNzaW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNlbGVjdG9ycygpe1xuICB2YXIgc3RhY2sgPSB0aGlzLnNlbGVjdG9yU3RhY2tcbiAgICAsIGV4cHIgPSBuZXcgbm9kZXMuRXhwcmVzc2lvbih0cnVlKTtcblxuICBpZiAoc3RhY2subGVuZ3RoKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGdyb3VwID0gc3RhY2tbaV1cbiAgICAgICAgLCBuZXN0ZWQ7XG5cbiAgICAgIGlmIChncm91cC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGV4cHIucHVzaChuZXcgbm9kZXMuU3RyaW5nKGdyb3VwLm1hcChmdW5jdGlvbihzZWxlY3Rvcikge1xuICAgICAgICAgIG5lc3RlZCA9IG5ldyBQYXJzZXIoc2VsZWN0b3IudmFsKS5wYXJzZSgpLm5lc3RlZDtcbiAgICAgICAgICByZXR1cm4gKG5lc3RlZCAmJiBpID8gJyYgJyA6ICcnKSArIHNlbGVjdG9yLnZhbDtcbiAgICAgICAgfSkuam9pbignLCcpKSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzZWxlY3RvciA9IGdyb3VwWzBdLnZhbFxuICAgICAgICBuZXN0ZWQgPSBuZXcgUGFyc2VyKHNlbGVjdG9yKS5wYXJzZSgpLm5lc3RlZDtcbiAgICAgICAgZXhwci5wdXNoKG5ldyBub2Rlcy5TdHJpbmcoKG5lc3RlZCAmJiBpID8gJyYgJyA6ICcnKSArIHNlbGVjdG9yKSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGV4cHIucHVzaChuZXcgbm9kZXMuU3RyaW5nKCcmJykpO1xuICB9XG4gIHJldHVybiBleHByO1xufTtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogU2hpZnQgYW4gZWxlbWVudCBmcm9tIGBleHByYC5cbiAqXG4gKiBAcGFyYW0ge0V4cHJlc3Npb259IGV4cHJcbiAqIEByZXR1cm4ge05vZGV9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbiAobW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleHByKXtcbiAgIGV4cHIgPSB1dGlscy51bndyYXAoZXhwcik7XG4gICByZXR1cm4gZXhwci5ub2Rlcy5zaGlmdCgpO1xuIH0pLnJhdyA9IHRydWU7XG5cbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJyk7XG5cbi8qKlxuICogU3BsaXRzIHRoZSBnaXZlbiBgdmFsYCBieSBgZGVsaW1gXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGRlbGltXG4gKiBAcGFyYW0ge1N0cmluZ3xJZGVudH0gdmFsXG4gKiBAcmV0dXJuIHtFeHByZXNzaW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBzcGxpdChkZWxpbSwgdmFsKXtcbiAgdXRpbHMuYXNzZXJ0U3RyaW5nKGRlbGltLCAnZGVsaW1pdGVyJyk7XG4gIHV0aWxzLmFzc2VydFN0cmluZyh2YWwsICd2YWwnKTtcbiAgdmFyIHNwbGl0dGVkID0gdmFsLnN0cmluZy5zcGxpdChkZWxpbS5zdHJpbmcpO1xuICB2YXIgZXhwciA9IG5ldyBub2Rlcy5FeHByZXNzaW9uKCk7XG4gIHZhciBJdGVtTm9kZSA9IHZhbCBpbnN0YW5jZW9mIG5vZGVzLklkZW50XG4gICAgPyBub2Rlcy5JZGVudFxuICAgIDogbm9kZXMuU3RyaW5nO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gc3BsaXR0ZWQubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICBleHByLm5vZGVzLnB1c2gobmV3IEl0ZW1Ob2RlKHNwbGl0dGVkW2ldKSk7XG4gIH1cbiAgcmV0dXJuIGV4cHI7XG59XG5zcGxpdC5wYXJhbXMgPSBbJ2RlbGltJywgJ3ZhbCddO1xubW9kdWxlLmV4cG9ydHMgPSBzcGxpdDtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJyk7XG5cbi8qKlxuICogUmV0dXJucyBzdWJzdHJpbmcgb2YgdGhlIGdpdmVuIGB2YWxgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfElkZW50fSB2YWxcbiAqIEBwYXJhbSB7TnVtYmVyfSBzdGFydFxuICogQHBhcmFtIHtOdW1iZXJ9IFtsZW5ndGhdXG4gKiBAcmV0dXJuIHtTdHJpbmd8SWRlbnR9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHN1YnN0cih2YWwsIHN0YXJ0LCBsZW5ndGgpe1xuICB1dGlscy5hc3NlcnRTdHJpbmcodmFsLCAndmFsJyk7XG4gIHV0aWxzLmFzc2VydFR5cGUoc3RhcnQsICd1bml0JywgJ3N0YXJ0Jyk7XG4gIGxlbmd0aCA9IGxlbmd0aCAmJiBsZW5ndGgudmFsO1xuICB2YXIgcmVzID0gdmFsLnN0cmluZy5zdWJzdHIoc3RhcnQudmFsLCBsZW5ndGgpO1xuICByZXR1cm4gdmFsIGluc3RhbmNlb2Ygbm9kZXMuSWRlbnRcbiAgICAgID8gbmV3IG5vZGVzLklkZW50KHJlcylcbiAgICAgIDogbmV3IG5vZGVzLlN0cmluZyhyZXMpO1xufVxuc3Vic3RyLnBhcmFtcyA9IFsndmFsJywgJ3N0YXJ0JywgJ2xlbmd0aCddO1xubW9kdWxlLmV4cG9ydHMgPSBzdWJzdHI7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpO1xuXG4vKipcbiAqIFRoaXMgaXMgYSBoZWxwZXIgZnVuY3Rpb24gZm9yIHRoZSBzbGljZSBtZXRob2RcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xJZGVudH0gdmFsc1xuICogQHBhcmFtIHtVbml0fSBzdGFydCBbMF1cbiAqIEBwYXJhbSB7VW5pdH0gZW5kIFt2YWxzLmxlbmd0aF1cbiAqIEByZXR1cm4ge1N0cmluZ3xMaXRlcmFsfE51bGx9XG4gKiBAYXBpIHB1YmxpY1xuKi9cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNsaWNlKHZhbCwgc3RhcnQsIGVuZCkge1xuICBzdGFydCA9IHN0YXJ0ICYmIHN0YXJ0Lm5vZGVzWzBdLnZhbDtcbiAgZW5kID0gZW5kICYmIGVuZC5ub2Rlc1swXS52YWw7XG5cbiAgdmFsID0gdXRpbHMudW53cmFwKHZhbCkubm9kZXM7XG5cbiAgaWYgKHZhbC5sZW5ndGggPiAxKSB7XG4gICAgcmV0dXJuIHV0aWxzLmNvZXJjZSh2YWwuc2xpY2Uoc3RhcnQsIGVuZCksIHRydWUpO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IHZhbFswXS5zdHJpbmcuc2xpY2Uoc3RhcnQsIGVuZCk7XG5cbiAgcmV0dXJuIHZhbFswXSBpbnN0YW5jZW9mIG5vZGVzLklkZW50XG4gICAgPyBuZXcgbm9kZXMuSWRlbnQocmVzdWx0KVxuICAgIDogbmV3IG5vZGVzLlN0cmluZyhyZXN1bHQpO1xufSkucmF3ID0gdHJ1ZTtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJyk7XG5cbi8qKlxuICogUmV0dXJuIHRoZSB0YW5nZW50IG9mIHRoZSBnaXZlbiBgYW5nbGVgLlxuICpcbiAqIEBwYXJhbSB7VW5pdH0gYW5nbGVcbiAqIEByZXR1cm4ge1VuaXR9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHRhbihhbmdsZSkge1xuICB1dGlscy5hc3NlcnRUeXBlKGFuZ2xlLCAndW5pdCcsICdhbmdsZScpO1xuXG4gIHZhciByYWRpYW5zID0gYW5nbGUudmFsO1xuXG4gIGlmIChhbmdsZS50eXBlID09PSAnZGVnJykge1xuICAgIHJhZGlhbnMgKj0gTWF0aC5QSSAvIDE4MDtcbiAgfVxuXG4gIHZhciBtID0gTWF0aC5wb3coMTAsIDkpO1xuXG4gIHZhciBzaW4gPSBNYXRoLnJvdW5kKE1hdGguc2luKHJhZGlhbnMpICogbSkgLyBtXG4gICAgLCBjb3MgPSBNYXRoLnJvdW5kKE1hdGguY29zKHJhZGlhbnMpICogbSkgLyBtXG4gICAgLCB0YW4gPSBNYXRoLnJvdW5kKG0gKiBzaW4gLyBjb3MgKSAvIG07XG5cbiAgcmV0dXJuIG5ldyBub2Rlcy5Vbml0KHRhbiwgJycpO1xufVxudGFuLnBhcmFtcyA9IFsnYW5nbGUnXTtcbm1vZHVsZS5leHBvcnRzID0gdGFuO1xuIiwKICAidmFyIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKTtcblxuLyoqXG4gKiBPdXRwdXQgc3RhY2sgdHJhY2UuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHRyYWNlKCl7XG4gIGNvbnNvbGUubG9nKHRoaXMuc3RhY2spO1xuICByZXR1cm4gbm9kZXMubnVsbDtcbn07XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHRyYW5zcGFyZW50IHZlcnNpb24gb2YgdGhlIGdpdmVuIGB0b3BgIGNvbG9yLFxuICogYXMgaWYgaXQgd2FzIGJsZW5kIG92ZXIgdGhlIGdpdmVuIGBib3R0b21gIGNvbG9yLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgICB0cmFuc3BhcmVudGlmeSgjODA4MDgwKVxuICogICAgID0+IHJnYmEoMCwwLDAsMC41KVxuICpcbiAqICAgICB0cmFuc3BhcmVudGlmeSgjNDE0MTQxLCAjMDAwKVxuICogICAgID0+IHJnYmEoMjU1LDI1NSwyNTUsMC4yNSlcbiAqXG4gKiAgICAgdHJhbnNwYXJlbnRpZnkoIzkxOTc0QywgI0YzNDk0OSwgMC41KVxuICogICAgID0+IHJnYmEoNDcsMjI5LDc5LDAuNSlcbiAqXG4gKiBAcGFyYW0ge1JHQkF8SFNMQX0gdG9wXG4gKiBAcGFyYW0ge1JHQkF8SFNMQX0gW2JvdHRvbT0jZmZmXVxuICogQHBhcmFtIHtVbml0fSBbYWxwaGFdXG4gKiBAcmV0dXJuIHtSR0JBfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiB0cmFuc3BhcmVudGlmeSh0b3AsIGJvdHRvbSwgYWxwaGEpe1xuICB1dGlscy5hc3NlcnRDb2xvcih0b3ApO1xuICB0b3AgPSB0b3AucmdiYTtcbiAgLy8gSGFuZGxlIGRlZmF1bHQgYXJndW1lbnRzXG4gIGJvdHRvbSA9IGJvdHRvbSB8fCBuZXcgbm9kZXMuUkdCQSgyNTUsIDI1NSwgMjU1LCAxKTtcbiAgaWYgKCFhbHBoYSAmJiBib3R0b20gJiYgIWJvdHRvbS5yZ2JhKSB7XG4gICAgYWxwaGEgPSBib3R0b207XG4gICAgYm90dG9tID0gbmV3IG5vZGVzLlJHQkEoMjU1LCAyNTUsIDI1NSwgMSk7XG4gIH1cbiAgdXRpbHMuYXNzZXJ0Q29sb3IoYm90dG9tKTtcbiAgYm90dG9tID0gYm90dG9tLnJnYmE7XG4gIHZhciBiZXN0QWxwaGEgPSBbJ3InLCAnZycsICdiJ10ubWFwKGZ1bmN0aW9uKGNoYW5uZWwpe1xuICAgIHJldHVybiAodG9wW2NoYW5uZWxdIC0gYm90dG9tW2NoYW5uZWxdKSAvICgoMCA8ICh0b3BbY2hhbm5lbF0gLSBib3R0b21bY2hhbm5lbF0pID8gMjU1IDogMCkgLSBib3R0b21bY2hhbm5lbF0pO1xuICB9KS5zb3J0KGZ1bmN0aW9uKGEsIGIpe3JldHVybiBiIC0gYTt9KVswXTtcbiAgaWYgKGFscGhhKSB7XG4gICAgdXRpbHMuYXNzZXJ0VHlwZShhbHBoYSwgJ3VuaXQnLCAnYWxwaGEnKTtcbiAgICBpZiAoJyUnID09IGFscGhhLnR5cGUpIHtcbiAgICAgIGJlc3RBbHBoYSA9IGFscGhhLnZhbCAvIDEwMDtcbiAgICB9IGVsc2UgaWYgKCFhbHBoYS50eXBlKSB7XG4gICAgICBiZXN0QWxwaGEgPSBhbHBoYSA9IGFscGhhLnZhbDtcbiAgICB9XG4gIH1cbiAgYmVzdEFscGhhID0gTWF0aC5tYXgoTWF0aC5taW4oYmVzdEFscGhhLCAxKSwgMCk7XG4gIC8vIENhbGN1bGF0ZSB0aGUgcmVzdWx0aW5nIGNvbG9yXG4gIGZ1bmN0aW9uIHByb2Nlc3NDaGFubmVsKGNoYW5uZWwpIHtcbiAgICBpZiAoMCA9PSBiZXN0QWxwaGEpIHtcbiAgICAgIHJldHVybiBib3R0b21bY2hhbm5lbF1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJvdHRvbVtjaGFubmVsXSArICh0b3BbY2hhbm5lbF0gLSBib3R0b21bY2hhbm5lbF0pIC8gYmVzdEFscGhhXG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgbm9kZXMuUkdCQShcbiAgICBwcm9jZXNzQ2hhbm5lbCgncicpLFxuICAgIHByb2Nlc3NDaGFubmVsKCdnJyksXG4gICAgcHJvY2Vzc0NoYW5uZWwoJ2InKSxcbiAgICBNYXRoLnJvdW5kKGJlc3RBbHBoYSAqIDEwMCkgLyAxMDBcbiAgKTtcbn1cbnRyYW5zcGFyZW50aWZ5LnBhcmFtcyA9IFsndG9wJywgJ2JvdHRvbScsICdhbHBoYSddO1xubW9kdWxlLmV4cG9ydHMgPSB0cmFuc3BhcmVudGlmeTtcbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJyk7XG5cbi8qKlxuICogUmV0dXJuIHR5cGUgb2YgYG5vZGVgLlxuICpcbiAqIEV4YW1wbGVzOlxuICogXG4gKiAgICB0eXBlKDEyKVxuICogICAgLy8gPT4gJ3VuaXQnXG4gKlxuICogICAgdHlwZSgjZmZmKVxuICogICAgLy8gPT4gJ2NvbG9yJ1xuICpcbiAqICAgIHR5cGUodHlwZSlcbiAqICAgIC8vID0+ICdmdW5jdGlvbidcbiAqXG4gKiAgICB0eXBlKHVuYm91bmQpXG4gKiAgICB0eXBlb2YodW5ib3VuZClcbiAqICAgIHR5cGUtb2YodW5ib3VuZClcbiAqICAgIC8vID0+ICdpZGVudCdcbiAqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gdHlwZShub2RlKXtcbiAgdXRpbHMuYXNzZXJ0UHJlc2VudChub2RlLCAnZXhwcmVzc2lvbicpO1xuICByZXR1cm4gbm9kZS5ub2RlTmFtZTtcbn1cbnR5cGUucGFyYW1zID0gWydub2RlJ107XG5tb2R1bGUuZXhwb3J0cyA9IHR5cGU7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpO1xuXG4vKipcbiAqIEFzc2lnbiBgdHlwZWAgdG8gdGhlIGdpdmVuIGB1bml0YCBvciByZXR1cm4gYHVuaXRgJ3MgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1VuaXR9IHVuaXRcbiAqIEBwYXJhbSB7U3RyaW5nfElkZW50fSB0eXBlXG4gKiBAcmV0dXJuIHtVbml0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiB1bml0KHVuaXQsIHR5cGUpe1xuICB1dGlscy5hc3NlcnRUeXBlKHVuaXQsICd1bml0JywgJ3VuaXQnKTtcblxuICAvLyBBc3NpZ25cbiAgaWYgKHR5cGUpIHtcbiAgICB1dGlscy5hc3NlcnRTdHJpbmcodHlwZSwgJ3R5cGUnKTtcbiAgICByZXR1cm4gbmV3IG5vZGVzLlVuaXQodW5pdC52YWwsIHR5cGUuc3RyaW5nKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdW5pdC50eXBlIHx8ICcnO1xuICB9XG59XG51bml0LnBhcmFtcyA9IFsndW5pdCcsICd0eXBlJ107XG5tb2R1bGUuZXhwb3J0cyA9IHVuaXQ7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpO1xuXG4vKipcbiAqIFVucXVvdGUgdGhlIGdpdmVuIGBzdHJpbmdgLlxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIHVucXVvdGUoXCJzYW5zLXNlcmlmXCIpXG4gKiAgICAvLyA9PiBzYW5zLXNlcmlmXG4gKlxuICogICAgdW5xdW90ZShzYW5zLXNlcmlmKVxuICogICAgLy8gPT4gc2Fucy1zZXJpZlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfElkZW50fSBzdHJpbmdcbiAqIEByZXR1cm4ge0xpdGVyYWx9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmZ1bmN0aW9uIHVucXVvdGUoc3RyaW5nKXtcbiAgdXRpbHMuYXNzZXJ0U3RyaW5nKHN0cmluZywgJ3N0cmluZycpO1xuICByZXR1cm4gbmV3IG5vZGVzLkxpdGVyYWwoc3RyaW5nLnN0cmluZyk7XG59XG51bnF1b3RlLnBhcmFtcyA9IFsnc3RyaW5nJ107XG5tb2R1bGUuZXhwb3J0cyA9IHVucXVvdGU7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIFVuc2hpZnQgdGhlIGdpdmVuIGFyZ3MgdG8gYGV4cHJgLlxuICpcbiAqIEBwYXJhbSB7RXhwcmVzc2lvbn0gZXhwclxuICogQHBhcmFtIHtOb2RlfSAuLi5cbiAqIEByZXR1cm4ge1VuaXR9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbihtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4cHIpe1xuICBleHByID0gdXRpbHMudW53cmFwKGV4cHIpO1xuICBmb3IgKHZhciBpID0gMSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgZXhwci5ub2Rlcy51bnNoaWZ0KHV0aWxzLnVud3JhcChhcmd1bWVudHNbaV0pKTtcbiAgfVxuICByZXR1cm4gZXhwci5ub2Rlcy5sZW5ndGg7XG59KS5yYXcgPSB0cnVlO1xuIiwKICAidmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuICAsIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbi8qKlxuKiAgVXNlIHRoZSBnaXZlbiBgcGx1Z2luYFxuKiAgXG4qICBFeGFtcGxlczpcbipcbiogICAgIHVzZShcInBsdWdpbnMvYWRkLmpzXCIpXG4qXG4qICAgICB3aWR0aCBhZGQoMTAsIDEwMClcbiogICAgIC8vID0+IHdpZHRoOiAxMTBcbiovXG5cbmZ1bmN0aW9uIHVzZShwbHVnaW4sIG9wdGlvbnMpe1xuICB1dGlscy5hc3NlcnRTdHJpbmcocGx1Z2luLCAncGx1Z2luJyk7XG5cbiAgaWYgKG9wdGlvbnMpIHtcbiAgICB1dGlscy5hc3NlcnRUeXBlKG9wdGlvbnMsICdvYmplY3QnLCAnb3B0aW9ucycpO1xuICAgIG9wdGlvbnMgPSBwYXJzZU9iamVjdChvcHRpb25zKTtcbiAgfVxuXG4gIC8vIGxvb2t1cFxuICBwbHVnaW4gPSBwbHVnaW4uc3RyaW5nO1xuICB2YXIgZm91bmQgPSB1dGlscy5sb29rdXAocGx1Z2luLCB0aGlzLm9wdGlvbnMucGF0aHMsIHRoaXMub3B0aW9ucy5maWxlbmFtZSk7XG4gIGlmICghZm91bmQpIHRocm93IG5ldyBFcnJvcignZmFpbGVkIHRvIGxvY2F0ZSBwbHVnaW4gZmlsZSBcIicgKyBwbHVnaW4gKyAnXCInKTtcblxuICAvLyB1c2VcbiAgdmFyIGZuID0gcmVxdWlyZShwYXRoLnJlc29sdmUoZm91bmQpKTtcbiAgaWYgKCdmdW5jdGlvbicgIT0gdHlwZW9mIGZuKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwbHVnaW4gXCInICsgcGx1Z2luICsgJ1wiIGRvZXMgbm90IGV4cG9ydCBhIGZ1bmN0aW9uJyk7XG4gIH1cbiAgdGhpcy5yZW5kZXJlci51c2UoZm4ob3B0aW9ucyB8fCB0aGlzLm9wdGlvbnMpKTtcbn1cbnVzZS5wYXJhbXMgPSBbJ3BsdWdpbicsICdvcHRpb25zJ107XG5tb2R1bGUuZXhwb3J0cyA9IHVzZTtcblxuLyoqXG4gKiBBdHRlbXB0IHRvIHBhcnNlIG9iamVjdCBub2RlIHRvIHRoZSBqYXZhc2NyaXB0IG9iamVjdC5cbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBwYXJzZU9iamVjdChvYmope1xuICBvYmogPSBvYmoudmFscztcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIHZhciBub2RlcyA9IG9ialtrZXldLm5vZGVzWzBdLm5vZGVzO1xuICAgIGlmIChub2RlcyAmJiBub2Rlcy5sZW5ndGgpIHtcbiAgICAgIG9ialtrZXldID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbm9kZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgb2JqW2tleV0ucHVzaChjb252ZXJ0KG5vZGVzW2ldKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrZXldID0gY29udmVydChvYmpba2V5XS5maXJzdCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBvYmo7XG5cbiAgZnVuY3Rpb24gY29udmVydChub2RlKXtcbiAgICBzd2l0Y2ggKG5vZGUubm9kZU5hbWUpIHtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIHJldHVybiBwYXJzZU9iamVjdChub2RlKTtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gbm9kZS5pc1RydWU7XG4gICAgICBjYXNlICd1bml0JzpcbiAgICAgICAgcmV0dXJuIG5vZGUudHlwZSA/IG5vZGUudG9TdHJpbmcoKSA6ICtub2RlLnZhbDtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICdsaXRlcmFsJzpcbiAgICAgICAgcmV0dXJuIG5vZGUudmFsO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIG5vZGUudG9TdHJpbmcoKTtcbiAgICB9XG4gIH1cbn1cbiIsCiAgInZhciB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJyk7XG5cbi8qKlxuICogV2FybiB3aXRoIHRoZSBnaXZlbiBgbXNnYCBwcmVmaXhlZCBieSBcIldhcm5pbmc6IFwiLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtc2dcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gd2Fybihtc2cpe1xuICB1dGlscy5hc3NlcnRUeXBlKG1zZywgJ3N0cmluZycsICdtc2cnKTtcbiAgY29uc29sZS53YXJuKCdXYXJuaW5nOiAlcycsIG1zZy52YWwpO1xuICByZXR1cm4gbm9kZXMubnVsbDtcbn1cbndhcm4ucGFyYW1zID0gWydtc2cnXTtcbm1vZHVsZS5leHBvcnRzID0gd2FybjtcbiIsCiAgInZhciBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJyk7XG5cbi8qKlxuICogR2V0IE1hdGggYHByb3BgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wXG4gKiBAcmV0dXJuIHtVbml0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbWF0aChwcm9wKXtcbiAgcmV0dXJuIG5ldyBub2Rlcy5Vbml0KE1hdGhbcHJvcC5zdHJpbmddKTtcbn1cbm1hdGgucGFyYW1zID0gWydwcm9wJ107XG5tb2R1bGUuZXhwb3J0cyA9IG1hdGg7XG4iLAogICJ2YXIgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG4vKipcbiAqIFByZWZpeCBjc3MgY2xhc3NlcyBpbiBhIGJsb2NrXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHByZWZpeFxuICogQHBhcmFtIHtCbG9ja30gYmxvY2tcbiAqIEByZXR1cm4ge0Jsb2NrfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcHJlZml4Q2xhc3NlcyhwcmVmaXgsIGJsb2NrKXtcbiAgdXRpbHMuYXNzZXJ0U3RyaW5nKHByZWZpeCwgJ3ByZWZpeCcpO1xuICB1dGlscy5hc3NlcnRUeXBlKGJsb2NrLCAnYmxvY2snLCAnYmxvY2snKTtcblxuICB2YXIgX3ByZWZpeCA9IHRoaXMucHJlZml4O1xuXG4gIHRoaXMub3B0aW9ucy5wcmVmaXggPSB0aGlzLnByZWZpeCA9IHByZWZpeC5zdHJpbmc7XG4gIGJsb2NrID0gdGhpcy52aXNpdChibG9jayk7XG4gIHRoaXMub3B0aW9ucy5wcmVmaXggPSB0aGlzLnByZWZpeCA9IF9wcmVmaXg7XG4gIHJldHVybiBibG9jaztcbn1cbnByZWZpeENsYXNzZXMucGFyYW1zID0gWydwcmVmaXgnLCAnYmxvY2snXTtcbm1vZHVsZS5leHBvcnRzID0gcHJlZml4Q2xhc3NlcztcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBFdmFsdWF0b3IgLSBidWlsdC1pbiBmdW5jdGlvbnNcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG5leHBvcnRzWydhZGQtcHJvcGVydHknXSA9IHJlcXVpcmUoJy4vYWRkLXByb3BlcnR5Jyk7XG5leHBvcnRzLmFkanVzdCA9IHJlcXVpcmUoJy4vYWRqdXN0Jyk7XG5leHBvcnRzLmFscGhhID0gcmVxdWlyZSgnLi9hbHBoYScpO1xuZXhwb3J0c1snYmFzZS1jb252ZXJ0J10gPSByZXF1aXJlKCcuL2Jhc2UtY29udmVydCcpO1xuZXhwb3J0cy5iYXNlbmFtZSA9IHJlcXVpcmUoJy4vYmFzZW5hbWUnKTtcbmV4cG9ydHMuYmxlbmQgPSByZXF1aXJlKCcuL2JsZW5kJyk7XG5leHBvcnRzLmJsdWUgPSByZXF1aXJlKCcuL2JsdWUnKTtcbmV4cG9ydHMuY2xvbmUgPSByZXF1aXJlKCcuL2Nsb25lJyk7XG5leHBvcnRzLmNvbXBvbmVudCA9IHJlcXVpcmUoJy4vY29tcG9uZW50Jyk7XG5leHBvcnRzLmNvbnRyYXN0ID0gcmVxdWlyZSgnLi9jb250cmFzdCcpO1xuZXhwb3J0cy5jb252ZXJ0ID0gcmVxdWlyZSgnLi9jb252ZXJ0Jyk7XG5leHBvcnRzWydjdXJyZW50LW1lZGlhJ10gPSByZXF1aXJlKCcuL2N1cnJlbnQtbWVkaWEnKTtcbmV4cG9ydHMuZGVmaW5lID0gcmVxdWlyZSgnLi9kZWZpbmUnKTtcbmV4cG9ydHMuZGlybmFtZSA9IHJlcXVpcmUoJy4vZGlybmFtZScpO1xuZXhwb3J0cy5lcnJvciA9IHJlcXVpcmUoJy4vZXJyb3InKTtcbmV4cG9ydHMuZXh0bmFtZSA9IHJlcXVpcmUoJy4vZXh0bmFtZScpO1xuZXhwb3J0cy5ncmVlbiA9IHJlcXVpcmUoJy4vZ3JlZW4nKTtcbmV4cG9ydHMuaHNsID0gcmVxdWlyZSgnLi9oc2wnKTtcbmV4cG9ydHMuaHNsYSA9IHJlcXVpcmUoJy4vaHNsYScpO1xuZXhwb3J0cy5odWUgPSByZXF1aXJlKCcuL2h1ZScpO1xuZXhwb3J0c1snaW1hZ2Utc2l6ZSddID0gcmVxdWlyZSgnLi9pbWFnZS1zaXplJyk7XG5leHBvcnRzLmpzb24gPSByZXF1aXJlKCcuL2pzb24nKTtcbmV4cG9ydHMubGVuZ3RoID0gcmVxdWlyZSgnLi9sZW5ndGgnKTtcbmV4cG9ydHMubGlnaHRuZXNzID0gcmVxdWlyZSgnLi9saWdodG5lc3MnKTtcbmV4cG9ydHNbJ2xpc3Qtc2VwYXJhdG9yJ10gPSByZXF1aXJlKCcuL2xpc3Qtc2VwYXJhdG9yJyk7XG5leHBvcnRzLmxvb2t1cCA9IHJlcXVpcmUoJy4vbG9va3VwJyk7XG5leHBvcnRzLmx1bWlub3NpdHkgPSByZXF1aXJlKCcuL2x1bWlub3NpdHknKTtcbmV4cG9ydHMubWF0Y2ggPSByZXF1aXJlKCcuL21hdGNoJyk7XG5leHBvcnRzLm1hdGggPSByZXF1aXJlKCcuL21hdGgnKTtcbmV4cG9ydHMubWVyZ2UgPSBleHBvcnRzLmV4dGVuZCA9IHJlcXVpcmUoJy4vbWVyZ2UnKTtcbmV4cG9ydHMub3BlcmF0ZSA9IHJlcXVpcmUoJy4vb3BlcmF0ZScpO1xuZXhwb3J0c1snb3Bwb3NpdGUtcG9zaXRpb24nXSA9IHJlcXVpcmUoJy4vb3Bwb3NpdGUtcG9zaXRpb24nKTtcbmV4cG9ydHMucCA9IHJlcXVpcmUoJy4vcCcpO1xuZXhwb3J0cy5wYXRoam9pbiA9IHJlcXVpcmUoJy4vcGF0aGpvaW4nKTtcbmV4cG9ydHMucG9wID0gcmVxdWlyZSgnLi9wb3AnKTtcbmV4cG9ydHMucHVzaCA9IGV4cG9ydHMuYXBwZW5kID0gcmVxdWlyZSgnLi9wdXNoJyk7XG5leHBvcnRzLnJhbmdlID0gcmVxdWlyZSgnLi9yYW5nZScpO1xuZXhwb3J0cy5yZWQgPSByZXF1aXJlKCcuL3JlZCcpO1xuZXhwb3J0cy5yZW1vdmUgPSByZXF1aXJlKCcuL3JlbW92ZScpO1xuZXhwb3J0cy5yZXBsYWNlID0gcmVxdWlyZSgnLi9yZXBsYWNlJyk7XG5leHBvcnRzLnJnYiA9IHJlcXVpcmUoJy4vcmdiJyk7XG5leHBvcnRzLmF0YW4gPSByZXF1aXJlKCcuL2F0YW4nKTtcbmV4cG9ydHMuYXNpbiA9IHJlcXVpcmUoJy4vYXNpbicpO1xuZXhwb3J0cy5hY29zID0gcmVxdWlyZSgnLi9hY29zJyk7XG5leHBvcnRzLnJnYmEgPSByZXF1aXJlKCcuL3JnYmEnKTtcbmV4cG9ydHMucyA9IHJlcXVpcmUoJy4vcycpO1xuZXhwb3J0cy5zYXR1cmF0aW9uID0gcmVxdWlyZSgnLi9zYXR1cmF0aW9uJyk7XG5leHBvcnRzWydzZWxlY3Rvci1leGlzdHMnXSA9IHJlcXVpcmUoJy4vc2VsZWN0b3ItZXhpc3RzJyk7XG5leHBvcnRzLnNlbGVjdG9yID0gcmVxdWlyZSgnLi9zZWxlY3RvcicpO1xuZXhwb3J0cy5zZWxlY3RvcnMgPSByZXF1aXJlKCcuL3NlbGVjdG9ycycpO1xuZXhwb3J0cy5zaGlmdCA9IHJlcXVpcmUoJy4vc2hpZnQnKTtcbmV4cG9ydHMuc3BsaXQgPSByZXF1aXJlKCcuL3NwbGl0Jyk7XG5leHBvcnRzLnN1YnN0ciA9IHJlcXVpcmUoJy4vc3Vic3RyJyk7XG5leHBvcnRzLnNsaWNlID0gcmVxdWlyZSgnLi9zbGljZScpO1xuZXhwb3J0cy50YW4gPSByZXF1aXJlKCcuL3RhbicpO1xuZXhwb3J0cy50cmFjZSA9IHJlcXVpcmUoJy4vdHJhY2UnKTtcbmV4cG9ydHMudHJhbnNwYXJlbnRpZnkgPSByZXF1aXJlKCcuL3RyYW5zcGFyZW50aWZ5Jyk7XG5leHBvcnRzLnR5cGUgPSBleHBvcnRzLnR5cGVvZiA9IGV4cG9ydHNbJ3R5cGUtb2YnXSA9IHJlcXVpcmUoJy4vdHlwZScpO1xuZXhwb3J0cy51bml0ID0gcmVxdWlyZSgnLi91bml0Jyk7XG5leHBvcnRzLnVucXVvdGUgPSByZXF1aXJlKCcuL3VucXVvdGUnKTtcbmV4cG9ydHMudW5zaGlmdCA9IGV4cG9ydHMucHJlcGVuZCA9IHJlcXVpcmUoJy4vdW5zaGlmdCcpO1xuZXhwb3J0cy51c2UgPSByZXF1aXJlKCcuL3VzZScpO1xuZXhwb3J0cy53YXJuID0gcmVxdWlyZSgnLi93YXJuJyk7XG5leHBvcnRzWyctbWF0aC1wcm9wJ10gPSByZXF1aXJlKCcuL21hdGgtcHJvcCcpO1xuZXhwb3J0c1snLXByZWZpeC1jbGFzc2VzJ10gPSByZXF1aXJlKCcuL3ByZWZpeC1jbGFzc2VzJyk7XG4iLAogICJcbi8qIVxuICogU3R5bHVzIC0gY29sb3JzXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYWxpY2VibHVlOiBbMjQwLCAyNDgsIDI1NSwgMV1cbiAgLCBhbnRpcXVld2hpdGU6IFsyNTAsIDIzNSwgMjE1LCAxXVxuICAsIGFxdWE6IFswLCAyNTUsIDI1NSwgMV1cbiAgLCBhcXVhbWFyaW5lOiBbMTI3LCAyNTUsIDIxMiwgMV1cbiAgLCBhenVyZTogWzI0MCwgMjU1LCAyNTUsIDFdXG4gICwgYmVpZ2U6IFsyNDUsIDI0NSwgMjIwLCAxXVxuICAsIGJpc3F1ZTogWzI1NSwgMjI4LCAxOTYsIDFdXG4gICwgYmxhY2s6IFswLCAwLCAwLCAxXVxuICAsIGJsYW5jaGVkYWxtb25kOiBbMjU1LCAyMzUsIDIwNSwgMV1cbiAgLCBibHVlOiBbMCwgMCwgMjU1LCAxXVxuICAsIGJsdWV2aW9sZXQ6IFsxMzgsIDQzLCAyMjYsIDFdXG4gICwgYnJvd246IFsxNjUsIDQyLCA0MiwgMV1cbiAgLCBidXJseXdvb2Q6IFsyMjIsIDE4NCwgMTM1LCAxXVxuICAsIGNhZGV0Ymx1ZTogWzk1LCAxNTgsIDE2MCwgMV1cbiAgLCBjaGFydHJldXNlOiBbMTI3LCAyNTUsIDAsIDFdXG4gICwgY2hvY29sYXRlOiBbMjEwLCAxMDUsIDMwLCAxXVxuICAsIGNvcmFsOiBbMjU1LCAxMjcsIDgwLCAxXVxuICAsIGNvcm5mbG93ZXJibHVlOiBbMTAwLCAxNDksIDIzNywgMV1cbiAgLCBjb3Juc2lsazogWzI1NSwgMjQ4LCAyMjAsIDFdXG4gICwgY3JpbXNvbjogWzIyMCwgMjAsIDYwLCAxXVxuICAsIGN5YW46IFswLCAyNTUsIDI1NSwgMV1cbiAgLCBkYXJrYmx1ZTogWzAsIDAsIDEzOSwgMV1cbiAgLCBkYXJrY3lhbjogWzAsIDEzOSwgMTM5LCAxXVxuICAsIGRhcmtnb2xkZW5yb2Q6IFsxODQsIDEzNCwgMTEsIDFdXG4gICwgZGFya2dyYXk6IFsxNjksIDE2OSwgMTY5LCAxXVxuICAsIGRhcmtncmVlbjogWzAsIDEwMCwgMCwgMV1cbiAgLCBkYXJrZ3JleTogWzE2OSwgMTY5LCAxNjksIDFdXG4gICwgZGFya2toYWtpOiBbMTg5LCAxODMsIDEwNywgMV1cbiAgLCBkYXJrbWFnZW50YTogWzEzOSwgMCwgMTM5LCAxXVxuICAsIGRhcmtvbGl2ZWdyZWVuOiBbODUsIDEwNywgNDcsIDFdXG4gICwgZGFya29yYW5nZTogWzI1NSwgMTQwLCAwLCAxXVxuICAsIGRhcmtvcmNoaWQ6IFsxNTMsIDUwLCAyMDQsIDFdXG4gICwgZGFya3JlZDogWzEzOSwgMCwgMCwgMV1cbiAgLCBkYXJrc2FsbW9uOiBbMjMzLCAxNTAsIDEyMiwgMV1cbiAgLCBkYXJrc2VhZ3JlZW46IFsxNDMsIDE4OCwgMTQzLCAxXVxuICAsIGRhcmtzbGF0ZWJsdWU6IFs3MiwgNjEsIDEzOSwgMV1cbiAgLCBkYXJrc2xhdGVncmF5OiBbNDcsIDc5LCA3OSwgMV1cbiAgLCBkYXJrc2xhdGVncmV5OiBbNDcsIDc5LCA3OSwgMV1cbiAgLCBkYXJrdHVycXVvaXNlOiBbMCwgMjA2LCAyMDksIDFdXG4gICwgZGFya3Zpb2xldDogWzE0OCwgMCwgMjExLCAxXVxuICAsIGRlZXBwaW5rOiBbMjU1LCAyMCwgMTQ3LCAxXVxuICAsIGRlZXBza3libHVlOiBbMCwgMTkxLCAyNTUsIDFdXG4gICwgZGltZ3JheTogWzEwNSwgMTA1LCAxMDUsIDFdXG4gICwgZGltZ3JleTogWzEwNSwgMTA1LCAxMDUsIDFdXG4gICwgZG9kZ2VyYmx1ZTogWzMwLCAxNDQsIDI1NSwgMV1cbiAgLCBmaXJlYnJpY2s6IFsxNzgsIDM0LCAzNCwgMV1cbiAgLCBmbG9yYWx3aGl0ZTogWzI1NSwgMjUwLCAyNDAsIDFdXG4gICwgZm9yZXN0Z3JlZW46IFszNCwgMTM5LCAzNCwgMV1cbiAgLCBmdWNoc2lhOiBbMjU1LCAwLCAyNTUsIDFdXG4gICwgZ2FpbnNib3JvOiBbMjIwLCAyMjAsIDIyMCwgMV1cbiAgLCBnaG9zdHdoaXRlOiBbMjQ4LCAyNDgsIDI1NSwgMV1cbiAgLCBnb2xkOiBbMjU1LCAyMTUsIDAsIDFdXG4gICwgZ29sZGVucm9kOiBbMjE4LCAxNjUsIDMyLCAxXVxuICAsIGdyYXk6IFsxMjgsIDEyOCwgMTI4LCAxXVxuICAsIGdyZWVuOiBbMCwgMTI4LCAwLCAxXVxuICAsIGdyZWVueWVsbG93OiBbMTczLCAyNTUsIDQ3LCAxXVxuICAsIGdyZXk6IFsxMjgsIDEyOCwgMTI4LCAxXVxuICAsIGhvbmV5ZGV3OiBbMjQwLCAyNTUsIDI0MCwgMV1cbiAgLCBob3RwaW5rOiBbMjU1LCAxMDUsIDE4MCwgMV1cbiAgLCBpbmRpYW5yZWQ6IFsyMDUsIDkyLCA5MiwgMV1cbiAgLCBpbmRpZ286IFs3NSwgMCwgMTMwLCAxXVxuICAsIGl2b3J5OiBbMjU1LCAyNTUsIDI0MCwgMV1cbiAgLCBraGFraTogWzI0MCwgMjMwLCAxNDAsIDFdXG4gICwgbGF2ZW5kZXI6IFsyMzAsIDIzMCwgMjUwLCAxXVxuICAsIGxhdmVuZGVyYmx1c2g6IFsyNTUsIDI0MCwgMjQ1LCAxXVxuICAsIGxhd25ncmVlbjogWzEyNCwgMjUyLCAwLCAxXVxuICAsIGxlbW9uY2hpZmZvbjogWzI1NSwgMjUwLCAyMDUsIDFdXG4gICwgbGlnaHRibHVlOiBbMTczLCAyMTYsIDIzMCwgMV1cbiAgLCBsaWdodGNvcmFsOiBbMjQwLCAxMjgsIDEyOCwgMV1cbiAgLCBsaWdodGN5YW46IFsyMjQsIDI1NSwgMjU1LCAxXVxuICAsIGxpZ2h0Z29sZGVucm9keWVsbG93OiBbMjUwLCAyNTAsIDIxMCwgMV1cbiAgLCBsaWdodGdyYXk6IFsyMTEsIDIxMSwgMjExLCAxXVxuICAsIGxpZ2h0Z3JlZW46IFsxNDQsIDIzOCwgMTQ0LCAxXVxuICAsIGxpZ2h0Z3JleTogWzIxMSwgMjExLCAyMTEsIDFdXG4gICwgbGlnaHRwaW5rOiBbMjU1LCAxODIsIDE5MywgMV1cbiAgLCBsaWdodHNhbG1vbjogWzI1NSwgMTYwLCAxMjIsIDFdXG4gICwgbGlnaHRzZWFncmVlbjogWzMyLCAxNzgsIDE3MCwgMV1cbiAgLCBsaWdodHNreWJsdWU6IFsxMzUsIDIwNiwgMjUwLCAxXVxuICAsIGxpZ2h0c2xhdGVncmF5OiBbMTE5LCAxMzYsIDE1MywgMV1cbiAgLCBsaWdodHNsYXRlZ3JleTogWzExOSwgMTM2LCAxNTMsIDFdXG4gICwgbGlnaHRzdGVlbGJsdWU6IFsxNzYsIDE5NiwgMjIyLCAxXVxuICAsIGxpZ2h0eWVsbG93OiBbMjU1LCAyNTUsIDIyNCwgMV1cbiAgLCBsaW1lOiBbMCwgMjU1LCAwLCAxXVxuICAsIGxpbWVncmVlbjogWzUwLCAyMDUsIDUwLCAxXVxuICAsIGxpbmVuOiBbMjUwLCAyNDAsIDIzMCwgMV1cbiAgLCBtYWdlbnRhOiBbMjU1LCAwLCAyNTUsIDFdXG4gICwgbWFyb29uOiBbMTI4LCAwLCAwLCAxXVxuICAsIG1lZGl1bWFxdWFtYXJpbmU6IFsxMDIsIDIwNSwgMTcwLCAxXVxuICAsIG1lZGl1bWJsdWU6IFswLCAwLCAyMDUsIDFdXG4gICwgbWVkaXVtb3JjaGlkOiBbMTg2LCA4NSwgMjExLCAxXVxuICAsIG1lZGl1bXB1cnBsZTogWzE0NywgMTEyLCAyMTksIDFdXG4gICwgbWVkaXVtc2VhZ3JlZW46IFs2MCwgMTc5LCAxMTMsIDFdXG4gICwgbWVkaXVtc2xhdGVibHVlOiBbMTIzLCAxMDQsIDIzOCwgMV1cbiAgLCBtZWRpdW1zcHJpbmdncmVlbjogWzAsIDI1MCwgMTU0LCAxXVxuICAsIG1lZGl1bXR1cnF1b2lzZTogWzcyLCAyMDksIDIwNCwgMV1cbiAgLCBtZWRpdW12aW9sZXRyZWQ6IFsxOTksIDIxLCAxMzMsIDFdXG4gICwgbWlkbmlnaHRibHVlOiBbMjUsIDI1LCAxMTIsIDFdXG4gICwgbWludGNyZWFtOiBbMjQ1LCAyNTUsIDI1MCwgMV1cbiAgLCBtaXN0eXJvc2U6IFsyNTUsIDIyOCwgMjI1LCAxXVxuICAsIG1vY2Nhc2luOiBbMjU1LCAyMjgsIDE4MSwgMV1cbiAgLCBuYXZham93aGl0ZTogWzI1NSwgMjIyLCAxNzMsIDFdXG4gICwgbmF2eTogWzAsIDAsIDEyOCwgMV1cbiAgLCBvbGRsYWNlOiBbMjUzLCAyNDUsIDIzMCwgMV1cbiAgLCBvbGl2ZTogWzEyOCwgMTI4LCAwLCAxXVxuICAsIG9saXZlZHJhYjogWzEwNywgMTQyLCAzNSwgMV1cbiAgLCBvcmFuZ2U6IFsyNTUsIDE2NSwgMCwgMV1cbiAgLCBvcmFuZ2VyZWQ6IFsyNTUsIDY5LCAwLCAxXVxuICAsIG9yY2hpZDogWzIxOCwgMTEyLCAyMTQsIDFdXG4gICwgcGFsZWdvbGRlbnJvZDogWzIzOCwgMjMyLCAxNzAsIDFdXG4gICwgcGFsZWdyZWVuOiBbMTUyLCAyNTEsIDE1MiwgMV1cbiAgLCBwYWxldHVycXVvaXNlOiBbMTc1LCAyMzgsIDIzOCwgMV1cbiAgLCBwYWxldmlvbGV0cmVkOiBbMjE5LCAxMTIsIDE0NywgMV1cbiAgLCBwYXBheWF3aGlwOiBbMjU1LCAyMzksIDIxMywgMV1cbiAgLCBwZWFjaHB1ZmY6IFsyNTUsIDIxOCwgMTg1LCAxXVxuICAsIHBlcnU6IFsyMDUsIDEzMywgNjMsIDFdXG4gICwgcGluazogWzI1NSwgMTkyLCAyMDMsIDFdXG4gICwgcGx1bTogWzIyMSwgMTYwLCAyMjEsIDFdXG4gICwgcG93ZGVyYmx1ZTogWzE3NiwgMjI0LCAyMzAsIDFdXG4gICwgcHVycGxlOiBbMTI4LCAwLCAxMjgsIDFdXG4gICwgcmVkOiBbMjU1LCAwLCAwLCAxXVxuICAsIHJvc3licm93bjogWzE4OCwgMTQzLCAxNDMsIDFdXG4gICwgcm95YWxibHVlOiBbNjUsIDEwNSwgMjI1LCAxXVxuICAsIHNhZGRsZWJyb3duOiBbMTM5LCA2OSwgMTksIDFdXG4gICwgc2FsbW9uOiBbMjUwLCAxMjgsIDExNCwgMV1cbiAgLCBzYW5keWJyb3duOiBbMjQ0LCAxNjQsIDk2LCAxXVxuICAsIHNlYWdyZWVuOiBbNDYsIDEzOSwgODcsIDFdXG4gICwgc2Vhc2hlbGw6IFsyNTUsIDI0NSwgMjM4LCAxXVxuICAsIHNpZW5uYTogWzE2MCwgODIsIDQ1LCAxXVxuICAsIHNpbHZlcjogWzE5MiwgMTkyLCAxOTIsIDFdXG4gICwgc2t5Ymx1ZTogWzEzNSwgMjA2LCAyMzUsIDFdXG4gICwgc2xhdGVibHVlOiBbMTA2LCA5MCwgMjA1LCAxXVxuICAsIHNsYXRlZ3JheTogWzExMiwgMTI4LCAxNDQsIDFdXG4gICwgc2xhdGVncmV5OiBbMTEyLCAxMjgsIDE0NCwgMV1cbiAgLCBzbm93OiBbMjU1LCAyNTAsIDI1MCwgMV1cbiAgLCBzcHJpbmdncmVlbjogWzAsIDI1NSwgMTI3LCAxXVxuICAsIHN0ZWVsYmx1ZTogWzcwLCAxMzAsIDE4MCwgMV1cbiAgLCB0YW46IFsyMTAsIDE4MCwgMTQwLCAxXVxuICAsIHRlYWw6IFswLCAxMjgsIDEyOCwgMV1cbiAgLCB0aGlzdGxlOiBbMjE2LCAxOTEsIDIxNiwgMV1cbiAgLCB0b21hdG86IFsyNTUsIDk5LCA3MSwgMV1cbiAgLCB0cmFuc3BhcmVudDogWzAsIDAsIDAsIDBdXG4gICwgdHVycXVvaXNlOiBbNjQsIDIyNCwgMjA4LCAxXVxuICAsIHZpb2xldDogWzIzOCwgMTMwLCAyMzgsIDFdXG4gICwgd2hlYXQ6IFsyNDUsIDIyMiwgMTc5LCAxXVxuICAsIHdoaXRlOiBbMjU1LCAyNTUsIDI1NSwgMV1cbiAgLCB3aGl0ZXNtb2tlOiBbMjQ1LCAyNDUsIDI0NSwgMV1cbiAgLCB5ZWxsb3c6IFsyNTUsIDI1NSwgMCwgMV1cbiAgLCB5ZWxsb3dncmVlbjogWzE1NCwgMjA1LCA1MCwgMV1cbiAgLCByZWJlY2NhcHVycGxlOiBbMTAyLCA1MSwgMTUzLCAxXVxufTtcbiIsCiAgIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigtPyg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ3dlZWtzJzpcbiAgICBjYXNlICd3ZWVrJzpcbiAgICBjYXNlICd3JzpcbiAgICAgIHJldHVybiBuICogdztcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgZCwgJ2RheScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIHMsICdzZWNvbmQnKTtcbiAgfVxuICByZXR1cm4gbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gIHZhciBpc1BsdXJhbCA9IG1zQWJzID49IG4gKiAxLjU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpO1xufVxuIiwKICAiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKi9cblxuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG5cdGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmRlZmF1bHQgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuY29lcmNlID0gY29lcmNlO1xuXHRjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlID0gZW5hYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGVkID0gZW5hYmxlZDtcblx0Y3JlYXRlRGVidWcuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXHRjcmVhdGVEZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcblxuXHRPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goa2V5ID0+IHtcblx0XHRjcmVhdGVEZWJ1Z1trZXldID0gZW52W2tleV07XG5cdH0pO1xuXG5cdC8qKlxuXHQqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuXHQqL1xuXG5cdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0LyoqXG5cdCogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuXHQqXG5cdCogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuXHQqL1xuXHRjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG5cblx0LyoqXG5cdCogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG5cdCogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuXHRcdGxldCBoYXNoID0gMDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcblx0XHRcdGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuXHR9XG5cdGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG5cblx0LyoqXG5cdCogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQHJldHVybiB7RnVuY3Rpb259XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cdFx0bGV0IHByZXZUaW1lO1xuXHRcdGxldCBlbmFibGVPdmVycmlkZSA9IG51bGw7XG5cdFx0bGV0IG5hbWVzcGFjZXNDYWNoZTtcblx0XHRsZXQgZW5hYmxlZENhY2hlO1xuXG5cdFx0ZnVuY3Rpb24gZGVidWcoLi4uYXJncykge1xuXHRcdFx0Ly8gRGlzYWJsZWQ/XG5cdFx0XHRpZiAoIWRlYnVnLmVuYWJsZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzZWxmID0gZGVidWc7XG5cblx0XHRcdC8vIFNldCBgZGlmZmAgdGltZXN0YW1wXG5cdFx0XHRjb25zdCBjdXJyID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuXHRcdFx0Y29uc3QgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuXHRcdFx0c2VsZi5kaWZmID0gbXM7XG5cdFx0XHRzZWxmLnByZXYgPSBwcmV2VGltZTtcblx0XHRcdHNlbGYuY3VyciA9IGN1cnI7XG5cdFx0XHRwcmV2VGltZSA9IGN1cnI7XG5cblx0XHRcdGFyZ3NbMF0gPSBjcmVhdGVEZWJ1Zy5jb2VyY2UoYXJnc1swXSk7XG5cblx0XHRcdGlmICh0eXBlb2YgYXJnc1swXSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0Ly8gQW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cblx0XHRcdFx0YXJncy51bnNoaWZ0KCclTycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuXHRcdFx0bGV0IGluZGV4ID0gMDtcblx0XHRcdGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCAobWF0Y2gsIGZvcm1hdCkgPT4ge1xuXHRcdFx0XHQvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG5cdFx0XHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0XHRcdHJldHVybiAnJSc7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0Y29uc3QgZm9ybWF0dGVyID0gY3JlYXRlRGVidWcuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXHRcdFx0XHRpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGNvbnN0IHZhbCA9IGFyZ3NbaW5kZXhdO1xuXHRcdFx0XHRcdG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuXHRcdFx0XHRcdC8vIE5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcblx0XHRcdFx0XHRhcmdzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdFx0aW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcblx0XHRcdGNyZWF0ZURlYnVnLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcblxuXHRcdFx0Y29uc3QgbG9nRm4gPSBzZWxmLmxvZyB8fCBjcmVhdGVEZWJ1Zy5sb2c7XG5cdFx0XHRsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcblx0XHR9XG5cblx0XHRkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG5cdFx0ZGVidWcudXNlQ29sb3JzID0gY3JlYXRlRGVidWcudXNlQ29sb3JzKCk7XG5cdFx0ZGVidWcuY29sb3IgPSBjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXHRcdGRlYnVnLmV4dGVuZCA9IGV4dGVuZDtcblx0XHRkZWJ1Zy5kZXN0cm95ID0gY3JlYXRlRGVidWcuZGVzdHJveTsgLy8gWFhYIFRlbXBvcmFyeS4gV2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVidWcsICdlbmFibGVkJywge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRnZXQ6ICgpID0+IHtcblx0XHRcdFx0aWYgKGVuYWJsZU92ZXJyaWRlICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVuYWJsZU92ZXJyaWRlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChuYW1lc3BhY2VzQ2FjaGUgIT09IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMpIHtcblx0XHRcdFx0XHRuYW1lc3BhY2VzQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzO1xuXHRcdFx0XHRcdGVuYWJsZWRDYWNoZSA9IGNyZWF0ZURlYnVnLmVuYWJsZWQobmFtZXNwYWNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbmFibGVkQ2FjaGU7XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiB2ID0+IHtcblx0XHRcdFx0ZW5hYmxlT3ZlcnJpZGUgPSB2O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gRW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcblx0XHRpZiAodHlwZW9mIGNyZWF0ZURlYnVnLmluaXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNyZWF0ZURlYnVnLmluaXQoZGVidWcpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWJ1Zztcblx0fVxuXG5cdGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuXHRcdGNvbnN0IG5ld0RlYnVnID0gY3JlYXRlRGVidWcodGhpcy5uYW1lc3BhY2UgKyAodHlwZW9mIGRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnOicgOiBkZWxpbWl0ZXIpICsgbmFtZXNwYWNlKTtcblx0XHRuZXdEZWJ1Zy5sb2cgPSB0aGlzLmxvZztcblx0XHRyZXR1cm4gbmV3RGVidWc7XG5cdH1cblxuXHQvKipcblx0KiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG5cdCogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcblx0XHRjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpO1xuXHRcdGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMgPSBuYW1lc3BhY2VzO1xuXG5cdFx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0XHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdFx0bGV0IGk7XG5cdFx0Y29uc3Qgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuXHRcdGNvbnN0IGxlbiA9IHNwbGl0Lmxlbmd0aDtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKCFzcGxpdFtpXSkge1xuXHRcdFx0XHQvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bmFtZXNwYWNlcyA9IHNwbGl0W2ldLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG5cblx0XHRcdGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc2xpY2UoMSkgKyAnJCcpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG5cdCpcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBkaXNhYmxlKCkge1xuXHRcdGNvbnN0IG5hbWVzcGFjZXMgPSBbXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5uYW1lcy5tYXAodG9OYW1lc3BhY2UpLFxuXHRcdFx0Li4uY3JlYXRlRGVidWcuc2tpcHMubWFwKHRvTmFtZXNwYWNlKS5tYXAobmFtZXNwYWNlID0+ICctJyArIG5hbWVzcGFjZSlcblx0XHRdLmpvaW4oJywnKTtcblx0XHRjcmVhdGVEZWJ1Zy5lbmFibGUoJycpO1xuXHRcdHJldHVybiBuYW1lc3BhY2VzO1xuXHR9XG5cblx0LyoqXG5cdCogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVcblx0KiBAcmV0dXJuIHtCb29sZWFufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuXHRcdGlmIChuYW1lW25hbWUubGVuZ3RoIC0gMV0gPT09ICcqJykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0bGV0IGk7XG5cdFx0bGV0IGxlbjtcblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoY3JlYXRlRGVidWcuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChjcmVhdGVEZWJ1Zy5uYW1lc1tpXS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQqIENvbnZlcnQgcmVnZXhwIHRvIG5hbWVzcGFjZVxuXHQqXG5cdCogQHBhcmFtIHtSZWdFeHB9IHJlZ3hlcFxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHRvTmFtZXNwYWNlKHJlZ2V4cCkge1xuXHRcdHJldHVybiByZWdleHAudG9TdHJpbmcoKVxuXHRcdFx0LnN1YnN0cmluZygyLCByZWdleHAudG9TdHJpbmcoKS5sZW5ndGggLSAyKVxuXHRcdFx0LnJlcGxhY2UoL1xcLlxcKlxcPyQvLCAnKicpO1xuXHR9XG5cblx0LyoqXG5cdCogQ29lcmNlIGB2YWxgLlxuXHQqXG5cdCogQHBhcmFtIHtNaXhlZH0gdmFsXG5cdCogQHJldHVybiB7TWl4ZWR9XG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcblx0XHRpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG5cdFx0fVxuXHRcdHJldHVybiB2YWw7XG5cdH1cblxuXHQvKipcblx0KiBYWFggRE8gTk9UIFVTRS4gVGhpcyBpcyBhIHRlbXBvcmFyeSBzdHViIGZ1bmN0aW9uLlxuXHQqIFhYWCBJdCBXSUxMIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblx0Ki9cblx0ZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0XHRjb25zb2xlLndhcm4oJ0luc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC4nKTtcblx0fVxuXG5cdGNyZWF0ZURlYnVnLmVuYWJsZShjcmVhdGVEZWJ1Zy5sb2FkKCkpO1xuXG5cdHJldHVybiBjcmVhdGVEZWJ1Zztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXR1cDtcbiIsCiAgIi8qIGVzbGludC1lbnYgYnJvd3NlciAqL1xuXG4vKipcbiAqIFRoaXMgaXMgdGhlIHdlYiBicm93c2VyIGltcGxlbWVudGF0aW9uIG9mIGBkZWJ1ZygpYC5cbiAqL1xuXG5leHBvcnRzLmZvcm1hdEFyZ3MgPSBmb3JtYXRBcmdzO1xuZXhwb3J0cy5zYXZlID0gc2F2ZTtcbmV4cG9ydHMubG9hZCA9IGxvYWQ7XG5leHBvcnRzLnVzZUNvbG9ycyA9IHVzZUNvbG9ycztcbmV4cG9ydHMuc3RvcmFnZSA9IGxvY2Fsc3RvcmFnZSgpO1xuZXhwb3J0cy5kZXN0cm95ID0gKCgpID0+IHtcblx0bGV0IHdhcm5lZCA9IGZhbHNlO1xuXG5cdHJldHVybiAoKSA9PiB7XG5cdFx0aWYgKCF3YXJuZWQpIHtcblx0XHRcdHdhcm5lZCA9IHRydWU7XG5cdFx0XHRjb25zb2xlLndhcm4oJ0luc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC4nKTtcblx0XHR9XG5cdH07XG59KSgpO1xuXG4vKipcbiAqIENvbG9ycy5cbiAqL1xuXG5leHBvcnRzLmNvbG9ycyA9IFtcblx0JyMwMDAwQ0MnLFxuXHQnIzAwMDBGRicsXG5cdCcjMDAzM0NDJyxcblx0JyMwMDMzRkYnLFxuXHQnIzAwNjZDQycsXG5cdCcjMDA2NkZGJyxcblx0JyMwMDk5Q0MnLFxuXHQnIzAwOTlGRicsXG5cdCcjMDBDQzAwJyxcblx0JyMwMENDMzMnLFxuXHQnIzAwQ0M2NicsXG5cdCcjMDBDQzk5Jyxcblx0JyMwMENDQ0MnLFxuXHQnIzAwQ0NGRicsXG5cdCcjMzMwMENDJyxcblx0JyMzMzAwRkYnLFxuXHQnIzMzMzNDQycsXG5cdCcjMzMzM0ZGJyxcblx0JyMzMzY2Q0MnLFxuXHQnIzMzNjZGRicsXG5cdCcjMzM5OUNDJyxcblx0JyMzMzk5RkYnLFxuXHQnIzMzQ0MwMCcsXG5cdCcjMzNDQzMzJyxcblx0JyMzM0NDNjYnLFxuXHQnIzMzQ0M5OScsXG5cdCcjMzNDQ0NDJyxcblx0JyMzM0NDRkYnLFxuXHQnIzY2MDBDQycsXG5cdCcjNjYwMEZGJyxcblx0JyM2NjMzQ0MnLFxuXHQnIzY2MzNGRicsXG5cdCcjNjZDQzAwJyxcblx0JyM2NkNDMzMnLFxuXHQnIzk5MDBDQycsXG5cdCcjOTkwMEZGJyxcblx0JyM5OTMzQ0MnLFxuXHQnIzk5MzNGRicsXG5cdCcjOTlDQzAwJyxcblx0JyM5OUNDMzMnLFxuXHQnI0NDMDAwMCcsXG5cdCcjQ0MwMDMzJyxcblx0JyNDQzAwNjYnLFxuXHQnI0NDMDA5OScsXG5cdCcjQ0MwMENDJyxcblx0JyNDQzAwRkYnLFxuXHQnI0NDMzMwMCcsXG5cdCcjQ0MzMzMzJyxcblx0JyNDQzMzNjYnLFxuXHQnI0NDMzM5OScsXG5cdCcjQ0MzM0NDJyxcblx0JyNDQzMzRkYnLFxuXHQnI0NDNjYwMCcsXG5cdCcjQ0M2NjMzJyxcblx0JyNDQzk5MDAnLFxuXHQnI0NDOTkzMycsXG5cdCcjQ0NDQzAwJyxcblx0JyNDQ0NDMzMnLFxuXHQnI0ZGMDAwMCcsXG5cdCcjRkYwMDMzJyxcblx0JyNGRjAwNjYnLFxuXHQnI0ZGMDA5OScsXG5cdCcjRkYwMENDJyxcblx0JyNGRjAwRkYnLFxuXHQnI0ZGMzMwMCcsXG5cdCcjRkYzMzMzJyxcblx0JyNGRjMzNjYnLFxuXHQnI0ZGMzM5OScsXG5cdCcjRkYzM0NDJyxcblx0JyNGRjMzRkYnLFxuXHQnI0ZGNjYwMCcsXG5cdCcjRkY2NjMzJyxcblx0JyNGRjk5MDAnLFxuXHQnI0ZGOTkzMycsXG5cdCcjRkZDQzAwJyxcblx0JyNGRkNDMzMnXG5dO1xuXG4vKipcbiAqIEN1cnJlbnRseSBvbmx5IFdlYktpdC1iYXNlZCBXZWIgSW5zcGVjdG9ycywgRmlyZWZveCA+PSB2MzEsXG4gKiBhbmQgdGhlIEZpcmVidWcgZXh0ZW5zaW9uIChhbnkgRmlyZWZveCB2ZXJzaW9uKSBhcmUga25vd25cbiAqIHRvIHN1cHBvcnQgXCIlY1wiIENTUyBjdXN0b21pemF0aW9ucy5cbiAqXG4gKiBUT0RPOiBhZGQgYSBgbG9jYWxTdG9yYWdlYCB2YXJpYWJsZSB0byBleHBsaWNpdGx5IGVuYWJsZS9kaXNhYmxlIGNvbG9yc1xuICovXG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiB1c2VDb2xvcnMoKSB7XG5cdC8vIE5COiBJbiBhbiBFbGVjdHJvbiBwcmVsb2FkIHNjcmlwdCwgZG9jdW1lbnQgd2lsbCBiZSBkZWZpbmVkIGJ1dCBub3QgZnVsbHlcblx0Ly8gaW5pdGlhbGl6ZWQuIFNpbmNlIHdlIGtub3cgd2UncmUgaW4gQ2hyb21lLCB3ZSdsbCBqdXN0IGRldGVjdCB0aGlzIGNhc2Vcblx0Ly8gZXhwbGljaXRseVxuXHRpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnByb2Nlc3MgJiYgKHdpbmRvdy5wcm9jZXNzLnR5cGUgPT09ICdyZW5kZXJlcicgfHwgd2luZG93LnByb2Nlc3MuX19ud2pzKSkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gSW50ZXJuZXQgRXhwbG9yZXIgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQgY29sb3JzLlxuXHRpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goLyhlZGdlfHRyaWRlbnQpXFwvKFxcZCspLykpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHQvLyBJcyB3ZWJraXQ/IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzE2NDU5NjA2LzM3Njc3M1xuXHQvLyBkb2N1bWVudCBpcyB1bmRlZmluZWQgaW4gcmVhY3QtbmF0aXZlOiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QtbmF0aXZlL3B1bGwvMTYzMlxuXHRyZXR1cm4gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuV2Via2l0QXBwZWFyYW5jZSkgfHxcblx0XHQvLyBJcyBmaXJlYnVnPyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zOTgxMjAvMzc2NzczXG5cdFx0KHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5jb25zb2xlICYmICh3aW5kb3cuY29uc29sZS5maXJlYnVnIHx8ICh3aW5kb3cuY29uc29sZS5leGNlcHRpb24gJiYgd2luZG93LmNvbnNvbGUudGFibGUpKSkgfHxcblx0XHQvLyBJcyBmaXJlZm94ID49IHYzMT9cblx0XHQvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL1dlYl9Db25zb2xlI1N0eWxpbmdfbWVzc2FnZXNcblx0XHQodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkubWF0Y2goL2ZpcmVmb3hcXC8oXFxkKykvKSAmJiBwYXJzZUludChSZWdFeHAuJDEsIDEwKSA+PSAzMSkgfHxcblx0XHQvLyBEb3VibGUgY2hlY2sgd2Via2l0IGluIHVzZXJBZ2VudCBqdXN0IGluIGNhc2Ugd2UgYXJlIGluIGEgd29ya2VyXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9hcHBsZXdlYmtpdFxcLyhcXGQrKS8pKTtcbn1cblxuLyoqXG4gKiBDb2xvcml6ZSBsb2cgYXJndW1lbnRzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcblx0YXJnc1swXSA9ICh0aGlzLnVzZUNvbG9ycyA/ICclYycgOiAnJykgK1xuXHRcdHRoaXMubmFtZXNwYWNlICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnICVjJyA6ICcgJykgK1xuXHRcdGFyZ3NbMF0gK1xuXHRcdCh0aGlzLnVzZUNvbG9ycyA/ICclYyAnIDogJyAnKSArXG5cdFx0JysnICsgbW9kdWxlLmV4cG9ydHMuaHVtYW5pemUodGhpcy5kaWZmKTtcblxuXHRpZiAoIXRoaXMudXNlQ29sb3JzKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0Y29uc3QgYyA9ICdjb2xvcjogJyArIHRoaXMuY29sb3I7XG5cdGFyZ3Muc3BsaWNlKDEsIDAsIGMsICdjb2xvcjogaW5oZXJpdCcpO1xuXG5cdC8vIFRoZSBmaW5hbCBcIiVjXCIgaXMgc29tZXdoYXQgdHJpY2t5LCBiZWNhdXNlIHRoZXJlIGNvdWxkIGJlIG90aGVyXG5cdC8vIGFyZ3VtZW50cyBwYXNzZWQgZWl0aGVyIGJlZm9yZSBvciBhZnRlciB0aGUgJWMsIHNvIHdlIG5lZWQgdG9cblx0Ly8gZmlndXJlIG91dCB0aGUgY29ycmVjdCBpbmRleCB0byBpbnNlcnQgdGhlIENTUyBpbnRvXG5cdGxldCBpbmRleCA9IDA7XG5cdGxldCBsYXN0QyA9IDA7XG5cdGFyZ3NbMF0ucmVwbGFjZSgvJVthLXpBLVolXS9nLCBtYXRjaCA9PiB7XG5cdFx0aWYgKG1hdGNoID09PSAnJSUnKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGluZGV4Kys7XG5cdFx0aWYgKG1hdGNoID09PSAnJWMnKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGFyZSBpbnRlcmVzdGVkIGluIHRoZSAqbGFzdCogJWNcblx0XHRcdC8vICh0aGUgdXNlciBtYXkgaGF2ZSBwcm92aWRlZCB0aGVpciBvd24pXG5cdFx0XHRsYXN0QyA9IGluZGV4O1xuXHRcdH1cblx0fSk7XG5cblx0YXJncy5zcGxpY2UobGFzdEMsIDAsIGMpO1xufVxuXG4vKipcbiAqIEludm9rZXMgYGNvbnNvbGUuZGVidWcoKWAgd2hlbiBhdmFpbGFibGUuXG4gKiBOby1vcCB3aGVuIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgYSBcImZ1bmN0aW9uXCIuXG4gKiBJZiBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGF2YWlsYWJsZSwgZmFsbHMgYmFja1xuICogdG8gYGNvbnNvbGUubG9nYC5cbiAqXG4gKiBAYXBpIHB1YmxpY1xuICovXG5leHBvcnRzLmxvZyA9IGNvbnNvbGUuZGVidWcgfHwgY29uc29sZS5sb2cgfHwgKCgpID0+IHt9KTtcblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuXHR0cnkge1xuXHRcdGlmIChuYW1lc3BhY2VzKSB7XG5cdFx0XHRleHBvcnRzLnN0b3JhZ2Uuc2V0SXRlbSgnZGVidWcnLCBuYW1lc3BhY2VzKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnJlbW92ZUl0ZW0oJ2RlYnVnJyk7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBsb2FkKCkge1xuXHRsZXQgcjtcblx0dHJ5IHtcblx0XHRyID0gZXhwb3J0cy5zdG9yYWdlLmdldEl0ZW0oJ2RlYnVnJyk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG5cblx0Ly8gSWYgZGVidWcgaXNuJ3Qgc2V0IGluIExTLCBhbmQgd2UncmUgaW4gRWxlY3Ryb24sIHRyeSB0byBsb2FkICRERUJVR1xuXHRpZiAoIXIgJiYgdHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICdlbnYnIGluIHByb2Nlc3MpIHtcblx0XHRyID0gcHJvY2Vzcy5lbnYuREVCVUc7XG5cdH1cblxuXHRyZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBMb2NhbHN0b3JhZ2UgYXR0ZW1wdHMgdG8gcmV0dXJuIHRoZSBsb2NhbHN0b3JhZ2UuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgYmVjYXVzZSBzYWZhcmkgdGhyb3dzXG4gKiB3aGVuIGEgdXNlciBkaXNhYmxlcyBjb29raWVzL2xvY2Fsc3RvcmFnZVxuICogYW5kIHlvdSBhdHRlbXB0IHRvIGFjY2VzcyBpdC5cbiAqXG4gKiBAcmV0dXJuIHtMb2NhbFN0b3JhZ2V9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBsb2NhbHN0b3JhZ2UoKSB7XG5cdHRyeSB7XG5cdFx0Ly8gVFZNTEtpdCAoQXBwbGUgVFYgSlMgUnVudGltZSkgZG9lcyBub3QgaGF2ZSBhIHdpbmRvdyBvYmplY3QsIGp1c3QgbG9jYWxTdG9yYWdlIGluIHRoZSBnbG9iYWwgY29udGV4dFxuXHRcdC8vIFRoZSBCcm93c2VyIGFsc28gaGFzIGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHQuXG5cdFx0cmV0dXJuIGxvY2FsU3RvcmFnZTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvbW1vbicpKGV4cG9ydHMpO1xuXG5jb25zdCB7Zm9ybWF0dGVyc30gPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqXG4gKiBNYXAgJWogdG8gYEpTT04uc3RyaW5naWZ5KClgLCBzaW5jZSBubyBXZWIgSW5zcGVjdG9ycyBkbyB0aGF0IGJ5IGRlZmF1bHQuXG4gKi9cblxuZm9ybWF0dGVycy5qID0gZnVuY3Rpb24gKHYpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkodik7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuICdbVW5leHBlY3RlZEpTT05QYXJzZUVycm9yXTogJyArIGVycm9yLm1lc3NhZ2U7XG5cdH1cbn07XG4iLAogICIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gKGZsYWcsIGFyZ3YgPSBwcm9jZXNzLmFyZ3YpID0+IHtcblx0Y29uc3QgcHJlZml4ID0gZmxhZy5zdGFydHNXaXRoKCctJykgPyAnJyA6IChmbGFnLmxlbmd0aCA9PT0gMSA/ICctJyA6ICctLScpO1xuXHRjb25zdCBwb3NpdGlvbiA9IGFyZ3YuaW5kZXhPZihwcmVmaXggKyBmbGFnKTtcblx0Y29uc3QgdGVybWluYXRvclBvc2l0aW9uID0gYXJndi5pbmRleE9mKCctLScpO1xuXHRyZXR1cm4gcG9zaXRpb24gIT09IC0xICYmICh0ZXJtaW5hdG9yUG9zaXRpb24gPT09IC0xIHx8IHBvc2l0aW9uIDwgdGVybWluYXRvclBvc2l0aW9uKTtcbn07XG4iLAogICIndXNlIHN0cmljdCc7XG5jb25zdCBvcyA9IHJlcXVpcmUoJ29zJyk7XG5jb25zdCB0dHkgPSByZXF1aXJlKCd0dHknKTtcbmNvbnN0IGhhc0ZsYWcgPSByZXF1aXJlKCdoYXMtZmxhZycpO1xuXG5jb25zdCB7ZW52fSA9IHByb2Nlc3M7XG5cbmxldCBmbGFnRm9yY2VDb2xvcjtcbmlmIChoYXNGbGFnKCduby1jb2xvcicpIHx8XG5cdGhhc0ZsYWcoJ25vLWNvbG9ycycpIHx8XG5cdGhhc0ZsYWcoJ2NvbG9yPWZhbHNlJykgfHxcblx0aGFzRmxhZygnY29sb3I9bmV2ZXInKSkge1xuXHRmbGFnRm9yY2VDb2xvciA9IDA7XG59IGVsc2UgaWYgKGhhc0ZsYWcoJ2NvbG9yJykgfHxcblx0aGFzRmxhZygnY29sb3JzJykgfHxcblx0aGFzRmxhZygnY29sb3I9dHJ1ZScpIHx8XG5cdGhhc0ZsYWcoJ2NvbG9yPWFsd2F5cycpKSB7XG5cdGZsYWdGb3JjZUNvbG9yID0gMTtcbn1cblxuZnVuY3Rpb24gZW52Rm9yY2VDb2xvcigpIHtcblx0aWYgKCdGT1JDRV9DT0xPUicgaW4gZW52KSB7XG5cdFx0aWYgKGVudi5GT1JDRV9DT0xPUiA9PT0gJ3RydWUnKSB7XG5cdFx0XHRyZXR1cm4gMTtcblx0XHR9XG5cblx0XHRpZiAoZW52LkZPUkNFX0NPTE9SID09PSAnZmFsc2UnKSB7XG5cdFx0XHRyZXR1cm4gMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gZW52LkZPUkNFX0NPTE9SLmxlbmd0aCA9PT0gMCA/IDEgOiBNYXRoLm1pbihOdW1iZXIucGFyc2VJbnQoZW52LkZPUkNFX0NPTE9SLCAxMCksIDMpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZUxldmVsKGxldmVsKSB7XG5cdGlmIChsZXZlbCA9PT0gMCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0bGV2ZWwsXG5cdFx0aGFzQmFzaWM6IHRydWUsXG5cdFx0aGFzMjU2OiBsZXZlbCA+PSAyLFxuXHRcdGhhczE2bTogbGV2ZWwgPj0gM1xuXHR9O1xufVxuXG5mdW5jdGlvbiBzdXBwb3J0c0NvbG9yKGhhdmVTdHJlYW0sIHtzdHJlYW1Jc1RUWSwgc25pZmZGbGFncyA9IHRydWV9ID0ge30pIHtcblx0Y29uc3Qgbm9GbGFnRm9yY2VDb2xvciA9IGVudkZvcmNlQ29sb3IoKTtcblx0aWYgKG5vRmxhZ0ZvcmNlQ29sb3IgIT09IHVuZGVmaW5lZCkge1xuXHRcdGZsYWdGb3JjZUNvbG9yID0gbm9GbGFnRm9yY2VDb2xvcjtcblx0fVxuXG5cdGNvbnN0IGZvcmNlQ29sb3IgPSBzbmlmZkZsYWdzID8gZmxhZ0ZvcmNlQ29sb3IgOiBub0ZsYWdGb3JjZUNvbG9yO1xuXG5cdGlmIChmb3JjZUNvbG9yID09PSAwKSB7XG5cdFx0cmV0dXJuIDA7XG5cdH1cblxuXHRpZiAoc25pZmZGbGFncykge1xuXHRcdGlmIChoYXNGbGFnKCdjb2xvcj0xNm0nKSB8fFxuXHRcdFx0aGFzRmxhZygnY29sb3I9ZnVsbCcpIHx8XG5cdFx0XHRoYXNGbGFnKCdjb2xvcj10cnVlY29sb3InKSkge1xuXHRcdFx0cmV0dXJuIDM7XG5cdFx0fVxuXG5cdFx0aWYgKGhhc0ZsYWcoJ2NvbG9yPTI1NicpKSB7XG5cdFx0XHRyZXR1cm4gMjtcblx0XHR9XG5cdH1cblxuXHRpZiAoaGF2ZVN0cmVhbSAmJiAhc3RyZWFtSXNUVFkgJiYgZm9yY2VDb2xvciA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIDA7XG5cdH1cblxuXHRjb25zdCBtaW4gPSBmb3JjZUNvbG9yIHx8IDA7XG5cblx0aWYgKGVudi5URVJNID09PSAnZHVtYicpIHtcblx0XHRyZXR1cm4gbWluO1xuXHR9XG5cblx0aWYgKHByb2Nlc3MucGxhdGZvcm0gPT09ICd3aW4zMicpIHtcblx0XHQvLyBXaW5kb3dzIDEwIGJ1aWxkIDEwNTg2IGlzIHRoZSBmaXJzdCBXaW5kb3dzIHJlbGVhc2UgdGhhdCBzdXBwb3J0cyAyNTYgY29sb3JzLlxuXHRcdC8vIFdpbmRvd3MgMTAgYnVpbGQgMTQ5MzEgaXMgdGhlIGZpcnN0IHJlbGVhc2UgdGhhdCBzdXBwb3J0cyAxNm0vVHJ1ZUNvbG9yLlxuXHRcdGNvbnN0IG9zUmVsZWFzZSA9IG9zLnJlbGVhc2UoKS5zcGxpdCgnLicpO1xuXHRcdGlmIChcblx0XHRcdE51bWJlcihvc1JlbGVhc2VbMF0pID49IDEwICYmXG5cdFx0XHROdW1iZXIob3NSZWxlYXNlWzJdKSA+PSAxMDU4NlxuXHRcdCkge1xuXHRcdFx0cmV0dXJuIE51bWJlcihvc1JlbGVhc2VbMl0pID49IDE0OTMxID8gMyA6IDI7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIDE7XG5cdH1cblxuXHRpZiAoJ0NJJyBpbiBlbnYpIHtcblx0XHRpZiAoWydUUkFWSVMnLCAnQ0lSQ0xFQ0knLCAnQVBQVkVZT1InLCAnR0lUTEFCX0NJJywgJ0dJVEhVQl9BQ1RJT05TJywgJ0JVSUxES0lURScsICdEUk9ORSddLnNvbWUoc2lnbiA9PiBzaWduIGluIGVudikgfHwgZW52LkNJX05BTUUgPT09ICdjb2Rlc2hpcCcpIHtcblx0XHRcdHJldHVybiAxO1xuXHRcdH1cblxuXHRcdHJldHVybiBtaW47XG5cdH1cblxuXHRpZiAoJ1RFQU1DSVRZX1ZFUlNJT04nIGluIGVudikge1xuXHRcdHJldHVybiAvXig5XFwuKDAqWzEtOV1cXGQqKVxcLnxcXGR7Mix9XFwuKS8udGVzdChlbnYuVEVBTUNJVFlfVkVSU0lPTikgPyAxIDogMDtcblx0fVxuXG5cdGlmIChlbnYuQ09MT1JURVJNID09PSAndHJ1ZWNvbG9yJykge1xuXHRcdHJldHVybiAzO1xuXHR9XG5cblx0aWYgKCdURVJNX1BST0dSQU0nIGluIGVudikge1xuXHRcdGNvbnN0IHZlcnNpb24gPSBOdW1iZXIucGFyc2VJbnQoKGVudi5URVJNX1BST0dSQU1fVkVSU0lPTiB8fCAnJykuc3BsaXQoJy4nKVswXSwgMTApO1xuXG5cdFx0c3dpdGNoIChlbnYuVEVSTV9QUk9HUkFNKSB7XG5cdFx0XHRjYXNlICdpVGVybS5hcHAnOlxuXHRcdFx0XHRyZXR1cm4gdmVyc2lvbiA+PSAzID8gMyA6IDI7XG5cdFx0XHRjYXNlICdBcHBsZV9UZXJtaW5hbCc6XG5cdFx0XHRcdHJldHVybiAyO1xuXHRcdFx0Ly8gTm8gZGVmYXVsdFxuXHRcdH1cblx0fVxuXG5cdGlmICgvLTI1Nihjb2xvcik/JC9pLnRlc3QoZW52LlRFUk0pKSB7XG5cdFx0cmV0dXJuIDI7XG5cdH1cblxuXHRpZiAoL15zY3JlZW58Xnh0ZXJtfF52dDEwMHxednQyMjB8XnJ4dnR8Y29sb3J8YW5zaXxjeWd3aW58bGludXgvaS50ZXN0KGVudi5URVJNKSkge1xuXHRcdHJldHVybiAxO1xuXHR9XG5cblx0aWYgKCdDT0xPUlRFUk0nIGluIGVudikge1xuXHRcdHJldHVybiAxO1xuXHR9XG5cblx0cmV0dXJuIG1pbjtcbn1cblxuZnVuY3Rpb24gZ2V0U3VwcG9ydExldmVsKHN0cmVhbSwgb3B0aW9ucyA9IHt9KSB7XG5cdGNvbnN0IGxldmVsID0gc3VwcG9ydHNDb2xvcihzdHJlYW0sIHtcblx0XHRzdHJlYW1Jc1RUWTogc3RyZWFtICYmIHN0cmVhbS5pc1RUWSxcblx0XHQuLi5vcHRpb25zXG5cdH0pO1xuXG5cdHJldHVybiB0cmFuc2xhdGVMZXZlbChsZXZlbCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuXHRzdXBwb3J0c0NvbG9yOiBnZXRTdXBwb3J0TGV2ZWwsXG5cdHN0ZG91dDogZ2V0U3VwcG9ydExldmVsKHtpc1RUWTogdHR5LmlzYXR0eSgxKX0pLFxuXHRzdGRlcnI6IGdldFN1cHBvcnRMZXZlbCh7aXNUVFk6IHR0eS5pc2F0dHkoMil9KVxufTtcbiIsCiAgIi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG5jb25zdCB0dHkgPSByZXF1aXJlKCd0dHknKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG5cbi8qKlxuICogVGhpcyBpcyB0aGUgTm9kZS5qcyBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKi9cblxuZXhwb3J0cy5pbml0ID0gaW5pdDtcbmV4cG9ydHMubG9nID0gbG9nO1xuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLmRlc3Ryb3kgPSB1dGlsLmRlcHJlY2F0ZShcblx0KCkgPT4ge30sXG5cdCdJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuJ1xuKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbNiwgMiwgMywgNCwgNSwgMV07XG5cbnRyeSB7XG5cdC8vIE9wdGlvbmFsIGRlcGVuZGVuY3kgKGFzIGluLCBkb2Vzbid0IG5lZWQgdG8gYmUgaW5zdGFsbGVkLCBOT1QgbGlrZSBvcHRpb25hbERlcGVuZGVuY2llcyBpbiBwYWNrYWdlLmpzb24pXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXNcblx0Y29uc3Qgc3VwcG9ydHNDb2xvciA9IHJlcXVpcmUoJ3N1cHBvcnRzLWNvbG9yJyk7XG5cblx0aWYgKHN1cHBvcnRzQ29sb3IgJiYgKHN1cHBvcnRzQ29sb3Iuc3RkZXJyIHx8IHN1cHBvcnRzQ29sb3IpLmxldmVsID49IDIpIHtcblx0XHRleHBvcnRzLmNvbG9ycyA9IFtcblx0XHRcdDIwLFxuXHRcdFx0MjEsXG5cdFx0XHQyNixcblx0XHRcdDI3LFxuXHRcdFx0MzIsXG5cdFx0XHQzMyxcblx0XHRcdDM4LFxuXHRcdFx0MzksXG5cdFx0XHQ0MCxcblx0XHRcdDQxLFxuXHRcdFx0NDIsXG5cdFx0XHQ0Myxcblx0XHRcdDQ0LFxuXHRcdFx0NDUsXG5cdFx0XHQ1Nixcblx0XHRcdDU3LFxuXHRcdFx0NjIsXG5cdFx0XHQ2Myxcblx0XHRcdDY4LFxuXHRcdFx0NjksXG5cdFx0XHQ3NCxcblx0XHRcdDc1LFxuXHRcdFx0NzYsXG5cdFx0XHQ3Nyxcblx0XHRcdDc4LFxuXHRcdFx0NzksXG5cdFx0XHQ4MCxcblx0XHRcdDgxLFxuXHRcdFx0OTIsXG5cdFx0XHQ5Myxcblx0XHRcdDk4LFxuXHRcdFx0OTksXG5cdFx0XHQxMTIsXG5cdFx0XHQxMTMsXG5cdFx0XHQxMjgsXG5cdFx0XHQxMjksXG5cdFx0XHQxMzQsXG5cdFx0XHQxMzUsXG5cdFx0XHQxNDgsXG5cdFx0XHQxNDksXG5cdFx0XHQxNjAsXG5cdFx0XHQxNjEsXG5cdFx0XHQxNjIsXG5cdFx0XHQxNjMsXG5cdFx0XHQxNjQsXG5cdFx0XHQxNjUsXG5cdFx0XHQxNjYsXG5cdFx0XHQxNjcsXG5cdFx0XHQxNjgsXG5cdFx0XHQxNjksXG5cdFx0XHQxNzAsXG5cdFx0XHQxNzEsXG5cdFx0XHQxNzIsXG5cdFx0XHQxNzMsXG5cdFx0XHQxNzgsXG5cdFx0XHQxNzksXG5cdFx0XHQxODQsXG5cdFx0XHQxODUsXG5cdFx0XHQxOTYsXG5cdFx0XHQxOTcsXG5cdFx0XHQxOTgsXG5cdFx0XHQxOTksXG5cdFx0XHQyMDAsXG5cdFx0XHQyMDEsXG5cdFx0XHQyMDIsXG5cdFx0XHQyMDMsXG5cdFx0XHQyMDQsXG5cdFx0XHQyMDUsXG5cdFx0XHQyMDYsXG5cdFx0XHQyMDcsXG5cdFx0XHQyMDgsXG5cdFx0XHQyMDksXG5cdFx0XHQyMTQsXG5cdFx0XHQyMTUsXG5cdFx0XHQyMjAsXG5cdFx0XHQyMjFcblx0XHRdO1xuXHR9XG59IGNhdGNoIChlcnJvcikge1xuXHQvLyBTd2FsbG93IC0gd2Ugb25seSBjYXJlIGlmIGBzdXBwb3J0cy1jb2xvcmAgaXMgYXZhaWxhYmxlOyBpdCBkb2Vzbid0IGhhdmUgdG8gYmUuXG59XG5cbi8qKlxuICogQnVpbGQgdXAgdGhlIGRlZmF1bHQgYGluc3BlY3RPcHRzYCBvYmplY3QgZnJvbSB0aGUgZW52aXJvbm1lbnQgdmFyaWFibGVzLlxuICpcbiAqICAgJCBERUJVR19DT0xPUlM9bm8gREVCVUdfREVQVEg9MTAgREVCVUdfU0hPV19ISURERU49ZW5hYmxlZCBub2RlIHNjcmlwdC5qc1xuICovXG5cbmV4cG9ydHMuaW5zcGVjdE9wdHMgPSBPYmplY3Qua2V5cyhwcm9jZXNzLmVudikuZmlsdGVyKGtleSA9PiB7XG5cdHJldHVybiAvXmRlYnVnXy9pLnRlc3Qoa2V5KTtcbn0pLnJlZHVjZSgob2JqLCBrZXkpID0+IHtcblx0Ly8gQ2FtZWwtY2FzZVxuXHRjb25zdCBwcm9wID0ga2V5XG5cdFx0LnN1YnN0cmluZyg2KVxuXHRcdC50b0xvd2VyQ2FzZSgpXG5cdFx0LnJlcGxhY2UoL18oW2Etel0pL2csIChfLCBrKSA9PiB7XG5cdFx0XHRyZXR1cm4gay50b1VwcGVyQ2FzZSgpO1xuXHRcdH0pO1xuXG5cdC8vIENvZXJjZSBzdHJpbmcgdmFsdWUgaW50byBKUyB2YWx1ZVxuXHRsZXQgdmFsID0gcHJvY2Vzcy5lbnZba2V5XTtcblx0aWYgKC9eKHllc3xvbnx0cnVlfGVuYWJsZWQpJC9pLnRlc3QodmFsKSkge1xuXHRcdHZhbCA9IHRydWU7XG5cdH0gZWxzZSBpZiAoL14obm98b2ZmfGZhbHNlfGRpc2FibGVkKSQvaS50ZXN0KHZhbCkpIHtcblx0XHR2YWwgPSBmYWxzZTtcblx0fSBlbHNlIGlmICh2YWwgPT09ICdudWxsJykge1xuXHRcdHZhbCA9IG51bGw7XG5cdH0gZWxzZSB7XG5cdFx0dmFsID0gTnVtYmVyKHZhbCk7XG5cdH1cblxuXHRvYmpbcHJvcF0gPSB2YWw7XG5cdHJldHVybiBvYmo7XG59LCB7fSk7XG5cbi8qKlxuICogSXMgc3Rkb3V0IGEgVFRZPyBDb2xvcmVkIG91dHB1dCBpcyBlbmFibGVkIHdoZW4gYHRydWVgLlxuICovXG5cbmZ1bmN0aW9uIHVzZUNvbG9ycygpIHtcblx0cmV0dXJuICdjb2xvcnMnIGluIGV4cG9ydHMuaW5zcGVjdE9wdHMgP1xuXHRcdEJvb2xlYW4oZXhwb3J0cy5pbnNwZWN0T3B0cy5jb2xvcnMpIDpcblx0XHR0dHkuaXNhdHR5KHByb2Nlc3Muc3RkZXJyLmZkKTtcbn1cblxuLyoqXG4gKiBBZGRzIEFOU0kgY29sb3IgZXNjYXBlIGNvZGVzIGlmIGVuYWJsZWQuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBmb3JtYXRBcmdzKGFyZ3MpIHtcblx0Y29uc3Qge25hbWVzcGFjZTogbmFtZSwgdXNlQ29sb3JzfSA9IHRoaXM7XG5cblx0aWYgKHVzZUNvbG9ycykge1xuXHRcdGNvbnN0IGMgPSB0aGlzLmNvbG9yO1xuXHRcdGNvbnN0IGNvbG9yQ29kZSA9ICdcXHUwMDFCWzMnICsgKGMgPCA4ID8gYyA6ICc4OzU7JyArIGMpO1xuXHRcdGNvbnN0IHByZWZpeCA9IGAgICR7Y29sb3JDb2RlfTsxbSR7bmFtZX0gXFx1MDAxQlswbWA7XG5cblx0XHRhcmdzWzBdID0gcHJlZml4ICsgYXJnc1swXS5zcGxpdCgnXFxuJykuam9pbignXFxuJyArIHByZWZpeCk7XG5cdFx0YXJncy5wdXNoKGNvbG9yQ29kZSArICdtKycgKyBtb2R1bGUuZXhwb3J0cy5odW1hbml6ZSh0aGlzLmRpZmYpICsgJ1xcdTAwMUJbMG0nKTtcblx0fSBlbHNlIHtcblx0XHRhcmdzWzBdID0gZ2V0RGF0ZSgpICsgbmFtZSArICcgJyArIGFyZ3NbMF07XG5cdH1cbn1cblxuZnVuY3Rpb24gZ2V0RGF0ZSgpIHtcblx0aWYgKGV4cG9ydHMuaW5zcGVjdE9wdHMuaGlkZURhdGUpIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cblx0cmV0dXJuIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSArICcgJztcbn1cblxuLyoqXG4gKiBJbnZva2VzIGB1dGlsLmZvcm1hdCgpYCB3aXRoIHRoZSBzcGVjaWZpZWQgYXJndW1lbnRzIGFuZCB3cml0ZXMgdG8gc3RkZXJyLlxuICovXG5cbmZ1bmN0aW9uIGxvZyguLi5hcmdzKSB7XG5cdHJldHVybiBwcm9jZXNzLnN0ZGVyci53cml0ZSh1dGlsLmZvcm1hdCguLi5hcmdzKSArICdcXG4nKTtcbn1cblxuLyoqXG4gKiBTYXZlIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlc1xuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHNhdmUobmFtZXNwYWNlcykge1xuXHRpZiAobmFtZXNwYWNlcykge1xuXHRcdHByb2Nlc3MuZW52LkRFQlVHID0gbmFtZXNwYWNlcztcblx0fSBlbHNlIHtcblx0XHQvLyBJZiB5b3Ugc2V0IGEgcHJvY2Vzcy5lbnYgZmllbGQgdG8gbnVsbCBvciB1bmRlZmluZWQsIGl0IGdldHMgY2FzdCB0byB0aGVcblx0XHQvLyBzdHJpbmcgJ251bGwnIG9yICd1bmRlZmluZWQnLiBKdXN0IGRlbGV0ZSBpbnN0ZWFkLlxuXHRcdGRlbGV0ZSBwcm9jZXNzLmVudi5ERUJVRztcblx0fVxufVxuXG4vKipcbiAqIExvYWQgYG5hbWVzcGFjZXNgLlxuICpcbiAqIEByZXR1cm4ge1N0cmluZ30gcmV0dXJucyB0aGUgcHJldmlvdXNseSBwZXJzaXN0ZWQgZGVidWcgbW9kZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGxvYWQoKSB7XG5cdHJldHVybiBwcm9jZXNzLmVudi5ERUJVRztcbn1cblxuLyoqXG4gKiBJbml0IGxvZ2ljIGZvciBgZGVidWdgIGluc3RhbmNlcy5cbiAqXG4gKiBDcmVhdGUgYSBuZXcgYGluc3BlY3RPcHRzYCBvYmplY3QgaW4gY2FzZSBgdXNlQ29sb3JzYCBpcyBzZXRcbiAqIGRpZmZlcmVudGx5IGZvciBhIHBhcnRpY3VsYXIgYGRlYnVnYCBpbnN0YW5jZS5cbiAqL1xuXG5mdW5jdGlvbiBpbml0KGRlYnVnKSB7XG5cdGRlYnVnLmluc3BlY3RPcHRzID0ge307XG5cblx0Y29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGV4cG9ydHMuaW5zcGVjdE9wdHMpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0XHRkZWJ1Zy5pbnNwZWN0T3B0c1trZXlzW2ldXSA9IGV4cG9ydHMuaW5zcGVjdE9wdHNba2V5c1tpXV07XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2NvbW1vbicpKGV4cG9ydHMpO1xuXG5jb25zdCB7Zm9ybWF0dGVyc30gPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqXG4gKiBNYXAgJW8gdG8gYHV0aWwuaW5zcGVjdCgpYCwgYWxsIG9uIGEgc2luZ2xlIGxpbmUuXG4gKi9cblxuZm9ybWF0dGVycy5vID0gZnVuY3Rpb24gKHYpIHtcblx0dGhpcy5pbnNwZWN0T3B0cy5jb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcblx0cmV0dXJuIHV0aWwuaW5zcGVjdCh2LCB0aGlzLmluc3BlY3RPcHRzKVxuXHRcdC5zcGxpdCgnXFxuJylcblx0XHQubWFwKHN0ciA9PiBzdHIudHJpbSgpKVxuXHRcdC5qb2luKCcgJyk7XG59O1xuXG4vKipcbiAqIE1hcCAlTyB0byBgdXRpbC5pbnNwZWN0KClgLCBhbGxvd2luZyBtdWx0aXBsZSBsaW5lcyBpZiBuZWVkZWQuXG4gKi9cblxuZm9ybWF0dGVycy5PID0gZnVuY3Rpb24gKHYpIHtcblx0dGhpcy5pbnNwZWN0T3B0cy5jb2xvcnMgPSB0aGlzLnVzZUNvbG9ycztcblx0cmV0dXJuIHV0aWwuaW5zcGVjdCh2LCB0aGlzLmluc3BlY3RPcHRzKTtcbn07XG4iLAogICIvKipcbiAqIERldGVjdCBFbGVjdHJvbiByZW5kZXJlciAvIG53anMgcHJvY2Vzcywgd2hpY2ggaXMgbm9kZSwgYnV0IHdlIHNob3VsZFxuICogdHJlYXQgYXMgYSBicm93c2VyLlxuICovXG5cbmlmICh0eXBlb2YgcHJvY2VzcyA9PT0gJ3VuZGVmaW5lZCcgfHwgcHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInIHx8IHByb2Nlc3MuYnJvd3NlciA9PT0gdHJ1ZSB8fCBwcm9jZXNzLl9fbndqcykge1xuXHRtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vYnJvd3Nlci5qcycpO1xufSBlbHNlIHtcblx0bW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL25vZGUuanMnKTtcbn1cbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBwbHVnaW4gLSB1cmxcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIENvbXBpbGVyID0gcmVxdWlyZSgnLi4vdmlzaXRvci9jb21waWxlcicpXG4gICwgZXZlbnRzID0gcmVxdWlyZSgnLi4vcmVuZGVyZXInKS5ldmVudHNcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4uL25vZGVzJylcbiAgLCBwYXJzZSA9IHJlcXVpcmUoJ3VybCcpLnBhcnNlXG4gICwgZXh0bmFtZSA9IHJlcXVpcmUoJ3BhdGgnKS5leHRuYW1lXG4gICwgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgZnMgPSByZXF1aXJlKCdmcycpO1xuXG4vKipcbiAqIE1pbWUgdGFibGUuXG4gKi9cblxudmFyIGRlZmF1bHRNaW1lcyA9IHtcbiAgICAnLmdpZic6ICdpbWFnZS9naWYnXG4gICwgJy5wbmcnOiAnaW1hZ2UvcG5nJ1xuICAsICcuanBnJzogJ2ltYWdlL2pwZWcnXG4gICwgJy5qcGVnJzogJ2ltYWdlL2pwZWcnXG4gICwgJy5zdmcnOiAnaW1hZ2Uvc3ZnK3htbCdcbiAgLCAnLndlYnAnOiAnaW1hZ2Uvd2VicCdcbiAgLCAnLnR0Zic6ICdhcHBsaWNhdGlvbi94LWZvbnQtdHRmJ1xuICAsICcuZW90JzogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1mb250b2JqZWN0J1xuICAsICcud29mZic6ICdhcHBsaWNhdGlvbi9mb250LXdvZmYnXG4gICwgJy53b2ZmMic6ICdhcHBsaWNhdGlvbi9mb250LXdvZmYyJ1xufTtcblxuLyoqXG4gKiBTdXBwb3J0ZWQgZW5jb2RpbmcgdHlwZXNcbiAqL1xudmFyIGVuY29kaW5nVHlwZXMgPSB7XG4gIEJBU0VfNjQ6ICdiYXNlNjQnLFxuICBVVEY4OiAnY2hhcnNldD11dGYtOCdcbn1cblxuLyoqXG4gKiBSZXR1cm4gYSB1cmwoKSBmdW5jdGlvbiB3aXRoIHRoZSBnaXZlbiBgb3B0aW9uc2AuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgICAtIGBsaW1pdGAgYnl0ZXNpemUgbGltaXQgZGVmYXVsdGluZyB0byAzMEtiXG4gKiAgICAtIGBwYXRoc2AgaW1hZ2UgcmVzb2x1dGlvbiBwYXRoKHMpLCBtZXJnZWQgd2l0aCBnZW5lcmFsIGxvb2t1cCBwYXRoc1xuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIHN0eWx1cyhzdHIpXG4gKiAgICAgIC5zZXQoJ2ZpbGVuYW1lJywgX19kaXJuYW1lICsgJy9jc3MvdGVzdC5zdHlsJylcbiAqICAgICAgLmRlZmluZSgndXJsJywgc3R5bHVzLnVybCh7IHBhdGhzOiBbX19kaXJuYW1lICsgJy9wdWJsaWMnXSB9KSlcbiAqICAgICAgLnJlbmRlcihmdW5jdGlvbihlcnIsIGNzcykgeyAuLi4gfSlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICogQHJldHVybiB7RnVuY3Rpb259XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICB2YXIgX3BhdGhzID0gb3B0aW9ucy5wYXRocyB8fCBbXTtcbiAgdmFyIHNpemVMaW1pdCA9IG51bGwgIT0gb3B0aW9ucy5saW1pdCA/IG9wdGlvbnMubGltaXQgOiAzMDAwMDtcbiAgdmFyIG1pbWVzID0gb3B0aW9ucy5taW1lcyB8fCBkZWZhdWx0TWltZXM7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB1cmwgLSBUaGUgcGF0aCB0byB0aGUgaW1hZ2UgeW91IHdhbnQgdG8gZW5jb2RlLlxuICAgKiBAcGFyYW0ge29iamVjdH0gZW5jIC0gVGhlIGVuY29kaW5nIGZvciB0aGUgaW1hZ2UuIERlZmF1bHRzIHRvIGJhc2U2NCwgdGhlIFxuICAgKiBvdGhlciB2YWxpZCBvcHRpb24gaXMgYHV0ZjhgLlxuICAgKi9cbiAgZnVuY3Rpb24gZm4odXJsLCBlbmMpIHtcbiAgICAvLyBDb21waWxlIHRoZSB1cmxcbiAgICB2YXIgY29tcGlsZXIgPSBuZXcgQ29tcGlsZXIodXJsKVxuICAgICAgLCBlbmNvZGluZyA9IGVuY29kaW5nVHlwZXMuQkFTRV82NDtcblxuICAgIGNvbXBpbGVyLmlzVVJMID0gdHJ1ZTtcbiAgICB1cmwgPSB1cmwubm9kZXMubWFwKGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIHJldHVybiBjb21waWxlci52aXNpdChub2RlKTtcbiAgICB9KS5qb2luKCcnKTtcblxuICAgIC8vIFBhcnNlIGxpdGVyYWxcbiAgICB1cmwgPSBwYXJzZSh1cmwpO1xuICAgIHZhciBleHQgPSBleHRuYW1lKHVybC5wYXRobmFtZSB8fCAnJylcbiAgICAgICwgbWltZSA9IG1pbWVzW2V4dF1cbiAgICAgICwgaGFzaCA9IHVybC5oYXNoIHx8ICcnXG4gICAgICAsIGxpdGVyYWwgPSBuZXcgbm9kZXMuTGl0ZXJhbCgndXJsKFwiJyArIHVybC5ocmVmICsgJ1wiKScpXG4gICAgICAsIHBhdGhzID0gX3BhdGhzLmNvbmNhdCh0aGlzLnBhdGhzKVxuICAgICAgLCBidWZcbiAgICAgICwgcmVzdWx0O1xuXG4gICAgLy8gTm90IHN1cHBvcnRlZFxuICAgIGlmKCFtaW1lKSByZXR1cm4gbGl0ZXJhbDtcblxuICAgIC8vIEFic29sdXRlXG4gICAgaWYodXJsLnByb3RvY29sKSByZXR1cm4gbGl0ZXJhbDtcblxuICAgIC8vIExvb2t1cFxuICAgIHZhciBmb3VuZCA9IHV0aWxzLmxvb2t1cCh1cmwucGF0aG5hbWUsIHBhdGhzKTtcblxuICAgIC8vIEZhaWxlZCB0byBsb29rdXBcbiAgICBpZighZm91bmQpIHtcbiAgICAgIGV2ZW50cy5lbWl0KFxuICAgICAgICAgICdmaWxlIG5vdCBmb3VuZCdcbiAgICAgICAgLCAnRmlsZSAnICsgbGl0ZXJhbCArICcgY291bGQgbm90IGJlIGZvdW5kLCBsaXRlcmFsIHVybCByZXRhaW5lZCEnXG4gICAgICApO1xuXG4gICAgICByZXR1cm4gbGl0ZXJhbDtcbiAgICB9XG5cbiAgICAvLyBSZWFkIGRhdGFcbiAgICBidWYgPSBmcy5yZWFkRmlsZVN5bmMoZm91bmQpO1xuXG4gICAgLy8gVG9vIGxhcmdlXG4gICAgaWYoZmFsc2UgIT09IHNpemVMaW1pdCAmJiBidWYubGVuZ3RoID4gc2l6ZUxpbWl0KSByZXR1cm4gbGl0ZXJhbDtcblxuICAgIGlmKGVuYyAmJiAndXRmOCcgPT0gZW5jLmZpcnN0LnZhbC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBlbmNvZGluZyA9IGVuY29kaW5nVHlwZXMuVVRGODtcbiAgICAgIHJlc3VsdCA9IGJ1Zi50b1N0cmluZygpLnJlcGxhY2UoL1xccysvZywgJyAnKVxuICAgICAgICAucmVwbGFjZSgvW3t9XFx8XFxcXFxcXn5cXFtcXF1gXCI8PiMlXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgICAgICAgIHJldHVybiAnJScgKyBtYXRjaFswXS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9KS50cmltKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGJ1Zi50b1N0cmluZyhlbmNvZGluZykgKyBoYXNoO1xuICAgIH1cblxuICAgIC8vIEVuY29kZVxuICAgIHJldHVybiBuZXcgbm9kZXMuTGl0ZXJhbCgndXJsKFwiZGF0YTonICsgbWltZSArICc7JyArICBlbmNvZGluZyArICcsJyArIHJlc3VsdCArICdcIiknKTtcbiAgfTtcblxuICBmbi5yYXcgPSB0cnVlO1xuICByZXR1cm4gZm47XG59O1xuXG4vLyBFeHBvcnRpbmcgZGVmYXVsdCBtaW1lcyBzbyB3ZSBjb3VsZCBlYXNpbHkgYWNjZXNzIHRoZW1cbm1vZHVsZS5leHBvcnRzLm1pbWVzID0gZGVmYXVsdE1pbWVzO1xuXG4iLAogICJcbi8qIVxuICogU3R5bHVzIC0gRXZhbHVhdG9yXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBWaXNpdG9yID0gcmVxdWlyZSgnLi8nKVxuICAsIHVuaXRzID0gcmVxdWlyZSgnLi4vdW5pdHMnKVxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKVxuICAsIFN0YWNrID0gcmVxdWlyZSgnLi4vc3RhY2snKVxuICAsIEZyYW1lID0gcmVxdWlyZSgnLi4vc3RhY2svZnJhbWUnKVxuICAsIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKVxuICAsIGJpZnMgPSByZXF1aXJlKCcuLi9mdW5jdGlvbnMnKVxuICAsIGRpcm5hbWUgPSByZXF1aXJlKCdwYXRoJykuZGlybmFtZVxuICAsIGNvbG9ycyA9IHJlcXVpcmUoJy4uL2NvbG9ycycpXG4gICwgZGVidWcgPSByZXF1aXJlKCdkZWJ1ZycpKCdzdHlsdXM6ZXZhbHVhdG9yJylcbiAgLCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbi8qKlxuICogSW1wb3J0IGBmaWxlYCBhbmQgcmV0dXJuIEJsb2NrIG5vZGUuXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGltcG9ydEZpbGUobm9kZSwgZmlsZSwgbGl0ZXJhbCkge1xuICB2YXIgaW1wb3J0U3RhY2sgPSB0aGlzLmltcG9ydFN0YWNrXG4gICAgLCBQYXJzZXIgPSByZXF1aXJlKCcuLi9wYXJzZXInKVxuICAgICwgc3RhdDtcblxuICAvLyBIYW5kbGluZyB0aGUgYHJlcXVpcmVgXG4gIGlmIChub2RlLm9uY2UpIHtcbiAgICBpZiAodGhpcy5yZXF1aXJlSGlzdG9yeVtmaWxlXSkgcmV0dXJuIG5vZGVzLm51bGw7XG4gICAgdGhpcy5yZXF1aXJlSGlzdG9yeVtmaWxlXSA9IHRydWU7XG5cbiAgICBpZiAobGl0ZXJhbCAmJiAhdGhpcy5pbmNsdWRlQ1NTKSB7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gIH1cblxuICAvLyBBdm9pZCBvdmVyZmxvd3MgZnJvbSBpbXBvcnRpbmcgdGhlIHNhbWUgZmlsZSBvdmVyIGFnYWluXG4gIGlmICh+aW1wb3J0U3RhY2suaW5kZXhPZihmaWxlKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2ltcG9ydCBsb29wIGhhcyBiZWVuIGZvdW5kJyk7XG5cbiAgdmFyIHN0ciA9IGZzLnJlYWRGaWxlU3luYyhmaWxlLCAndXRmOCcpO1xuXG4gIC8vIHNob3J0Y3V0IGZvciBlbXB0eSBmaWxlc1xuICBpZiAoIXN0ci50cmltKCkpIHJldHVybiBub2Rlcy5udWxsO1xuXG4gIC8vIEV4cG9zZSBpbXBvcnRzXG4gIG5vZGUucGF0aCA9IGZpbGU7XG4gIG5vZGUuZGlybmFtZSA9IGRpcm5hbWUoZmlsZSk7XG4gIC8vIFN0b3JlIHRoZSBtb2RpZmllZCB0aW1lXG4gIHN0YXQgPSBmcy5zdGF0U3luYyhmaWxlKTtcbiAgbm9kZS5tdGltZSA9IHN0YXQubXRpbWU7XG4gIHRoaXMucGF0aHMucHVzaChub2RlLmRpcm5hbWUpO1xuXG4gIGlmICh0aGlzLm9wdGlvbnMuX2ltcG9ydHMpIHRoaXMub3B0aW9ucy5faW1wb3J0cy5wdXNoKG5vZGUuY2xvbmUoKSk7XG5cbiAgLy8gUGFyc2UgdGhlIGZpbGVcbiAgaW1wb3J0U3RhY2sucHVzaChmaWxlKTtcbiAgbm9kZXMuZmlsZW5hbWUgPSBmaWxlO1xuXG4gIGlmIChsaXRlcmFsKSB7XG4gICAgbGl0ZXJhbCA9IG5ldyBub2Rlcy5MaXRlcmFsKHN0ci5yZXBsYWNlKC9cXHJcXG4/L2csICdcXG4nKSk7XG4gICAgbGl0ZXJhbC5saW5lbm8gPSBsaXRlcmFsLmNvbHVtbiA9IDE7XG4gICAgaWYgKCF0aGlzLnJlc29sdmVVUkwpIHJldHVybiBsaXRlcmFsO1xuICB9XG5cbiAgLy8gcGFyc2VcbiAgdmFyIGJsb2NrID0gbmV3IG5vZGVzLkJsb2NrXG4gICAgLCBwYXJzZXIgPSBuZXcgUGFyc2VyKHN0ciwgdXRpbHMubWVyZ2UoeyByb290OiBibG9jayB9LCB0aGlzLm9wdGlvbnMpKTtcblxuICB0cnkge1xuICAgIGJsb2NrID0gcGFyc2VyLnBhcnNlKCk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHZhciBsaW5lID0gcGFyc2VyLmxleGVyLmxpbmVub1xuICAgICAgLCBjb2x1bW4gPSBwYXJzZXIubGV4ZXIuY29sdW1uO1xuXG4gICAgaWYgKGxpdGVyYWwgJiYgdGhpcy5pbmNsdWRlQ1NTICYmIHRoaXMucmVzb2x2ZVVSTCkge1xuICAgICAgdGhpcy53YXJuKCdQYXJzZUVycm9yOiAnICsgZmlsZSArICc6JyArIGxpbmUgKyAnOicgKyBjb2x1bW4gKyAnLiBUaGlzIGZpbGUgaW5jbHVkZWQgYXMtaXMnKTtcbiAgICAgIHJldHVybiBsaXRlcmFsO1xuICAgIH0gZWxzZSB7XG4gICAgICBlcnIuZmlsZW5hbWUgPSBmaWxlO1xuICAgICAgZXJyLmxpbmVubyA9IGxpbmU7XG4gICAgICBlcnIuY29sdW1uID0gY29sdW1uO1xuICAgICAgZXJyLmlucHV0ID0gc3RyO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8vIEV2YWx1YXRlIGltcG9ydGVkIFwicm9vdFwiXG4gIGJsb2NrID0gYmxvY2suY2xvbmUodGhpcy5jdXJyZW50QmxvY2spO1xuICBibG9jay5wYXJlbnQgPSB0aGlzLmN1cnJlbnRCbG9jaztcbiAgYmxvY2suc2NvcGUgPSBmYWxzZTtcbiAgdmFyIHJldCA9IHRoaXMudmlzaXQoYmxvY2spO1xuICBpbXBvcnRTdGFjay5wb3AoKTtcbiAgaWYgKCF0aGlzLnJlc29sdmVVUkwgfHwgdGhpcy5yZXNvbHZlVVJMLm5vY2hlY2spIHRoaXMucGF0aHMucG9wKCk7XG5cbiAgcmV0dXJuIHJldDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBFdmFsdWF0b3IgZXh0ZW5kcyBWaXNpdG9yIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYEV2YWx1YXRvcmAgd2l0aCB0aGUgZ2l2ZW4gYHJvb3RgIE5vZGVcbiAgICogYW5kIHRoZSBmb2xsb3dpbmcgYG9wdGlvbnNgLlxuICAgKlxuICAgKiBPcHRpb25zOlxuICAgKlxuICAgKiAgIC0gYGNvbXByZXNzYCAgQ29tcHJlc3MgdGhlIGNzcyBvdXRwdXQsIGRlZmF1bHRzIHRvIGZhbHNlXG4gICAqICAgLSBgd2FybmAgIFdhcm4gdGhlIHVzZXIgb2YgZHVwbGljYXRlIGZ1bmN0aW9uIGRlZmluaXRpb25zIGV0Y1xuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IHJvb3RcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKHJvb3QsIG9wdGlvbnMpIHtcbiAgICBzdXBlcihyb290KTtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgZnVuY3Rpb25zID0gdGhpcy5mdW5jdGlvbnMgPSBvcHRpb25zLmZ1bmN0aW9ucyB8fCB7fTtcbiAgICB0aGlzLnN0YWNrID0gbmV3IFN0YWNrO1xuICAgIHRoaXMuaW1wb3J0cyA9IG9wdGlvbnMuaW1wb3J0cyB8fCBbXTtcbiAgICB0aGlzLmdsb2JhbHMgPSBvcHRpb25zLmdsb2JhbHMgfHwge307XG4gICAgdGhpcy5wYXRocyA9IG9wdGlvbnMucGF0aHMgfHwgW107XG4gICAgdGhpcy5wcmVmaXggPSBvcHRpb25zLnByZWZpeCB8fCAnJztcbiAgICB0aGlzLmZpbGVuYW1lID0gb3B0aW9ucy5maWxlbmFtZTtcbiAgICB0aGlzLmluY2x1ZGVDU1MgPSBvcHRpb25zWydpbmNsdWRlIGNzcyddO1xuICAgIHRoaXMucmVzb2x2ZVVSTCA9IGZ1bmN0aW9ucy51cmxcbiAgICAgICYmICdyZXNvbHZlcicgPT0gZnVuY3Rpb25zLnVybC5uYW1lXG4gICAgICAmJiBmdW5jdGlvbnMudXJsLm9wdGlvbnM7XG4gICAgdGhpcy5wYXRocy5wdXNoKGRpcm5hbWUob3B0aW9ucy5maWxlbmFtZSB8fCAnLicpKTtcbiAgICB0aGlzLnN0YWNrLnB1c2godGhpcy5nbG9iYWwgPSBuZXcgRnJhbWUocm9vdCkpO1xuICAgIHRoaXMud2FybmluZ3MgPSBvcHRpb25zLndhcm47XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmNhbGxpbmcgPSBbXTsgLy8gVE9ETzogcmVtb3ZlLCB1c2Ugc3RhY2tcbiAgICB0aGlzLmltcG9ydFN0YWNrID0gW107XG4gICAgdGhpcy5yZXF1aXJlSGlzdG9yeSA9IHt9O1xuICAgIHRoaXMucmV0dXJuID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm94eSB2aXNpdCB0byBleHBvc2Ugbm9kZSBsaW5lIG51bWJlcnMuXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgdmlzaXQobm9kZSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gc3VwZXIudmlzaXQobm9kZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoZXJyLmZpbGVuYW1lKSB0aHJvdyBlcnI7XG4gICAgICBlcnIubGluZW5vID0gbm9kZS5saW5lbm87XG4gICAgICBlcnIuY29sdW1uID0gbm9kZS5jb2x1bW47XG4gICAgICBlcnIuZmlsZW5hbWUgPSBub2RlLmZpbGVuYW1lO1xuICAgICAgZXJyLnN0eWx1c1N0YWNrID0gdGhpcy5zdGFjay50b1N0cmluZygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZXJyLmlucHV0ID0gZnMucmVhZEZpbGVTeW5jKGVyci5maWxlbmFtZSwgJ3V0ZjgnKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyBpZ25vcmVcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gZXZhbHVhdGlvbiBzZXR1cDpcbiAgICpcbiAgICogICAtIHBvcHVsYXRlIGdsb2JhbCBzY29wZVxuICAgKiAgIC0gaXRlcmF0ZSBpbXBvcnRzXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBzZXR1cCgpIHtcbiAgICB2YXIgcm9vdCA9IHRoaXMucm9vdDtcbiAgICB2YXIgaW1wb3J0cyA9IFtdO1xuXG4gICAgdGhpcy5wb3B1bGF0ZUdsb2JhbFNjb3BlKCk7XG4gICAgdGhpcy5pbXBvcnRzLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHtcbiAgICAgIHZhciBleHByID0gbmV3IG5vZGVzLkV4cHJlc3Npb247XG4gICAgICBleHByLnB1c2gobmV3IG5vZGVzLlN0cmluZyhmaWxlKSk7XG4gICAgICBpbXBvcnRzLnB1c2gobmV3IG5vZGVzLkltcG9ydChleHByKSk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICByb290Lm5vZGVzID0gaW1wb3J0cy5jb25jYXQocm9vdC5ub2Rlcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBvcHVsYXRlIHRoZSBnbG9iYWwgc2NvcGUgd2l0aDpcbiAgICpcbiAgICogICAtIGNzcyBjb2xvcnNcbiAgICogICAtIHVzZXItZGVmaW5lZCBnbG9iYWxzXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBwb3B1bGF0ZUdsb2JhbFNjb3BlKCkge1xuICAgIHZhciBzY29wZSA9IHRoaXMuZ2xvYmFsLnNjb3BlO1xuXG4gICAgLy8gY29sb3JzXG4gICAgT2JqZWN0LmtleXMoY29sb3JzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICB2YXIgY29sb3IgPSBjb2xvcnNbbmFtZV1cbiAgICAgICAgLCByZ2JhID0gbmV3IG5vZGVzLlJHQkEoY29sb3JbMF0sIGNvbG9yWzFdLCBjb2xvclsyXSwgY29sb3JbM10pXG4gICAgICAgICwgbm9kZSA9IG5ldyBub2Rlcy5JZGVudChuYW1lLCByZ2JhKTtcbiAgICAgIHJnYmEubmFtZSA9IG5hbWU7XG4gICAgICBzY29wZS5hZGQobm9kZSk7XG4gICAgfSk7XG5cbiAgICAvLyBleHBvc2UgdXJsIGZ1bmN0aW9uXG4gICAgc2NvcGUuYWRkKG5ldyBub2Rlcy5JZGVudChcbiAgICAgICdlbWJlZHVybCcsXG4gICAgICBuZXcgbm9kZXMuRnVuY3Rpb24oJ2VtYmVkdXJsJywgcmVxdWlyZSgnLi4vZnVuY3Rpb25zL3VybCcpKHtcbiAgICAgICAgbGltaXQ6IGZhbHNlXG4gICAgICB9KSlcbiAgICApKTtcblxuICAgIC8vIHVzZXItZGVmaW5lZCBnbG9iYWxzXG4gICAgdmFyIGdsb2JhbHMgPSB0aGlzLmdsb2JhbHM7XG4gICAgT2JqZWN0LmtleXMoZ2xvYmFscykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgdmFyIHZhbCA9IGdsb2JhbHNbbmFtZV07XG4gICAgICBpZiAoIXZhbC5ub2RlTmFtZSkgdmFsID0gbmV3IG5vZGVzLkxpdGVyYWwodmFsKTtcbiAgICAgIHNjb3BlLmFkZChuZXcgbm9kZXMuSWRlbnQobmFtZSwgdmFsKSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEV2YWx1YXRlIHRoZSB0cmVlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgZXZhbHVhdGUoKSB7XG4gICAgZGVidWcoJ2V2YWwgJXMnLCB0aGlzLmZpbGVuYW1lKTtcbiAgICB0aGlzLnNldHVwKCk7XG4gICAgcmV0dXJuIHRoaXMudmlzaXQodGhpcy5yb290KTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgR3JvdXAuXG4gICAqL1xuXG4gIHZpc2l0R3JvdXAoZ3JvdXApIHtcbiAgICBncm91cC5ub2RlcyA9IGdyb3VwLm5vZGVzLm1hcChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yLnZhbCA9IHRoaXMuaW50ZXJwb2xhdGUoc2VsZWN0b3IpO1xuICAgICAgZGVidWcoJ3J1bGVzZXQgJXMnLCBzZWxlY3Rvci52YWwpO1xuICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgIH0sIHRoaXMpO1xuXG4gICAgZ3JvdXAuYmxvY2sgPSB0aGlzLnZpc2l0KGdyb3VwLmJsb2NrKTtcbiAgICByZXR1cm4gZ3JvdXA7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IFJldHVybi5cbiAgICovXG5cbiAgdmlzaXRSZXR1cm4ocmV0KSB7XG4gICAgcmV0LmV4cHIgPSB0aGlzLnZpc2l0KHJldC5leHByKTtcbiAgICB0aHJvdyByZXQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IE1lZGlhLlxuICAgKi9cblxuICB2aXNpdE1lZGlhKG1lZGlhKSB7XG4gICAgbWVkaWEuYmxvY2sgPSB0aGlzLnZpc2l0KG1lZGlhLmJsb2NrKTtcbiAgICBtZWRpYS52YWwgPSB0aGlzLnZpc2l0KG1lZGlhLnZhbCk7XG4gICAgcmV0dXJuIG1lZGlhO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBRdWVyeUxpc3QuXG4gICAqL1xuXG4gIHZpc2l0UXVlcnlMaXN0KHF1ZXJpZXMpIHtcbiAgICB2YXIgdmFsLCBxdWVyeTtcbiAgICBxdWVyaWVzLm5vZGVzLmZvckVhY2godGhpcy52aXNpdCwgdGhpcyk7XG5cbiAgICBpZiAoMSA9PSBxdWVyaWVzLm5vZGVzLmxlbmd0aCkge1xuICAgICAgcXVlcnkgPSBxdWVyaWVzLm5vZGVzWzBdO1xuICAgICAgaWYgKHZhbCA9IHRoaXMubG9va3VwKHF1ZXJ5LnR5cGUpKSB7XG4gICAgICAgIHZhbCA9IHZhbC5maXJzdC5zdHJpbmc7XG4gICAgICAgIGlmICghdmFsKSByZXR1cm4gcXVlcmllcztcbiAgICAgICAgdmFyIFBhcnNlciA9IHJlcXVpcmUoJy4uL3BhcnNlcicpXG4gICAgICAgICAgLCBwYXJzZXIgPSBuZXcgUGFyc2VyKHZhbCwgdGhpcy5vcHRpb25zKTtcbiAgICAgICAgcXVlcmllcyA9IHRoaXMudmlzaXQocGFyc2VyLnF1ZXJpZXMoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBxdWVyaWVzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBRdWVyeS5cbiAgICovXG5cbiAgdmlzaXRRdWVyeShub2RlKSB7XG4gICAgbm9kZS5wcmVkaWNhdGUgPSB0aGlzLnZpc2l0KG5vZGUucHJlZGljYXRlKTtcbiAgICBub2RlLnR5cGUgPSB0aGlzLnZpc2l0KG5vZGUudHlwZSk7XG4gICAgbm9kZS5ub2Rlcy5mb3JFYWNoKHRoaXMudmlzaXQsIHRoaXMpO1xuICAgIHJldHVybiBub2RlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBGZWF0dXJlLlxuICAgKi9cblxuICB2aXNpdEZlYXR1cmUobm9kZSkge1xuICAgIG5vZGUubmFtZSA9IHRoaXMuaW50ZXJwb2xhdGUobm9kZSk7XG4gICAgaWYgKG5vZGUuZXhwcikge1xuICAgICAgdGhpcy5yZXR1cm4rKztcbiAgICAgIG5vZGUuZXhwciA9IHRoaXMudmlzaXQobm9kZS5leHByKTtcbiAgICAgIHRoaXMucmV0dXJuLS07XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBPYmplY3QuXG4gICAqL1xuXG4gIHZpc2l0T2JqZWN0KG9iaikge1xuICAgIGZvciAodmFyIGtleSBpbiBvYmoudmFscykge1xuICAgICAgb2JqLnZhbHNba2V5XSA9IHRoaXMudmlzaXQob2JqLnZhbHNba2V5XSk7XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IE1lbWJlci5cbiAgICovXG5cbiAgdmlzaXRNZW1iZXIobm9kZSkge1xuICAgIHZhciBsZWZ0ID0gbm9kZS5sZWZ0XG4gICAgICAsIHJpZ2h0ID0gbm9kZS5yaWdodFxuICAgICAgLCBvYmogPSB0aGlzLnZpc2l0KGxlZnQpLmZpcnN0O1xuXG4gICAgaWYgKCdvYmplY3QnICE9IG9iai5ub2RlTmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGxlZnQudG9TdHJpbmcoKSArICcgaGFzIG5vIHByb3BlcnR5IC4nICsgcmlnaHQpO1xuICAgIH1cbiAgICBpZiAobm9kZS52YWwpIHtcbiAgICAgIHRoaXMucmV0dXJuKys7XG4gICAgICBvYmouc2V0KHJpZ2h0Lm5hbWUsIHRoaXMudmlzaXQobm9kZS52YWwpKTtcbiAgICAgIHRoaXMucmV0dXJuLS07XG4gICAgfVxuICAgIHJldHVybiBvYmouZ2V0KHJpZ2h0Lm5hbWUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBLZXlmcmFtZXMuXG4gICAqL1xuXG4gIHZpc2l0S2V5ZnJhbWVzKGtleWZyYW1lcykge1xuICAgIHZhciB2YWw7XG4gICAgaWYgKGtleWZyYW1lcy5mYWJyaWNhdGVkKSByZXR1cm4ga2V5ZnJhbWVzO1xuICAgIGtleWZyYW1lcy52YWwgPSB0aGlzLmludGVycG9sYXRlKGtleWZyYW1lcykudHJpbSgpO1xuICAgIGlmICh2YWwgPSB0aGlzLmxvb2t1cChrZXlmcmFtZXMudmFsKSkge1xuICAgICAga2V5ZnJhbWVzLnZhbCA9IHZhbC5maXJzdC5zdHJpbmcgfHwgdmFsLmZpcnN0Lm5hbWU7XG4gICAgfVxuICAgIGtleWZyYW1lcy5ibG9jayA9IHRoaXMudmlzaXQoa2V5ZnJhbWVzLmJsb2NrKTtcblxuICAgIGlmICgnb2ZmaWNpYWwnICE9IGtleWZyYW1lcy5wcmVmaXgpIHJldHVybiBrZXlmcmFtZXM7XG5cbiAgICB0aGlzLnZlbmRvcnMuZm9yRWFjaChmdW5jdGlvbiAocHJlZml4KSB7XG4gICAgICAvLyBJRSBuZXZlciBoYWQgcHJlZml4ZXMgZm9yIGtleWZyYW1lc1xuICAgICAgaWYgKCdtcycgPT0gcHJlZml4KSByZXR1cm47XG4gICAgICB2YXIgbm9kZSA9IGtleWZyYW1lcy5jbG9uZSgpO1xuICAgICAgbm9kZS52YWwgPSBrZXlmcmFtZXMudmFsO1xuICAgICAgbm9kZS5wcmVmaXggPSBwcmVmaXg7XG4gICAgICBub2RlLmJsb2NrID0ga2V5ZnJhbWVzLmJsb2NrO1xuICAgICAgbm9kZS5mYWJyaWNhdGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuY3VycmVudEJsb2NrLnB1c2gobm9kZSk7XG4gICAgfSwgdGhpcyk7XG5cbiAgICByZXR1cm4gbm9kZXMubnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgRnVuY3Rpb24uXG4gICAqL1xuXG4gIHZpc2l0RnVuY3Rpb24oZm4pIHtcbiAgICAvLyBjaGVjayBsb2NhbFxuICAgIHZhciBsb2NhbCA9IHRoaXMuc3RhY2suY3VycmVudEZyYW1lLnNjb3BlLmxvb2t1cChmbi5uYW1lKTtcbiAgICBpZiAobG9jYWwpIHRoaXMud2FybignbG9jYWwgJyArIGxvY2FsLm5vZGVOYW1lICsgJyBcIicgKyBmbi5uYW1lICsgJ1wiIHByZXZpb3VzbHkgZGVmaW5lZCBpbiB0aGlzIHNjb3BlJyk7XG5cbiAgICAvLyB1c2VyLWRlZmluZWRcbiAgICB2YXIgdXNlciA9IHRoaXMuZnVuY3Rpb25zW2ZuLm5hbWVdO1xuICAgIGlmICh1c2VyKSB0aGlzLndhcm4oJ3VzZXItZGVmaW5lZCBmdW5jdGlvbiBcIicgKyBmbi5uYW1lICsgJ1wiIGlzIGFscmVhZHkgZGVmaW5lZCcpO1xuXG4gICAgLy8gQklGXG4gICAgdmFyIGJpZiA9IGJpZnNbZm4ubmFtZV07XG4gICAgaWYgKGJpZikgdGhpcy53YXJuKCdidWlsdC1pbiBmdW5jdGlvbiBcIicgKyBmbi5uYW1lICsgJ1wiIGlzIGFscmVhZHkgZGVmaW5lZCcpO1xuXG4gICAgcmV0dXJuIGZuO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBFYWNoLlxuICAgKi9cblxuICB2aXNpdEVhY2goZWFjaCkge1xuICAgIHRoaXMucmV0dXJuKys7XG4gICAgdmFyIGV4cHIgPSB1dGlscy51bndyYXAodGhpcy52aXNpdChlYWNoLmV4cHIpKVxuICAgICAgLCBsZW4gPSBleHByLm5vZGVzLmxlbmd0aFxuICAgICAgLCB2YWwgPSBuZXcgbm9kZXMuSWRlbnQoZWFjaC52YWwpXG4gICAgICAsIGtleSA9IG5ldyBub2Rlcy5JZGVudChlYWNoLmtleSB8fCAnX19pbmRleF9fJylcbiAgICAgICwgc2NvcGUgPSB0aGlzLmN1cnJlbnRTY29wZVxuICAgICAgLCBibG9jayA9IHRoaXMuY3VycmVudEJsb2NrXG4gICAgICAsIHZhbHMgPSBbXVxuICAgICAgLCBzZWxmID0gdGhpc1xuICAgICAgLCBib2R5XG4gICAgICAsIG9iajtcbiAgICB0aGlzLnJldHVybi0tO1xuXG4gICAgZWFjaC5ibG9jay5zY29wZSA9IGZhbHNlO1xuXG4gICAgZnVuY3Rpb24gdmlzaXRCb2R5KGtleSwgdmFsKSB7XG4gICAgICBzY29wZS5hZGQodmFsKTtcbiAgICAgIHNjb3BlLmFkZChrZXkpO1xuICAgICAgYm9keSA9IHNlbGYudmlzaXQoZWFjaC5ibG9jay5jbG9uZSgpKTtcbiAgICAgIHZhbHMgPSB2YWxzLmNvbmNhdChib2R5Lm5vZGVzKTtcbiAgICB9XG5cbiAgICAvLyBmb3IgcHJvcCBpbiBvYmpcbiAgICBpZiAoMSA9PSBsZW4gJiYgJ29iamVjdCcgPT0gZXhwci5ub2Rlc1swXS5ub2RlTmFtZSkge1xuICAgICAgb2JqID0gZXhwci5ub2Rlc1swXTtcbiAgICAgIGZvciAodmFyIHByb3AgaW4gb2JqLnZhbHMpIHtcbiAgICAgICAgdmFsLnZhbCA9IG5ldyBub2Rlcy5TdHJpbmcocHJvcCk7XG4gICAgICAgIGtleS52YWwgPSBvYmouZ2V0KHByb3ApO1xuICAgICAgICB2aXNpdEJvZHkoa2V5LCB2YWwpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIHZhbC52YWwgPSBleHByLm5vZGVzW2ldO1xuICAgICAgICBrZXkudmFsID0gbmV3IG5vZGVzLlVuaXQoaSk7XG4gICAgICAgIHZpc2l0Qm9keShrZXksIHZhbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5taXhpbih2YWxzLCBibG9jayk7XG4gICAgcmV0dXJuIHZhbHNbdmFscy5sZW5ndGggLSAxXSB8fCBub2Rlcy5udWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBDYWxsLlxuICAgKi9cblxuICB2aXNpdENhbGwoY2FsbCkge1xuICAgIGRlYnVnKCdjYWxsICVzJywgY2FsbCk7XG4gICAgdmFyIGZuID0gdGhpcy5sb29rdXAoY2FsbC5uYW1lKVxuICAgICAgLCBsaXRlcmFsXG4gICAgICAsIHJldDtcblxuICAgIC8vIHVybCgpXG4gICAgdGhpcy5pZ25vcmVDb2xvcnMgPSAndXJsJyA9PSBjYWxsLm5hbWU7XG5cbiAgICAvLyBWYXJpYWJsZSBmdW5jdGlvblxuICAgIGlmIChmbiAmJiAnZXhwcmVzc2lvbicgPT0gZm4ubm9kZU5hbWUpIHtcbiAgICAgIGZuID0gZm4ubm9kZXNbMF07XG4gICAgfVxuXG4gICAgLy8gTm90IGEgZnVuY3Rpb24/IHRyeSB1c2VyLWRlZmluZWQgb3IgYnVpbHQtaW5zXG4gICAgaWYgKGZuICYmICdmdW5jdGlvbicgIT0gZm4ubm9kZU5hbWUpIHtcbiAgICAgIGZuID0gdGhpcy5sb29rdXBGdW5jdGlvbihjYWxsLm5hbWUpO1xuICAgIH1cblxuICAgIC8vIFVuZGVmaW5lZCBmdW5jdGlvbj8gcmVuZGVyIGxpdGVyYWwgQ1NTXG4gICAgaWYgKCFmbiB8fCBmbi5ub2RlTmFtZSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICBkZWJ1ZygnJXMgaXMgdW5kZWZpbmVkJywgY2FsbCk7XG4gICAgICAvLyBTcGVjaWFsIGNhc2UgZm9yIGBjYWxjYFxuICAgICAgaWYgKCdjYWxjJyA9PSB0aGlzLnVudmVuZG9yaXplKGNhbGwubmFtZSkpIHtcbiAgICAgICAgbGl0ZXJhbCA9IGNhbGwuYXJncy5ub2RlcyAmJiBjYWxsLmFyZ3Mubm9kZXNbMF07XG4gICAgICAgIGlmIChsaXRlcmFsKSByZXQgPSBuZXcgbm9kZXMuTGl0ZXJhbChjYWxsLm5hbWUgKyBsaXRlcmFsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldCA9IHRoaXMubGl0ZXJhbENhbGwoY2FsbCk7XG4gICAgICB9XG4gICAgICB0aGlzLmlnbm9yZUNvbG9ycyA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9XG5cbiAgICB0aGlzLmNhbGxpbmcucHVzaChjYWxsLm5hbWUpO1xuXG4gICAgLy8gTWFzc2l2ZSBzdGFja1xuICAgIGlmICh0aGlzLmNhbGxpbmcubGVuZ3RoID4gMjAwKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignTWF4aW11bSBzdHlsdXMgY2FsbCBzdGFjayBzaXplIGV4Y2VlZGVkJyk7XG4gICAgfVxuXG4gICAgLy8gRmlyc3Qgbm9kZSBpbiBleHByZXNzaW9uXG4gICAgaWYgKCdleHByZXNzaW9uJyA9PSBmbi5ub2RlTmFtZSkgZm4gPSBmbi5maXJzdDtcblxuICAgIC8vIEV2YWx1YXRlIGFyZ3VtZW50c1xuICAgIHRoaXMucmV0dXJuKys7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLnZpc2l0KGNhbGwuYXJncyk7XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gYXJncy5tYXApIHtcbiAgICAgIGFyZ3MubWFwW2tleV0gPSB0aGlzLnZpc2l0KGFyZ3MubWFwW2tleV0uY2xvbmUoKSk7XG4gICAgfVxuICAgIHRoaXMucmV0dXJuLS07XG5cbiAgICAvLyBCdWlsdC1pblxuICAgIGlmIChmbi5mbikge1xuICAgICAgZGVidWcoJyVzIGlzIGJ1aWx0LWluJywgY2FsbCk7XG4gICAgICByZXQgPSB0aGlzLmludm9rZUJ1aWx0aW4oZm4uZm4sIGFyZ3MpO1xuICAgICAgLy8gVXNlci1kZWZpbmVkXG4gICAgfSBlbHNlIGlmICgnZnVuY3Rpb24nID09IGZuLm5vZGVOYW1lKSB7XG4gICAgICBkZWJ1ZygnJXMgaXMgdXNlci1kZWZpbmVkJywgY2FsbCk7XG4gICAgICAvLyBFdmFsdWF0ZSBtaXhpbiBibG9ja1xuICAgICAgaWYgKGNhbGwuYmxvY2spIGNhbGwuYmxvY2sgPSB0aGlzLnZpc2l0KGNhbGwuYmxvY2spO1xuICAgICAgcmV0ID0gdGhpcy5pbnZva2VGdW5jdGlvbihmbiwgYXJncywgY2FsbC5ibG9jayk7XG4gICAgfVxuXG4gICAgdGhpcy5jYWxsaW5nLnBvcCgpO1xuICAgIHRoaXMuaWdub3JlQ29sb3JzID0gZmFsc2U7XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgSWRlbnQuXG4gICAqL1xuXG4gIHZpc2l0SWRlbnQoaWRlbnQpIHtcbiAgICB2YXIgcHJvcDtcbiAgICAvLyBQcm9wZXJ0eSBsb29rdXBcbiAgICBpZiAoaWRlbnQucHJvcGVydHkpIHtcbiAgICAgIGlmIChwcm9wID0gdGhpcy5sb29rdXBQcm9wZXJ0eShpZGVudC5uYW1lKSkge1xuICAgICAgICByZXR1cm4gdGhpcy52aXNpdChwcm9wLmV4cHIuY2xvbmUoKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbm9kZXMubnVsbDtcbiAgICAgIC8vIExvb2t1cFxuICAgIH0gZWxzZSBpZiAoaWRlbnQudmFsLmlzTnVsbCkge1xuICAgICAgdmFyIHZhbCA9IHRoaXMubG9va3VwKGlkZW50Lm5hbWUpO1xuICAgICAgLy8gT2JqZWN0IG9yIEJsb2NrIG1peGluXG4gICAgICBpZiAodmFsICYmIGlkZW50Lm1peGluKSB0aGlzLm1peGluTm9kZSh2YWwpO1xuICAgICAgcmV0dXJuIHZhbCA/IHRoaXMudmlzaXQodmFsKSA6IGlkZW50O1xuICAgICAgLy8gQXNzaWduXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmV0dXJuKys7XG4gICAgICBpZGVudC52YWwgPSB0aGlzLnZpc2l0KGlkZW50LnZhbCk7XG4gICAgICB0aGlzLnJldHVybi0tO1xuICAgICAgdGhpcy5jdXJyZW50U2NvcGUuYWRkKGlkZW50KTtcbiAgICAgIHJldHVybiBpZGVudC52YWw7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBCaW5PcC5cbiAgICovXG5cbiAgdmlzaXRCaW5PcChiaW5vcCkge1xuICAgIC8vIFNwZWNpYWwtY2FzZSBcImlzIGRlZmluZWRcIiBwc2V1ZG8gYmlub3BcbiAgICBpZiAoJ2lzIGRlZmluZWQnID09IGJpbm9wLm9wKSByZXR1cm4gdGhpcy5pc0RlZmluZWQoYmlub3AubGVmdCk7XG5cbiAgICB0aGlzLnJldHVybisrO1xuICAgIC8vIFZpc2l0IG9wZXJhbmRzXG4gICAgdmFyIG9wID0gYmlub3Aub3BcbiAgICAgICwgbGVmdCA9IHRoaXMudmlzaXQoYmlub3AubGVmdClcbiAgICAgICwgcmlnaHQgPSAoJ3x8JyA9PSBvcCB8fCAnJiYnID09IG9wKVxuICAgICAgICA/IGJpbm9wLnJpZ2h0IDogdGhpcy52aXNpdChiaW5vcC5yaWdodCk7XG5cbiAgICAvLyBIQUNLOiB0ZXJuYXJ5XG4gICAgdmFyIHZhbCA9IGJpbm9wLnZhbFxuICAgICAgPyB0aGlzLnZpc2l0KGJpbm9wLnZhbClcbiAgICAgIDogbnVsbDtcbiAgICB0aGlzLnJldHVybi0tO1xuXG4gICAgLy8gT3BlcmF0ZVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy52aXNpdChsZWZ0Lm9wZXJhdGUob3AsIHJpZ2h0LCB2YWwpKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIC8vIGRpc3JlZ2FyZCBjb2VyY2lvbiBpc3N1ZXMgaW4gZXF1YWxpdHlcbiAgICAgIC8vIGNoZWNrcywgYW5kIHNpbXBseSByZXR1cm4gZmFsc2VcbiAgICAgIGlmICgnQ29lcmNpb25FcnJvcicgPT0gZXJyLm5hbWUpIHtcbiAgICAgICAgc3dpdGNoIChvcCkge1xuICAgICAgICAgIGNhc2UgJz09JzpcbiAgICAgICAgICAgIHJldHVybiBub2Rlcy5mYWxzZTtcbiAgICAgICAgICBjYXNlICchPSc6XG4gICAgICAgICAgICByZXR1cm4gbm9kZXMudHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgVW5hcnlPcC5cbiAgICovXG5cbiAgdmlzaXRVbmFyeU9wKHVuYXJ5KSB7XG4gICAgdmFyIG9wID0gdW5hcnkub3BcbiAgICAgICwgbm9kZSA9IHRoaXMudmlzaXQodW5hcnkuZXhwcik7XG5cbiAgICBpZiAoJyEnICE9IG9wKSB7XG4gICAgICBub2RlID0gbm9kZS5maXJzdC5jbG9uZSgpO1xuICAgICAgdXRpbHMuYXNzZXJ0VHlwZShub2RlLCAndW5pdCcpO1xuICAgIH1cblxuICAgIHN3aXRjaCAob3ApIHtcbiAgICAgIGNhc2UgJy0nOlxuICAgICAgICBub2RlLnZhbCA9IC1ub2RlLnZhbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcrJzpcbiAgICAgICAgbm9kZS52YWwgPSArbm9kZS52YWw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnfic6XG4gICAgICAgIG5vZGUudmFsID0gfm5vZGUudmFsO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJyEnOlxuICAgICAgICByZXR1cm4gbm9kZS50b0Jvb2xlYW4oKS5uZWdhdGUoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgVGVybmFyeU9wLlxuICAgKi9cblxuICB2aXNpdFRlcm5hcnkodGVybmFyeSkge1xuICAgIHZhciBvayA9IHRoaXMudmlzaXQodGVybmFyeS5jb25kKS50b0Jvb2xlYW4oKTtcbiAgICByZXR1cm4gb2suaXNUcnVlXG4gICAgICA/IHRoaXMudmlzaXQodGVybmFyeS50cnVlRXhwcilcbiAgICAgIDogdGhpcy52aXNpdCh0ZXJuYXJ5LmZhbHNlRXhwcik7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEV4cHJlc3Npb24uXG4gICAqL1xuXG4gIHZpc2l0RXhwcmVzc2lvbihleHByKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV4cHIubm9kZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIGV4cHIubm9kZXNbaV0gPSB0aGlzLnZpc2l0KGV4cHIubm9kZXNbaV0pO1xuICAgIH1cblxuICAgIC8vIHN1cHBvcnQgKG4gKiA1KXB4IGV0Y1xuICAgIGlmICh0aGlzLmNhc3RhYmxlKGV4cHIpKSBleHByID0gdGhpcy5jYXN0KGV4cHIpO1xuXG4gICAgcmV0dXJuIGV4cHI7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEFyZ3VtZW50cy5cbiAgICovXG5cbiAgZ2V0IHZpc2l0QXJndW1lbnRzKCkge1xuICAgIHJldHVybiB0aGlzLnZpc2l0RXhwcmVzc2lvbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBWaXNpdCBQcm9wZXJ0eS5cbiAgICovXG5cbiAgdmlzaXRQcm9wZXJ0eShwcm9wKSB7XG4gICAgdmFyIG5hbWUgPSB0aGlzLmludGVycG9sYXRlKHByb3ApXG4gICAgICAsIGZuID0gdGhpcy5sb29rdXAobmFtZSlcbiAgICAgICwgY2FsbCA9IGZuICYmICdmdW5jdGlvbicgPT0gZm4uZmlyc3Qubm9kZU5hbWVcbiAgICAgICwgbGl0ZXJhbCA9IH50aGlzLmNhbGxpbmcuaW5kZXhPZihuYW1lKVxuICAgICAgLCBfcHJvcCA9IHRoaXMucHJvcGVydHk7XG5cbiAgICAvLyBGdW5jdGlvbiBvZiB0aGUgc2FtZSBuYW1lXG4gICAgaWYgKGNhbGwgJiYgIWxpdGVyYWwgJiYgIXByb3AubGl0ZXJhbCkge1xuICAgICAgdmFyIGFyZ3MgPSBub2Rlcy5Bcmd1bWVudHMuZnJvbUV4cHJlc3Npb24odXRpbHMudW53cmFwKHByb3AuZXhwci5jbG9uZSgpKSk7XG4gICAgICBwcm9wLm5hbWUgPSBuYW1lO1xuICAgICAgdGhpcy5wcm9wZXJ0eSA9IHByb3A7XG4gICAgICB0aGlzLnJldHVybisrO1xuICAgICAgdGhpcy5wcm9wZXJ0eS5leHByID0gdGhpcy52aXNpdChwcm9wLmV4cHIpO1xuICAgICAgdGhpcy5yZXR1cm4tLTtcbiAgICAgIHZhciByZXQgPSB0aGlzLnZpc2l0KG5ldyBub2Rlcy5DYWxsKG5hbWUsIGFyZ3MpKTtcbiAgICAgIHRoaXMucHJvcGVydHkgPSBfcHJvcDtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgICAvLyBSZWd1bGFyIHByb3BlcnR5XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmV0dXJuKys7XG4gICAgICBwcm9wLm5hbWUgPSBuYW1lO1xuICAgICAgcHJvcC5saXRlcmFsID0gdHJ1ZTtcbiAgICAgIHRoaXMucHJvcGVydHkgPSBwcm9wO1xuICAgICAgcHJvcC5leHByID0gdGhpcy52aXNpdChwcm9wLmV4cHIpO1xuICAgICAgdGhpcy5wcm9wZXJ0eSA9IF9wcm9wO1xuICAgICAgdGhpcy5yZXR1cm4tLTtcbiAgICAgIHJldHVybiBwcm9wO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgUm9vdC5cbiAgICovXG5cbiAgdmlzaXRSb290KGJsb2NrKSB7XG4gICAgLy8gbm9ybWFsaXplIGNhY2hlZCBpbXBvcnRzXG4gICAgaWYgKGJsb2NrICE9IHRoaXMucm9vdCkge1xuICAgICAgYmxvY2suY29uc3RydWN0b3IgPSBub2Rlcy5CbG9jaztcbiAgICAgIHJldHVybiB0aGlzLnZpc2l0KGJsb2NrKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJsb2NrLm5vZGVzLmxlbmd0aDsgKytpKSB7XG4gICAgICBibG9jay5pbmRleCA9IGk7XG4gICAgICBibG9jay5ub2Rlc1tpXSA9IHRoaXMudmlzaXQoYmxvY2subm9kZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYmxvY2s7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEJsb2NrLlxuICAgKi9cblxuICB2aXNpdEJsb2NrKGJsb2NrKSB7XG4gICAgdGhpcy5zdGFjay5wdXNoKG5ldyBGcmFtZShibG9jaykpO1xuICAgIGZvciAoYmxvY2suaW5kZXggPSAwOyBibG9jay5pbmRleCA8IGJsb2NrLm5vZGVzLmxlbmd0aDsgKytibG9jay5pbmRleCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYmxvY2subm9kZXNbYmxvY2suaW5kZXhdID0gdGhpcy52aXNpdChibG9jay5ub2Rlc1tibG9jay5pbmRleF0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGlmICgncmV0dXJuJyA9PSBlcnIubm9kZU5hbWUpIHtcbiAgICAgICAgICBpZiAodGhpcy5yZXR1cm4pIHtcbiAgICAgICAgICAgIHRoaXMuc3RhY2sucG9wKCk7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJsb2NrLm5vZGVzW2Jsb2NrLmluZGV4XSA9IGVycjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5zdGFjay5wb3AoKTtcbiAgICByZXR1cm4gYmxvY2s7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEF0YmxvY2suXG4gICAqL1xuXG4gIHZpc2l0QXRibG9jayhhdGJsb2NrKSB7XG4gICAgYXRibG9jay5ibG9jayA9IHRoaXMudmlzaXQoYXRibG9jay5ibG9jayk7XG4gICAgcmV0dXJuIGF0YmxvY2s7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEF0cnVsZS5cbiAgICovXG5cbiAgdmlzaXRBdHJ1bGUoYXRydWxlKSB7XG4gICAgYXRydWxlLnZhbCA9IHRoaXMuaW50ZXJwb2xhdGUoYXRydWxlKTtcbiAgICBpZiAoYXRydWxlLmJsb2NrKSBhdHJ1bGUuYmxvY2sgPSB0aGlzLnZpc2l0KGF0cnVsZS5ibG9jayk7XG4gICAgcmV0dXJuIGF0cnVsZTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgU3VwcG9ydHMuXG4gICAqL1xuXG4gIHZpc2l0U3VwcG9ydHMobm9kZSkge1xuICAgIHZhciBjb25kaXRpb24gPSBub2RlLmNvbmRpdGlvblxuICAgICAgLCB2YWw7XG5cbiAgICB0aGlzLnJldHVybisrO1xuICAgIG5vZGUuY29uZGl0aW9uID0gdGhpcy52aXNpdChjb25kaXRpb24pO1xuICAgIHRoaXMucmV0dXJuLS07XG5cbiAgICB2YWwgPSBjb25kaXRpb24uZmlyc3Q7XG4gICAgaWYgKDEgPT0gY29uZGl0aW9uLm5vZGVzLmxlbmd0aFxuICAgICAgJiYgJ3N0cmluZycgPT0gdmFsLm5vZGVOYW1lKSB7XG4gICAgICBub2RlLmNvbmRpdGlvbiA9IHZhbC5zdHJpbmc7XG4gICAgfVxuICAgIG5vZGUuYmxvY2sgPSB0aGlzLnZpc2l0KG5vZGUuYmxvY2spO1xuICAgIHJldHVybiBub2RlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBJZi5cbiAgICovXG5cbiAgdmlzaXRJZihub2RlKSB7XG4gICAgdmFyIHJldFxuICAgICAgLCBibG9jayA9IHRoaXMuY3VycmVudEJsb2NrXG4gICAgICAsIG5lZ2F0ZSA9IG5vZGUubmVnYXRlO1xuXG4gICAgdGhpcy5yZXR1cm4rKztcbiAgICB2YXIgb2sgPSB0aGlzLnZpc2l0KG5vZGUuY29uZCkuZmlyc3QudG9Cb29sZWFuKCk7XG4gICAgdGhpcy5yZXR1cm4tLTtcblxuICAgIG5vZGUuYmxvY2suc2NvcGUgPSBub2RlLmJsb2NrLmhhc01lZGlhO1xuXG4gICAgLy8gRXZhbHVhdGUgYm9keVxuICAgIGlmIChuZWdhdGUpIHtcbiAgICAgIC8vIHVubGVzc1xuICAgICAgaWYgKG9rLmlzRmFsc2UpIHtcbiAgICAgICAgcmV0ID0gdGhpcy52aXNpdChub2RlLmJsb2NrKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWZcbiAgICAgIGlmIChvay5pc1RydWUpIHtcbiAgICAgICAgcmV0ID0gdGhpcy52aXNpdChub2RlLmJsb2NrKTtcbiAgICAgICAgLy8gZWxzZVxuICAgICAgfSBlbHNlIGlmIChub2RlLmVsc2VzLmxlbmd0aCkge1xuICAgICAgICB2YXIgZWxzZXMgPSBub2RlLmVsc2VzXG4gICAgICAgICAgLCBsZW4gPSBlbHNlcy5sZW5ndGhcbiAgICAgICAgICAsIGNvbmQ7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAvLyBlbHNlIGlmXG4gICAgICAgICAgaWYgKGVsc2VzW2ldLmNvbmQpIHtcbiAgICAgICAgICAgIGVsc2VzW2ldLmJsb2NrLnNjb3BlID0gZWxzZXNbaV0uYmxvY2suaGFzTWVkaWE7XG4gICAgICAgICAgICB0aGlzLnJldHVybisrO1xuICAgICAgICAgICAgY29uZCA9IHRoaXMudmlzaXQoZWxzZXNbaV0uY29uZCkuZmlyc3QudG9Cb29sZWFuKCk7XG4gICAgICAgICAgICB0aGlzLnJldHVybi0tO1xuICAgICAgICAgICAgaWYgKGNvbmQuaXNUcnVlKSB7XG4gICAgICAgICAgICAgIHJldCA9IHRoaXMudmlzaXQoZWxzZXNbaV0uYmxvY2spO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVsc2VcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxzZXNbaV0uc2NvcGUgPSBlbHNlc1tpXS5oYXNNZWRpYTtcbiAgICAgICAgICAgIHJldCA9IHRoaXMudmlzaXQoZWxzZXNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG1peGluIGNvbmRpdGlvbmFsIHN0YXRlbWVudHMgd2l0aGluXG4gICAgLy8gYSBzZWxlY3RvciBncm91cCBvciBhdC1ydWxlXG4gICAgaWYgKHJldCAmJiAhbm9kZS5wb3N0Zml4ICYmIGJsb2NrLm5vZGVcbiAgICAgICYmIH5bJ2dyb3VwJ1xuICAgICAgICAsICdhdHJ1bGUnXG4gICAgICAgICwgJ21lZGlhJ1xuICAgICAgICAsICdzdXBwb3J0cydcbiAgICAgICAgLCAna2V5ZnJhbWVzJ10uaW5kZXhPZihibG9jay5ub2RlLm5vZGVOYW1lKSkge1xuICAgICAgdGhpcy5taXhpbihyZXQubm9kZXMsIGJsb2NrKTtcbiAgICAgIHJldHVybiBub2Rlcy5udWxsO1xuICAgIH1cblxuICAgIHJldHVybiByZXQgfHwgbm9kZXMubnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgRXh0ZW5kLlxuICAgKi9cblxuICB2aXNpdEV4dGVuZChleHRlbmQpIHtcbiAgICB2YXIgYmxvY2sgPSB0aGlzLmN1cnJlbnRCbG9jaztcbiAgICBpZiAoJ2dyb3VwJyAhPSBibG9jay5ub2RlLm5vZGVOYW1lKSBibG9jayA9IHRoaXMuY2xvc2VzdEdyb3VwO1xuICAgIGV4dGVuZC5zZWxlY3RvcnMuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgIGJsb2NrLm5vZGUuZXh0ZW5kcy5wdXNoKHtcbiAgICAgICAgLy8gQ2xvbmluZyB0aGUgc2VsZWN0b3IgZm9yIHdoZW4gd2UgYXJlIGluIGEgbG9vcCBhbmQgZG9uJ3Qgd2FudCBpdCB0byBhZmZlY3RcbiAgICAgICAgLy8gdGhlIHNlbGVjdG9yIG5vZGVzIGFuZCBjYXVzZSB0aGUgdmFsdWVzIHRvIGJlIGRpZmZlcmVudCB0byBleHBlY3RlZFxuICAgICAgICBzZWxlY3RvcjogdGhpcy5pbnRlcnBvbGF0ZShzZWxlY3Rvci5jbG9uZSgpKS50cmltKCksXG4gICAgICAgIG9wdGlvbmFsOiBzZWxlY3Rvci5vcHRpb25hbCxcbiAgICAgICAgbGluZW5vOiBzZWxlY3Rvci5saW5lbm8sXG4gICAgICAgIGNvbHVtbjogc2VsZWN0b3IuY29sdW1uXG4gICAgICB9KTtcbiAgICB9LCB0aGlzKTtcbiAgICByZXR1cm4gbm9kZXMubnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgSW1wb3J0LlxuICAgKi9cblxuICB2aXNpdEltcG9ydChpbXBvcnRlZCkge1xuICAgIHRoaXMucmV0dXJuKys7XG5cbiAgICB2YXIgcGF0aCA9IHRoaXMudmlzaXQoaW1wb3J0ZWQucGF0aCkuZmlyc3RcbiAgICAgICwgbm9kZU5hbWUgPSBpbXBvcnRlZC5vbmNlID8gJ3JlcXVpcmUnIDogJ2ltcG9ydCdcbiAgICAgICwgZm91bmRcbiAgICAgICwgbGl0ZXJhbDtcblxuICAgIHRoaXMucmV0dXJuLS07XG4gICAgZGVidWcoJ2ltcG9ydCAlcycsIHBhdGgpO1xuXG4gICAgLy8gdXJsKCkgcGFzc2VkXG4gICAgaWYgKCd1cmwnID09IHBhdGgubmFtZSkge1xuICAgICAgaWYgKGltcG9ydGVkLm9uY2UpIHRocm93IG5ldyBFcnJvcignWW91IGNhbm5vdCBAcmVxdWlyZSBhIHVybCcpO1xuXG4gICAgICByZXR1cm4gaW1wb3J0ZWQ7XG4gICAgfVxuXG4gICAgLy8gRW5zdXJlIHN0cmluZ1xuICAgIGlmICghcGF0aC5zdHJpbmcpIHRocm93IG5ldyBFcnJvcignQCcgKyBub2RlTmFtZSArICcgc3RyaW5nIGV4cGVjdGVkJyk7XG5cbiAgICB2YXIgbmFtZSA9IHBhdGggPSBwYXRoLnN0cmluZztcblxuICAgIC8vIEFic29sdXRlIFVSTCBvciBoYXNoXG4gICAgaWYgKC8oPzp1cmxcXHMqXFwoXFxzKik/WydcIl0/KD86I3woPzpodHRwcz86KT9cXC9cXC8pL2kudGVzdChwYXRoKSkge1xuICAgICAgaWYgKGltcG9ydGVkLm9uY2UpIHRocm93IG5ldyBFcnJvcignWW91IGNhbm5vdCBAcmVxdWlyZSBhIHVybCcpO1xuICAgICAgcmV0dXJuIGltcG9ydGVkO1xuICAgIH1cblxuICAgIC8vIExpdGVyYWxcbiAgICBpZiAoL1xcLmNzcyg/OlwifCQpLy50ZXN0KHBhdGgpKSB7XG4gICAgICBsaXRlcmFsID0gdHJ1ZTtcbiAgICAgIGlmICghaW1wb3J0ZWQub25jZSAmJiAhdGhpcy5pbmNsdWRlQ1NTKSB7XG4gICAgICAgIHJldHVybiBpbXBvcnRlZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzdXBwb3J0IG9wdGlvbmFsIC5zdHlsXG4gICAgaWYgKCFsaXRlcmFsICYmICEvXFwuc3R5bCQvaS50ZXN0KHBhdGgpKSBwYXRoICs9ICcuc3R5bCc7XG5cbiAgICAvLyBMb29rdXBcbiAgICBmb3VuZCA9IHV0aWxzLmZpbmQocGF0aCwgdGhpcy5wYXRocywgdGhpcy5maWxlbmFtZSk7XG4gICAgaWYgKCFmb3VuZCkge1xuICAgICAgZm91bmQgPSB1dGlscy5sb29rdXBJbmRleChuYW1lLCB0aGlzLnBhdGhzLCB0aGlzLmZpbGVuYW1lKTtcbiAgICB9XG5cbiAgICAvLyBUaHJvdyBpZiBpbXBvcnQgZmFpbGVkXG4gICAgaWYgKCFmb3VuZCkgdGhyb3cgbmV3IEVycm9yKCdmYWlsZWQgdG8gbG9jYXRlIEAnICsgbm9kZU5hbWUgKyAnIGZpbGUgJyArIHBhdGgpO1xuXG4gICAgdmFyIGJsb2NrID0gbmV3IG5vZGVzLkJsb2NrO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGZvdW5kLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBibG9jay5wdXNoKGltcG9ydEZpbGUuY2FsbCh0aGlzLCBpbXBvcnRlZCwgZm91bmRbaV0sIGxpdGVyYWwpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmxvY2s7XG4gIH07XG5cbiAgLyoqXG4gICAqIEludm9rZSBgZm5gIHdpdGggYGFyZ3NgLlxuICAgKlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBpbnZva2VGdW5jdGlvbihmbiwgYXJncywgY29udGVudCkge1xuICAgIHZhciBibG9jayA9IG5ldyBub2Rlcy5CbG9jayhmbi5ibG9jay5wYXJlbnQpO1xuXG4gICAgLy8gQ2xvbmUgdGhlIGZ1bmN0aW9uIGJvZHlcbiAgICAvLyB0byBwcmV2ZW50IG11dGF0aW9uIG9mIHN1YnNlcXVlbnQgY2FsbHNcbiAgICB2YXIgYm9keSA9IGZuLmJsb2NrLmNsb25lKGJsb2NrKTtcblxuICAgIC8vIG1peGluIGJsb2NrXG4gICAgdmFyIG1peGluQmxvY2sgPSB0aGlzLnN0YWNrLmN1cnJlbnRGcmFtZS5ibG9jaztcblxuICAgIC8vIG5ldyBibG9jayBzY29wZVxuICAgIHRoaXMuc3RhY2sucHVzaChuZXcgRnJhbWUoYmxvY2spKTtcbiAgICB2YXIgc2NvcGUgPSB0aGlzLmN1cnJlbnRTY29wZTtcblxuICAgIC8vIG5vcm1hbGl6ZSBhcmd1bWVudHNcbiAgICBpZiAoJ2FyZ3VtZW50cycgIT0gYXJncy5ub2RlTmFtZSkge1xuICAgICAgdmFyIGV4cHIgPSBuZXcgbm9kZXMuRXhwcmVzc2lvbjtcbiAgICAgIGV4cHIucHVzaChhcmdzKTtcbiAgICAgIGFyZ3MgPSBub2Rlcy5Bcmd1bWVudHMuZnJvbUV4cHJlc3Npb24oZXhwcik7XG4gICAgfVxuXG4gICAgLy8gYXJndW1lbnRzIGxvY2FsXG4gICAgc2NvcGUuYWRkKG5ldyBub2Rlcy5JZGVudCgnYXJndW1lbnRzJywgYXJncykpO1xuXG4gICAgLy8gbWl4aW4gc2NvcGUgaW50cm9zcGVjdGlvblxuICAgIHNjb3BlLmFkZChuZXcgbm9kZXMuSWRlbnQoJ21peGluJywgdGhpcy5yZXR1cm5cbiAgICAgID8gbm9kZXMuZmFsc2VcbiAgICAgIDogbmV3IG5vZGVzLlN0cmluZyhtaXhpbkJsb2NrLm5vZGVOYW1lKSkpO1xuXG4gICAgLy8gY3VycmVudCBwcm9wZXJ0eVxuICAgIGlmICh0aGlzLnByb3BlcnR5KSB7XG4gICAgICB2YXIgcHJvcCA9IHRoaXMucHJvcGVydHlFeHByZXNzaW9uKHRoaXMucHJvcGVydHksIGZuLm5hbWUpO1xuICAgICAgc2NvcGUuYWRkKG5ldyBub2Rlcy5JZGVudCgnY3VycmVudC1wcm9wZXJ0eScsIHByb3ApKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NvcGUuYWRkKG5ldyBub2Rlcy5JZGVudCgnY3VycmVudC1wcm9wZXJ0eScsIG5vZGVzLm51bGwpKTtcbiAgICB9XG5cbiAgICAvLyBjdXJyZW50IGNhbGwgc3RhY2tcbiAgICB2YXIgZXhwciA9IG5ldyBub2Rlcy5FeHByZXNzaW9uO1xuICAgIGZvciAodmFyIGkgPSB0aGlzLmNhbGxpbmcubGVuZ3RoIC0gMTsgaS0tOykge1xuICAgICAgZXhwci5wdXNoKG5ldyBub2Rlcy5MaXRlcmFsKHRoaXMuY2FsbGluZ1tpXSkpO1xuICAgIH07XG4gICAgc2NvcGUuYWRkKG5ldyBub2Rlcy5JZGVudCgnY2FsbGVkLWZyb20nLCBleHByKSk7XG5cbiAgICAvLyBpbmplY3QgYXJndW1lbnRzIGFzIGxvY2Fsc1xuICAgIHZhciBpID0gMFxuICAgICAgLCBsZW4gPSBhcmdzLm5vZGVzLmxlbmd0aDtcbiAgICBmbi5wYXJhbXMubm9kZXMuZm9yRWFjaChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgLy8gcmVzdCBwYXJhbSBzdXBwb3J0XG4gICAgICBpZiAobm9kZS5yZXN0KSB7XG4gICAgICAgIG5vZGUudmFsID0gbmV3IG5vZGVzLkV4cHJlc3Npb247XG4gICAgICAgIGZvciAoOyBpIDwgbGVuOyArK2kpIG5vZGUudmFsLnB1c2goYXJncy5ub2Rlc1tpXSk7XG4gICAgICAgIG5vZGUudmFsLnByZXNlcnZlID0gdHJ1ZTtcbiAgICAgICAgbm9kZS52YWwuaXNMaXN0ID0gYXJncy5pc0xpc3Q7XG4gICAgICAgIC8vIGFyZ3VtZW50IGRlZmF1bHQgc3VwcG9ydFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGFyZyA9IGFyZ3MubWFwW25vZGUubmFtZV0gfHwgYXJncy5ub2Rlc1tpKytdO1xuICAgICAgICBub2RlID0gbm9kZS5jbG9uZSgpO1xuICAgICAgICBpZiAoYXJnKSB7XG4gICAgICAgICAgYXJnLmlzRW1wdHkgPyBhcmdzLm5vZGVzW2kgLSAxXSA9IHRoaXMudmlzaXQobm9kZSkgOiBub2RlLnZhbCA9IGFyZztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhcmdzLnB1c2gobm9kZS52YWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVxdWlyZWQgYXJndW1lbnQgbm90IHNhdGlzZmllZFxuICAgICAgICBpZiAobm9kZS52YWwuaXNOdWxsKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhcmd1bWVudCBcIicgKyBub2RlICsgJ1wiIHJlcXVpcmVkIGZvciAnICsgZm4pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLmFkZChub2RlKTtcbiAgICB9LCB0aGlzKTtcblxuICAgIC8vIG1peGluIGJsb2NrXG4gICAgaWYgKGNvbnRlbnQpIHNjb3BlLmFkZChuZXcgbm9kZXMuSWRlbnQoJ2Jsb2NrJywgY29udGVudCwgdHJ1ZSkpO1xuXG4gICAgLy8gaW52b2tlXG4gICAgcmV0dXJuIHRoaXMuaW52b2tlKGJvZHksIHRydWUsIGZuLmZpbGVuYW1lKTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIGJ1aWx0LWluIGBmbmAgd2l0aCBgYXJnc2AuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3NcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGludm9rZUJ1aWx0aW4oZm4sIGFyZ3MpIHtcbiAgICAvLyBNYXAgYXJndW1lbnRzIHRvIGZpcnN0IG5vZGVcbiAgICAvLyBwcm92aWRpbmcgYSBuaWNlciBqcyBhcGkgZm9yXG4gICAgLy8gQklGcy4gRnVuY3Rpb25zIG1heSBzcGVjaWZ5IHRoYXRcbiAgICAvLyB0aGV5IHdpc2ggdG8gYWNjZXB0IGZ1bGwgZXhwcmVzc2lvbnNcbiAgICAvLyB2aWEgLnJhd1xuICAgIGlmIChmbi5yYXcpIHtcbiAgICAgIGFyZ3MgPSBhcmdzLm5vZGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWZuLnBhcmFtcykge1xuICAgICAgICBmbi5wYXJhbXMgPSB1dGlscy5wYXJhbXMoZm4pO1xuICAgICAgfVxuICAgICAgYXJncyA9IGZuLnBhcmFtcy5yZWR1Y2UoZnVuY3Rpb24gKHJldCwgcGFyYW0pIHtcbiAgICAgICAgdmFyIGFyZyA9IGFyZ3MubWFwW3BhcmFtXSB8fCBhcmdzLm5vZGVzLnNoaWZ0KClcbiAgICAgICAgaWYgKGFyZykge1xuICAgICAgICAgIGFyZyA9IHV0aWxzLnVud3JhcChhcmcpO1xuICAgICAgICAgIHZhciBsZW4gPSBhcmcubm9kZXMubGVuZ3RoO1xuICAgICAgICAgIGlmIChsZW4gPiAxKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgICAgICAgIHJldC5wdXNoKHV0aWxzLnVud3JhcChhcmcubm9kZXNbaV0uZmlyc3QpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0LnB1c2goYXJnLmZpcnN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH0sIFtdKTtcbiAgICB9XG5cbiAgICAvLyBJbnZva2UgdGhlIEJJRlxuICAgIHZhciBib2R5ID0gdXRpbHMuY29lcmNlKGZuLmFwcGx5KHRoaXMsIGFyZ3MpKTtcblxuICAgIC8vIEFsd2F5cyB3cmFwcGluZyBhbGxvd3MganMgZnVuY3Rpb25zXG4gICAgLy8gdG8gcmV0dXJuIHNldmVyYWwgdmFsdWVzIHdpdGggYSBzaW5nbGVcbiAgICAvLyBFeHByZXNzaW9uIG5vZGVcbiAgICB2YXIgZXhwciA9IG5ldyBub2Rlcy5FeHByZXNzaW9uO1xuICAgIGV4cHIucHVzaChib2R5KTtcbiAgICBib2R5ID0gZXhwcjtcblxuICAgIC8vIEludm9rZVxuICAgIHJldHVybiB0aGlzLmludm9rZShib2R5KTtcbiAgfTtcblxuICAvKipcbiAgICogSW52b2tlIHRoZSBnaXZlbiBmdW5jdGlvbiBgYm9keWAuXG4gICAqXG4gICAqIEBwYXJhbSB7QmxvY2t9IGJvZHlcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGludm9rZShib2R5LCBzdGFjaywgZmlsZW5hbWUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICAgICwgcmV0O1xuXG4gICAgaWYgKGZpbGVuYW1lKSB0aGlzLnBhdGhzLnB1c2goZGlybmFtZShmaWxlbmFtZSkpO1xuXG4gICAgLy8gUmV0dXJuXG4gICAgaWYgKHRoaXMucmV0dXJuKSB7XG4gICAgICByZXQgPSB0aGlzLmV2YWwoYm9keS5ub2Rlcyk7XG4gICAgICBpZiAoc3RhY2spIHRoaXMuc3RhY2sucG9wKCk7XG4gICAgICAvLyBNaXhpblxuICAgIH0gZWxzZSB7XG4gICAgICBib2R5ID0gdGhpcy52aXNpdChib2R5KTtcbiAgICAgIGlmIChzdGFjaykgdGhpcy5zdGFjay5wb3AoKTtcbiAgICAgIHRoaXMubWl4aW4oYm9keS5ub2RlcywgdGhpcy5jdXJyZW50QmxvY2spO1xuICAgICAgcmV0ID0gbm9kZXMubnVsbDtcbiAgICB9XG5cbiAgICBpZiAoZmlsZW5hbWUpIHRoaXMucGF0aHMucG9wKCk7XG5cbiAgICByZXR1cm4gcmV0O1xuICB9O1xuXG4gIC8qKlxuICAgKiBNaXhpbiB0aGUgZ2l2ZW4gYG5vZGVzYCB0byB0aGUgZ2l2ZW4gYGJsb2NrYC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gbm9kZXNcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2tcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIG1peGluKG5vZGVzLCBibG9jaykge1xuICAgIGlmICghbm9kZXMubGVuZ3RoKSByZXR1cm47XG4gICAgdmFyIGxlbiA9IGJsb2NrLm5vZGVzLmxlbmd0aFxuICAgICAgLCBoZWFkID0gYmxvY2subm9kZXMuc2xpY2UoMCwgYmxvY2suaW5kZXgpXG4gICAgICAsIHRhaWwgPSBibG9jay5ub2Rlcy5zbGljZShibG9jay5pbmRleCArIDEsIGxlbik7XG4gICAgdGhpcy5fbWl4aW4obm9kZXMsIGhlYWQsIGJsb2NrKTtcbiAgICBibG9jay5pbmRleCA9IDA7XG4gICAgYmxvY2subm9kZXMgPSBoZWFkLmNvbmNhdCh0YWlsKTtcbiAgfTtcblxuICAvKipcbiAgICogTWl4aW4gdGhlIGdpdmVuIGBpdGVtc2AgdG8gdGhlIGBkZXN0YCBhcnJheS5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gaXRlbXNcbiAgICogQHBhcmFtIHtBcnJheX0gZGVzdFxuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9ja1xuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgX21peGluKGl0ZW1zLCBkZXN0LCBibG9jaykge1xuICAgIHZhciBub2RlXG4gICAgICAsIGxlbiA9IGl0ZW1zLmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBzd2l0Y2ggKChub2RlID0gaXRlbXNbaV0pLm5vZGVOYW1lKSB7XG4gICAgICAgIGNhc2UgJ3JldHVybic6XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlICdibG9jayc6XG4gICAgICAgICAgdGhpcy5fbWl4aW4obm9kZS5ub2RlcywgZGVzdCwgYmxvY2spO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdtZWRpYSc6XG4gICAgICAgICAgLy8gZml4IGxpbmsgdG8gdGhlIHBhcmVudCBibG9ja1xuICAgICAgICAgIHZhciBwYXJlbnROb2RlID0gbm9kZS5ibG9jay5wYXJlbnQubm9kZTtcbiAgICAgICAgICBpZiAocGFyZW50Tm9kZSAmJiAnY2FsbCcgIT0gcGFyZW50Tm9kZS5ub2RlTmFtZSkge1xuICAgICAgICAgICAgbm9kZS5ibG9jay5wYXJlbnQgPSBibG9jaztcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgJ3Byb3BlcnR5JzpcbiAgICAgICAgICB2YXIgdmFsID0gbm9kZS5leHByO1xuICAgICAgICAgIC8vIHByZXZlbnQgYGJsb2NrYCBtaXhpbiByZWN1cnNpb25cbiAgICAgICAgICBpZiAobm9kZS5saXRlcmFsICYmICdibG9jaycgPT0gdmFsLmZpcnN0Lm5hbWUpIHtcbiAgICAgICAgICAgIHZhbCA9IHV0aWxzLnVud3JhcCh2YWwpO1xuICAgICAgICAgICAgdmFsLm5vZGVzWzBdID0gbmV3IG5vZGVzLkxpdGVyYWwoJ2Jsb2NrJyk7XG4gICAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGRlc3QucHVzaChub2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIE1peGluIHRoZSBnaXZlbiBgbm9kZWAgdG8gdGhlIGN1cnJlbnQgYmxvY2suXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgbWl4aW5Ob2RlKG5vZGUpIHtcbiAgICBub2RlID0gdGhpcy52aXNpdChub2RlLmZpcnN0KTtcbiAgICBzd2l0Y2ggKG5vZGUubm9kZU5hbWUpIHtcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIHRoaXMubWl4aW5PYmplY3Qobm9kZSk7XG4gICAgICAgIHJldHVybiBub2Rlcy5udWxsO1xuICAgICAgY2FzZSAnYmxvY2snOlxuICAgICAgY2FzZSAnYXRibG9jayc6XG4gICAgICAgIHRoaXMubWl4aW4obm9kZS5ub2RlcywgdGhpcy5jdXJyZW50QmxvY2spO1xuICAgICAgICByZXR1cm4gbm9kZXMubnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIE1peGluIHRoZSBnaXZlbiBgb2JqZWN0YCB0byB0aGUgY3VycmVudCBibG9jay5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdFxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgbWl4aW5PYmplY3Qob2JqZWN0KSB7XG4gICAgdmFyIFBhcnNlciA9IHJlcXVpcmUoJy4uL3BhcnNlcicpXG4gICAgICAsIHJvb3QgPSB0aGlzLnJvb3RcbiAgICAgICwgc3RyID0gJyRibG9jayAnICsgb2JqZWN0LnRvQmxvY2soKVxuICAgICAgLCBwYXJzZXIgPSBuZXcgUGFyc2VyKHN0ciwgdXRpbHMubWVyZ2UoeyByb290OiBibG9jayB9LCB0aGlzLm9wdGlvbnMpKVxuICAgICAgLCBibG9jaztcblxuICAgIHRyeSB7XG4gICAgICBibG9jayA9IHBhcnNlci5wYXJzZSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgZXJyLmZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICAgIGVyci5saW5lbm8gPSBwYXJzZXIubGV4ZXIubGluZW5vO1xuICAgICAgZXJyLmNvbHVtbiA9IHBhcnNlci5sZXhlci5jb2x1bW47XG4gICAgICBlcnIuaW5wdXQgPSBzdHI7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuXG4gICAgYmxvY2sucGFyZW50ID0gcm9vdDtcbiAgICBibG9jay5zY29wZSA9IGZhbHNlO1xuICAgIHZhciByZXQgPSB0aGlzLnZpc2l0KGJsb2NrKVxuICAgICAgLCB2YWxzID0gcmV0LmZpcnN0Lm5vZGVzO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWxzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBpZiAodmFsc1tpXS5ibG9jaykge1xuICAgICAgICB0aGlzLm1peGluKHZhbHNbaV0uYmxvY2subm9kZXMsIHRoaXMuY3VycmVudEJsb2NrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBFdmFsdWF0ZSB0aGUgZ2l2ZW4gYHZhbHNgLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSB2YWxzXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBldmFsKHZhbHMpIHtcbiAgICBpZiAoIXZhbHMpIHJldHVybiBub2Rlcy5udWxsO1xuICAgIHZhciBsZW4gPSB2YWxzLmxlbmd0aFxuICAgICAgLCBub2RlID0gbm9kZXMubnVsbDtcblxuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICAgIG5vZGUgPSB2YWxzW2ldO1xuICAgICAgICBzd2l0Y2ggKG5vZGUubm9kZU5hbWUpIHtcbiAgICAgICAgICBjYXNlICdpZic6XG4gICAgICAgICAgICBpZiAoJ2Jsb2NrJyAhPSBub2RlLmJsb2NrLm5vZGVOYW1lKSB7XG4gICAgICAgICAgICAgIG5vZGUgPSB0aGlzLnZpc2l0KG5vZGUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdlYWNoJzpcbiAgICAgICAgICBjYXNlICdibG9jayc6XG4gICAgICAgICAgICBub2RlID0gdGhpcy52aXNpdChub2RlKTtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVzKSBub2RlID0gdGhpcy5ldmFsKG5vZGUubm9kZXMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG5vZGUgPSB0aGlzLnZpc2l0KG5vZGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAoJ3JldHVybicgPT0gZXJyLm5vZGVOYW1lKSB7XG4gICAgICAgIHJldHVybiBlcnIuZXhwcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfTtcblxuICAvKipcbiAgICogTGl0ZXJhbCBmdW5jdGlvbiBgY2FsbGAuXG4gICAqXG4gICAqIEBwYXJhbSB7Q2FsbH0gY2FsbFxuICAgKiBAcmV0dXJuIHtjYWxsfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgbGl0ZXJhbENhbGwoY2FsbCkge1xuICAgIGNhbGwuYXJncyA9IHRoaXMudmlzaXQoY2FsbC5hcmdzKTtcbiAgICByZXR1cm4gY2FsbDtcbiAgfTtcblxuICAvKipcbiAgICogTG9va3VwIHByb3BlcnR5IGBuYW1lYC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgICogQHJldHVybiB7UHJvcGVydHl9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBsb29rdXBQcm9wZXJ0eShuYW1lKSB7XG4gICAgdmFyIGkgPSB0aGlzLnN0YWNrLmxlbmd0aFxuICAgICAgLCBpbmRleCA9IHRoaXMuY3VycmVudEJsb2NrLmluZGV4XG4gICAgICAsIHRvcCA9IGlcbiAgICAgICwgbm9kZXNcbiAgICAgICwgYmxvY2tcbiAgICAgICwgbGVuXG4gICAgICAsIG90aGVyO1xuXG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgYmxvY2sgPSB0aGlzLnN0YWNrW2ldLmJsb2NrO1xuICAgICAgaWYgKCFibG9jay5ub2RlKSBjb250aW51ZTtcbiAgICAgIHN3aXRjaCAoYmxvY2subm9kZS5ub2RlTmFtZSkge1xuICAgICAgICBjYXNlICdncm91cCc6XG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgY2FzZSAnaWYnOlxuICAgICAgICBjYXNlICdlYWNoJzpcbiAgICAgICAgY2FzZSAnYXRydWxlJzpcbiAgICAgICAgY2FzZSAnbWVkaWEnOlxuICAgICAgICBjYXNlICdhdGJsb2NrJzpcbiAgICAgICAgY2FzZSAnY2FsbCc6XG4gICAgICAgICAgbm9kZXMgPSBibG9jay5ub2RlcztcbiAgICAgICAgICAvLyBzY2FuIHNpYmxpbmdzIGZyb20gdGhlIHByb3BlcnR5IGluZGV4IHVwXG4gICAgICAgICAgaWYgKGkgKyAxID09IHRvcCkge1xuICAgICAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICAgICAgLy8gaWdub3JlIGN1cnJlbnQgcHJvcGVydHlcbiAgICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydHkgPT0gbm9kZXNbaW5kZXhdKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgb3RoZXIgPSB0aGlzLmludGVycG9sYXRlKG5vZGVzW2luZGV4XSk7XG4gICAgICAgICAgICAgIGlmIChuYW1lID09IG90aGVyKSByZXR1cm4gbm9kZXNbaW5kZXhdLmNsb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBzZXF1ZW50aWFsIGxvb2t1cCBmb3Igbm9uLXNpYmxpbmdzIChmb3Igbm93KVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZW4gPSBub2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAobGVuLS0pIHtcbiAgICAgICAgICAgICAgaWYgKCdwcm9wZXJ0eScgIT0gbm9kZXNbbGVuXS5ub2RlTmFtZVxuICAgICAgICAgICAgICAgIHx8IHRoaXMucHJvcGVydHkgPT0gbm9kZXNbbGVuXSkgY29udGludWU7XG4gICAgICAgICAgICAgIG90aGVyID0gdGhpcy5pbnRlcnBvbGF0ZShub2Rlc1tsZW5dKTtcbiAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gb3RoZXIpIHJldHVybiBub2Rlc1tsZW5dLmNsb25lKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBub2Rlcy5udWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGNsb3Nlc3QgbWl4aW4tYWJsZSBgQmxvY2tgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtCbG9ja31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGdldCBjbG9zZXN0QmxvY2soKSB7XG4gICAgdmFyIGkgPSB0aGlzLnN0YWNrLmxlbmd0aFxuICAgICAgLCBibG9jaztcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBibG9jayA9IHRoaXMuc3RhY2tbaV0uYmxvY2s7XG4gICAgICBpZiAoYmxvY2subm9kZSkge1xuICAgICAgICBzd2l0Y2ggKGJsb2NrLm5vZGUubm9kZU5hbWUpIHtcbiAgICAgICAgICBjYXNlICdncm91cCc6XG4gICAgICAgICAgY2FzZSAna2V5ZnJhbWVzJzpcbiAgICAgICAgICBjYXNlICdhdHJ1bGUnOlxuICAgICAgICAgIGNhc2UgJ2F0YmxvY2snOlxuICAgICAgICAgIGNhc2UgJ21lZGlhJzpcbiAgICAgICAgICBjYXNlICdjYWxsJzpcbiAgICAgICAgICAgIHJldHVybiBibG9jaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjbG9zZXN0IGdyb3VwIGJsb2NrLlxuICAgKlxuICAgKiBAcmV0dXJuIHtCbG9ja31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGdldCBjbG9zZXN0R3JvdXAoKSB7XG4gICAgdmFyIGkgPSB0aGlzLnN0YWNrLmxlbmd0aFxuICAgICAgLCBibG9jaztcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBibG9jayA9IHRoaXMuc3RhY2tbaV0uYmxvY2s7XG4gICAgICBpZiAoYmxvY2subm9kZSAmJiAnZ3JvdXAnID09IGJsb2NrLm5vZGUubm9kZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGJsb2NrO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjdXJyZW50IHNlbGVjdG9ycyBzdGFjay5cbiAgICpcbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBnZXQgc2VsZWN0b3JTdGFjaygpIHtcbiAgICB2YXIgYmxvY2tcbiAgICAgICwgc3RhY2sgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5zdGFjay5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgYmxvY2sgPSB0aGlzLnN0YWNrW2ldLmJsb2NrO1xuICAgICAgaWYgKGJsb2NrLm5vZGUgJiYgJ2dyb3VwJyA9PSBibG9jay5ub2RlLm5vZGVOYW1lKSB7XG4gICAgICAgIGJsb2NrLm5vZGUubm9kZXMuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICBpZiAoIXNlbGVjdG9yLnZhbCkgc2VsZWN0b3IudmFsID0gdGhpcy5pbnRlcnBvbGF0ZShzZWxlY3Rvcik7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgICAgICBzdGFjay5wdXNoKGJsb2NrLm5vZGUubm9kZXMpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RhY2s7XG4gIH07XG5cbiAgLyoqXG4gICAqIExvb2t1cCBgbmFtZWAsIHdpdGggc3VwcG9ydCBmb3IgSmF2YVNjcmlwdFxuICAgKiBmdW5jdGlvbnMsIGFuZCBCSUZzLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgbG9va3VwKG5hbWUpIHtcbiAgICB2YXIgdmFsO1xuICAgIGlmICh0aGlzLmlnbm9yZUNvbG9ycyAmJiBuYW1lIGluIGNvbG9ycykgcmV0dXJuO1xuICAgIGlmICh2YWwgPSB0aGlzLnN0YWNrLmxvb2t1cChuYW1lKSkge1xuICAgICAgcmV0dXJuIHV0aWxzLnVud3JhcCh2YWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5sb29rdXBGdW5jdGlvbihuYW1lKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcCBzZWdtZW50cyBpbiBgbm9kZWAgcmV0dXJuaW5nIGEgc3RyaW5nLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgaW50ZXJwb2xhdGUobm9kZSkge1xuICAgIHZhciBzZWxmID0gdGhpc1xuICAgICAgLCBpc1NlbGVjdG9yID0gKCdzZWxlY3RvcicgPT0gbm9kZS5ub2RlTmFtZSk7XG4gICAgZnVuY3Rpb24gdG9TdHJpbmcobm9kZSkge1xuICAgICAgc3dpdGNoIChub2RlLm5vZGVOYW1lKSB7XG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgY2FzZSAnaWRlbnQnOlxuICAgICAgICAgIHJldHVybiBub2RlLm5hbWU7XG4gICAgICAgIGNhc2UgJ2xpdGVyYWwnOlxuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgIGlmIChzZWxmLnByZWZpeCAmJiAhbm9kZS5wcmVmaXhlZCAmJiAhbm9kZS52YWwubm9kZU5hbWUpIHtcbiAgICAgICAgICAgIG5vZGUudmFsID0gbm9kZS52YWwucmVwbGFjZSgvXFwuKD89W1xcdy1dKXxeXFwuJC9nLCAnLicgKyBzZWxmLnByZWZpeCk7XG4gICAgICAgICAgICBub2RlLnByZWZpeGVkID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5vZGUudmFsO1xuICAgICAgICBjYXNlICd1bml0JzpcbiAgICAgICAgICAvLyBJbnRlcnBvbGF0aW9uIGluc2lkZSBrZXlmcmFtZXNcbiAgICAgICAgICByZXR1cm4gJyUnID09IG5vZGUudHlwZSA/IG5vZGUudmFsICsgJyUnIDogbm9kZS52YWw7XG4gICAgICAgIGNhc2UgJ21lbWJlcic6XG4gICAgICAgICAgcmV0dXJuIHRvU3RyaW5nKHNlbGYudmlzaXQobm9kZSkpO1xuICAgICAgICBjYXNlICdleHByZXNzaW9uJzpcbiAgICAgICAgICAvLyBQcmV2ZW50IGN5Y2xpYyBgc2VsZWN0b3IoKWAgY2FsbHMuXG4gICAgICAgICAgaWYgKHNlbGYuY2FsbGluZyAmJiB+c2VsZi5jYWxsaW5nLmluZGV4T2YoJ3NlbGVjdG9yJykgJiYgc2VsZi5fc2VsZWN0b3IpIHJldHVybiBzZWxmLl9zZWxlY3RvcjtcbiAgICAgICAgICBzZWxmLnJldHVybisrO1xuICAgICAgICAgIHZhciByZXQgPSB0b1N0cmluZyhzZWxmLnZpc2l0KG5vZGUpLmZpcnN0KTtcbiAgICAgICAgICBzZWxmLnJldHVybi0tO1xuICAgICAgICAgIGlmIChpc1NlbGVjdG9yKSBzZWxmLl9zZWxlY3RvciA9IHJldDtcbiAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChub2RlLnNlZ21lbnRzKSB7XG4gICAgICByZXR1cm4gbm9kZS5zZWdtZW50cy5tYXAodG9TdHJpbmcpLmpvaW4oJycpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdG9TdHJpbmcobm9kZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBMb29rdXAgSmF2YVNjcmlwdCB1c2VyLWRlZmluZWQgb3IgYnVpbHQtaW4gZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gICAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgbG9va3VwRnVuY3Rpb24obmFtZSkge1xuICAgIHZhciBmbiA9IHRoaXMuZnVuY3Rpb25zW25hbWVdIHx8IGJpZnNbbmFtZV07XG4gICAgaWYgKGZuKSByZXR1cm4gbmV3IG5vZGVzLkZ1bmN0aW9uKG5hbWUsIGZuKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIGdpdmVuIGBub2RlYCBpcyBhbiBpZGVudCwgYW5kIGlmIGl0IGlzIGRlZmluZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgaXNEZWZpbmVkKG5vZGUpIHtcbiAgICBpZiAoJ2lkZW50JyA9PSBub2RlLm5vZGVOYW1lKSB7XG4gICAgICByZXR1cm4gbmV3IG5vZGVzLkJvb2xlYW4odGhpcy5sb29rdXAobm9kZS5uYW1lKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBcImlzIGRlZmluZWRcIiBjaGVjayBvbiBub24tdmFyaWFibGUgJyArIG5vZGUpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGBFeHByZXNzaW9uYCBiYXNlZCBvbiB0aGUgZ2l2ZW4gYHByb3BgLFxuICAgKiByZXBsYWNpbmcgY3ljbGljIGNhbGxzIHRvIHRoZSBnaXZlbiBmdW5jdGlvbiBgbmFtZWBcbiAgICogd2l0aCBcIl9fQ0FMTF9fXCIuXG4gICAqXG4gICAqIEBwYXJhbSB7UHJvcGVydHl9IHByb3BcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgICogQHJldHVybiB7RXhwcmVzc2lvbn1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHByb3BlcnR5RXhwcmVzc2lvbihwcm9wLCBuYW1lKSB7XG4gICAgdmFyIGV4cHIgPSBuZXcgbm9kZXMuRXhwcmVzc2lvblxuICAgICAgLCB2YWwgPSBwcm9wLmV4cHIuY2xvbmUoKTtcblxuICAgIC8vIG5hbWVcbiAgICBleHByLnB1c2gobmV3IG5vZGVzLlN0cmluZyhwcm9wLm5hbWUpKTtcblxuICAgIC8vIHJlcGxhY2UgY3ljbGljIGNhbGwgd2l0aCBfX0NBTExfX1xuICAgIGZ1bmN0aW9uIHJlcGxhY2Uobm9kZSkge1xuICAgICAgaWYgKCdjYWxsJyA9PSBub2RlLm5vZGVOYW1lICYmIG5hbWUgPT0gbm9kZS5uYW1lKSB7XG4gICAgICAgIHJldHVybiBuZXcgbm9kZXMuTGl0ZXJhbCgnX19DQUxMX18nKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5vZGUubm9kZXMpIG5vZGUubm9kZXMgPSBub2RlLm5vZGVzLm1hcChyZXBsYWNlKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cblxuICAgIHJlcGxhY2UodmFsKTtcbiAgICBleHByLnB1c2godmFsKTtcbiAgICByZXR1cm4gZXhwcjtcbiAgfTtcblxuICAvKipcbiAgICogQ2FzdCBgZXhwcmAgdG8gdGhlIHRyYWlsaW5nIGlkZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge0V4cHJlc3Npb259IGV4cHJcbiAgICogQHJldHVybiB7VW5pdH1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGNhc3QoZXhwcikge1xuICAgIHJldHVybiBuZXcgbm9kZXMuVW5pdChleHByLmZpcnN0LnZhbCwgZXhwci5ub2Rlc1sxXS5uYW1lKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYGV4cHJgIGlzIGNhc3RhYmxlLlxuICAgKlxuICAgKiBAcGFyYW0ge0V4cHJlc3Npb259IGV4cHJcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGNhc3RhYmxlKGV4cHIpIHtcbiAgICByZXR1cm4gMiA9PSBleHByLm5vZGVzLmxlbmd0aFxuICAgICAgJiYgJ3VuaXQnID09IGV4cHIuZmlyc3Qubm9kZU5hbWVcbiAgICAgICYmIH51bml0cy5pbmRleE9mKGV4cHIubm9kZXNbMV0ubmFtZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdhcm4gd2l0aCB0aGUgZ2l2ZW4gYG1zZ2AuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2dcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHdhcm4obXNnKSB7XG4gICAgaWYgKCF0aGlzLndhcm5pbmdzKSByZXR1cm47XG4gICAgY29uc29sZS53YXJuKCdcXHUwMDFiWzMzbVdhcm5pbmc6XFx1MDAxYlswbSAnICsgbXNnKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjdXJyZW50IGBCbG9ja2AuXG4gICAqXG4gICAqIEByZXR1cm4ge0Jsb2NrfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgZ2V0IGN1cnJlbnRCbG9jaygpIHtcbiAgICByZXR1cm4gdGhpcy5zdGFjay5jdXJyZW50RnJhbWUuYmxvY2s7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhbiBhcnJheSBvZiB2ZW5kb3IgbmFtZXMuXG4gICAqXG4gICAqIEByZXR1cm4ge0FycmF5fVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgZ2V0IHZlbmRvcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMubG9va3VwKCd2ZW5kb3JzJykubm9kZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS5zdHJpbmc7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgcHJvcGVydHkgbmFtZSB3aXRob3V0IHZlbmRvciBwcmVmaXguXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdW52ZW5kb3JpemUocHJvcCkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLnZlbmRvcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmICgnb2ZmaWNpYWwnICE9IHRoaXMudmVuZG9yc1tpXSkge1xuICAgICAgICB2YXIgdmVuZG9yID0gJy0nICsgdGhpcy52ZW5kb3JzW2ldICsgJy0nO1xuICAgICAgICBpZiAofnByb3AuaW5kZXhPZih2ZW5kb3IpKSByZXR1cm4gcHJvcC5yZXBsYWNlKHZlbmRvciwgJycpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJvcDtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjdXJyZW50IGZyYW1lIGBTY29wZWAuXG4gICAqXG4gICAqIEByZXR1cm4ge1Njb3BlfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgZ2V0IGN1cnJlbnRTY29wZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGFjay5jdXJyZW50RnJhbWUuc2NvcGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY3VycmVudCBgRnJhbWVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtGcmFtZX1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGdldCBjdXJyZW50RnJhbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhY2suY3VycmVudEZyYW1lO1xuICB9O1xufTtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBOb2RlXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBFdmFsdWF0b3IgPSByZXF1aXJlKCcuLi92aXNpdG9yL2V2YWx1YXRvcicpXG4gICwgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLycpO1xuXG5jbGFzcyBDb2VyY2lvbkVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgQ29lcmNpb25FcnJvcmAgd2l0aCB0aGUgZ2l2ZW4gYG1zZ2AuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2dcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKG1zZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5uYW1lID0gJ0NvZXJjaW9uRXJyb3InXG4gICAgdGhpcy5tZXNzYWdlID0gbXNnXG4gICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBDb2VyY2lvbkVycm9yKTtcbiAgICB9XG4gIH1cbn1cblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgTm9kZSB7XG4gIC8qKlxuICAgKiBOb2RlIGNvbnN0cnVjdG9yLlxuICAgKlxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmxpbmVubyA9IG5vZGVzLmxpbmVubyB8fCAxO1xuICAgIHRoaXMuY29sdW1uID0gbm9kZXMuY29sdW1uIHx8IDE7XG4gICAgdGhpcy5maWxlbmFtZSA9IG5vZGVzLmZpbGVuYW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGdldCBmaXJzdCgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gaGFzaC5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBnZXQgaGFzaCgpIHtcbiAgICByZXR1cm4gdGhpcy52YWw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIG5vZGUgbmFtZS5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBnZXQgbm9kZU5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IubmFtZS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGlzIG5vZGUuXG4gICAqIFxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIE5vZGVzIGJ5IGRlZmF1bHQgZXZhbHVhdGUgdG8gdGhlbXNlbHZlcy5cbiAgICpcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZXZhbCgpIHtcbiAgICByZXR1cm4gbmV3IEV2YWx1YXRvcih0aGlzKS5ldmFsdWF0ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0cnVlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0Jvb2xlYW4oKSB7XG4gICAgcmV0dXJuIG5vZGVzLnRydWU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBleHByZXNzaW9uLCBvciB3cmFwIHRoaXMgbm9kZSBpbiBhbiBleHByZXNzaW9uLlxuICAgKlxuICAgKiBAcmV0dXJuIHtFeHByZXNzaW9ufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0V4cHJlc3Npb24oKSB7XG4gICAgaWYgKCdleHByZXNzaW9uJyA9PSB0aGlzLm5vZGVOYW1lKSByZXR1cm4gdGhpcztcbiAgICB2YXIgZXhwciA9IG5ldyBub2Rlcy5FeHByZXNzaW9uO1xuICAgIGV4cHIucHVzaCh0aGlzKTtcbiAgICByZXR1cm4gZXhwcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gZmFsc2UgaWYgYG9wYCBpcyBnZW5lcmFsbHkgbm90IGNvZXJjZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcFxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgc2hvdWxkQ29lcmNlKG9wKSB7XG4gICAgc3dpdGNoIChvcCkge1xuICAgICAgY2FzZSAnaXMgYSc6XG4gICAgICBjYXNlICdpbic6XG4gICAgICBjYXNlICd8fCc6XG4gICAgICBjYXNlICcmJic6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPcGVyYXRlIG9uIGByaWdodGAgd2l0aCB0aGUgZ2l2ZW4gYG9wYC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9wXG4gICAqIEBwYXJhbSB7Tm9kZX0gcmlnaHRcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgb3BlcmF0ZShvcCwgcmlnaHQpIHtcbiAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICBjYXNlICdpcyBhJzpcbiAgICAgICAgaWYgKCdzdHJpbmcnID09IHJpZ2h0LmZpcnN0Lm5vZGVOYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBub2Rlcy5Cb29sZWFuKHRoaXMubm9kZU5hbWUgPT0gcmlnaHQudmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiaXMgYVwiIGV4cGVjdHMgYSBzdHJpbmcsIGdvdCAnICsgcmlnaHQudG9TdHJpbmcoKSk7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgJz09JzpcbiAgICAgICAgcmV0dXJuIG5ldyBub2Rlcy5Cb29sZWFuKHRoaXMuaGFzaCA9PSByaWdodC5oYXNoKTtcbiAgICAgIGNhc2UgJyE9JzpcbiAgICAgICAgcmV0dXJuIG5ldyBub2Rlcy5Cb29sZWFuKHRoaXMuaGFzaCAhPSByaWdodC5oYXNoKTtcbiAgICAgIGNhc2UgJz49JzpcbiAgICAgICAgcmV0dXJuIG5ldyBub2Rlcy5Cb29sZWFuKHRoaXMuaGFzaCA+PSByaWdodC5oYXNoKTtcbiAgICAgIGNhc2UgJzw9JzpcbiAgICAgICAgcmV0dXJuIG5ldyBub2Rlcy5Cb29sZWFuKHRoaXMuaGFzaCA8PSByaWdodC5oYXNoKTtcbiAgICAgIGNhc2UgJz4nOlxuICAgICAgICByZXR1cm4gbmV3IG5vZGVzLkJvb2xlYW4odGhpcy5oYXNoID4gcmlnaHQuaGFzaCk7XG4gICAgICBjYXNlICc8JzpcbiAgICAgICAgcmV0dXJuIG5ldyBub2Rlcy5Cb29sZWFuKHRoaXMuaGFzaCA8IHJpZ2h0Lmhhc2gpO1xuICAgICAgY2FzZSAnfHwnOlxuICAgICAgICByZXR1cm4gdGhpcy50b0Jvb2xlYW4oKS5pc1RydWVcbiAgICAgICAgICA/IHRoaXNcbiAgICAgICAgICA6IHJpZ2h0O1xuICAgICAgY2FzZSAnaW4nOlxuICAgICAgICB2YXIgdmFscyA9IHV0aWxzLnVud3JhcChyaWdodCkubm9kZXNcbiAgICAgICAgICAsIGxlbiA9IHZhbHMgJiYgdmFscy5sZW5ndGhcbiAgICAgICAgICAsIGhhc2ggPSB0aGlzLmhhc2g7XG4gICAgICAgIGlmICghdmFscykgdGhyb3cgbmV3IEVycm9yKCdcImluXCIgZ2l2ZW4gaW52YWxpZCByaWdodC1oYW5kIG9wZXJhbmQsIGV4cGVjdGluZyBhbiBleHByZXNzaW9uJyk7XG5cbiAgICAgICAgLy8gJ3Byb3AnIGluIG9ialxuICAgICAgICBpZiAoMSA9PSBsZW4gJiYgJ29iamVjdCcgPT0gdmFsc1swXS5ub2RlTmFtZSkge1xuICAgICAgICAgIHJldHVybiBuZXcgbm9kZXMuQm9vbGVhbih2YWxzWzBdLmhhcyh0aGlzLmhhc2gpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICBpZiAoaGFzaCA9PSB2YWxzW2ldLmhhc2gpIHtcbiAgICAgICAgICAgIHJldHVybiBub2Rlcy50cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXMuZmFsc2U7XG4gICAgICBjYXNlICcmJic6XG4gICAgICAgIHZhciBhID0gdGhpcy50b0Jvb2xlYW4oKVxuICAgICAgICAgICwgYiA9IHJpZ2h0LnRvQm9vbGVhbigpO1xuICAgICAgICByZXR1cm4gYS5pc1RydWUgJiYgYi5pc1RydWVcbiAgICAgICAgICA/IHJpZ2h0XG4gICAgICAgICAgOiBhLmlzRmFsc2VcbiAgICAgICAgICAgID8gdGhpc1xuICAgICAgICAgICAgOiByaWdodDtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmICgnW10nID09IG9wKSB7XG4gICAgICAgICAgdmFyIG1zZyA9ICdjYW5ub3QgcGVyZm9ybSAnXG4gICAgICAgICAgICArIHRoaXNcbiAgICAgICAgICAgICsgJ1snICsgcmlnaHQgKyAnXSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG1zZyA9ICdjYW5ub3QgcGVyZm9ybSdcbiAgICAgICAgICAgICsgJyAnICsgdGhpc1xuICAgICAgICAgICAgKyAnICcgKyBvcFxuICAgICAgICAgICAgKyAnICcgKyByaWdodDtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRGVmYXVsdCBjb2VyY2lvbiB0aHJvd3MuXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gb3RoZXJcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY29lcmNlKG90aGVyKSB7XG4gICAgaWYgKG90aGVyLm5vZGVOYW1lID09IHRoaXMubm9kZU5hbWUpIHJldHVybiBvdGhlcjtcbiAgICB0aHJvdyBuZXcgQ29lcmNpb25FcnJvcignY2Fubm90IGNvZXJjZSAnICsgb3RoZXIgKyAnIHRvICcgKyB0aGlzLm5vZGVOYW1lKTtcbiAgfVxufTtcblxuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIFJvb3RcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuL25vZGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBSb290IGV4dGVuZHMgTm9kZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBSb290YCBub2RlLlxuICAgKlxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubm9kZXMgPSBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQdXNoIGEgYG5vZGVgIHRvIHRoaXMgYmxvY2suXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBwdXNoKG5vZGUpIHtcbiAgICB0aGlzLm5vZGVzLnB1c2gobm9kZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVuc2hpZnQgYSBgbm9kZWAgdG8gdGhpcyBibG9jay5cbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHVuc2hpZnQobm9kZSkge1xuICAgIHRoaXMubm9kZXMudW5zaGlmdChub2RlKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZSgpIHtcbiAgICB2YXIgY2xvbmUgPSBuZXcgUm9vdCgpO1xuICAgIGNsb25lLmxpbmVubyA9IHRoaXMubGluZW5vO1xuICAgIGNsb25lLmNvbHVtbiA9IHRoaXMuY29sdW1uO1xuICAgIGNsb25lLmZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICB0aGlzLm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIGNsb25lLnB1c2gobm9kZS5jbG9uZShjbG9uZSwgY2xvbmUpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBcInJvb3RcIi5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gJ1tSb290XSc7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX190eXBlOiAnUm9vdCcsXG4gICAgICBub2RlczogdGhpcy5ub2RlcyxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICB9O1xuXG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIE51bGxcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuL25vZGUnKVxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi8nKTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBOdWxsYCBub2RlLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBOdWxsIGV4dGVuZHMgTm9kZSB7XG4gIC8qKlxuICogUmV0dXJuICdOdWxsJy5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICdudWxsJztcbiAgfTtcblxuICBpbnNwZWN0KCkge1xuICAgIHJldHVybiAnbnVsbCc7XG4gIH1cblxuICAvKipcbiAgKiBSZXR1cm4gZmFsc2UuXG4gICpcbiAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAqIEBhcGkgcHVibGljXG4gICovXG5cbiAgdG9Cb29sZWFuKCkge1xuICAgIHJldHVybiBub2Rlcy5mYWxzZTtcbiAgfTtcblxuICAvKipcbiAgKiBDaGVjayBpZiB0aGUgbm9kZSBpcyBhIG51bGwgbm9kZS5cbiAgKlxuICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICogQGFwaSBwdWJsaWNcbiAgKi9cblxuICBnZXQgaXNOdWxsKCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8qKlxuICAqIFJldHVybiBoYXNoLlxuICAqXG4gICogQHJldHVybiB7U3RyaW5nfVxuICAqIEBhcGkgcHVibGljXG4gICovXG5cbiAgZ2V0IGhhc2goKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgLyoqXG4gICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICpcbiAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICogQGFwaSBwdWJsaWNcbiAgKi9cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fdHlwZTogJ051bGwnLFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gIH07XG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIEVhY2hcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuL25vZGUnKVxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi8nKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBFYWNoIGV4dGVuZHMgTm9kZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBFYWNoYCBub2RlIHdpdGggdGhlIGdpdmVuIGB2YWxgIG5hbWUsXG4gICAqIGBrZXlgIG5hbWUsIGBleHByYCwgYW5kIGBibG9ja2AuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2YWxcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge0V4cHJlc3Npb259IGV4cHJcbiAgICogQHBhcmFtIHtCbG9ja30gYmxvY2tcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY29uc3RydWN0b3IodmFsLCBrZXksIGV4cHIsIGJsb2NrKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnZhbCA9IHZhbDtcbiAgICB0aGlzLmtleSA9IGtleTtcbiAgICB0aGlzLmV4cHIgPSBleHByO1xuICAgIHRoaXMuYmxvY2sgPSBibG9jaztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBjbG9uZSBvZiB0aGlzIG5vZGUuXG4gICAqIFxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZShwYXJlbnQpIHtcbiAgICB2YXIgY2xvbmUgPSBuZXcgRWFjaCh0aGlzLnZhbCwgdGhpcy5rZXkpO1xuICAgIGNsb25lLmV4cHIgPSB0aGlzLmV4cHIuY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgY2xvbmUuYmxvY2sgPSB0aGlzLmJsb2NrLmNsb25lKHBhcmVudCwgY2xvbmUpO1xuICAgIGNsb25lLmxpbmVubyA9IHRoaXMubGluZW5vO1xuICAgIGNsb25lLmNvbHVtbiA9IHRoaXMuY29sdW1uO1xuICAgIGNsb25lLmZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX190eXBlOiAnRWFjaCcsXG4gICAgICB2YWw6IHRoaXMudmFsLFxuICAgICAga2V5OiB0aGlzLmtleSxcbiAgICAgIGV4cHI6IHRoaXMuZXhwcixcbiAgICAgIGJsb2NrOiB0aGlzLmJsb2NrLFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gIH07XG5cbn1cbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBJZlxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIElmIGV4dGVuZHMgTm9kZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBJZmAgd2l0aCB0aGUgZ2l2ZW4gYGNvbmRgLlxuICAgKlxuICAgKiBAcGFyYW0ge0V4cHJlc3Npb259IGNvbmRcbiAgICogQHBhcmFtIHtCb29sZWFufEJsb2NrfSBuZWdhdGUsIGJsb2NrXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKGNvbmQsIG5lZ2F0ZSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jb25kID0gY29uZDtcbiAgICB0aGlzLmVsc2VzID0gW107XG4gICAgaWYgKG5lZ2F0ZSAmJiBuZWdhdGUubm9kZU5hbWUpIHtcbiAgICAgIHRoaXMuYmxvY2sgPSBuZWdhdGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubmVnYXRlID0gbmVnYXRlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBjbG9uZSBvZiB0aGlzIG5vZGUuXG4gICAqIFxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZShwYXJlbnQpIHtcbiAgICB2YXIgY2xvbmUgPSBuZXcgSWYoKTtcbiAgICBjbG9uZS5jb25kID0gdGhpcy5jb25kLmNsb25lKHBhcmVudCwgY2xvbmUpO1xuICAgIGNsb25lLmJsb2NrID0gdGhpcy5ibG9jay5jbG9uZShwYXJlbnQsIGNsb25lKTtcbiAgICBjbG9uZS5lbHNlcyA9IHRoaXMuZWxzZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLmNsb25lKHBhcmVudCwgY2xvbmUpOyB9KTtcbiAgICBjbG9uZS5uZWdhdGUgPSB0aGlzLm5lZ2F0ZTtcbiAgICBjbG9uZS5wb3N0Zml4ID0gdGhpcy5wb3N0Zml4O1xuICAgIGNsb25lLmxpbmVubyA9IHRoaXMubGluZW5vO1xuICAgIGNsb25lLmNvbHVtbiA9IHRoaXMuY29sdW1uO1xuICAgIGNsb25lLmZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX190eXBlOiAnSWYnLFxuICAgICAgY29uZDogdGhpcy5jb25kLFxuICAgICAgYmxvY2s6IHRoaXMuYmxvY2ssXG4gICAgICBlbHNlczogdGhpcy5lbHNlcyxcbiAgICAgIG5lZ2F0ZTogdGhpcy5uZWdhdGUsXG4gICAgICBwb3N0Zml4OiB0aGlzLnBvc3RmaXgsXG4gICAgICBsaW5lbm86IHRoaXMubGluZW5vLFxuICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbixcbiAgICAgIGZpbGVuYW1lOiB0aGlzLmZpbGVuYW1lXG4gICAgfTtcbiAgfTtcbn07XG4iLAogICJcbi8qIVxuICogU3R5bHVzIC0gQ2FsbFxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIENhbGwgZXh0ZW5kcyBOb2RlIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYENhbGxgIHdpdGggYG5hbWVgIGFuZCBgYXJnc2AuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7RXhwcmVzc2lvbn0gYXJnc1xuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3RvcihuYW1lLCBhcmdzKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuYXJncyA9IGFyZ3M7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKiBcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2xvbmUocGFyZW50KSB7XG4gICAgdmFyIGNsb25lID0gbmV3IENhbGwodGhpcy5uYW1lKTtcbiAgICBjbG9uZS5hcmdzID0gdGhpcy5hcmdzLmNsb25lKHBhcmVudCwgY2xvbmUpO1xuICAgIGlmICh0aGlzLmJsb2NrKSBjbG9uZS5ibG9jayA9IHRoaXMuYmxvY2suY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIDxuYW1lPihwYXJhbTEsIHBhcmFtMiwgLi4uKS5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b1N0cmluZygpIHtcbiAgICB2YXIgYXJncyA9IHRoaXMuYXJncy5ub2Rlcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHZhciBzdHIgPSBub2RlLnRvU3RyaW5nKCk7XG4gICAgICByZXR1cm4gc3RyLnNsaWNlKDEsIHN0ci5sZW5ndGggLSAxKTtcbiAgICB9KS5qb2luKCcsICcpO1xuXG4gICAgcmV0dXJuIHRoaXMubmFtZSArICcoJyArIGFyZ3MgKyAnKSc7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvSlNPTigpIHtcbiAgICB2YXIganNvbiA9IHtcbiAgICAgIF9fdHlwZTogJ0NhbGwnLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgYXJnczogdGhpcy5hcmdzLFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gICAgaWYgKHRoaXMuYmxvY2spIGpzb24uYmxvY2sgPSB0aGlzLmJsb2NrO1xuICAgIHJldHVybiBqc29uO1xuICB9O1xufTtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBVbmFyeU9wXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBOb2RlID0gcmVxdWlyZSgnLi9ub2RlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgVW5hcnlPcCBleHRlbmRzIE5vZGUge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgVW5hcnlPcGAgd2l0aCBgb3BgLCBhbmQgYGV4cHJgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3BcbiAgICogQHBhcmFtIHtOb2RlfSBleHByXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKG9wLCBleHByKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm9wID0gb3A7XG4gICAgdGhpcy5leHByID0gZXhwcjtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGNsb25lIG9mIHRoaXMgbm9kZS5cbiAgICogXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNsb25lKHBhcmVudCkge1xuICAgIHZhciBjbG9uZSA9IG5ldyBVbmFyeU9wKHRoaXMub3ApO1xuICAgIGNsb25lLmV4cHIgPSB0aGlzLmV4cHIuY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdVbmFyeU9wJyxcbiAgICAgIG9wOiB0aGlzLm9wLFxuICAgICAgZXhwcjogdGhpcy5leHByLFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gIH07XG5cbn07XG4iLAogICJcbi8qIVxuICogU3R5bHVzIC0gQmluT3BcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuL25vZGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBCaW5PcCBleHRlbmRzIE5vZGUge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgQmluT3BgIHdpdGggYG9wYCwgYGxlZnRgIGFuZCBgcmlnaHRgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3BcbiAgICogQHBhcmFtIHtOb2RlfSBsZWZ0XG4gICAqIEBwYXJhbSB7Tm9kZX0gcmlnaHRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY29uc3RydWN0b3Iob3AsIGxlZnQsIHJpZ2h0KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm9wID0gb3A7XG4gICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKiBcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2xvbmUocGFyZW50KSB7XG4gICAgdmFyIGNsb25lID0gbmV3IEJpbk9wKHRoaXMub3ApO1xuICAgIGNsb25lLmxlZnQgPSB0aGlzLmxlZnQuY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgY2xvbmUucmlnaHQgPSB0aGlzLnJpZ2h0ICYmIHRoaXMucmlnaHQuY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIGlmICh0aGlzLnZhbCkgY2xvbmUudmFsID0gdGhpcy52YWwuY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gPGxlZnQ+IDxvcD4gPHJpZ2h0PlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5sZWZ0LnRvU3RyaW5nKCkgKyAnICcgKyB0aGlzLm9wICsgJyAnICsgdGhpcy5yaWdodC50b1N0cmluZygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0pTT04oKSB7XG4gICAgdmFyIGpzb24gPSB7XG4gICAgICBfX3R5cGU6ICdCaW5PcCcsXG4gICAgICBsZWZ0OiB0aGlzLmxlZnQsXG4gICAgICByaWdodDogdGhpcy5yaWdodCxcbiAgICAgIG9wOiB0aGlzLm9wLFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gICAgaWYgKHRoaXMudmFsKSBqc29uLnZhbCA9IHRoaXMudmFsO1xuICAgIHJldHVybiBqc29uO1xuICB9O1xuXG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIFRlcm5hcnlcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuL25vZGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBUZXJuYXJ5IGV4dGVuZHMgTm9kZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBUZXJuYXJ5YCB3aXRoIGBjb25kYCwgYHRydWVFeHByYCBhbmQgYGZhbHNlRXhwcmAuXG4gICAqXG4gICAqIEBwYXJhbSB7RXhwcmVzc2lvbn0gY29uZFxuICAgKiBAcGFyYW0ge0V4cHJlc3Npb259IHRydWVFeHByXG4gICAqIEBwYXJhbSB7RXhwcmVzc2lvbn0gZmFsc2VFeHByXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKGNvbmQsIHRydWVFeHByLCBmYWxzZUV4cHIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuY29uZCA9IGNvbmQ7XG4gICAgdGhpcy50cnVlRXhwciA9IHRydWVFeHByO1xuICAgIHRoaXMuZmFsc2VFeHByID0gZmFsc2VFeHByO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGNsb25lIG9mIHRoaXMgbm9kZS5cbiAgICogXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNsb25lKHBhcmVudCkge1xuICAgIHZhciBjbG9uZSA9IG5ldyBUZXJuYXJ5KCk7XG4gICAgY2xvbmUuY29uZCA9IHRoaXMuY29uZC5jbG9uZShwYXJlbnQsIGNsb25lKTtcbiAgICBjbG9uZS50cnVlRXhwciA9IHRoaXMudHJ1ZUV4cHIuY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgY2xvbmUuZmFsc2VFeHByID0gdGhpcy5mYWxzZUV4cHIuY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdUZXJuYXJ5JyxcbiAgICAgIGNvbmQ6IHRoaXMuY29uZCxcbiAgICAgIHRydWVFeHByOiB0aGlzLnRydWVFeHByLFxuICAgICAgZmFsc2VFeHByOiB0aGlzLmZhbHNlRXhwcixcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICB9O1xufTtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBCbG9ja1xuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEJsb2NrIGV4dGVuZHMgTm9kZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBCbG9ja2Agbm9kZSB3aXRoIGBwYXJlbnRgIEJsb2NrLlxuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSBwYXJlbnRcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY29uc3RydWN0b3IocGFyZW50LCBub2RlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm5vZGVzID0gW107XG4gICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICB0aGlzLnNjb3BlID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGlzIGJsb2NrIGhhcyBwcm9wZXJ0aWVzLi5cbiAgICpcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZ2V0IGhhc1Byb3BlcnRpZXMoKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRoaXMubm9kZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIGlmICgncHJvcGVydHknID09IHRoaXMubm9kZXNbaV0ubm9kZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGlzIGJsb2NrIGhhcyBAbWVkaWEgbm9kZXMuXG4gICAqXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGdldCBoYXNNZWRpYSgpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5ub2Rlcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgdmFyIG5vZGVOYW1lID0gdGhpcy5ub2Rlc1tpXS5ub2RlTmFtZTtcbiAgICAgIGlmICgnbWVkaWEnID09IG5vZGVOYW1lKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoaXMgYmxvY2sgaXMgZW1wdHkuXG4gICAqXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGdldCBpc0VtcHR5KCkge1xuICAgIHJldHVybiAhdGhpcy5ub2Rlcy5sZW5ndGggfHwgdGhpcy5ub2Rlcy5ldmVyeShmdW5jdGlvbiAobikgeyByZXR1cm4gbi5ub2RlTmFtZSA9PSAnY29tbWVudCcgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGNsb25lIG9mIHRoaXMgbm9kZS5cbiAgICogXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNsb25lKHBhcmVudCwgbm9kZSkge1xuICAgIHBhcmVudCA9IHBhcmVudCB8fCB0aGlzLnBhcmVudDtcbiAgICB2YXIgY2xvbmUgPSBuZXcgQmxvY2socGFyZW50LCBub2RlIHx8IHRoaXMubm9kZSk7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIGNsb25lLnNjb3BlID0gdGhpcy5zY29wZTtcbiAgICB0aGlzLm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIGNsb25lLnB1c2gobm9kZS5jbG9uZShjbG9uZSwgY2xvbmUpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFB1c2ggYSBgbm9kZWAgdG8gdGhpcyBibG9jay5cbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHB1c2gobm9kZSkge1xuICAgIHRoaXMubm9kZXMucHVzaChub2RlKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdCbG9jaycsXG4gICAgICAvLyBwYXJlbnQ6IHRoaXMucGFyZW50LFxuICAgICAgLy8gbm9kZTogdGhpcy5ub2RlLFxuICAgICAgc2NvcGU6IHRoaXMuc2NvcGUsXG4gICAgICBsaW5lbm86IHRoaXMubGluZW5vLFxuICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbixcbiAgICAgIGZpbGVuYW1lOiB0aGlzLmZpbGVuYW1lLFxuICAgICAgbm9kZXM6IHRoaXMubm9kZXNcbiAgICB9O1xuICB9O1xuXG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIFVuaXRcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuL25vZGUnKVxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi8nKTtcblxuLyoqXG4gKiBVbml0IGNvbnZlcnNpb24gdGFibGUuXG4gKi9cblxudmFyIEZBQ1RPUl9UQUJMRSA9IHtcbiAgJ21tJzogeyB2YWw6IDEsIGxhYmVsOiAnbW0nIH0sXG4gICdjbSc6IHsgdmFsOiAxMCwgbGFiZWw6ICdtbScgfSxcbiAgJ2luJzogeyB2YWw6IDI1LjQsIGxhYmVsOiAnbW0nIH0sXG4gICdwdCc6IHsgdmFsOiAyNS40IC8gNzIsIGxhYmVsOiAnbW0nIH0sXG4gICdtcyc6IHsgdmFsOiAxLCBsYWJlbDogJ21zJyB9LFxuICAncyc6IHsgdmFsOiAxMDAwLCBsYWJlbDogJ21zJyB9LFxuICAnSHonOiB7IHZhbDogMSwgbGFiZWw6ICdIeicgfSxcbiAgJ2tIeic6IHsgdmFsOiAxMDAwLCBsYWJlbDogJ0h6JyB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFVuaXQgZXh0ZW5kcyBOb2RlIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYFVuaXRgIHdpdGggdGhlIGdpdmVuIGB2YWxgIGFuZCB1bml0IGB0eXBlYFxuICAgKiBzdWNoIGFzIFwicHhcIiwgXCJwdFwiLCBcImluXCIsIGV0Yy5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHZhbFxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3Rvcih2YWwsIHR5cGUpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMudmFsID0gdmFsO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIEJvb2xlYW4gYmFzZWQgb24gdGhlIHVuaXQgdmFsdWUuXG4gICAqXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvQm9vbGVhbigpIHtcbiAgICByZXR1cm4gbmV3IG5vZGVzLkJvb2xlYW4odGhpcy50eXBlXG4gICAgICA/IHRydWVcbiAgICAgIDogdGhpcy52YWwpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gdW5pdCBzdHJpbmcuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsICsgKHRoaXMudHlwZSB8fCAnJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGNsb25lIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2xvbmUoKSB7XG4gICAgdmFyIGNsb25lID0gbmV3IFVuaXQodGhpcy52YWwsIHRoaXMudHlwZSk7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdVbml0JyxcbiAgICAgIHZhbDogdGhpcy52YWwsXG4gICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICBsaW5lbm86IHRoaXMubGluZW5vLFxuICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbixcbiAgICAgIGZpbGVuYW1lOiB0aGlzLmZpbGVuYW1lXG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogT3BlcmF0ZSBvbiBgcmlnaHRgIHdpdGggdGhlIGdpdmVuIGBvcGAuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcFxuICAgKiBAcGFyYW0ge05vZGV9IHJpZ2h0XG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIG9wZXJhdGUob3AsIHJpZ2h0KSB7XG4gICAgdmFyIHR5cGUgPSB0aGlzLnR5cGUgfHwgcmlnaHQuZmlyc3QudHlwZTtcblxuICAgIC8vIHN3YXAgY29sb3JcbiAgICBpZiAoJ3JnYmEnID09IHJpZ2h0Lm5vZGVOYW1lIHx8ICdoc2xhJyA9PSByaWdodC5ub2RlTmFtZSkge1xuICAgICAgcmV0dXJuIHJpZ2h0Lm9wZXJhdGUob3AsIHRoaXMpO1xuICAgIH1cblxuICAgIC8vIG9wZXJhdGVcbiAgICBpZiAodGhpcy5zaG91bGRDb2VyY2Uob3ApKSB7XG4gICAgICByaWdodCA9IHJpZ2h0LmZpcnN0O1xuICAgICAgLy8gcGVyY2VudGFnZXNcbiAgICAgIGlmICgnJScgIT0gdGhpcy50eXBlICYmICgnLScgPT0gb3AgfHwgJysnID09IG9wKSAmJiAnJScgPT0gcmlnaHQudHlwZSkge1xuICAgICAgICByaWdodCA9IG5ldyBVbml0KHRoaXMudmFsICogKHJpZ2h0LnZhbCAvIDEwMCksICclJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByaWdodCA9IHRoaXMuY29lcmNlKHJpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgc3dpdGNoIChvcCkge1xuICAgICAgICBjYXNlICctJzpcbiAgICAgICAgICByZXR1cm4gbmV3IFVuaXQodGhpcy52YWwgLSByaWdodC52YWwsIHR5cGUpO1xuICAgICAgICBjYXNlICcrJzpcbiAgICAgICAgICAvLyBrZXlmcmFtZXMgaW50ZXJwb2xhdGlvblxuICAgICAgICAgIHR5cGUgPSB0eXBlIHx8IChyaWdodC50eXBlID09ICclJyAmJiByaWdodC50eXBlKTtcbiAgICAgICAgICByZXR1cm4gbmV3IFVuaXQodGhpcy52YWwgKyByaWdodC52YWwsIHR5cGUpO1xuICAgICAgICBjYXNlICcvJzpcbiAgICAgICAgICByZXR1cm4gbmV3IFVuaXQodGhpcy52YWwgLyByaWdodC52YWwsIHR5cGUpO1xuICAgICAgICBjYXNlICcqJzpcbiAgICAgICAgICByZXR1cm4gbmV3IFVuaXQodGhpcy52YWwgKiByaWdodC52YWwsIHR5cGUpO1xuICAgICAgICBjYXNlICclJzpcbiAgICAgICAgICByZXR1cm4gbmV3IFVuaXQodGhpcy52YWwgJSByaWdodC52YWwsIHR5cGUpO1xuICAgICAgICBjYXNlICcqKic6XG4gICAgICAgICAgcmV0dXJuIG5ldyBVbml0KE1hdGgucG93KHRoaXMudmFsLCByaWdodC52YWwpLCB0eXBlKTtcbiAgICAgICAgY2FzZSAnLi4nOlxuICAgICAgICBjYXNlICcuLi4nOlxuICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMudmFsXG4gICAgICAgICAgICAsIGVuZCA9IHJpZ2h0LnZhbFxuICAgICAgICAgICAgLCBleHByID0gbmV3IG5vZGVzLkV4cHJlc3Npb25cbiAgICAgICAgICAgICwgaW5jbHVzaXZlID0gJy4uJyA9PSBvcDtcbiAgICAgICAgICBpZiAoc3RhcnQgPCBlbmQpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgZXhwci5wdXNoKG5ldyBub2Rlcy5Vbml0KHN0YXJ0KSk7XG4gICAgICAgICAgICB9IHdoaWxlIChpbmNsdXNpdmUgPyArK3N0YXJ0IDw9IGVuZCA6ICsrc3RhcnQgPCBlbmQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIGV4cHIucHVzaChuZXcgbm9kZXMuVW5pdChzdGFydCkpO1xuICAgICAgICAgICAgfSB3aGlsZSAoaW5jbHVzaXZlID8gLS1zdGFydCA+PSBlbmQgOiAtLXN0YXJ0ID4gZW5kKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGV4cHI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN1cGVyLm9wZXJhdGUob3AsIHJpZ2h0KTtcbiAgfTtcblxuICAvKipcbiAgICogQ29lcmNlIGBvdGhlcmAgdW5pdCB0byB0aGUgc2FtZSB0eXBlIGFzIGB0aGlzYCB1bml0LlxuICAgKlxuICAgKiBTdXBwb3J0czpcbiAgICpcbiAgICogICAgbW0gLT4gY20gfCBpblxuICAgKiAgICBjbSAtPiBtbSB8IGluXG4gICAqICAgIGluIC0+IG1tIHwgY21cbiAgICpcbiAgICogICAgbXMgLT4gc1xuICAgKiAgICBzICAtPiBtc1xuICAgKlxuICAgKiAgICBIeiAgLT4ga0h6XG4gICAqICAgIGtIeiAtPiBIelxuICAgKlxuICAgKiBAcGFyYW0ge1VuaXR9IG90aGVyXG4gICAqIEByZXR1cm4ge1VuaXR9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvZXJjZShvdGhlcikge1xuICAgIGlmICgndW5pdCcgPT0gb3RoZXIubm9kZU5hbWUpIHtcbiAgICAgIHZhciBhID0gdGhpc1xuICAgICAgICAsIGIgPSBvdGhlclxuICAgICAgICAsIGZhY3RvckEgPSBGQUNUT1JfVEFCTEVbYS50eXBlXVxuICAgICAgICAsIGZhY3RvckIgPSBGQUNUT1JfVEFCTEVbYi50eXBlXTtcblxuICAgICAgaWYgKGZhY3RvckEgJiYgZmFjdG9yQiAmJiAoZmFjdG9yQS5sYWJlbCA9PSBmYWN0b3JCLmxhYmVsKSkge1xuICAgICAgICB2YXIgYlZhbCA9IGIudmFsICogKGZhY3RvckIudmFsIC8gZmFjdG9yQS52YWwpO1xuICAgICAgICByZXR1cm4gbmV3IG5vZGVzLlVuaXQoYlZhbCwgYS50eXBlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgbm9kZXMuVW5pdChiLnZhbCwgYS50eXBlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCdzdHJpbmcnID09IG90aGVyLm5vZGVOYW1lKSB7XG4gICAgICAvLyBrZXlmcmFtZXMgaW50ZXJwb2xhdGlvblxuICAgICAgaWYgKCclJyA9PSBvdGhlci52YWwpIHJldHVybiBuZXcgbm9kZXMuVW5pdCgwLCAnJScpO1xuICAgICAgdmFyIHZhbCA9IHBhcnNlRmxvYXQob3RoZXIudmFsKTtcbiAgICAgIGlmIChpc05hTih2YWwpKSBzdXBlci5jb2VyY2Uob3RoZXIpO1xuICAgICAgcmV0dXJuIG5ldyBub2Rlcy5Vbml0KHZhbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdXBlci5jb2VyY2Uob3RoZXIpO1xuICAgIH1cbiAgfTtcbn07XG4iLAogICIvKiFcbiAqIFN0eWx1cyAtIFN0cmluZ1xuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpXG4gICwgc3ByaW50ZiA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucycpLnNcbiAgLCB1dGlscyA9IHJlcXVpcmUoJy4uL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4vJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgU3RyaW5nIGV4dGVuZHMgTm9kZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBTdHJpbmdgIHdpdGggdGhlIGdpdmVuIGB2YWxgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBxdW90ZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3Rvcih2YWwsIHF1b3RlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnZhbCA9IHZhbDtcbiAgICB0aGlzLnN0cmluZyA9IHZhbDtcbiAgICB0aGlzLnByZWZpeGVkID0gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBxdW90ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMucXVvdGUgPSBcIidcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5xdW90ZSA9IHF1b3RlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gcXVvdGVkIHN0cmluZy5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5xdW90ZSArIHRoaXMudmFsICsgdGhpcy5xdW90ZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKiBcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2xvbmUoKSB7XG4gICAgdmFyIGNsb25lID0gbmV3IFN0cmluZyh0aGlzLnZhbCwgdGhpcy5xdW90ZSk7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdTdHJpbmcnLFxuICAgICAgdmFsOiB0aGlzLnZhbCxcbiAgICAgIHF1b3RlOiB0aGlzLnF1b3RlLFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBCb29sZWFuIGJhc2VkIG9uIHRoZSBsZW5ndGggb2YgdGhpcyBzdHJpbmcuXG4gICAqXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvQm9vbGVhbigpIHtcbiAgICByZXR1cm4gbmV3IG5vZGVzLkJvb2xlYW4odGhpcy52YWwubGVuZ3RoKTtcbiAgfTtcblxuICAvKipcbiAgICogQ29lcmNlIGBvdGhlcmAgdG8gYSBzdHJpbmcuXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gb3RoZXJcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb2VyY2Uob3RoZXIpIHtcbiAgICBzd2l0Y2ggKG90aGVyLm5vZGVOYW1lKSB7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgICBjYXNlICdleHByZXNzaW9uJzpcbiAgICAgICAgcmV0dXJuIG5ldyBTdHJpbmcob3RoZXIubm9kZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29lcmNlKG5vZGUpLnZhbDtcbiAgICAgICAgfSwgdGhpcykuam9pbignICcpKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBuZXcgU3RyaW5nKG90aGVyLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogT3BlcmF0ZSBvbiBgcmlnaHRgIHdpdGggdGhlIGdpdmVuIGBvcGAuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcFxuICAgKiBAcGFyYW0ge05vZGV9IHJpZ2h0XG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIG9wZXJhdGUob3AsIHJpZ2h0KSB7XG4gICAgc3dpdGNoIChvcCkge1xuICAgICAgY2FzZSAnJSc6XG4gICAgICAgIHZhciBleHByID0gbmV3IG5vZGVzLkV4cHJlc3Npb247XG4gICAgICAgIGV4cHIucHVzaCh0aGlzKTtcblxuICAgICAgICAvLyBjb25zdHJ1Y3RhcmdzXG4gICAgICAgIHZhciBhcmdzID0gJ2V4cHJlc3Npb24nID09IHJpZ2h0Lm5vZGVOYW1lXG4gICAgICAgICAgPyB1dGlscy51bndyYXAocmlnaHQpLm5vZGVzXG4gICAgICAgICAgOiBbcmlnaHRdO1xuXG4gICAgICAgIC8vIGFwcGx5XG4gICAgICAgIHJldHVybiBzcHJpbnRmLmFwcGx5KG51bGwsIFtleHByXS5jb25jYXQoYXJncykpO1xuICAgICAgY2FzZSAnKyc6XG4gICAgICAgIHZhciBleHByID0gbmV3IG5vZGVzLkV4cHJlc3Npb247XG4gICAgICAgIGV4cHIucHVzaChuZXcgU3RyaW5nKHRoaXMudmFsICsgdGhpcy5jb2VyY2UocmlnaHQpLnZhbCkpO1xuICAgICAgICByZXR1cm4gZXhwcjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBzdXBlci5vcGVyYXRlKG9wLCByaWdodCk7XG4gICAgfVxuICB9O1xuXG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIEhTTEFcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuL25vZGUnKVxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi8nKTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IGBIU0xBYCB3aXRoIHRoZSBnaXZlbiBoLHMsbCxhIGNvbXBvbmVudCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IGhcbiAqIEBwYXJhbSB7TnVtYmVyfSBzXG4gKiBAcGFyYW0ge051bWJlcn0gbFxuICogQHBhcmFtIHtOdW1iZXJ9IGFcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY2xhc3MgSFNMQSBleHRlbmRzIE5vZGUge1xuICBjb25zdHJ1Y3RvcihoLCBzLCBsLCBhKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmggPSBjbGFtcERlZ3JlZXMoaCk7XG4gICAgdGhpcy5zID0gY2xhbXBQZXJjZW50YWdlKHMpO1xuICAgIHRoaXMubCA9IGNsYW1wUGVyY2VudGFnZShsKTtcbiAgICB0aGlzLmEgPSBjbGFtcEFscGhhKGEpO1xuICAgIHRoaXMuaHNsYSA9IHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGhzbGEobixuLG4sbikuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICdoc2xhKCdcbiAgICAgICsgdGhpcy5oICsgJywnXG4gICAgICArIHRoaXMucy50b0ZpeGVkKDApICsgJyUsJ1xuICAgICAgKyB0aGlzLmwudG9GaXhlZCgwKSArICclLCdcbiAgICAgICsgdGhpcy5hICsgJyknO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBjbG9uZSBvZiB0aGlzIG5vZGUuXG4gICAqIFxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZShwYXJlbnQpIHtcbiAgICB2YXIgY2xvbmUgPSBuZXcgSFNMQShcbiAgICAgIHRoaXMuaFxuICAgICAgLCB0aGlzLnNcbiAgICAgICwgdGhpcy5sXG4gICAgICAsIHRoaXMuYSk7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdIU0xBJyxcbiAgICAgIGg6IHRoaXMuaCxcbiAgICAgIHM6IHRoaXMucyxcbiAgICAgIGw6IHRoaXMubCxcbiAgICAgIGE6IHRoaXMuYSxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gcmdiYSBgUkdCQWAgcmVwcmVzZW50YXRpb24uXG4gICAqXG4gICAqIEByZXR1cm4ge1JHQkF9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGdldCByZ2JhKCkge1xuICAgIHJldHVybiBub2Rlcy5SR0JBLmZyb21IU0xBKHRoaXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gaGFzaC5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBnZXQgaGFzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZ2JhLnRvU3RyaW5nKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCBoLHMsbCB0byB0aGUgY3VycmVudCBjb21wb25lbnQgdmFsdWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gaFxuICAgKiBAcGFyYW0ge051bWJlcn0gc1xuICAgKiBAcGFyYW0ge051bWJlcn0gbFxuICAgKiBAcmV0dXJuIHtIU0xBfSBuZXcgbm9kZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhZGQoaCwgcywgbCkge1xuICAgIHJldHVybiBuZXcgSFNMQShcbiAgICAgIHRoaXMuaCArIGhcbiAgICAgICwgdGhpcy5zICsgc1xuICAgICAgLCB0aGlzLmwgKyBsXG4gICAgICAsIHRoaXMuYSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN1YnRyYWN0IGgscyxsIGZyb20gdGhlIGN1cnJlbnQgY29tcG9uZW50IHZhbHVlcy5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGhcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHNcbiAgICogQHBhcmFtIHtOdW1iZXJ9IGxcbiAgICogQHJldHVybiB7SFNMQX0gbmV3IG5vZGVcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgc3ViKGgsIHMsIGwpIHtcbiAgICByZXR1cm4gdGhpcy5hZGQoLWgsIC1zLCAtbCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE9wZXJhdGUgb24gYHJpZ2h0YCB3aXRoIHRoZSBnaXZlbiBgb3BgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3BcbiAgICogQHBhcmFtIHtOb2RlfSByaWdodFxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBvcGVyYXRlKG9wLCByaWdodCkge1xuICAgIHN3aXRjaCAob3ApIHtcbiAgICAgIGNhc2UgJz09JzpcbiAgICAgIGNhc2UgJyE9JzpcbiAgICAgIGNhc2UgJzw9JzpcbiAgICAgIGNhc2UgJz49JzpcbiAgICAgIGNhc2UgJzwnOlxuICAgICAgY2FzZSAnPic6XG4gICAgICBjYXNlICdpcyBhJzpcbiAgICAgIGNhc2UgJ3x8JzpcbiAgICAgIGNhc2UgJyYmJzpcbiAgICAgICAgcmV0dXJuIHRoaXMucmdiYS5vcGVyYXRlKG9wLCByaWdodCk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGhpcy5yZ2JhLm9wZXJhdGUob3AsIHJpZ2h0KS5oc2xhO1xuICAgIH1cbiAgfTtcblxuXG4gIC8qKlxuICAgKiBBZGp1c3QgbGlnaHRuZXNzIGJ5IGBwZXJjZW50YC5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IHBlcmNlbnRcbiAgICogQHJldHVybiB7SFNMQX0gZm9yIGNoYWluaW5nXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFkanVzdExpZ2h0bmVzcyhwZXJjZW50KSB7XG4gICAgdGhpcy5sID0gY2xhbXBQZXJjZW50YWdlKHRoaXMubCArIHRoaXMubCAqIChwZXJjZW50IC8gMTAwKSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkanVzdCBodWUgYnkgYGRlZ2AuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBkZWdcbiAgICogQHJldHVybiB7SFNMQX0gZm9yIGNoYWluaW5nXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFkanVzdEh1ZShkZWcpIHtcbiAgICB0aGlzLmggPSBjbGFtcERlZ3JlZXModGhpcy5oICsgZGVnKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYEhTTEFgIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBgY29sb3JgLlxuICAgKlxuICAgKiBAcGFyYW0ge1JHQkF9IGNvbG9yXG4gICAqIEByZXR1cm4ge0hTTEF9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHN0YXRpYyBmcm9tUkdCQShyZ2JhKSB7XG4gICAgdmFyIHIgPSByZ2JhLnIgLyAyNTVcbiAgICAgICwgZyA9IHJnYmEuZyAvIDI1NVxuICAgICAgLCBiID0gcmdiYS5iIC8gMjU1XG4gICAgICAsIGEgPSByZ2JhLmE7XG5cbiAgICB2YXIgbWluID0gTWF0aC5taW4ociwgZywgYilcbiAgICAgICwgbWF4ID0gTWF0aC5tYXgociwgZywgYilcbiAgICAgICwgbCA9IChtYXggKyBtaW4pIC8gMlxuICAgICAgLCBkID0gbWF4IC0gbWluXG4gICAgICAsIGgsIHM7XG5cbiAgICBzd2l0Y2ggKG1heCkge1xuICAgICAgY2FzZSBtaW46IGggPSAwOyBicmVhaztcbiAgICAgIGNhc2UgcjogaCA9IDYwICogKGcgLSBiKSAvIGQ7IGJyZWFrO1xuICAgICAgY2FzZSBnOiBoID0gNjAgKiAoYiAtIHIpIC8gZCArIDEyMDsgYnJlYWs7XG4gICAgICBjYXNlIGI6IGggPSA2MCAqIChyIC0gZykgLyBkICsgMjQwOyBicmVhaztcbiAgICB9XG5cbiAgICBpZiAobWF4ID09IG1pbikge1xuICAgICAgcyA9IDA7XG4gICAgfSBlbHNlIGlmIChsIDwgLjUpIHtcbiAgICAgIHMgPSBkIC8gKDIgKiBsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcyA9IGQgLyAoMiAtIDIgKiBsKTtcbiAgICB9XG5cbiAgICBoICU9IDM2MDtcbiAgICBzICo9IDEwMDtcbiAgICBsICo9IDEwMDtcblxuICAgIHJldHVybiBuZXcgSFNMQShoLCBzLCBsLCBhKTtcbiAgfTtcbn07XG5cbi8qKlxuICogQ2xhbXAgZGVncmVlIGBuYCA+PSAwIGFuZCA8PSAzNjAuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG5cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNsYW1wRGVncmVlcyhuKSB7XG4gIG4gPSBuICUgMzYwO1xuICByZXR1cm4gbiA+PSAwID8gbiA6IDM2MCArIG47XG59XG5cbi8qKlxuICogQ2xhbXAgcGVyY2VudGFnZSBgbmAgPj0gMCBhbmQgPD0gMTAwLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjbGFtcFBlcmNlbnRhZ2Uobikge1xuICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4obiwgMTAwKSk7XG59XG5cbi8qKlxuICogQ2xhbXAgYWxwaGEgYG5gID49IDAgYW5kIDw9IDEuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG5cbiAqIEByZXR1cm4ge051bWJlcn1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNsYW1wQWxwaGEobikge1xuICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4obiwgMSkpO1xufVxuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIFJHQkFcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuL25vZGUnKVxuICAsIEhTTEEgPSByZXF1aXJlKCcuL2hzbGEnKVxuICAsIGZ1bmN0aW9ucyA9IHJlcXVpcmUoJy4uL2Z1bmN0aW9ucycpXG4gICwgYWRqdXN0ID0gZnVuY3Rpb25zLmFkanVzdFxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi8nKTtcblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gY2xhc3MgUkdCQSBleHRlbmRzIE5vZGUge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgUkdCQWAgd2l0aCB0aGUgZ2l2ZW4gcixnLGIsYSBjb21wb25lbnQgdmFsdWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gclxuICAgKiBAcGFyYW0ge051bWJlcn0gZ1xuICAgKiBAcGFyYW0ge051bWJlcn0gYlxuICAgKiBAcGFyYW0ge051bWJlcn0gYVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3RvcihyLCBnLCBiLCBhKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnIgPSBjbGFtcChyKTtcbiAgICB0aGlzLmcgPSBjbGFtcChnKTtcbiAgICB0aGlzLmIgPSBjbGFtcChiKTtcbiAgICB0aGlzLmEgPSBjbGFtcEFscGhhKGEpO1xuICAgIHRoaXMubmFtZSA9ICcnO1xuICAgIHRoaXMucmdiYSA9IHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGFuIGBSR0JBYCB3aXRob3V0IGNsYW1waW5nIHZhbHVlcy5cbiAgICogXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBnXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBiXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhXG4gICAqIEByZXR1cm4ge1JHQkF9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHN0YXRpYyB3aXRob3V0Q2xhbXBpbmcociwgZywgYiwgYSkge1xuICAgIHZhciByZ2JhID0gbmV3IFJHQkEoMCwgMCwgMCwgMCk7XG4gICAgcmdiYS5yID0gcjtcbiAgICByZ2JhLmcgPSBnO1xuICAgIHJnYmEuYiA9IGI7XG4gICAgcmdiYS5hID0gYTtcbiAgICByZXR1cm4gcmdiYTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKiBcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2xvbmUoKSB7XG4gICAgdmFyIGNsb25lID0gbmV3IFJHQkEoXG4gICAgICB0aGlzLnJcbiAgICAgICwgdGhpcy5nXG4gICAgICAsIHRoaXMuYlxuICAgICAgLCB0aGlzLmEpO1xuICAgIGNsb25lLnJhdyA9IHRoaXMucmF3O1xuICAgIGNsb25lLm5hbWUgPSB0aGlzLm5hbWU7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdSR0JBJyxcbiAgICAgIHI6IHRoaXMucixcbiAgICAgIGc6IHRoaXMuZyxcbiAgICAgIGI6IHRoaXMuYixcbiAgICAgIGE6IHRoaXMuYSxcbiAgICAgIHJhdzogdGhpcy5yYXcsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICBsaW5lbm86IHRoaXMubGluZW5vLFxuICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbixcbiAgICAgIGZpbGVuYW1lOiB0aGlzLmZpbGVuYW1lXG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRydWUuXG4gICAqXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvQm9vbGVhbigpIHtcbiAgICByZXR1cm4gbm9kZXMudHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGBIU0xBYCByZXByZXNlbnRhdGlvbi5cbiAgICpcbiAgICogQHJldHVybiB7SFNMQX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZ2V0IGhzbGEoKSB7XG4gICAgcmV0dXJuIEhTTEEuZnJvbVJHQkEodGhpcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBoYXNoLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGdldCBoYXNoKCkge1xuICAgIHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCByLGcsYixhIHRvIHRoZSBjdXJyZW50IGNvbXBvbmVudCB2YWx1ZXMuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSByXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBnXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBiXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBhXG4gICAqIEByZXR1cm4ge1JHQkF9IG5ldyBub2RlXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGFkZChyLCBnLCBiLCBhKSB7XG4gICAgcmV0dXJuIG5ldyBSR0JBKFxuICAgICAgdGhpcy5yICsgclxuICAgICAgLCB0aGlzLmcgKyBnXG4gICAgICAsIHRoaXMuYiArIGJcbiAgICAgICwgdGhpcy5hICsgYSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN1YnRyYWN0IHIsZyxiLGEgZnJvbSB0aGUgY3VycmVudCBjb21wb25lbnQgdmFsdWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gclxuICAgKiBAcGFyYW0ge051bWJlcn0gZ1xuICAgKiBAcGFyYW0ge051bWJlcn0gYlxuICAgKiBAcGFyYW0ge051bWJlcn0gYVxuICAgKiBAcmV0dXJuIHtSR0JBfSBuZXcgbm9kZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBzdWIociwgZywgYiwgYSkge1xuICAgIHJldHVybiBuZXcgUkdCQShcbiAgICAgIHRoaXMuciAtIHJcbiAgICAgICwgdGhpcy5nIC0gZ1xuICAgICAgLCB0aGlzLmIgLSBiXG4gICAgICAsIGEgPT0gMSA/IHRoaXMuYSA6IHRoaXMuYSAtIGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNdWx0aXBseSByZ2IgY29tcG9uZW50cyBieSBgbmAuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuXG4gICAqIEByZXR1cm4ge1JHQkF9IG5ldyBub2RlXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIG11bHRpcGx5KG4pIHtcbiAgICByZXR1cm4gbmV3IFJHQkEoXG4gICAgICB0aGlzLnIgKiBuXG4gICAgICAsIHRoaXMuZyAqIG5cbiAgICAgICwgdGhpcy5iICogblxuICAgICAgLCB0aGlzLmEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXZpZGUgcmdiIGNvbXBvbmVudHMgYnkgYG5gLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gblxuICAgKiBAcmV0dXJuIHtSR0JBfSBuZXcgbm9kZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBkaXZpZGUobikge1xuICAgIHJldHVybiBuZXcgUkdCQShcbiAgICAgIHRoaXMuciAvIG5cbiAgICAgICwgdGhpcy5nIC8gblxuICAgICAgLCB0aGlzLmIgLyBuXG4gICAgICAsIHRoaXMuYSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE9wZXJhdGUgb24gYHJpZ2h0YCB3aXRoIHRoZSBnaXZlbiBgb3BgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3BcbiAgICogQHBhcmFtIHtOb2RlfSByaWdodFxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBvcGVyYXRlKG9wLCByaWdodCkge1xuICAgIGlmICgnaW4nICE9IG9wKSByaWdodCA9IHJpZ2h0LmZpcnN0XG5cbiAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICBjYXNlICdpcyBhJzpcbiAgICAgICAgaWYgKCdzdHJpbmcnID09IHJpZ2h0Lm5vZGVOYW1lICYmICdjb2xvcicgPT0gcmlnaHQuc3RyaW5nKSB7XG4gICAgICAgICAgcmV0dXJuIG5vZGVzLnRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcrJzpcbiAgICAgICAgc3dpdGNoIChyaWdodC5ub2RlTmFtZSkge1xuICAgICAgICAgIGNhc2UgJ3VuaXQnOlxuICAgICAgICAgICAgdmFyIG4gPSByaWdodC52YWw7XG4gICAgICAgICAgICBzd2l0Y2ggKHJpZ2h0LnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAnJSc6IHJldHVybiBhZGp1c3QodGhpcywgbmV3IG5vZGVzLlN0cmluZygnbGlnaHRuZXNzJyksIHJpZ2h0KTtcbiAgICAgICAgICAgICAgY2FzZSAnZGVnJzogcmV0dXJuIHRoaXMuaHNsYS5hZGp1c3RIdWUobikucmdiYTtcbiAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIHRoaXMuYWRkKG4sIG4sIG4sIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgJ3JnYmEnOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWRkKHJpZ2h0LnIsIHJpZ2h0LmcsIHJpZ2h0LmIsIHJpZ2h0LmEpO1xuICAgICAgICAgIGNhc2UgJ2hzbGEnOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHNsYS5hZGQocmlnaHQuaCwgcmlnaHQucywgcmlnaHQubCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICctJzpcbiAgICAgICAgc3dpdGNoIChyaWdodC5ub2RlTmFtZSkge1xuICAgICAgICAgIGNhc2UgJ3VuaXQnOlxuICAgICAgICAgICAgdmFyIG4gPSByaWdodC52YWw7XG4gICAgICAgICAgICBzd2l0Y2ggKHJpZ2h0LnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAnJSc6IHJldHVybiBhZGp1c3QodGhpcywgbmV3IG5vZGVzLlN0cmluZygnbGlnaHRuZXNzJyksIG5ldyBub2Rlcy5Vbml0KC1uLCAnJScpKTtcbiAgICAgICAgICAgICAgY2FzZSAnZGVnJzogcmV0dXJuIHRoaXMuaHNsYS5hZGp1c3RIdWUoLW4pLnJnYmE7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiB0aGlzLnN1YihuLCBuLCBuLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlICdyZ2JhJzpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN1YihyaWdodC5yLCByaWdodC5nLCByaWdodC5iLCByaWdodC5hKTtcbiAgICAgICAgICBjYXNlICdoc2xhJzpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhzbGEuc3ViKHJpZ2h0LmgsIHJpZ2h0LnMsIHJpZ2h0LmwpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnKic6XG4gICAgICAgIHN3aXRjaCAocmlnaHQubm9kZU5hbWUpIHtcbiAgICAgICAgICBjYXNlICd1bml0JzpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm11bHRpcGx5KHJpZ2h0LnZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcvJzpcbiAgICAgICAgc3dpdGNoIChyaWdodC5ub2RlTmFtZSkge1xuICAgICAgICAgIGNhc2UgJ3VuaXQnOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGl2aWRlKHJpZ2h0LnZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5vcGVyYXRlKG9wLCByaWdodCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiAjbm5ubm5uLCAjbm5uLCBvciByZ2JhKG4sbixuLG4pIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29sb3IuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgZnVuY3Rpb24gcGFkKG4pIHtcbiAgICAgIHJldHVybiBuIDwgMTZcbiAgICAgICAgPyAnMCcgKyBuLnRvU3RyaW5nKDE2KVxuICAgICAgICA6IG4udG9TdHJpbmcoMTYpO1xuICAgIH1cblxuICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgdHJhbnNwYXJlbnQgbmFtZWQgY29sb3JcbiAgICBpZiAoJ3RyYW5zcGFyZW50JyA9PSB0aGlzLm5hbWUpXG4gICAgICByZXR1cm4gdGhpcy5uYW1lO1xuXG4gICAgaWYgKDEgPT0gdGhpcy5hKSB7XG4gICAgICB2YXIgciA9IHBhZCh0aGlzLnIpXG4gICAgICAgICwgZyA9IHBhZCh0aGlzLmcpXG4gICAgICAgICwgYiA9IHBhZCh0aGlzLmIpO1xuXG4gICAgICAvLyBDb21wcmVzc1xuICAgICAgaWYgKHJbMF0gPT0gclsxXSAmJiBnWzBdID09IGdbMV0gJiYgYlswXSA9PSBiWzFdKSB7XG4gICAgICAgIHJldHVybiAnIycgKyByWzBdICsgZ1swXSArIGJbMF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJyMnICsgciArIGcgKyBiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ3JnYmEoJ1xuICAgICAgICArIHRoaXMuciArICcsJ1xuICAgICAgICArIHRoaXMuZyArICcsJ1xuICAgICAgICArIHRoaXMuYiArICcsJ1xuICAgICAgICArICgrdGhpcy5hLnRvRml4ZWQoMykpICsgJyknO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgKiBSZXR1cm4gYSBgUkdCQWAgZnJvbSB0aGUgZ2l2ZW4gYGhzbGFgLlxuICAqXG4gICogQHBhcmFtIHtIU0xBfSBoc2xhXG4gICogQHJldHVybiB7UkdCQX1cbiAgKiBAYXBpIHB1YmxpY1xuICAqL1xuXG4gIHN0YXRpYyBmcm9tSFNMQShoc2xhKSB7XG4gICAgdmFyIGggPSBoc2xhLmggLyAzNjBcbiAgICAgICwgcyA9IGhzbGEucyAvIDEwMFxuICAgICAgLCBsID0gaHNsYS5sIC8gMTAwXG4gICAgICAsIGEgPSBoc2xhLmE7XG5cbiAgICB2YXIgbTIgPSBsIDw9IC41ID8gbCAqIChzICsgMSkgOiBsICsgcyAtIGwgKiBzXG4gICAgICAsIG0xID0gbCAqIDIgLSBtMjtcblxuICAgIHZhciByID0gaHVlKGggKyAxIC8gMykgKiAweGZmXG4gICAgICAsIGcgPSBodWUoaCkgKiAweGZmXG4gICAgICAsIGIgPSBodWUoaCAtIDEgLyAzKSAqIDB4ZmY7XG5cbiAgICBmdW5jdGlvbiBodWUoaCkge1xuICAgICAgaWYgKGggPCAwKSArK2g7XG4gICAgICBpZiAoaCA+IDEpIC0taDtcbiAgICAgIGlmIChoICogNiA8IDEpIHJldHVybiBtMSArIChtMiAtIG0xKSAqIGggKiA2O1xuICAgICAgaWYgKGggKiAyIDwgMSkgcmV0dXJuIG0yO1xuICAgICAgaWYgKGggKiAzIDwgMikgcmV0dXJuIG0xICsgKG0yIC0gbTEpICogKDIgLyAzIC0gaCkgKiA2O1xuICAgICAgcmV0dXJuIG0xO1xuICAgIH1cblxuXG4gICAgcmV0dXJuIG5ldyBSR0JBKHIsIGcsIGIsIGEpO1xuICB9O1xufTtcblxuLyoqXG4gKiBDbGFtcCBgbmAgPj0gMCBhbmQgPD0gMjU1LlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjbGFtcChuKSB7XG4gIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbihuLnRvRml4ZWQoMCksIDI1NSkpO1xufVxuXG4vKipcbiAqIENsYW1wIGFscGhhIGBuYCA+PSAwIGFuZCA8PSAxLlxuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gKiBAcmV0dXJuIHtOdW1iZXJ9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjbGFtcEFscGhhKG4pIHtcbiAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKG4sIDEpKTtcbn1cbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBJZGVudFxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIElkZW50IGV4dGVuZHMgTm9kZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBJZGVudGAgYnkgYG5hbWVgIHdpdGggdGhlIGdpdmVuIGB2YWxgIG5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7Tm9kZX0gdmFsXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIHZhbCwgbWl4aW4pIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5zdHJpbmcgPSBuYW1lO1xuICAgIHRoaXMudmFsID0gdmFsIHx8IG5vZGVzLm51bGw7XG4gICAgdGhpcy5taXhpbiA9ICEhbWl4aW47XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhlIHZhcmlhYmxlIGhhcyBhIHZhbHVlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBnZXQgaXNFbXB0eSgpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkID09IHRoaXMudmFsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gaGFzaC5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBnZXQgaGFzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5uYW1lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBjbG9uZSBvZiB0aGlzIG5vZGUuXG4gICAqIFxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZShwYXJlbnQpIHtcbiAgICB2YXIgY2xvbmUgPSBuZXcgSWRlbnQodGhpcy5uYW1lKTtcbiAgICBjbG9uZS52YWwgPSB0aGlzLnZhbC5jbG9uZShwYXJlbnQsIGNsb25lKTtcbiAgICBjbG9uZS5taXhpbiA9IHRoaXMubWl4aW47XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIGNsb25lLnByb3BlcnR5ID0gdGhpcy5wcm9wZXJ0eTtcbiAgICBjbG9uZS5yZXN0ID0gdGhpcy5yZXN0O1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdJZGVudCcsXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICB2YWw6IHRoaXMudmFsLFxuICAgICAgbWl4aW46IHRoaXMubWl4aW4sXG4gICAgICBwcm9wZXJ0eTogdGhpcy5wcm9wZXJ0eSxcbiAgICAgIHJlc3Q6IHRoaXMucmVzdCxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gPG5hbWU+LlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm5hbWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvZXJjZSBgb3RoZXJgIHRvIGFuIGlkZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG90aGVyXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY29lcmNlKG90aGVyKSB7XG4gICAgc3dpdGNoIChvdGhlci5ub2RlTmFtZSkge1xuICAgICAgY2FzZSAnaWRlbnQnOlxuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIGNhc2UgJ2xpdGVyYWwnOlxuICAgICAgICByZXR1cm4gbmV3IElkZW50KG90aGVyLnN0cmluZyk7XG4gICAgICBjYXNlICd1bml0JzpcbiAgICAgICAgcmV0dXJuIG5ldyBJZGVudChvdGhlci50b1N0cmluZygpKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBzdXBlci5jb2VyY2Uob3RoZXIpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogT3BlcmF0ZSBvbiBgcmlnaHRgIHdpdGggdGhlIGdpdmVuIGBvcGAuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcFxuICAgKiBAcGFyYW0ge05vZGV9IHJpZ2h0XG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIG9wZXJhdGUob3AsIHJpZ2h0KSB7XG4gICAgdmFyIHZhbCA9IHJpZ2h0LmZpcnN0O1xuICAgIHN3aXRjaCAob3ApIHtcbiAgICAgIGNhc2UgJy0nOlxuICAgICAgICBpZiAoJ3VuaXQnID09IHZhbC5ub2RlTmFtZSkge1xuICAgICAgICAgIHZhciBleHByID0gbmV3IG5vZGVzLkV4cHJlc3Npb247XG4gICAgICAgICAgdmFsID0gdmFsLmNsb25lKCk7XG4gICAgICAgICAgdmFsLnZhbCA9IC12YWwudmFsO1xuICAgICAgICAgIGV4cHIucHVzaCh0aGlzKTtcbiAgICAgICAgICBleHByLnB1c2godmFsKTtcbiAgICAgICAgICByZXR1cm4gZXhwcjtcbiAgICAgICAgfVxuICAgICAgY2FzZSAnKyc6XG4gICAgICAgIHJldHVybiBuZXcgbm9kZXMuSWRlbnQodGhpcy5zdHJpbmcgKyB0aGlzLmNvZXJjZSh2YWwpLnN0cmluZyk7XG4gICAgfVxuICAgIHJldHVybiBzdXBlci5vcGVyYXRlKG9wLCByaWdodCk7XG4gIH07XG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIEdyb3VwXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBOb2RlID0gcmVxdWlyZSgnLi9ub2RlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgR3JvdXAgZXh0ZW5kcyBOb2RlIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYEdyb3VwYC5cbiAgICpcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm5vZGVzID0gW107XG4gICAgdGhpcy5leHRlbmRzID0gW107XG4gIH1cblxuICAvKipcbiAgICogUHVzaCB0aGUgZ2l2ZW4gYHNlbGVjdG9yYCBub2RlLlxuICAgKlxuICAgKiBAcGFyYW0ge1NlbGVjdG9yfSBzZWxlY3RvclxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBwdXNoKHNlbGVjdG9yKSB7XG4gICAgdGhpcy5ub2Rlcy5wdXNoKHNlbGVjdG9yKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoaXMgc2V0J3MgYEJsb2NrYC5cbiAgICovXG5cbiAgZ2V0IGJsb2NrKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzWzBdLmJsb2NrO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBc3NpZ24gYGJsb2NrYCB0byBlYWNoIHNlbGVjdG9yIGluIHRoaXMgc2V0LlxuICAgKlxuICAgKiBAcGFyYW0ge0Jsb2NrfSBibG9ja1xuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBzZXQgYmxvY2soYmxvY2spIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5ub2Rlcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgdGhpcy5ub2Rlc1tpXS5ibG9jayA9IGJsb2NrO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyBzZXQgaGFzIG9ubHkgcGxhY2Vob2xkZXJzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBnZXQgaGFzT25seVBsYWNlaG9sZGVycygpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5ldmVyeShmdW5jdGlvbiAoc2VsZWN0b3IpIHsgcmV0dXJuIHNlbGVjdG9yLmlzUGxhY2Vob2xkZXI7IH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBjbG9uZSBvZiB0aGlzIG5vZGUuXG4gICAqIFxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZShwYXJlbnQpIHtcbiAgICB2YXIgY2xvbmUgPSBuZXcgR3JvdXA7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgdGhpcy5ub2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBjbG9uZS5wdXNoKG5vZGUuY2xvbmUocGFyZW50LCBjbG9uZSkpO1xuICAgIH0pO1xuICAgIGNsb25lLmZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICBjbG9uZS5ibG9jayA9IHRoaXMuYmxvY2suY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fdHlwZTogJ0dyb3VwJyxcbiAgICAgIG5vZGVzOiB0aGlzLm5vZGVzLFxuICAgICAgYmxvY2s6IHRoaXMuYmxvY2ssXG4gICAgICBsaW5lbm86IHRoaXMubGluZW5vLFxuICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbixcbiAgICAgIGZpbGVuYW1lOiB0aGlzLmZpbGVuYW1lXG4gICAgfTtcbiAgfTtcbn07XG4iLAogICJcbi8qIVxuICogU3R5bHVzIC0gTGl0ZXJhbFxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIExpdGVyYWwgZXh0ZW5kcyBOb2RlIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYExpdGVyYWxgIHdpdGggdGhlIGdpdmVuIGBzdHJgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKHN0cikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy52YWwgPSBzdHI7XG4gICAgdGhpcy5zdHJpbmcgPSBzdHI7XG4gICAgdGhpcy5wcmVmaXhlZCA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBoYXNoLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGdldCBoYXNoKCkge1xuICAgIHJldHVybiB0aGlzLnZhbDtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGxpdGVyYWwgdmFsdWUuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsLnRvU3RyaW5nKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvZXJjZSBgb3RoZXJgIHRvIGEgbGl0ZXJhbC5cbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSBvdGhlclxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvZXJjZShvdGhlcikge1xuICAgIHN3aXRjaCAob3RoZXIubm9kZU5hbWUpIHtcbiAgICAgIGNhc2UgJ2lkZW50JzpcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICdsaXRlcmFsJzpcbiAgICAgICAgcmV0dXJuIG5ldyBMaXRlcmFsKG90aGVyLnN0cmluZyk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gc3VwZXIuY29lcmNlKG90aGVyKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIE9wZXJhdGUgb24gYHJpZ2h0YCB3aXRoIHRoZSBnaXZlbiBgb3BgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3BcbiAgICogQHBhcmFtIHtOb2RlfSByaWdodFxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBvcGVyYXRlKG9wLCByaWdodCkge1xuICAgIHZhciB2YWwgPSByaWdodC5maXJzdDtcbiAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICBjYXNlICcrJzpcbiAgICAgICAgcmV0dXJuIG5ldyBub2Rlcy5MaXRlcmFsKHRoaXMuc3RyaW5nICsgdGhpcy5jb2VyY2UodmFsKS5zdHJpbmcpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN1cGVyLm9wZXJhdGUob3AsIHJpZ2h0KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX190eXBlOiAnTGl0ZXJhbCcsXG4gICAgICB2YWw6IHRoaXMudmFsLFxuICAgICAgc3RyaW5nOiB0aGlzLnN0cmluZyxcbiAgICAgIHByZWZpeGVkOiB0aGlzLnByZWZpeGVkLFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gIH07XG5cbn07XG4iLAogICJcbi8qIVxuICogU3R5bHVzIC0gQm9vbGVhblxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEJvb2xlYW4gZXh0ZW5kcyBOb2RlIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYEJvb2xlYW5gIG5vZGUgd2l0aCB0aGUgZ2l2ZW4gYHZhbGAuXG4gICAqXG4gICAqIEBwYXJhbSB7Qm9vbGVhbn0gdmFsXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKHZhbCkge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHRoaXMubm9kZU5hbWUpIHtcbiAgICAgIHRoaXMudmFsID0gISF2YWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgQm9vbGVhbih2YWwpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYHRoaXNgIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvQm9vbGVhbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGB0cnVlYCBpZiB0aGlzIG5vZGUgcmVwcmVzZW50cyBgdHJ1ZWAuXG4gICAqXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGdldCBpc1RydWUoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYHRydWVgIGlmIHRoaXMgbm9kZSByZXByZXNlbnRzIGBmYWxzZWAuXG4gICAqXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGdldCBpc0ZhbHNlKCkge1xuICAgIHJldHVybiAhdGhpcy52YWw7XG4gIH07XG5cbiAgLyoqXG4gICAqIE5lZ2F0ZSB0aGUgdmFsdWUuXG4gICAqXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIG5lZ2F0ZSgpIHtcbiAgICByZXR1cm4gbmV3IEJvb2xlYW4oIXRoaXMudmFsKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuICdCb29sZWFuJy5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBpbnNwZWN0KCkge1xuICAgIHJldHVybiAnW0Jvb2xlYW4gJyArIHRoaXMudmFsICsgJ10nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gJ3RydWUnIG9yICdmYWxzZScuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMudmFsXG4gICAgICA/ICd0cnVlJ1xuICAgICAgOiAnZmFsc2UnO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBKU09OIHJlcHJlc2VudGFpdG9uIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fdHlwZTogJ0Jvb2xlYW4nLFxuICAgICAgdmFsOiB0aGlzLnZhbFxuICAgIH07XG4gIH07XG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIFJldHVyblxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLycpO1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFJldHVybmAgbm9kZSB3aXRoIHRoZSBnaXZlbiBgZXhwcmAuXG4gKlxuICogQHBhcmFtIHtFeHByZXNzaW9ufSBleHByXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgUmV0dXJuIGV4dGVuZHMgTm9kZSB7XG4gIGNvbnN0cnVjdG9yKGV4cHIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuZXhwciA9IGV4cHIgfHwgbm9kZXMubnVsbDtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKiBcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2xvbmUocGFyZW50KSB7XG4gICAgdmFyIGNsb25lID0gbmV3IFJldHVybigpO1xuICAgIGNsb25lLmV4cHIgPSB0aGlzLmV4cHIuY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdSZXR1cm4nLFxuICAgICAgZXhwcjogdGhpcy5leHByLFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gIH07XG59O1xuIiwKICAiLyohXG4gKiBTdHlsdXMgLSBhdC1ydWxlXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBOb2RlID0gcmVxdWlyZSgnLi9ub2RlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgQXRydWxlIGV4dGVuZHMgTm9kZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGF0LXJ1bGUgbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY29uc3RydWN0b3IodHlwZSkge1xuICAgIHN1cGVyKClcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGF0LXJ1bGUncyBibG9jayBoYXMgb25seSBwcm9wZXJ0aWVzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBnZXQgaGFzT25seVByb3BlcnRpZXMoKSB7XG4gICAgaWYgKCF0aGlzLmJsb2NrKSByZXR1cm4gZmFsc2U7XG5cbiAgICB2YXIgbm9kZXMgPSB0aGlzLmJsb2NrLm5vZGVzO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBub2Rlcy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgdmFyIG5vZGVOYW1lID0gbm9kZXNbaV0ubm9kZU5hbWU7XG4gICAgICBzd2l0Y2ggKG5vZGVzW2ldLm5vZGVOYW1lKSB7XG4gICAgICAgIGNhc2UgJ3Byb3BlcnR5JzpcbiAgICAgICAgY2FzZSAnZXhwcmVzc2lvbic6XG4gICAgICAgIGNhc2UgJ2NvbW1lbnQnOlxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZShwYXJlbnQpIHtcbiAgICB2YXIgY2xvbmUgPSBuZXcgQXRydWxlKHRoaXMudHlwZSk7XG4gICAgaWYgKHRoaXMuYmxvY2spIGNsb25lLmJsb2NrID0gdGhpcy5ibG9jay5jbG9uZShwYXJlbnQsIGNsb25lKTtcbiAgICBjbG9uZS5zZWdtZW50cyA9IHRoaXMuc2VnbWVudHMubWFwKGZ1bmN0aW9uIChub2RlKSB7IHJldHVybiBub2RlLmNsb25lKHBhcmVudCwgY2xvbmUpOyB9KTtcbiAgICBjbG9uZS5saW5lbm8gPSB0aGlzLmxpbmVubztcbiAgICBjbG9uZS5jb2x1bW4gPSB0aGlzLmNvbHVtbjtcbiAgICBjbG9uZS5maWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0pTT04oKSB7XG4gICAgdmFyIGpzb24gPSB7XG4gICAgICBfX3R5cGU6ICdBdHJ1bGUnLFxuICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgc2VnbWVudHM6IHRoaXMuc2VnbWVudHMsXG4gICAgICBsaW5lbm86IHRoaXMubGluZW5vLFxuICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbixcbiAgICAgIGZpbGVuYW1lOiB0aGlzLmZpbGVuYW1lXG4gICAgfTtcbiAgICBpZiAodGhpcy5ibG9jaykganNvbi5ibG9jayA9IHRoaXMuYmxvY2s7XG4gICAgcmV0dXJuIGpzb247XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBAPHR5cGU+LlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiAnQCcgKyB0aGlzLnR5cGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBhdC1ydWxlJ3MgYmxvY2sgaGFzIG91dHB1dCBub2Rlcy5cbiAgICpcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZ2V0IGhhc091dHB1dCgpIHtcbiAgICByZXR1cm4gISF0aGlzLmJsb2NrICYmIGhhc091dHB1dCh0aGlzLmJsb2NrKTtcbiAgfTtcbn07XG5cbmZ1bmN0aW9uIGhhc091dHB1dChibG9jaykge1xuICB2YXIgbm9kZXMgPSBibG9jay5ub2RlcztcblxuICAvLyBvbmx5IHBsYWNlaG9sZGVyIHNlbGVjdG9yc1xuICBpZiAobm9kZXMuZXZlcnkoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICByZXR1cm4gJ2dyb3VwJyA9PSBub2RlLm5vZGVOYW1lICYmIG5vZGUuaGFzT25seVBsYWNlaG9sZGVycztcbiAgfSkpIHJldHVybiBmYWxzZTtcblxuICAvLyBzb21ldGhpbmcgdmlzaWJsZVxuICByZXR1cm4gbm9kZXMuc29tZShmdW5jdGlvbiAobm9kZSkge1xuICAgIHN3aXRjaCAobm9kZS5ub2RlTmFtZSkge1xuICAgICAgY2FzZSAncHJvcGVydHknOlxuICAgICAgY2FzZSAnbGl0ZXJhbCc6XG4gICAgICBjYXNlICdpbXBvcnQnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgJ2Jsb2NrJzpcbiAgICAgICAgcmV0dXJuIGhhc091dHB1dChub2RlKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGlmIChub2RlLmJsb2NrKSByZXR1cm4gaGFzT3V0cHV0KG5vZGUuYmxvY2spO1xuICAgIH1cbiAgfSk7XG59XG4iLAogICJcbi8qIVxuICogU3R5bHVzIC0gTWVkaWFcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIEF0cnVsZSA9IHJlcXVpcmUoJy4vYXRydWxlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgTWVkaWEgZXh0ZW5kcyBBdHJ1bGUge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgTWVkaWFgIHdpdGggdGhlIGdpdmVuIGB2YWxgXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSB2YWxcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY29uc3RydWN0b3IodmFsKSB7XG4gICAgc3VwZXIoJ21lZGlhJyk7XG4gICAgdGhpcy52YWwgPSB2YWw7XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmUgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtNZWRpYX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2xvbmUocGFyZW50KSB7XG4gICAgdmFyIGNsb25lID0gbmV3IE1lZGlhO1xuICAgIGNsb25lLnZhbCA9IHRoaXMudmFsLmNsb25lKHBhcmVudCwgY2xvbmUpO1xuICAgIGNsb25lLmJsb2NrID0gdGhpcy5ibG9jay5jbG9uZShwYXJlbnQsIGNsb25lKTtcbiAgICBjbG9uZS5saW5lbm8gPSB0aGlzLmxpbmVubztcbiAgICBjbG9uZS5jb2x1bW4gPSB0aGlzLmNvbHVtbjtcbiAgICBjbG9uZS5maWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fdHlwZTogJ01lZGlhJyxcbiAgICAgIHZhbDogdGhpcy52YWwsXG4gICAgICBibG9jazogdGhpcy5ibG9jayxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gQG1lZGlhIFwidmFsXCIuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICdAbWVkaWEgJyArIHRoaXMudmFsO1xuICB9O1xufTtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBRdWVyeUxpc3RcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuL25vZGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBRdWVyeUxpc3QgZXh0ZW5kcyBOb2RlIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYFF1ZXJ5TGlzdGAuXG4gICAqXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5ub2RlcyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGNsb25lIG9mIHRoaXMgbm9kZS5cbiAgICogXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNsb25lKHBhcmVudCkge1xuICAgIHZhciBjbG9uZSA9IG5ldyBRdWVyeUxpc3Q7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ub2Rlcy5sZW5ndGg7ICsraSkge1xuICAgICAgY2xvbmUucHVzaCh0aGlzLm5vZGVzW2ldLmNsb25lKHBhcmVudCwgY2xvbmUpKTtcbiAgICB9XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQdXNoIHRoZSBnaXZlbiBgbm9kZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBwdXNoKG5vZGUpIHtcbiAgICB0aGlzLm5vZGVzLnB1c2gobm9kZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1lcmdlcyB0aGlzIHF1ZXJ5IGxpc3Qgd2l0aCB0aGUgYG90aGVyYC5cbiAgICpcbiAgICogQHBhcmFtIHtRdWVyeUxpc3R9IG90aGVyXG4gICAqIEByZXR1cm4ge1F1ZXJ5TGlzdH1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIG1lcmdlKG90aGVyKSB7XG4gICAgdmFyIGxpc3QgPSBuZXcgUXVlcnlMaXN0XG4gICAgICAsIG1lcmdlZDtcbiAgICB0aGlzLm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKHF1ZXJ5KSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gb3RoZXIubm9kZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgbWVyZ2VkID0gcXVlcnkubWVyZ2Uob3RoZXIubm9kZXNbaV0pO1xuICAgICAgICBpZiAobWVyZ2VkKSBsaXN0LnB1c2gobWVyZ2VkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbGlzdDtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIFwiPGE+LCA8Yj4sIDxjPlwiXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICcoJyArIHRoaXMubm9kZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS50b1N0cmluZygpO1xuICAgIH0pLmpvaW4oJywgJykgKyAnKSc7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX190eXBlOiAnUXVlcnlMaXN0JyxcbiAgICAgIG5vZGVzOiB0aGlzLm5vZGVzLFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gIH07XG5cbn07XG4iLAogICJcbi8qIVxuICogU3R5bHVzIC0gUXVlcnlcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuL25vZGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBRdWVyeSBleHRlbmRzIE5vZGUge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgUXVlcnlgLlxuICAgKlxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubm9kZXMgPSBbXTtcbiAgICB0aGlzLnR5cGUgPSAnJztcbiAgICB0aGlzLnByZWRpY2F0ZSA9ICcnO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGNsb25lIG9mIHRoaXMgbm9kZS5cbiAgICogXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNsb25lKHBhcmVudCkge1xuICAgIHZhciBjbG9uZSA9IG5ldyBRdWVyeTtcbiAgICBjbG9uZS5wcmVkaWNhdGUgPSB0aGlzLnByZWRpY2F0ZTtcbiAgICBjbG9uZS50eXBlID0gdGhpcy50eXBlO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0aGlzLm5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBjbG9uZS5wdXNoKHRoaXMubm9kZXNbaV0uY2xvbmUocGFyZW50LCBjbG9uZSkpO1xuICAgIH1cbiAgICBjbG9uZS5saW5lbm8gPSB0aGlzLmxpbmVubztcbiAgICBjbG9uZS5jb2x1bW4gPSB0aGlzLmNvbHVtbjtcbiAgICBjbG9uZS5maWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQdXNoIHRoZSBnaXZlbiBgZmVhdHVyZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7RmVhdHVyZX0gZmVhdHVyZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBwdXNoKGZlYXR1cmUpIHtcbiAgICB0aGlzLm5vZGVzLnB1c2goZmVhdHVyZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiByZXNvbHZlZCB0eXBlIG9mIHRoaXMgcXVlcnkuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGdldCByZXNvbHZlZFR5cGUoKSB7XG4gICAgaWYgKHRoaXMudHlwZSkge1xuICAgICAgcmV0dXJuIHRoaXMudHlwZS5ub2RlTmFtZVxuICAgICAgICA/IHRoaXMudHlwZS5zdHJpbmdcbiAgICAgICAgOiB0aGlzLnR5cGU7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gcmVzb2x2ZWQgcHJlZGljYXRlIG9mIHRoaXMgcXVlcnkuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGdldCByZXNvbHZlZFByZWRpY2F0ZSgpIHtcbiAgICBpZiAodGhpcy5wcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnByZWRpY2F0ZS5ub2RlTmFtZVxuICAgICAgICA/IHRoaXMucHJlZGljYXRlLnN0cmluZ1xuICAgICAgICA6IHRoaXMucHJlZGljYXRlO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTWVyZ2VzIHRoaXMgcXVlcnkgd2l0aCB0aGUgYG90aGVyYC5cbiAgICpcbiAgICogQHBhcmFtIHtRdWVyeX0gb3RoZXJcbiAgICogQHJldHVybiB7UXVlcnl9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBtZXJnZShvdGhlcikge1xuICAgIHZhciBxdWVyeSA9IG5ldyBRdWVyeVxuICAgICAgLCBwMSA9IHRoaXMucmVzb2x2ZWRQcmVkaWNhdGVcbiAgICAgICwgcDIgPSBvdGhlci5yZXNvbHZlZFByZWRpY2F0ZVxuICAgICAgLCB0MSA9IHRoaXMucmVzb2x2ZWRUeXBlXG4gICAgICAsIHQyID0gb3RoZXIucmVzb2x2ZWRUeXBlXG4gICAgICAsIHR5cGUsIHByZWQ7XG5cbiAgICAvLyBTdG9sZW4gZnJvbSBTYXNzIDpEXG4gICAgdDEgPSB0MSB8fCB0MjtcbiAgICB0MiA9IHQyIHx8IHQxO1xuICAgIGlmICgoJ25vdCcgPT0gcDEpIF4gKCdub3QnID09IHAyKSkge1xuICAgICAgaWYgKHQxID09IHQyKSByZXR1cm47XG4gICAgICB0eXBlID0gKCdub3QnID09IHAxKSA/IHQyIDogdDE7XG4gICAgICBwcmVkID0gKCdub3QnID09IHAxKSA/IHAyIDogcDE7XG4gICAgfSBlbHNlIGlmICgoJ25vdCcgPT0gcDEpICYmICgnbm90JyA9PSBwMikpIHtcbiAgICAgIGlmICh0MSAhPSB0MikgcmV0dXJuO1xuICAgICAgdHlwZSA9IHQxO1xuICAgICAgcHJlZCA9ICdub3QnO1xuICAgIH0gZWxzZSBpZiAodDEgIT0gdDIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuICAgICAgdHlwZSA9IHQxO1xuICAgICAgcHJlZCA9IHAxIHx8IHAyO1xuICAgIH1cbiAgICBxdWVyeS5wcmVkaWNhdGUgPSBwcmVkO1xuICAgIHF1ZXJ5LnR5cGUgPSB0eXBlO1xuICAgIHF1ZXJ5Lm5vZGVzID0gdGhpcy5ub2Rlcy5jb25jYXQob3RoZXIubm9kZXMpO1xuICAgIHJldHVybiBxdWVyeTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIFwiPGE+IGFuZCA8Yj4gYW5kIDxjPlwiXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgdmFyIHByZWQgPSB0aGlzLnByZWRpY2F0ZSA/IHRoaXMucHJlZGljYXRlICsgJyAnIDogJydcbiAgICAgICwgdHlwZSA9IHRoaXMudHlwZSB8fCAnJ1xuICAgICAgLCBsZW4gPSB0aGlzLm5vZGVzLmxlbmd0aFxuICAgICAgLCBzdHIgPSBwcmVkICsgdHlwZTtcbiAgICBpZiAobGVuKSB7XG4gICAgICBzdHIgKz0gKHR5cGUgJiYgJyBhbmQgJykgKyB0aGlzLm5vZGVzLm1hcChmdW5jdGlvbiAoZXhwcikge1xuICAgICAgICByZXR1cm4gZXhwci50b1N0cmluZygpO1xuICAgICAgfSkuam9pbignIGFuZCAnKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdRdWVyeScsXG4gICAgICBwcmVkaWNhdGU6IHRoaXMucHJlZGljYXRlLFxuICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgbm9kZXM6IHRoaXMubm9kZXMsXG4gICAgICBsaW5lbm86IHRoaXMubGluZW5vLFxuICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbixcbiAgICAgIGZpbGVuYW1lOiB0aGlzLmZpbGVuYW1lXG4gICAgfTtcbiAgfTtcbn07XG4iLAogICJcbi8qIVxuICogU3R5bHVzIC0gRmVhdHVyZVxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEZlYXR1cmUgZXh0ZW5kcyBOb2RlIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYEZlYXR1cmVgIHdpdGggdGhlIGdpdmVuIGBzZWdzYC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gc2Vnc1xuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3RvcihzZWdzKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNlZ21lbnRzID0gc2VncztcbiAgICB0aGlzLmV4cHIgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGNsb25lIG9mIHRoaXMgbm9kZS5cbiAgICogXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNsb25lKHBhcmVudCkge1xuICAgIHZhciBjbG9uZSA9IG5ldyBGZWF0dXJlO1xuICAgIGNsb25lLnNlZ21lbnRzID0gdGhpcy5zZWdtZW50cy5tYXAoZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIG5vZGUuY2xvbmUocGFyZW50LCBjbG9uZSk7IH0pO1xuICAgIGlmICh0aGlzLmV4cHIpIGNsb25lLmV4cHIgPSB0aGlzLmV4cHIuY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgaWYgKHRoaXMubmFtZSkgY2xvbmUubmFtZSA9IHRoaXMubmFtZTtcbiAgICBjbG9uZS5saW5lbm8gPSB0aGlzLmxpbmVubztcbiAgICBjbG9uZS5jb2x1bW4gPSB0aGlzLmNvbHVtbjtcbiAgICBjbG9uZS5maWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gXCI8aWRlbnQ+XCIgb3IgXCIoPGlkZW50PjogPGV4cHI+KVwiXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgaWYgKHRoaXMuZXhwcikge1xuICAgICAgcmV0dXJuICcoJyArIHRoaXMuc2VnbWVudHMuam9pbignJykgKyAnOiAnICsgdGhpcy5leHByLnRvU3RyaW5nKCkgKyAnKSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnNlZ21lbnRzLmpvaW4oJycpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHZhciBqc29uID0ge1xuICAgICAgX190eXBlOiAnRmVhdHVyZScsXG4gICAgICBzZWdtZW50czogdGhpcy5zZWdtZW50cyxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICAgIGlmICh0aGlzLmV4cHIpIGpzb24uZXhwciA9IHRoaXMuZXhwcjtcbiAgICBpZiAodGhpcy5uYW1lKSBqc29uLm5hbWUgPSB0aGlzLm5hbWU7XG4gICAgcmV0dXJuIGpzb247XG4gIH07XG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIFBhcmFtc1xuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFBhcmFtcyBleHRlbmRzIE5vZGUge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgUGFyYW1zYCB3aXRoIGBuYW1lYCwgYHBhcmFtc2AsIGFuZCBgYm9keWAuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gICAqIEBwYXJhbSB7UGFyYW1zfSBwYXJhbXNcbiAgICogQHBhcmFtIHtFeHByZXNzaW9ufSBib2R5XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5ub2RlcyA9IFtdO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGZ1bmN0aW9uIGFyaXR5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVzLmxlbmd0aDtcbiAgfTtcblxuICAvKipcbiAgICogUHVzaCB0aGUgZ2l2ZW4gYG5vZGVgLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgcHVzaChub2RlKSB7XG4gICAgdGhpcy5ub2Rlcy5wdXNoKG5vZGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBjbG9uZSBvZiB0aGlzIG5vZGUuXG4gICAqIFxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZShwYXJlbnQpIHtcbiAgICB2YXIgY2xvbmUgPSBuZXcgUGFyYW1zO1xuICAgIGNsb25lLmxpbmVubyA9IHRoaXMubGluZW5vO1xuICAgIGNsb25lLmNvbHVtbiA9IHRoaXMuY29sdW1uO1xuICAgIGNsb25lLmZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICB0aGlzLm5vZGVzLmZvckVhY2goZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIGNsb25lLnB1c2gobm9kZS5jbG9uZShwYXJlbnQsIGNsb25lKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fdHlwZTogJ1BhcmFtcycsXG4gICAgICBub2RlczogdGhpcy5ub2RlcyxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICB9O1xufTtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBDb21tZW50XG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBOb2RlID0gcmVxdWlyZSgnLi9ub2RlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgQ29tbWVudCBleHRlbmRzIE5vZGUge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgQ29tbWVudGAgd2l0aCB0aGUgZ2l2ZW4gYHN0cmAuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICogQHBhcmFtIHtCb29sZWFufSBzdXBwcmVzc1xuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlubGluZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3RvcihzdHIsIHN1cHByZXNzLCBpbmxpbmUpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc3RyID0gc3RyO1xuICAgIHRoaXMuc3VwcHJlc3MgPSBzdXBwcmVzcztcbiAgICB0aGlzLmlubGluZSA9IGlubGluZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fdHlwZTogJ0NvbW1lbnQnLFxuICAgICAgc3RyOiB0aGlzLnN0cixcbiAgICAgIHN1cHByZXNzOiB0aGlzLnN1cHByZXNzLFxuICAgICAgaW5saW5lOiB0aGlzLmlubGluZSxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gY29tbWVudC5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5zdHI7XG4gIH07XG5cbn07XG4iLAogICJcbi8qIVxuICogU3R5bHVzIC0gS2V5ZnJhbWVzXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBBdHJ1bGUgPSByZXF1aXJlKCcuL2F0cnVsZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEtleWZyYW1lcyBleHRlbmRzIEF0cnVsZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBLZXlmcmFtZXNgIHdpdGggdGhlIGdpdmVuIGBzZWdzYCxcbiAgICogYW5kIG9wdGlvbmFsIHZlbmRvciBgcHJlZml4YC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gc2Vnc1xuICAgKiBAcGFyYW0ge1N0cmluZ30gcHJlZml4XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKHNlZ3MsIHByZWZpeCkge1xuICAgIHN1cGVyKCdrZXlmcmFtZXMnKVxuICAgIHRoaXMuc2VnbWVudHMgPSBzZWdzO1xuICAgIHRoaXMucHJlZml4ID0gcHJlZml4IHx8ICdvZmZpY2lhbCc7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKiBcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2xvbmUocGFyZW50KSB7XG4gICAgdmFyIGNsb25lID0gbmV3IEtleWZyYW1lcztcbiAgICBjbG9uZS5saW5lbm8gPSB0aGlzLmxpbmVubztcbiAgICBjbG9uZS5jb2x1bW4gPSB0aGlzLmNvbHVtbjtcbiAgICBjbG9uZS5maWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgY2xvbmUuc2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzLm1hcChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5jbG9uZShwYXJlbnQsIGNsb25lKTsgfSk7XG4gICAgY2xvbmUucHJlZml4ID0gdGhpcy5wcmVmaXg7XG4gICAgY2xvbmUuYmxvY2sgPSB0aGlzLmJsb2NrLmNsb25lKHBhcmVudCwgY2xvbmUpO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdLZXlmcmFtZXMnLFxuICAgICAgc2VnbWVudHM6IHRoaXMuc2VnbWVudHMsXG4gICAgICBwcmVmaXg6IHRoaXMucHJlZml4LFxuICAgICAgYmxvY2s6IHRoaXMuYmxvY2ssXG4gICAgICBsaW5lbm86IHRoaXMubGluZW5vLFxuICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbixcbiAgICAgIGZpbGVuYW1lOiB0aGlzLmZpbGVuYW1lXG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGBAa2V5ZnJhbWVzIG5hbWVgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiAnQGtleWZyYW1lcyAnICsgdGhpcy5zZWdtZW50cy5qb2luKCcnKTtcbiAgfTtcblxufTsiLAogICJcbi8qIVxuICogU3R5bHVzIC0gTWVtYmVyXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBOb2RlID0gcmVxdWlyZSgnLi9ub2RlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgTWVtYmVyIGV4dGVuZHMgTm9kZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBNZW1iZXJgIHdpdGggYGxlZnRgIGFuZCBgcmlnaHRgLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IGxlZnRcbiAgICogQHBhcmFtIHtOb2RlfSByaWdodFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3RvcihsZWZ0LCByaWdodCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5sZWZ0ID0gbGVmdDtcbiAgICB0aGlzLnJpZ2h0ID0gcmlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZShwYXJlbnQpIHtcbiAgICB2YXIgY2xvbmUgPSBuZXcgTWVtYmVyO1xuICAgIGNsb25lLmxlZnQgPSB0aGlzLmxlZnQuY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgY2xvbmUucmlnaHQgPSB0aGlzLnJpZ2h0LmNsb25lKHBhcmVudCwgY2xvbmUpO1xuICAgIGlmICh0aGlzLnZhbCkgY2xvbmUudmFsID0gdGhpcy52YWwuY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHZhciBqc29uID0ge1xuICAgICAgX190eXBlOiAnTWVtYmVyJyxcbiAgICAgIGxlZnQ6IHRoaXMubGVmdCxcbiAgICAgIHJpZ2h0OiB0aGlzLnJpZ2h0LFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gICAgaWYgKHRoaXMudmFsKSBqc29uLnZhbCA9IHRoaXMudmFsO1xuICAgIHJldHVybiBqc29uO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmxlZnQudG9TdHJpbmcoKVxuICAgICAgKyAnLicgKyB0aGlzLnJpZ2h0LnRvU3RyaW5nKCk7XG4gIH07XG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIENoYXJzZXRcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuL25vZGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBDaGFyc2V0IGV4dGVuZHMgTm9kZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBDaGFyc2V0YCB3aXRoIHRoZSBnaXZlbiBgdmFsYFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdmFsXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKHZhbCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy52YWwgPSB2YWw7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIEBjaGFyc2V0IFwidmFsXCIuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICdAY2hhcnNldCAnICsgdGhpcy52YWw7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX190eXBlOiAnQ2hhcnNldCcsXG4gICAgICB2YWw6IHRoaXMudmFsLFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gIH07XG5cbn07XG4iLAogICIvKiFcbiAqIFN0eWx1cyAtIE5hbWVzcGFjZVxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIE5hbWVzcGFjZSBleHRlbmRzIE5vZGUge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgTmFtZXNwYWNlYCB3aXRoIHRoZSBnaXZlbiBgdmFsYCBhbmQgYHByZWZpeGBcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd8Q2FsbH0gdmFsXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBbcHJlZml4XVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3Rvcih2YWwsIHByZWZpeCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy52YWwgPSB2YWw7XG4gICAgdGhpcy5wcmVmaXggPSBwcmVmaXg7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIEBuYW1lc3BhY2UgXCJ2YWxcIi5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gJ0BuYW1lc3BhY2UgJyArICh0aGlzLnByZWZpeCA/IHRoaXMucHJlZml4ICsgJyAnIDogJycpICsgdGhpcy52YWw7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX190eXBlOiAnTmFtZXNwYWNlJyxcbiAgICAgIHZhbDogdGhpcy52YWwsXG4gICAgICBwcmVmaXg6IHRoaXMucHJlZml4LFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gIH07XG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIEltcG9ydFxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEltcG9ydCBleHRlbmRzIE5vZGUge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgSW1wb3J0YCB3aXRoIHRoZSBnaXZlbiBgZXhwcmAuXG4gICAqXG4gICAqIEBwYXJhbSB7RXhwcmVzc2lvbn0gZXhwclxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3RvcihleHByLCBvbmNlKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnBhdGggPSBleHByO1xuICAgIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZShwYXJlbnQpIHtcbiAgICB2YXIgY2xvbmUgPSBuZXcgSW1wb3J0KCk7XG4gICAgY2xvbmUucGF0aCA9IHRoaXMucGF0aC5ub2RlTmFtZSA/IHRoaXMucGF0aC5jbG9uZShwYXJlbnQsIGNsb25lKSA6IHRoaXMucGF0aDtcbiAgICBjbG9uZS5vbmNlID0gdGhpcy5vbmNlO1xuICAgIGNsb25lLm10aW1lID0gdGhpcy5tdGltZTtcbiAgICBjbG9uZS5saW5lbm8gPSB0aGlzLmxpbmVubztcbiAgICBjbG9uZS5jb2x1bW4gPSB0aGlzLmNvbHVtbjtcbiAgICBjbG9uZS5maWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fdHlwZTogJ0ltcG9ydCcsXG4gICAgICBwYXRoOiB0aGlzLnBhdGgsXG4gICAgICBvbmNlOiB0aGlzLm9uY2UsXG4gICAgICBtdGltZTogdGhpcy5tdGltZSxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICB9O1xuXG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIEV4dGVuZFxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEV4dGVuZCBleHRlbmRzIE5vZGUge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgRXh0ZW5kYCB3aXRoIHRoZSBnaXZlbiBgc2VsZWN0b3JzYCBhcnJheS5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gc2VsZWN0b3JzIGFycmF5IG9mIHRoZSBzZWxlY3RvcnNcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY29uc3RydWN0b3Ioc2VsZWN0b3JzKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnNlbGVjdG9ycyA9IHNlbGVjdG9ycztcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBjbG9uZSBvZiB0aGlzIG5vZGUuXG4gICAqIFxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZSgpIHtcbiAgICByZXR1cm4gbmV3IEV4dGVuZCh0aGlzLnNlbGVjdG9ycyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBgQGV4dGVuZCBzZWxlY3RvcnNgLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiAnQGV4dGVuZCAnICsgdGhpcy5zZWxlY3RvcnMuam9pbignLCAnKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdFeHRlbmQnLFxuICAgICAgc2VsZWN0b3JzOiB0aGlzLnNlbGVjdG9ycyxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICB9O1xuXG59OyIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBPYmplY3RcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuL25vZGUnKVxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi8nKVxuICAsIG5hdGl2ZU9iaiA9IHt9LmNvbnN0cnVjdG9yO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIE9iamVjdCBleHRlbmRzIE5vZGUge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgT2JqZWN0YC5cbiAgICpcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLnZhbHMgPSB7fTtcbiAgICB0aGlzLmtleXMgPSB7fTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgYGtleWAgdG8gYHZhbGAuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICogQHBhcmFtIHtOb2RlfSB2YWxcbiAgICogQHJldHVybiB7T2JqZWN0fSBmb3IgY2hhaW5pbmdcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgc2V0VmFsdWUoa2V5LCB2YWwpIHtcbiAgICB0aGlzLnZhbHNba2V5XSA9IHZhbDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogQWxpYXMgZm9yIGBzZXRWYWx1ZWAgZm9yIGNvbXBhdGlibGUgQVBJXG4gICAqL1xuXG4gIGdldCBzZXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2V0VmFsdWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGBrZXlgIHRvIGB2YWxgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7Tm9kZX0gdmFsXG4gICAqIEByZXR1cm4ge09iamVjdH0gZm9yIGNoYWluaW5nXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHNldEtleShrZXksIHZhbCkge1xuICAgIHRoaXMua2V5c1trZXldID0gdmFsO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gbGVuZ3RoLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGdldCBsZW5ndGgoKSB7XG4gICAgcmV0dXJuIG5hdGl2ZU9iai5rZXlzKHRoaXMudmFscykubGVuZ3RoO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgYGtleWAuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiB0aGlzLnZhbHNba2V5XSB8fCBub2Rlcy5udWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYXMgYGtleWA/XG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgaGFzKGtleSkge1xuICAgIHJldHVybiBrZXkgaW4gdGhpcy52YWxzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBPcGVyYXRlIG9uIGByaWdodGAgd2l0aCB0aGUgZ2l2ZW4gYG9wYC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG9wXG4gICAqIEBwYXJhbSB7Tm9kZX0gcmlnaHRcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgb3BlcmF0ZShvcCwgcmlnaHQpIHtcbiAgICBzd2l0Y2ggKG9wKSB7XG4gICAgICBjYXNlICcuJzpcbiAgICAgIGNhc2UgJ1tdJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KHJpZ2h0Lmhhc2gpO1xuICAgICAgY2FzZSAnPT0nOlxuICAgICAgICB2YXIgdmFscyA9IHRoaXMudmFsc1xuICAgICAgICAgICwgYVxuICAgICAgICAgICwgYjtcbiAgICAgICAgaWYgKCdvYmplY3QnICE9IHJpZ2h0Lm5vZGVOYW1lIHx8IHRoaXMubGVuZ3RoICE9IHJpZ2h0Lmxlbmd0aClcbiAgICAgICAgICByZXR1cm4gbm9kZXMuZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB2YWxzKSB7XG4gICAgICAgICAgYSA9IHZhbHNba2V5XTtcbiAgICAgICAgICBiID0gcmlnaHQudmFsc1trZXldO1xuICAgICAgICAgIGlmIChhLm9wZXJhdGUob3AsIGIpLmlzRmFsc2UpXG4gICAgICAgICAgICByZXR1cm4gbm9kZXMuZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGVzLnRydWU7XG4gICAgICBjYXNlICchPSc6XG4gICAgICAgIHJldHVybiB0aGlzLm9wZXJhdGUoJz09JywgcmlnaHQpLm5lZ2F0ZSgpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHN1cGVyLm9wZXJhdGUob3AsIHJpZ2h0KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBCb29sZWFuIGJhc2VkIG9uIHRoZSBsZW5ndGggb2YgdGhpcyBvYmplY3QuXG4gICAqXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvQm9vbGVhbigpIHtcbiAgICByZXR1cm4gbmV3IG5vZGVzLkJvb2xlYW4odGhpcy5sZW5ndGgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0IG9iamVjdCB0byBzdHJpbmcgd2l0aCBwcm9wZXJ0aWVzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB0b0Jsb2NrKCkge1xuICAgIHZhciBzdHIgPSAneydcbiAgICAgICwga2V5XG4gICAgICAsIHZhbDtcblxuICAgIGZvciAoa2V5IGluIHRoaXMudmFscykge1xuICAgICAgdmFsID0gdGhpcy5nZXQoa2V5KTtcbiAgICAgIGlmICgnb2JqZWN0JyA9PSB2YWwuZmlyc3Qubm9kZU5hbWUpIHtcbiAgICAgICAgc3RyICs9IGtleSArICcgJyArIHZhbC5maXJzdC50b0Jsb2NrKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgIGNhc2UgJ0BjaGFyc2V0JzpcbiAgICAgICAgICAgIHN0ciArPSBrZXkgKyAnICcgKyB2YWwuZmlyc3QudG9TdHJpbmcoKSArICc7JztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzdHIgKz0ga2V5ICsgJzonICsgdG9TdHJpbmcodmFsKSArICc7JztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHN0ciArPSAnfSc7XG5cbiAgICByZXR1cm4gc3RyO1xuXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcobm9kZSkge1xuICAgICAgaWYgKG5vZGUubm9kZXMpIHtcbiAgICAgICAgcmV0dXJuIG5vZGUubm9kZXMubWFwKHRvU3RyaW5nKS5qb2luKG5vZGUuaXNMaXN0ID8gJywnIDogJyAnKTtcbiAgICAgIH0gZWxzZSBpZiAoJ2xpdGVyYWwnID09IG5vZGUubm9kZU5hbWUgJiYgJywnID09IG5vZGUudmFsKSB7XG4gICAgICAgIHJldHVybiAnXFxcXCwnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5vZGUudG9TdHJpbmcoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGNsb25lIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2xvbmUocGFyZW50KSB7XG4gICAgdmFyIGNsb25lID0gbmV3IE9iamVjdDtcbiAgICBjbG9uZS5saW5lbm8gPSB0aGlzLmxpbmVubztcbiAgICBjbG9uZS5jb2x1bW4gPSB0aGlzLmNvbHVtbjtcbiAgICBjbG9uZS5maWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG5cbiAgICB2YXIga2V5O1xuICAgIGZvciAoa2V5IGluIHRoaXMudmFscykge1xuICAgICAgY2xvbmUudmFsc1trZXldID0gdGhpcy52YWxzW2tleV0uY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgfVxuXG4gICAgZm9yIChrZXkgaW4gdGhpcy5rZXlzKSB7XG4gICAgICBjbG9uZS5rZXlzW2tleV0gPSB0aGlzLmtleXNba2V5XS5jbG9uZShwYXJlbnQsIGNsb25lKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xvbmU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX190eXBlOiAnT2JqZWN0JyxcbiAgICAgIHZhbHM6IHRoaXMudmFscyxcbiAgICAgIGtleXM6IHRoaXMua2V5cyxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gXCJ7IDxwcm9wPjogPHZhbD4gfVwiXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIGZvciAodmFyIHByb3AgaW4gdGhpcy52YWxzKSB7XG4gICAgICBvYmpbcHJvcF0gPSB0aGlzLnZhbHNbcHJvcF0udG9TdHJpbmcoKTtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9iaik7XG4gIH07XG5cbn07XG4iLAogICJcbi8qIVxuICogU3R5bHVzIC0gRnVuY3Rpb25cbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIE5vZGUgPSByZXF1aXJlKCcuL25vZGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBGdW5jdGlvbiBleHRlbmRzIE5vZGUge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgRnVuY3Rpb25gIHdpdGggYG5hbWVgLCBgcGFyYW1zYCwgYW5kIGBib2R5YC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IG5hbWVcbiAgICogQHBhcmFtIHtQYXJhbXN8RnVuY3Rpb259IHBhcmFtc1xuICAgKiBAcGFyYW0ge0Jsb2NrfSBib2R5XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKG5hbWUsIHBhcmFtcywgYm9keSkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgICB0aGlzLmJsb2NrID0gYm9keTtcbiAgICBpZiAoJ2Z1bmN0aW9uJyA9PSB0eXBlb2YgcGFyYW1zKSB0aGlzLmZuID0gcGFyYW1zO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGZ1bmN0aW9uIGFyaXR5LlxuICAgKlxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBnZXQgYXJpdHkoKSB7XG4gICAgcmV0dXJuIHRoaXMucGFyYW1zLmxlbmd0aDtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGhhc2guXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZ2V0IGhhc2goKSB7XG4gICAgcmV0dXJuICdmdW5jdGlvbiAnICsgdGhpcy5uYW1lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBjbG9uZSBvZiB0aGlzIG5vZGUuXG4gICAqIFxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZShwYXJlbnQpIHtcbiAgICBpZiAodGhpcy5mbikge1xuICAgICAgdmFyIGNsb25lID0gbmV3IEZ1bmN0aW9uKFxuICAgICAgICB0aGlzLm5hbWVcbiAgICAgICAgLCB0aGlzLmZuKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNsb25lID0gbmV3IEZ1bmN0aW9uKHRoaXMubmFtZSk7XG4gICAgICBjbG9uZS5wYXJhbXMgPSB0aGlzLnBhcmFtcy5jbG9uZShwYXJlbnQsIGNsb25lKTtcbiAgICAgIGNsb25lLmJsb2NrID0gdGhpcy5ibG9jay5jbG9uZShwYXJlbnQsIGNsb25lKTtcbiAgICB9XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIDxuYW1lPihwYXJhbTEsIHBhcmFtMiwgLi4uKS5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b1N0cmluZygpIHtcbiAgICBpZiAodGhpcy5mbikge1xuICAgICAgcmV0dXJuIHRoaXMubmFtZVxuICAgICAgICArICcoJ1xuICAgICAgICArIHRoaXMuZm4udG9TdHJpbmcoKVxuICAgICAgICAgIC5tYXRjaCgvXmZ1bmN0aW9uICpcXHcqXFwoKC4qPylcXCkvKVxuICAgICAgICAgIC5zbGljZSgxKVxuICAgICAgICAgIC5qb2luKCcsICcpXG4gICAgICAgICsgJyknO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5uYW1lXG4gICAgICAgICsgJygnXG4gICAgICAgICsgdGhpcy5wYXJhbXMubm9kZXMuam9pbignLCAnKVxuICAgICAgICArICcpJztcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvSlNPTigpIHtcbiAgICB2YXIganNvbiA9IHtcbiAgICAgIF9fdHlwZTogJ0Z1bmN0aW9uJyxcbiAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICAgIGlmICh0aGlzLmZuKSB7XG4gICAgICBqc29uLmZuID0gdGhpcy5mbjtcbiAgICB9IGVsc2Uge1xuICAgICAganNvbi5wYXJhbXMgPSB0aGlzLnBhcmFtcztcbiAgICAgIGpzb24uYmxvY2sgPSB0aGlzLmJsb2NrO1xuICAgIH1cbiAgICByZXR1cm4ganNvbjtcbiAgfTtcblxufTtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBQcm9wZXJ0eVxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIFByb3BlcnR5IGV4dGVuZHMgTm9kZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IGBQcm9wZXJ0eWAgd2l0aCB0aGUgZ2l2ZW4gYHNlZ3NgIGFuZCBvcHRpb25hbCBgZXhwcmAuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNlZ3NcbiAgICogQHBhcmFtIHtFeHByZXNzaW9ufSBleHByXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKHNlZ3MsIGV4cHIpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuc2VnbWVudHMgPSBzZWdzO1xuICAgIHRoaXMuZXhwciA9IGV4cHI7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKiBcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2xvbmUocGFyZW50KSB7XG4gICAgdmFyIGNsb25lID0gbmV3IFByb3BlcnR5KHRoaXMuc2VnbWVudHMpO1xuICAgIGNsb25lLm5hbWUgPSB0aGlzLm5hbWU7XG4gICAgaWYgKHRoaXMubGl0ZXJhbCkgY2xvbmUubGl0ZXJhbCA9IHRoaXMubGl0ZXJhbDtcbiAgICBjbG9uZS5saW5lbm8gPSB0aGlzLmxpbmVubztcbiAgICBjbG9uZS5jb2x1bW4gPSB0aGlzLmNvbHVtbjtcbiAgICBjbG9uZS5maWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgY2xvbmUuc2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzLm1hcChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5jbG9uZShwYXJlbnQsIGNsb25lKTsgfSk7XG4gICAgaWYgKHRoaXMuZXhwcikgY2xvbmUuZXhwciA9IHRoaXMuZXhwci5jbG9uZShwYXJlbnQsIGNsb25lKTtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvSlNPTigpIHtcbiAgICB2YXIganNvbiA9IHtcbiAgICAgIF9fdHlwZTogJ1Byb3BlcnR5JyxcbiAgICAgIHNlZ21lbnRzOiB0aGlzLnNlZ21lbnRzLFxuICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gICAgaWYgKHRoaXMuZXhwcikganNvbi5leHByID0gdGhpcy5leHByO1xuICAgIGlmICh0aGlzLmxpdGVyYWwpIGpzb24ubGl0ZXJhbCA9IHRoaXMubGl0ZXJhbDtcbiAgICByZXR1cm4ganNvbjtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICdwcm9wZXJ0eSgnICsgdGhpcy5zZWdtZW50cy5qb2luKCcnKSArICcsICcgKyB0aGlzLmV4cHIgKyAnKSc7XG4gIH07XG5cbiAgLyoqXG4gICAqIE9wZXJhdGUgb24gdGhlIHByb3BlcnR5IGV4cHJlc3Npb24uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBvcFxuICAgKiBAcGFyYW0ge05vZGV9IHJpZ2h0XG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIG9wZXJhdGUob3AsIHJpZ2h0LCB2YWwpIHtcbiAgICByZXR1cm4gdGhpcy5leHByLm9wZXJhdGUob3AsIHJpZ2h0LCB2YWwpO1xuICB9O1xufTtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBTZWxlY3RvclxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgQmxvY2sgPSByZXF1aXJlKCcuL2Jsb2NrJylcbiAgLCBOb2RlID0gcmVxdWlyZSgnLi9ub2RlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgU2VsZWN0b3IgZXh0ZW5kcyBOb2RlIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYFNlbGVjdG9yYCB3aXRoIHRoZSBnaXZlbiBgc2Vnc2AuXG4gICAqXG4gICAqIEBwYXJhbSB7QXJyYXl9IHNlZ3NcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY29uc3RydWN0b3Ioc2Vncykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5pbmhlcml0cyA9IHRydWU7XG4gICAgdGhpcy5zZWdtZW50cyA9IHNlZ3M7XG4gICAgdGhpcy5vcHRpb25hbCA9IGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgc2VsZWN0b3Igc3RyaW5nLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLnNlZ21lbnRzLmpvaW4oJycpICsgKHRoaXMub3B0aW9uYWwgPyAnICFvcHRpb25hbCcgOiAnJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoaXMgaXMgcGxhY2Vob2xkZXIgc2VsZWN0b3IuXG4gICAqXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGdldCBpc1BsYWNlaG9sZGVyKCkge1xuICAgIHJldHVybiB0aGlzLnZhbCAmJiB+dGhpcy52YWwuc3Vic3RyKDAsIDIpLmluZGV4T2YoJyQnKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKiBcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2xvbmUocGFyZW50KSB7XG4gICAgdmFyIGNsb25lID0gbmV3IFNlbGVjdG9yO1xuICAgIGNsb25lLmxpbmVubyA9IHRoaXMubGluZW5vO1xuICAgIGNsb25lLmNvbHVtbiA9IHRoaXMuY29sdW1uO1xuICAgIGNsb25lLmZpbGVuYW1lID0gdGhpcy5maWxlbmFtZTtcbiAgICBjbG9uZS5pbmhlcml0cyA9IHRoaXMuaW5oZXJpdHM7XG4gICAgY2xvbmUudmFsID0gdGhpcy52YWw7XG4gICAgY2xvbmUuc2VnbWVudHMgPSB0aGlzLnNlZ21lbnRzLm1hcChmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5jbG9uZShwYXJlbnQsIGNsb25lKTsgfSk7XG4gICAgY2xvbmUub3B0aW9uYWwgPSB0aGlzLm9wdGlvbmFsO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdTZWxlY3RvcicsXG4gICAgICBpbmhlcml0czogdGhpcy5pbmhlcml0cyxcbiAgICAgIHNlZ21lbnRzOiB0aGlzLnNlZ21lbnRzLFxuICAgICAgb3B0aW9uYWw6IHRoaXMub3B0aW9uYWwsXG4gICAgICB2YWw6IHRoaXMudmFsLFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZVxuICAgIH07XG4gIH07XG5cbn07XG4iLAogICJcbi8qIVxuICogU3R5bHVzIC0gRXhwcmVzc2lvblxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpXG4gICwgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEV4cHJlc3Npb24gZXh0ZW5kcyBOb2RlIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYEV4cHJlc3Npb25gLlxuICAgKlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IGlzTGlzdFxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3Rvcihpc0xpc3QpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMubm9kZXMgPSBbXTtcbiAgICB0aGlzLmlzTGlzdCA9IGlzTGlzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgdmFyaWFibGUgaGFzIGEgdmFsdWUuXG4gICAqXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGdldCBpc0VtcHR5KCkge1xuICAgIHJldHVybiAhdGhpcy5ub2Rlcy5sZW5ndGg7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgZmlyc3Qgbm9kZSBpbiB0aGlzIGV4cHJlc3Npb24uXG4gICAqXG4gICAqIEByZXR1cm4ge05vZGV9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGdldCBmaXJzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlc1swXVxuICAgICAgPyB0aGlzLm5vZGVzWzBdLmZpcnN0XG4gICAgICA6IG5vZGVzLm51bGw7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhc2ggYWxsIHRoZSBub2RlcyBpbiBvcmRlci5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBnZXQgaGFzaCgpIHtcbiAgICByZXR1cm4gdGhpcy5ub2Rlcy5tYXAoZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiBub2RlLmhhc2g7XG4gICAgfSkuam9pbignOjonKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKiBcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2xvbmUocGFyZW50KSB7XG4gICAgdmFyIGNsb25lID0gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5pc0xpc3QpO1xuICAgIGNsb25lLnByZXNlcnZlID0gdGhpcy5wcmVzZXJ2ZTtcbiAgICBjbG9uZS5saW5lbm8gPSB0aGlzLmxpbmVubztcbiAgICBjbG9uZS5jb2x1bW4gPSB0aGlzLmNvbHVtbjtcbiAgICBjbG9uZS5maWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgY2xvbmUubm9kZXMgPSB0aGlzLm5vZGVzLm1hcChmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIG5vZGUuY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQdXNoIHRoZSBnaXZlbiBgbm9kZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBwdXNoKG5vZGUpIHtcbiAgICB0aGlzLm5vZGVzLnB1c2gobm9kZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE9wZXJhdGUgb24gYHJpZ2h0YCB3aXRoIHRoZSBnaXZlbiBgb3BgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gb3BcbiAgICogQHBhcmFtIHtOb2RlfSByaWdodFxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBvcGVyYXRlKG9wLCByaWdodCwgdmFsKSB7XG4gICAgc3dpdGNoIChvcCkge1xuICAgICAgY2FzZSAnW109JzpcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzXG4gICAgICAgICAgLCByYW5nZSA9IHV0aWxzLnVud3JhcChyaWdodCkubm9kZXNcbiAgICAgICAgICAsIHZhbCA9IHV0aWxzLnVud3JhcCh2YWwpXG4gICAgICAgICAgLCBsZW5cbiAgICAgICAgICAsIG5vZGU7XG4gICAgICAgIHJhbmdlLmZvckVhY2goZnVuY3Rpb24gKHVuaXQpIHtcbiAgICAgICAgICBsZW4gPSBzZWxmLm5vZGVzLmxlbmd0aDtcbiAgICAgICAgICBpZiAoJ3VuaXQnID09IHVuaXQubm9kZU5hbWUpIHtcbiAgICAgICAgICAgIHZhciBpID0gdW5pdC52YWwgPCAwID8gbGVuICsgdW5pdC52YWwgOiB1bml0LnZhbFxuICAgICAgICAgICAgICAsIG4gPSBpO1xuICAgICAgICAgICAgd2hpbGUgKGktLSA+IGxlbikgc2VsZi5ub2Rlc1tpXSA9IG5vZGVzLm51bGw7XG4gICAgICAgICAgICBzZWxmLm5vZGVzW25dID0gdmFsO1xuICAgICAgICAgIH0gZWxzZSBpZiAodW5pdC5zdHJpbmcpIHtcbiAgICAgICAgICAgIG5vZGUgPSBzZWxmLm5vZGVzWzBdO1xuICAgICAgICAgICAgaWYgKG5vZGUgJiYgJ29iamVjdCcgPT0gbm9kZS5ub2RlTmFtZSkgbm9kZS5zZXQodW5pdC5zdHJpbmcsIHZhbC5jbG9uZSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdmFsO1xuICAgICAgY2FzZSAnW10nOlxuICAgICAgICB2YXIgZXhwciA9IG5ldyBub2Rlcy5FeHByZXNzaW9uXG4gICAgICAgICAgLCB2YWxzID0gdXRpbHMudW53cmFwKHRoaXMpLm5vZGVzXG4gICAgICAgICAgLCByYW5nZSA9IHV0aWxzLnVud3JhcChyaWdodCkubm9kZXNcbiAgICAgICAgICAsIG5vZGU7XG4gICAgICAgIHJhbmdlLmZvckVhY2goZnVuY3Rpb24gKHVuaXQpIHtcbiAgICAgICAgICBpZiAoJ3VuaXQnID09IHVuaXQubm9kZU5hbWUpIHtcbiAgICAgICAgICAgIG5vZGUgPSB2YWxzW3VuaXQudmFsIDwgMCA/IHZhbHMubGVuZ3RoICsgdW5pdC52YWwgOiB1bml0LnZhbF07XG4gICAgICAgICAgfSBlbHNlIGlmICgnb2JqZWN0JyA9PSB2YWxzWzBdLm5vZGVOYW1lKSB7XG4gICAgICAgICAgICBub2RlID0gdmFsc1swXS5nZXQodW5pdC5zdHJpbmcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobm9kZSkgZXhwci5wdXNoKG5vZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGV4cHIuaXNFbXB0eVxuICAgICAgICAgID8gbm9kZXMubnVsbFxuICAgICAgICAgIDogdXRpbHMudW53cmFwKGV4cHIpO1xuICAgICAgY2FzZSAnfHwnOlxuICAgICAgICByZXR1cm4gdGhpcy50b0Jvb2xlYW4oKS5pc1RydWVcbiAgICAgICAgICA/IHRoaXNcbiAgICAgICAgICA6IHJpZ2h0O1xuICAgICAgY2FzZSAnaW4nOlxuICAgICAgICByZXR1cm4gc3VwZXIub3BlcmF0ZShvcCwgcmlnaHQpO1xuICAgICAgY2FzZSAnIT0nOlxuICAgICAgICByZXR1cm4gdGhpcy5vcGVyYXRlKCc9PScsIHJpZ2h0LCB2YWwpLm5lZ2F0ZSgpO1xuICAgICAgY2FzZSAnPT0nOlxuICAgICAgICB2YXIgbGVuID0gdGhpcy5ub2Rlcy5sZW5ndGhcbiAgICAgICAgICAsIHJpZ2h0ID0gcmlnaHQudG9FeHByZXNzaW9uKClcbiAgICAgICAgICAsIGFcbiAgICAgICAgICAsIGI7XG4gICAgICAgIGlmIChsZW4gIT0gcmlnaHQubm9kZXMubGVuZ3RoKSByZXR1cm4gbm9kZXMuZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICBhID0gdGhpcy5ub2Rlc1tpXTtcbiAgICAgICAgICBiID0gcmlnaHQubm9kZXNbaV07XG4gICAgICAgICAgaWYgKGEub3BlcmF0ZShvcCwgYikuaXNUcnVlKSBjb250aW51ZTtcbiAgICAgICAgICByZXR1cm4gbm9kZXMuZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5vZGVzLnRydWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRoaXMuZmlyc3Qub3BlcmF0ZShvcCwgcmlnaHQsIHZhbCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBFeHByZXNzaW9ucyB3aXRoIGxlbmd0aCA+IDEgYXJlIHRydXRoeSxcbiAgICogb3RoZXJ3aXNlIHRoZSBmaXJzdCB2YWx1ZSdzIHRvQm9vbGVhbigpXG4gICAqIG1ldGhvZCBpcyBpbnZva2VkLlxuICAgKlxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0Jvb2xlYW4oKSB7XG4gICAgaWYgKHRoaXMubm9kZXMubGVuZ3RoID4gMSkgcmV0dXJuIG5vZGVzLnRydWU7XG4gICAgcmV0dXJuIHRoaXMuZmlyc3QudG9Cb29sZWFuKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBcIjxhPiA8Yj4gPGM+XCIgb3IgXCI8YT4sIDxiPiwgPGM+XCIgaWZcbiAgICogdGhlIGV4cHJlc3Npb24gcmVwcmVzZW50cyBhIGxpc3QuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICcoJyArIHRoaXMubm9kZXMubWFwKGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICByZXR1cm4gbm9kZS50b1N0cmluZygpO1xuICAgIH0pLmpvaW4odGhpcy5pc0xpc3QgPyAnLCAnIDogJyAnKSArICcpJztcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGlzIG5vZGUuXG4gICAqXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9KU09OKCkge1xuICAgIHJldHVybiB7XG4gICAgICBfX3R5cGU6ICdFeHByZXNzaW9uJyxcbiAgICAgIGlzTGlzdDogdGhpcy5pc0xpc3QsXG4gICAgICBwcmVzZXJ2ZTogdGhpcy5wcmVzZXJ2ZSxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWUsXG4gICAgICBub2RlczogdGhpcy5ub2Rlc1xuICAgIH07XG4gIH07XG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIEFyZ3VtZW50c1xuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIEFyZ3VtZW50cyBleHRlbmRzIG5vZGVzLkV4cHJlc3Npb24ge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgQXJndW1lbnRzYC5cbiAgICpcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm1hcCA9IHt9O1xuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYW4gYEFyZ3VtZW50c2Agb2JqZWN0IHdpdGggdGhlIG5vZGVzXG4gICAqIGZyb20gdGhlIGdpdmVuIGBleHByYC5cbiAgICpcbiAgICogQHBhcmFtIHtFeHByZXNzaW9ufSBleHByXG4gICAqIEByZXR1cm4ge0FyZ3VtZW50c31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgc3RhdGljIGZyb21FeHByZXNzaW9uKGV4cHIpIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcmd1bWVudHNcbiAgICAgICwgbGVuID0gZXhwci5ub2Rlcy5sZW5ndGg7XG4gICAgYXJncy5saW5lbm8gPSBleHByLmxpbmVubztcbiAgICBhcmdzLmNvbHVtbiA9IGV4cHIuY29sdW1uO1xuICAgIGFyZ3MuaXNMaXN0ID0gZXhwci5pc0xpc3Q7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgYXJncy5wdXNoKGV4cHIubm9kZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJncztcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZShwYXJlbnQpIHtcbiAgICB2YXIgY2xvbmUgPSBzdXBlci5jbG9uZShwYXJlbnQpO1xuICAgIGNsb25lLm1hcCA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiB0aGlzLm1hcCkge1xuICAgICAgY2xvbmUubWFwW2tleV0gPSB0aGlzLm1hcFtrZXldLmNsb25lKHBhcmVudCwgY2xvbmUpO1xuICAgIH1cbiAgICBjbG9uZS5pc0xpc3QgPSB0aGlzLmlzTGlzdDtcbiAgICBjbG9uZS5saW5lbm8gPSB0aGlzLmxpbmVubztcbiAgICBjbG9uZS5jb2x1bW4gPSB0aGlzLmNvbHVtbjtcbiAgICBjbG9uZS5maWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fdHlwZTogJ0FyZ3VtZW50cycsXG4gICAgICBtYXA6IHRoaXMubWFwLFxuICAgICAgaXNMaXN0OiB0aGlzLmlzTGlzdCxcbiAgICAgIHByZXNlcnZlOiB0aGlzLnByZXNlcnZlLFxuICAgICAgbGluZW5vOiB0aGlzLmxpbmVubyxcbiAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4sXG4gICAgICBmaWxlbmFtZTogdGhpcy5maWxlbmFtZSxcbiAgICAgIG5vZGVzOiB0aGlzLm5vZGVzXG4gICAgfTtcbiAgfTtcblxufTtcblxuXG5cbiIsCiAgIi8qIVxuICogU3R5bHVzIC0gQGJsb2NrXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBOb2RlID0gcmVxdWlyZSgnLi9ub2RlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgQXRibG9jayBleHRlbmRzIE5vZGUge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgQGJsb2NrYCBub2RlLlxuICAgKlxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBgYmxvY2tgIG5vZGVzLlxuICAgKi9cblxuICBnZXQgbm9kZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmxvY2subm9kZXM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGEgY2xvbmUgb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtOb2RlfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBjbG9uZShwYXJlbnQpIHtcbiAgICB2YXIgY2xvbmUgPSBuZXcgQXRibG9jaztcbiAgICBjbG9uZS5ibG9jayA9IHRoaXMuYmxvY2suY2xvbmUocGFyZW50LCBjbG9uZSk7XG4gICAgY2xvbmUubGluZW5vID0gdGhpcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gdGhpcy5jb2x1bW47XG4gICAgY2xvbmUuZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lO1xuICAgIHJldHVybiBjbG9uZTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIEBibG9jay5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gJ0BibG9jayc7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhpcyBub2RlLlxuICAgKlxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHRvSlNPTigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgX190eXBlOiAnQXRibG9jaycsXG4gICAgICBibG9jazogdGhpcy5ibG9jayxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5vOiB0aGlzLmZpbGVub1xuICAgIH07XG4gIH07XG59O1xuIiwKICAiLyohXG4gKiBTdHlsdXMgLSBzdXBwb3J0c1xuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgQXRydWxlID0gcmVxdWlyZSgnLi9hdHJ1bGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBTdXBwb3J0cyBleHRlbmRzIEF0cnVsZSB7XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgbmV3IHN1cHBvcnRzIG5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSB7RXhwcmVzc2lvbn0gY29uZGl0aW9uXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGNvbnN0cnVjdG9yKGNvbmRpdGlvbikge1xuICAgIHN1cGVyKCdzdXBwb3J0cycpO1xuICAgIHRoaXMuY29uZGl0aW9uID0gY29uZGl0aW9uO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBhIGNsb25lIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY2xvbmUocGFyZW50KSB7XG4gICAgdmFyIGNsb25lID0gbmV3IFN1cHBvcnRzO1xuICAgIGNsb25lLmNvbmRpdGlvbiA9IHRoaXMuY29uZGl0aW9uLmNsb25lKHBhcmVudCwgY2xvbmUpO1xuICAgIGNsb25lLmJsb2NrID0gdGhpcy5ibG9jay5jbG9uZShwYXJlbnQsIGNsb25lKTtcbiAgICBjbG9uZS5saW5lbm8gPSB0aGlzLmxpbmVubztcbiAgICBjbG9uZS5jb2x1bW4gPSB0aGlzLmNvbHVtbjtcbiAgICBjbG9uZS5maWxlbmFtZSA9IHRoaXMuZmlsZW5hbWU7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7T2JqZWN0fVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICB0b0pTT04oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIF9fdHlwZTogJ1N1cHBvcnRzJyxcbiAgICAgIGNvbmRpdGlvbjogdGhpcy5jb25kaXRpb24sXG4gICAgICBibG9jazogdGhpcy5ibG9jayxcbiAgICAgIGxpbmVubzogdGhpcy5saW5lbm8sXG4gICAgICBjb2x1bW46IHRoaXMuY29sdW1uLFxuICAgICAgZmlsZW5hbWU6IHRoaXMuZmlsZW5hbWVcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm4gQHN1cHBvcnRzXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuICdAc3VwcG9ydHMgJyArIHRoaXMuY29uZGl0aW9uO1xuICB9O1xufTtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBub2Rlc1xuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbmV4cG9ydHMubGluZW5vID0gbnVsbDtcbmV4cG9ydHMuY29sdW1uID0gbnVsbDtcbmV4cG9ydHMuZmlsZW5hbWUgPSBudWxsO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yc1xuICovXG5cbmV4cG9ydHMuTm9kZSA9IHJlcXVpcmUoJy4vbm9kZScpO1xuZXhwb3J0cy5Sb290ID0gcmVxdWlyZSgnLi9yb290Jyk7XG5leHBvcnRzLk51bGwgPSByZXF1aXJlKCcuL251bGwnKTtcbmV4cG9ydHMuRWFjaCA9IHJlcXVpcmUoJy4vZWFjaCcpO1xuZXhwb3J0cy5JZiA9IHJlcXVpcmUoJy4vaWYnKTtcbmV4cG9ydHMuQ2FsbCA9IHJlcXVpcmUoJy4vY2FsbCcpO1xuZXhwb3J0cy5VbmFyeU9wID0gcmVxdWlyZSgnLi91bmFyeW9wJyk7XG5leHBvcnRzLkJpbk9wID0gcmVxdWlyZSgnLi9iaW5vcCcpO1xuZXhwb3J0cy5UZXJuYXJ5ID0gcmVxdWlyZSgnLi90ZXJuYXJ5Jyk7XG5leHBvcnRzLkJsb2NrID0gcmVxdWlyZSgnLi9ibG9jaycpO1xuZXhwb3J0cy5Vbml0ID0gcmVxdWlyZSgnLi91bml0Jyk7XG5leHBvcnRzLlN0cmluZyA9IHJlcXVpcmUoJy4vc3RyaW5nJyk7XG5leHBvcnRzLkhTTEEgPSByZXF1aXJlKCcuL2hzbGEnKTtcbmV4cG9ydHMuUkdCQSA9IHJlcXVpcmUoJy4vcmdiYScpO1xuZXhwb3J0cy5JZGVudCA9IHJlcXVpcmUoJy4vaWRlbnQnKTtcbmV4cG9ydHMuR3JvdXAgPSByZXF1aXJlKCcuL2dyb3VwJyk7XG5leHBvcnRzLkxpdGVyYWwgPSByZXF1aXJlKCcuL2xpdGVyYWwnKTtcbmV4cG9ydHMuQm9vbGVhbiA9IHJlcXVpcmUoJy4vYm9vbGVhbicpO1xuZXhwb3J0cy5SZXR1cm4gPSByZXF1aXJlKCcuL3JldHVybicpO1xuZXhwb3J0cy5NZWRpYSA9IHJlcXVpcmUoJy4vbWVkaWEnKTtcbmV4cG9ydHMuUXVlcnlMaXN0ID0gcmVxdWlyZSgnLi9xdWVyeS1saXN0Jyk7XG5leHBvcnRzLlF1ZXJ5ID0gcmVxdWlyZSgnLi9xdWVyeScpO1xuZXhwb3J0cy5GZWF0dXJlID0gcmVxdWlyZSgnLi9mZWF0dXJlJyk7XG5leHBvcnRzLlBhcmFtcyA9IHJlcXVpcmUoJy4vcGFyYW1zJyk7XG5leHBvcnRzLkNvbW1lbnQgPSByZXF1aXJlKCcuL2NvbW1lbnQnKTtcbmV4cG9ydHMuS2V5ZnJhbWVzID0gcmVxdWlyZSgnLi9rZXlmcmFtZXMnKTtcbmV4cG9ydHMuTWVtYmVyID0gcmVxdWlyZSgnLi9tZW1iZXInKTtcbmV4cG9ydHMuQ2hhcnNldCA9IHJlcXVpcmUoJy4vY2hhcnNldCcpO1xuZXhwb3J0cy5OYW1lc3BhY2UgPSByZXF1aXJlKCcuL25hbWVzcGFjZScpO1xuZXhwb3J0cy5JbXBvcnQgPSByZXF1aXJlKCcuL2ltcG9ydCcpO1xuZXhwb3J0cy5FeHRlbmQgPSByZXF1aXJlKCcuL2V4dGVuZCcpO1xuZXhwb3J0cy5PYmplY3QgPSByZXF1aXJlKCcuL29iamVjdCcpO1xuZXhwb3J0cy5GdW5jdGlvbiA9IHJlcXVpcmUoJy4vZnVuY3Rpb24nKTtcbmV4cG9ydHMuUHJvcGVydHkgPSByZXF1aXJlKCcuL3Byb3BlcnR5Jyk7XG5leHBvcnRzLlNlbGVjdG9yID0gcmVxdWlyZSgnLi9zZWxlY3RvcicpO1xuZXhwb3J0cy5FeHByZXNzaW9uID0gcmVxdWlyZSgnLi9leHByZXNzaW9uJyk7XG5leHBvcnRzLkFyZ3VtZW50cyA9IHJlcXVpcmUoJy4vYXJndW1lbnRzJyk7XG5leHBvcnRzLkF0YmxvY2sgPSByZXF1aXJlKCcuL2F0YmxvY2snKTtcbmV4cG9ydHMuQXRydWxlID0gcmVxdWlyZSgnLi9hdHJ1bGUnKTtcbmV4cG9ydHMuU3VwcG9ydHMgPSByZXF1aXJlKCcuL3N1cHBvcnRzJyk7XG5cbi8qKlxuICogU2luZ2xldG9ucy5cbiAqL1xuXG5leHBvcnRzLnRydWUgPSBuZXcgZXhwb3J0cy5Cb29sZWFuKHRydWUpO1xuZXhwb3J0cy5mYWxzZSA9IG5ldyBleHBvcnRzLkJvb2xlYW4oZmFsc2UpO1xuZXhwb3J0cy5udWxsID0gbmV3IGV4cG9ydHMuTnVsbDtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBlcnJvcnNcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFBhcnNlRXJyb3JgIHdpdGggdGhlIGdpdmVuIGBtc2dgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBtc2dcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmNsYXNzIFBhcnNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG1zZykge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5uYW1lID0gJ1BhcnNlRXJyb3InO1xuICAgIHRoaXMubWVzc2FnZSA9IG1zZztcbiAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFBhcnNlRXJyb3IpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYFN5bnRheEVycm9yYCB3aXRoIHRoZSBnaXZlbiBgbXNnYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbXNnXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5jbGFzcyBTeW50YXhFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgY29uc3RydWN0b3IobXNnKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLm5hbWUgPSAnU3ludGF4RXJyb3InO1xuICAgIHRoaXMubWVzc2FnZSA9IG1zZztcbiAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcbiAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFBhcnNlRXJyb3IpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEV4cG9zZSBjb25zdHJ1Y3RvcnMuXG4gKi9cblxuZXhwb3J0cy5QYXJzZUVycm9yID0gUGFyc2VFcnJvcjtcbmV4cG9ydHMuU3ludGF4RXJyb3IgPSBTeW50YXhFcnJvcjtcbiIsCiAgIlxuLyohXG4gKiBTdHlsdXMgLSBMZXhlclxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgVG9rZW4gPSByZXF1aXJlKCcuL3Rva2VuJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4vbm9kZXMnKVxuICAsIGVycm9ycyA9IHJlcXVpcmUoJy4vZXJyb3JzJyk7XG5cbi8qKlxuICogT3BlcmF0b3IgYWxpYXNlcy5cbiAqL1xuXG52YXIgYWxpYXMgPSB7XG4gICdhbmQnOiAnJiYnXG4gICwgJ29yJzogJ3x8J1xuICAsICdpcyc6ICc9PSdcbiAgLCAnaXNudCc6ICchPSdcbiAgLCAnaXMgbm90JzogJyE9J1xuICAsICc6PSc6ICc/PSdcbn07XG5cbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGNsYXNzIExleGVyIHtcbiAgLyoqXG4gICAqIEluaXRpYWxpemUgYSBuZXcgYExleGVyYCB3aXRoIHRoZSBnaXZlbiBgc3RyYCBhbmQgYG9wdGlvbnNgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBjb25zdHJ1Y3RvcihzdHIsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLnN0YXNoID0gW107XG4gICAgdGhpcy5pbmRlbnRTdGFjayA9IFtdO1xuICAgIHRoaXMuaW5kZW50UmUgPSBudWxsO1xuICAgIHRoaXMubGluZW5vID0gMTtcbiAgICB0aGlzLmNvbHVtbiA9IDE7XG5cbiAgICAvLyBIQUNLIVxuICAgIGZ1bmN0aW9uIGNvbW1lbnQoc3RyLCB2YWwsIG9mZnNldCwgcykge1xuICAgICAgdmFyIGluQ29tbWVudCA9IHMubGFzdEluZGV4T2YoJy8qJywgb2Zmc2V0KSA+IHMubGFzdEluZGV4T2YoJyovJywgb2Zmc2V0KVxuICAgICAgICAsIGNvbW1lbnRJZHggPSBzLmxhc3RJbmRleE9mKCcvLycsIG9mZnNldClcbiAgICAgICAgLCBpID0gcy5sYXN0SW5kZXhPZignXFxuJywgb2Zmc2V0KVxuICAgICAgICAsIGRvdWJsZSA9IDBcbiAgICAgICAgLCBzaW5nbGUgPSAwO1xuXG4gICAgICBpZiAofmNvbW1lbnRJZHggJiYgY29tbWVudElkeCA+IGkpIHtcbiAgICAgICAgd2hpbGUgKGkgIT0gb2Zmc2V0KSB7XG4gICAgICAgICAgaWYgKFwiJ1wiID09IHNbaV0pIHNpbmdsZSA/IHNpbmdsZS0tIDogc2luZ2xlKys7XG4gICAgICAgICAgaWYgKCdcIicgPT0gc1tpXSkgZG91YmxlID8gZG91YmxlLS0gOiBkb3VibGUrKztcblxuICAgICAgICAgIGlmICgnLycgPT0gc1tpXSAmJiAnLycgPT0gc1tpICsgMV0pIHtcbiAgICAgICAgICAgIGluQ29tbWVudCA9ICFzaW5nbGUgJiYgIWRvdWJsZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICArK2k7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGluQ29tbWVudFxuICAgICAgICA/IHN0clxuICAgICAgICA6ICgodmFsID09PSAnLCcgJiYgL15bLFxcdFxcbl0rJC8udGVzdChzdHIpKSA/IHN0ci5yZXBsYWNlKC9cXG4vLCAnXFxyJykgOiB2YWwgKyAnXFxyJyk7XG4gICAgfTtcblxuICAgIC8vIFJlbW92ZSBVVEYtOCBCT00uXG4gICAgaWYgKCdcXHVGRUZGJyA9PSBzdHIuY2hhckF0KDApKSBzdHIgPSBzdHIuc2xpY2UoMSk7XG5cbiAgICB0aGlzLnN0ciA9IHN0clxuICAgICAgLnJlcGxhY2UoL1xccyskLywgJ1xcbicpXG4gICAgICAucmVwbGFjZSgvXFxyXFxuPy9nLCAnXFxuJylcbiAgICAgIC5yZXBsYWNlKC9cXFxcICpcXG4vZywgJ1xccicpXG4gICAgICAucmVwbGFjZSgvKFssKDpdKD8hXFwvXFwvW14gXSkpICooPzpcXC9cXC9bXlxcbl0qfFxcL1xcKi4qP1xcKlxcLyk/XFxuXFxzKi9nLCBjb21tZW50KVxuICAgICAgLnJlcGxhY2UoL1xccypcXG5bIFxcdF0qKFssKV0pL2csIGNvbW1lbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgICAqIEN1c3RvbSBpbnNwZWN0LlxuICAgICAqL1xuXG4gIGluc3BlY3QoKSB7XG4gICAgdmFyIHRva1xuICAgICAgLCB0bXAgPSB0aGlzLnN0clxuICAgICAgLCBidWYgPSBbXTtcbiAgICB3aGlsZSAoJ2VvcycgIT0gKHRvayA9IHRoaXMubmV4dCgpKS50eXBlKSB7XG4gICAgICBidWYucHVzaCh0b2suaW5zcGVjdCgpKTtcbiAgICB9XG4gICAgdGhpcy5zdHIgPSB0bXA7XG4gICAgcmV0dXJuIGJ1Zi5jb25jYXQodG9rLmluc3BlY3QoKSkuam9pbignXFxuJyk7XG4gIH1cblxuICAvKipcbiAgICogTG9va2FoZWFkIGBuYCB0b2tlbnMuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gICAqIEByZXR1cm4ge09iamVjdH1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGxvb2thaGVhZChuKSB7XG4gICAgdmFyIGZldGNoID0gbiAtIHRoaXMuc3Rhc2gubGVuZ3RoO1xuICAgIHdoaWxlIChmZXRjaC0tID4gMCkgdGhpcy5zdGFzaC5wdXNoKHRoaXMuYWR2YW5jZSgpKTtcbiAgICByZXR1cm4gdGhpcy5zdGFzaFstLW5dO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnN1bWUgdGhlIGdpdmVuIGBsZW5gLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcnxBcnJheX0gbGVuXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBza2lwKGxlbikge1xuICAgIHZhciBjaHVuayA9IGxlblswXTtcbiAgICBsZW4gPSBjaHVuayA/IGNodW5rLmxlbmd0aCA6IGxlbjtcbiAgICB0aGlzLnN0ciA9IHRoaXMuc3RyLnN1YnN0cihsZW4pO1xuICAgIGlmIChjaHVuaykge1xuICAgICAgdGhpcy5tb3ZlKGNodW5rKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb2x1bW4gKz0gbGVuO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIGN1cnJlbnQgbGluZSBhbmQgY29sdW1uIHBvc2l0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBtb3ZlKHN0cikge1xuICAgIHZhciBsaW5lcyA9IHN0ci5tYXRjaCgvXFxuL2cpXG4gICAgICAsIGlkeCA9IHN0ci5sYXN0SW5kZXhPZignXFxuJyk7XG5cbiAgICBpZiAobGluZXMpIHRoaXMubGluZW5vICs9IGxpbmVzLmxlbmd0aDtcbiAgICB0aGlzLmNvbHVtbiA9IH5pZHhcbiAgICAgID8gc3RyLmxlbmd0aCAtIGlkeFxuICAgICAgOiB0aGlzLmNvbHVtbiArIHN0ci5sZW5ndGg7XG4gIH1cblxuICAvKipcbiAgICogRmV0Y2ggbmV4dCB0b2tlbiBpbmNsdWRpbmcgdGhvc2Ugc3Rhc2hlZCBieSBwZWVrLlxuICAgKlxuICAgKiBAcmV0dXJuIHtUb2tlbn1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIG5leHQoKSB7XG4gICAgdmFyIHRvayA9IHRoaXMuc3Rhc2hlZCgpIHx8IHRoaXMuYWR2YW5jZSgpO1xuICAgIHRoaXMucHJldiA9IHRvaztcbiAgICByZXR1cm4gdG9rO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBjdXJyZW50IHRva2VuIGlzIGEgcGFydCBvZiBzZWxlY3Rvci5cbiAgICpcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGlzUGFydE9mU2VsZWN0b3IoKSB7XG4gICAgdmFyIHRvayA9IHRoaXMuc3Rhc2hbdGhpcy5zdGFzaC5sZW5ndGggLSAxXSB8fCB0aGlzLnByZXY7XG4gICAgc3dpdGNoICh0b2sgJiYgdG9rLnR5cGUpIHtcbiAgICAgIC8vICNmb3JcbiAgICAgIGNhc2UgJ2NvbG9yJzpcbiAgICAgICAgcmV0dXJuIDIgPT0gdG9rLnZhbC5yYXcubGVuZ3RoO1xuICAgICAgLy8gLm9yXG4gICAgICBjYXNlICcuJzpcbiAgICAgIC8vIFtpc11cbiAgICAgIGNhc2UgJ1snOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIG5leHQgdG9rZW4uXG4gICAqXG4gICAqIEByZXR1cm4ge1Rva2VufVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgYWR2YW5jZSgpIHtcbiAgICB2YXIgY29sdW1uID0gdGhpcy5jb2x1bW5cbiAgICAgICwgbGluZSA9IHRoaXMubGluZW5vXG4gICAgICAsIHRvayA9IHRoaXMuZW9zKClcbiAgICAgICAgfHwgdGhpcy5udWxsKClcbiAgICAgICAgfHwgdGhpcy5zZXAoKVxuICAgICAgICB8fCB0aGlzLmtleXdvcmQoKVxuICAgICAgICB8fCB0aGlzLnVybGNoYXJzKClcbiAgICAgICAgfHwgdGhpcy5jb21tZW50KClcbiAgICAgICAgfHwgdGhpcy5uZXdsaW5lKClcbiAgICAgICAgfHwgdGhpcy5lc2NhcGVkKClcbiAgICAgICAgfHwgdGhpcy5pbXBvcnRhbnQoKVxuICAgICAgICB8fCB0aGlzLmxpdGVyYWwoKVxuICAgICAgICB8fCB0aGlzLmFub25GdW5jKClcbiAgICAgICAgfHwgdGhpcy5hdHJ1bGUoKVxuICAgICAgICB8fCB0aGlzLmZ1bmN0aW9uKClcbiAgICAgICAgfHwgdGhpcy5icmFjZSgpXG4gICAgICAgIHx8IHRoaXMucGFyZW4oKVxuICAgICAgICB8fCB0aGlzLmNvbG9yKClcbiAgICAgICAgfHwgdGhpcy5zdHJpbmcoKVxuICAgICAgICB8fCB0aGlzLnVuaXQoKVxuICAgICAgICB8fCB0aGlzLm5hbWVkb3AoKVxuICAgICAgICB8fCB0aGlzLmJvb2xlYW4oKVxuICAgICAgICB8fCB0aGlzLnVuaWNvZGUoKVxuICAgICAgICB8fCB0aGlzLmlkZW50KClcbiAgICAgICAgfHwgdGhpcy5vcCgpXG4gICAgICAgIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHRva2VuID0gdGhpcy5lb2woKTtcblxuICAgICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgICAgY29sdW1uID0gdG9rZW4uY29sdW1uO1xuICAgICAgICAgICAgbGluZSA9IHRva2VuLmxpbmVubztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgIH0pLmNhbGwodGhpcylcbiAgICAgICAgfHwgdGhpcy5zcGFjZSgpXG4gICAgICAgIHx8IHRoaXMuc2VsZWN0b3IoKTtcblxuICAgIHRvay5saW5lbm8gPSBsaW5lO1xuICAgIHRvay5jb2x1bW4gPSBjb2x1bW47XG5cbiAgICByZXR1cm4gdG9rO1xuICB9XG5cbiAgLyoqXG4gICAqIExvb2thaGVhZCBhIHNpbmdsZSB0b2tlbi5cbiAgICpcbiAgICogQHJldHVybiB7VG9rZW59XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBwZWVrKCkge1xuICAgIHJldHVybiB0aGlzLmxvb2thaGVhZCgxKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIG5leHQgcG9zc2libHkgc3Rhc2hlZCB0b2tlbi5cbiAgICpcbiAgICogQHJldHVybiB7VG9rZW59XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBzdGFzaGVkKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXNoLnNoaWZ0KCk7XG4gIH1cblxuICAvKipcbiAgICogRU9TIHwgdHJhaWxpbmcgb3V0ZGVudHMuXG4gICAqL1xuXG4gIGVvcygpIHtcbiAgICBpZiAodGhpcy5zdHIubGVuZ3RoKSByZXR1cm47XG4gICAgaWYgKHRoaXMuaW5kZW50U3RhY2subGVuZ3RoKSB7XG4gICAgICB0aGlzLmluZGVudFN0YWNrLnNoaWZ0KCk7XG4gICAgICByZXR1cm4gbmV3IFRva2VuKCdvdXRkZW50Jyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgVG9rZW4oJ2VvcycpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiB1cmwgY2hhclxuICAgKi9cblxuICB1cmxjaGFycygpIHtcbiAgICB2YXIgY2FwdHVyZXM7XG4gICAgaWYgKCF0aGlzLmlzVVJMKSByZXR1cm47XG4gICAgaWYgKGNhcHR1cmVzID0gL15bXFwvOkAuOz8mPSohLDw+IyUwLTldKy8uZXhlYyh0aGlzLnN0cikpIHtcbiAgICAgIHRoaXMuc2tpcChjYXB0dXJlcyk7XG4gICAgICByZXR1cm4gbmV3IFRva2VuKCdsaXRlcmFsJywgbmV3IG5vZGVzLkxpdGVyYWwoY2FwdHVyZXNbMF0pKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogJzsnIFsgXFx0XSpcbiAgICovXG5cbiAgc2VwKCkge1xuICAgIHZhciBjYXB0dXJlcztcbiAgICBpZiAoY2FwdHVyZXMgPSAvXjtbIFxcdF0qLy5leGVjKHRoaXMuc3RyKSkge1xuICAgICAgdGhpcy5za2lwKGNhcHR1cmVzKTtcbiAgICAgIHJldHVybiBuZXcgVG9rZW4oJzsnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogJ1xccidcbiAgICovXG5cbiAgZW9sKCkge1xuICAgIGlmICgnXFxyJyA9PSB0aGlzLnN0clswXSkge1xuICAgICAgKyt0aGlzLmxpbmVubztcbiAgICAgIHRoaXMuc2tpcCgxKTtcblxuICAgICAgdGhpcy5jb2x1bW4gPSAxO1xuICAgICAgd2hpbGUgKHRoaXMuc3BhY2UoKSk7XG5cbiAgICAgIHJldHVybiB0aGlzLmFkdmFuY2UoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogJyAnK1xuICAgKi9cblxuICBzcGFjZSgpIHtcbiAgICB2YXIgY2FwdHVyZXM7XG4gICAgaWYgKGNhcHR1cmVzID0gL14oWyBcXHRdKykvLmV4ZWModGhpcy5zdHIpKSB7XG4gICAgICB0aGlzLnNraXAoY2FwdHVyZXMpO1xuICAgICAgcmV0dXJuIG5ldyBUb2tlbignc3BhY2UnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogJ1xcXFwnIC4gJyAnKlxuICAgKi9cblxuICBlc2NhcGVkKCkge1xuICAgIHZhciBjYXB0dXJlcztcbiAgICBpZiAoY2FwdHVyZXMgPSAvXlxcXFwoLilbIFxcdF0qLy5leGVjKHRoaXMuc3RyKSkge1xuICAgICAgdmFyIGMgPSBjYXB0dXJlc1sxXTtcbiAgICAgIHRoaXMuc2tpcChjYXB0dXJlcyk7XG4gICAgICByZXR1cm4gbmV3IFRva2VuKCdpZGVudCcsIG5ldyBub2Rlcy5MaXRlcmFsKGMpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogJ0Bjc3MnICcgJyogJ3snIC4qICd9JyAnICcqXG4gICAqL1xuXG4gIGxpdGVyYWwoKSB7XG4gICAgLy8gSEFDSyBhdHRhY2sgISEhXG4gICAgdmFyIGNhcHR1cmVzO1xuICAgIGlmIChjYXB0dXJlcyA9IC9eQGNzc1sgXFx0XSpcXHsvLmV4ZWModGhpcy5zdHIpKSB7XG4gICAgICB0aGlzLnNraXAoY2FwdHVyZXMpO1xuICAgICAgdmFyIGNcbiAgICAgICAgLCBicmFjZXMgPSAxXG4gICAgICAgICwgY3NzID0gJydcbiAgICAgICAgLCBub2RlO1xuICAgICAgd2hpbGUgKGMgPSB0aGlzLnN0clswXSkge1xuICAgICAgICB0aGlzLnN0ciA9IHRoaXMuc3RyLnN1YnN0cigxKTtcbiAgICAgICAgc3dpdGNoIChjKSB7XG4gICAgICAgICAgY2FzZSAneyc6ICsrYnJhY2VzOyBicmVhaztcbiAgICAgICAgICBjYXNlICd9JzogLS1icmFjZXM7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ1xcbic6XG4gICAgICAgICAgY2FzZSAnXFxyJzpcbiAgICAgICAgICAgICsrdGhpcy5saW5lbm87XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjc3MgKz0gYztcbiAgICAgICAgaWYgKCFicmFjZXMpIGJyZWFrO1xuICAgICAgfVxuICAgICAgY3NzID0gY3NzLnJlcGxhY2UoL1xccyp9JC8sICcnKTtcbiAgICAgIG5vZGUgPSBuZXcgbm9kZXMuTGl0ZXJhbChjc3MpO1xuICAgICAgbm9kZS5jc3MgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5ldyBUb2tlbignbGl0ZXJhbCcsIG5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAnIWltcG9ydGFudCcgJyAnKlxuICAgKi9cblxuICBpbXBvcnRhbnQoKSB7XG4gICAgdmFyIGNhcHR1cmVzO1xuICAgIGlmIChjYXB0dXJlcyA9IC9eIWltcG9ydGFudFsgXFx0XSovLmV4ZWModGhpcy5zdHIpKSB7XG4gICAgICB0aGlzLnNraXAoY2FwdHVyZXMpO1xuICAgICAgcmV0dXJuIG5ldyBUb2tlbignaWRlbnQnLCBuZXcgbm9kZXMuTGl0ZXJhbCgnIWltcG9ydGFudCcpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogJ3snIHwgJ30nXG4gICAqL1xuXG4gIGJyYWNlKCkge1xuICAgIHZhciBjYXB0dXJlcztcbiAgICBpZiAoY2FwdHVyZXMgPSAvXihbe31dKS8uZXhlYyh0aGlzLnN0cikpIHtcbiAgICAgIHRoaXMuc2tpcCgxKTtcbiAgICAgIHZhciBicmFjZSA9IGNhcHR1cmVzWzFdO1xuICAgICAgcmV0dXJuIG5ldyBUb2tlbihicmFjZSwgYnJhY2UpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAnKCcgfCAnKScgJyAnKlxuICAgKi9cblxuICBwYXJlbigpIHtcbiAgICB2YXIgY2FwdHVyZXM7XG4gICAgaWYgKGNhcHR1cmVzID0gL14oWygpXSkoWyBcXHRdKikvLmV4ZWModGhpcy5zdHIpKSB7XG4gICAgICB2YXIgcGFyZW4gPSBjYXB0dXJlc1sxXTtcbiAgICAgIHRoaXMuc2tpcChjYXB0dXJlcyk7XG4gICAgICBpZiAoJyknID09IHBhcmVuKSB0aGlzLmlzVVJMID0gZmFsc2U7XG4gICAgICB2YXIgdG9rID0gbmV3IFRva2VuKHBhcmVuLCBwYXJlbik7XG4gICAgICB0b2suc3BhY2UgPSBjYXB0dXJlc1syXTtcbiAgICAgIHJldHVybiB0b2s7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqICdudWxsJ1xuICAgKi9cblxuICBudWxsKCkge1xuICAgIHZhciBjYXB0dXJlc1xuICAgICAgLCB0b2s7XG4gICAgaWYgKGNhcHR1cmVzID0gL14obnVsbClcXGJbIFxcdF0qLy5leGVjKHRoaXMuc3RyKSkge1xuICAgICAgdGhpcy5za2lwKGNhcHR1cmVzKTtcbiAgICAgIGlmICh0aGlzLmlzUGFydE9mU2VsZWN0b3IoKSkge1xuICAgICAgICB0b2sgPSBuZXcgVG9rZW4oJ2lkZW50JywgbmV3IG5vZGVzLklkZW50KGNhcHR1cmVzWzBdKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0b2sgPSBuZXcgVG9rZW4oJ251bGwnLCBub2Rlcy5udWxsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2s7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqICAgJ2lmJ1xuICAgKiB8ICdlbHNlJ1xuICAgKiB8ICd1bmxlc3MnXG4gICAqIHwgJ3JldHVybidcbiAgICogfCAnZm9yJ1xuICAgKiB8ICdpbidcbiAgICovXG5cbiAga2V5d29yZCgpIHtcbiAgICB2YXIgY2FwdHVyZXNcbiAgICAgICwgdG9rO1xuICAgIGlmIChjYXB0dXJlcyA9IC9eKHJldHVybnxpZnxlbHNlfHVubGVzc3xmb3J8aW4pXFxiKD8hLSlbIFxcdF0qLy5leGVjKHRoaXMuc3RyKSkge1xuICAgICAgdmFyIGtleXdvcmQgPSBjYXB0dXJlc1sxXTtcbiAgICAgIHRoaXMuc2tpcChjYXB0dXJlcyk7XG4gICAgICBpZiAodGhpcy5pc1BhcnRPZlNlbGVjdG9yKCkpIHtcbiAgICAgICAgdG9rID0gbmV3IFRva2VuKCdpZGVudCcsIG5ldyBub2Rlcy5JZGVudChjYXB0dXJlc1swXSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9rID0gbmV3IFRva2VuKGtleXdvcmQsIGtleXdvcmQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRvaztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogICAnbm90J1xuICAgKiB8ICdhbmQnXG4gICAqIHwgJ29yJ1xuICAgKiB8ICdpcydcbiAgICogfCAnaXMgbm90J1xuICAgKiB8ICdpc250J1xuICAgKiB8ICdpcyBhJ1xuICAgKiB8ICdpcyBkZWZpbmVkJ1xuICAgKi9cblxuICBuYW1lZG9wKCkge1xuICAgIHZhciBjYXB0dXJlc1xuICAgICAgLCB0b2s7XG4gICAgaWYgKGNhcHR1cmVzID0gL14obm90fGFuZHxvcnxpcyBhfGlzIGRlZmluZWR8aXNudHxpcyBub3R8aXMpKD8hLSlcXGIoWyBcXHRdKikvLmV4ZWModGhpcy5zdHIpKSB7XG4gICAgICB2YXIgb3AgPSBjYXB0dXJlc1sxXTtcbiAgICAgIHRoaXMuc2tpcChjYXB0dXJlcyk7XG4gICAgICBpZiAodGhpcy5pc1BhcnRPZlNlbGVjdG9yKCkpIHtcbiAgICAgICAgdG9rID0gbmV3IFRva2VuKCdpZGVudCcsIG5ldyBub2Rlcy5JZGVudChjYXB0dXJlc1swXSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3AgPSBhbGlhc1tvcF0gfHwgb3A7XG4gICAgICAgIHRvayA9IG5ldyBUb2tlbihvcCwgb3ApO1xuICAgICAgfVxuICAgICAgdG9rLnNwYWNlID0gY2FwdHVyZXNbMl07XG4gICAgICByZXR1cm4gdG9rO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAgICcsJ1xuICAgKiB8ICcrJ1xuICAgKiB8ICcrPSdcbiAgICogfCAnLSdcbiAgICogfCAnLT0nXG4gICAqIHwgJyonXG4gICAqIHwgJyo9J1xuICAgKiB8ICcvJ1xuICAgKiB8ICcvPSdcbiAgICogfCAnJSdcbiAgICogfCAnJT0nXG4gICAqIHwgJyoqJ1xuICAgKiB8ICchJ1xuICAgKiB8ICcmJ1xuICAgKiB8ICcmJidcbiAgICogfCAnfHwnXG4gICAqIHwgJz4nXG4gICAqIHwgJz49J1xuICAgKiB8ICc8J1xuICAgKiB8ICc8PSdcbiAgICogfCAnPSdcbiAgICogfCAnPT0nXG4gICAqIHwgJyE9J1xuICAgKiB8ICchJ1xuICAgKiB8ICd+J1xuICAgKiB8ICc/PSdcbiAgICogfCAnOj0nXG4gICAqIHwgJz8nXG4gICAqIHwgJzonXG4gICAqIHwgJ1snXG4gICAqIHwgJ10nXG4gICAqIHwgJy4nXG4gICAqIHwgJy4uJ1xuICAgKiB8ICcuLi4nXG4gICAqL1xuXG4gIG9wKCkge1xuICAgIHZhciBjYXB0dXJlcztcbiAgICBpZiAoY2FwdHVyZXMgPSAvXihbLl17MSwzfXwmJnxcXHxcXHx8WyE8Pj0/Ol09fFxcKlxcKnxbLSsqXFwvJV09P3xbLD0/OiF+PD4mXFxbXFxdXSkoWyBcXHRdKikvLmV4ZWModGhpcy5zdHIpKSB7XG4gICAgICB2YXIgb3AgPSBjYXB0dXJlc1sxXTtcbiAgICAgIHRoaXMuc2tpcChjYXB0dXJlcyk7XG4gICAgICBvcCA9IGFsaWFzW29wXSB8fCBvcDtcbiAgICAgIHZhciB0b2sgPSBuZXcgVG9rZW4ob3AsIG9wKTtcbiAgICAgIHRvay5zcGFjZSA9IGNhcHR1cmVzWzJdO1xuICAgICAgdGhpcy5pc1VSTCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHRvaztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogJ0AoJ1xuICAgKi9cblxuICBhbm9uRnVuYygpIHtcbiAgICB2YXIgdG9rO1xuICAgIGlmICgnQCcgPT0gdGhpcy5zdHJbMF0gJiYgJygnID09IHRoaXMuc3RyWzFdKSB7XG4gICAgICB0aGlzLnNraXAoMik7XG4gICAgICB0b2sgPSBuZXcgVG9rZW4oJ2Z1bmN0aW9uJywgbmV3IG5vZGVzLklkZW50KCdhbm9ueW1vdXMnKSk7XG4gICAgICB0b2suYW5vbnltb3VzID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0b2s7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqICdAJyAoLShcXHcrKS0pP1thLXpBLVowLTktX10rXG4gICAqL1xuXG4gIGF0cnVsZSgpIHtcbiAgICB2YXIgY2FwdHVyZXM7XG4gICAgaWYgKGNhcHR1cmVzID0gL15AKD8hYXBwbHkpKD86LShcXHcrKS0pPyhbYS16QS1aMC05LV9dKylbIFxcdF0qLy5leGVjKHRoaXMuc3RyKSkge1xuICAgICAgdGhpcy5za2lwKGNhcHR1cmVzKTtcbiAgICAgIHZhciB2ZW5kb3IgPSBjYXB0dXJlc1sxXVxuICAgICAgICAsIHR5cGUgPSBjYXB0dXJlc1syXVxuICAgICAgICAsIHRvaztcbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdyZXF1aXJlJzpcbiAgICAgICAgY2FzZSAnaW1wb3J0JzpcbiAgICAgICAgY2FzZSAnY2hhcnNldCc6XG4gICAgICAgIGNhc2UgJ25hbWVzcGFjZSc6XG4gICAgICAgIGNhc2UgJ21lZGlhJzpcbiAgICAgICAgY2FzZSAnc2NvcGUnOlxuICAgICAgICBjYXNlICdzdXBwb3J0cyc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBUb2tlbih0eXBlKTtcbiAgICAgICAgY2FzZSAnZG9jdW1lbnQnOlxuICAgICAgICAgIHJldHVybiBuZXcgVG9rZW4oJy1tb3otZG9jdW1lbnQnKTtcbiAgICAgICAgY2FzZSAnYmxvY2snOlxuICAgICAgICAgIHJldHVybiBuZXcgVG9rZW4oJ2F0YmxvY2snKTtcbiAgICAgICAgY2FzZSAnZXh0ZW5kJzpcbiAgICAgICAgY2FzZSAnZXh0ZW5kcyc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBUb2tlbignZXh0ZW5kJyk7XG4gICAgICAgIGNhc2UgJ2tleWZyYW1lcyc6XG4gICAgICAgICAgcmV0dXJuIG5ldyBUb2tlbih0eXBlLCB2ZW5kb3IpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBuZXcgVG9rZW4oJ2F0cnVsZScsICh2ZW5kb3IgPyAnLScgKyB2ZW5kb3IgKyAnLScgKyB0eXBlIDogdHlwZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAnLy8nICpcbiAgICovXG5cbiAgY29tbWVudCgpIHtcbiAgICAvLyBTaW5nbGUgbGluZVxuICAgIGlmICgnLycgPT0gdGhpcy5zdHJbMF0gJiYgJy8nID09IHRoaXMuc3RyWzFdKSB7XG4gICAgICB2YXIgZW5kID0gdGhpcy5zdHIuaW5kZXhPZignXFxuJyk7XG4gICAgICBpZiAoLTEgPT0gZW5kKSBlbmQgPSB0aGlzLnN0ci5sZW5ndGg7XG4gICAgICB0aGlzLnNraXAoZW5kKTtcbiAgICAgIHJldHVybiB0aGlzLmFkdmFuY2UoKTtcbiAgICB9XG5cbiAgICAvLyBNdWx0aS1saW5lXG4gICAgaWYgKCcvJyA9PSB0aGlzLnN0clswXSAmJiAnKicgPT0gdGhpcy5zdHJbMV0pIHtcbiAgICAgIHZhciBlbmQgPSB0aGlzLnN0ci5pbmRleE9mKCcqLycpO1xuICAgICAgaWYgKC0xID09IGVuZCkgZW5kID0gdGhpcy5zdHIubGVuZ3RoO1xuICAgICAgdmFyIHN0ciA9IHRoaXMuc3RyLnN1YnN0cigwLCBlbmQgKyAyKVxuICAgICAgICAsIGxpbmVzID0gc3RyLnNwbGl0KC9cXG58XFxyLykubGVuZ3RoIC0gMVxuICAgICAgICAsIHN1cHByZXNzID0gdHJ1ZVxuICAgICAgICAsIGlubGluZSA9IGZhbHNlO1xuICAgICAgdGhpcy5saW5lbm8gKz0gbGluZXM7XG4gICAgICB0aGlzLnNraXAoZW5kICsgMik7XG4gICAgICAvLyBvdXRwdXRcbiAgICAgIGlmICgnIScgPT0gc3RyWzJdKSB7XG4gICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKCcqIScsICcqJyk7XG4gICAgICAgIHN1cHByZXNzID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wcmV2ICYmICc7JyA9PSB0aGlzLnByZXYudHlwZSkgaW5saW5lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXcgVG9rZW4oJ2NvbW1lbnQnLCBuZXcgbm9kZXMuQ29tbWVudChzdHIsIHN1cHByZXNzLCBpbmxpbmUpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogJ3RydWUnIHwgJ2ZhbHNlJ1xuICAgKi9cblxuICBib29sZWFuKCkge1xuICAgIHZhciBjYXB0dXJlcztcbiAgICBpZiAoY2FwdHVyZXMgPSAvXih0cnVlfGZhbHNlKVxcYihbIFxcdF0qKS8uZXhlYyh0aGlzLnN0cikpIHtcbiAgICAgIHZhciB2YWwgPSBuZXcgbm9kZXMuQm9vbGVhbigndHJ1ZScgPT0gY2FwdHVyZXNbMV0pO1xuICAgICAgdGhpcy5za2lwKGNhcHR1cmVzKTtcbiAgICAgIHZhciB0b2sgPSBuZXcgVG9rZW4oJ2Jvb2xlYW4nLCB2YWwpO1xuICAgICAgdG9rLnNwYWNlID0gY2FwdHVyZXNbMl07XG4gICAgICByZXR1cm4gdG9rO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAnVSsnIFswLTlBLUZhLWY/XXsxLDZ9KD86LVswLTlBLUZhLWZdezEsNn0pP1xuICAgKi9cblxuICB1bmljb2RlKCkge1xuICAgIHZhciBjYXB0dXJlcztcbiAgICBpZiAoY2FwdHVyZXMgPSAvXnVcXCtbMC05YS1mP117MSw2fSg/Oi1bMC05YS1mXXsxLDZ9KT8vaS5leGVjKHRoaXMuc3RyKSkge1xuICAgICAgdGhpcy5za2lwKGNhcHR1cmVzKTtcbiAgICAgIHJldHVybiBuZXcgVG9rZW4oJ2xpdGVyYWwnLCBuZXcgbm9kZXMuTGl0ZXJhbChjYXB0dXJlc1swXSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAtKltfYS16QS1aJF0gWy1cXHdcXGQkXSogJygnXG4gICAqL1xuXG4gIGZ1bmN0aW9uKCkge1xuICAgIHZhciBjYXB0dXJlcztcbiAgICBpZiAoY2FwdHVyZXMgPSAvXigtKltfYS16QS1aJF1bLVxcd1xcZCRdKilcXCgoWyBcXHRdKikvLmV4ZWModGhpcy5zdHIpKSB7XG4gICAgICB2YXIgbmFtZSA9IGNhcHR1cmVzWzFdO1xuICAgICAgdGhpcy5za2lwKGNhcHR1cmVzKTtcbiAgICAgIHRoaXMuaXNVUkwgPSAndXJsJyA9PSBuYW1lO1xuICAgICAgdmFyIHRvayA9IG5ldyBUb2tlbignZnVuY3Rpb24nLCBuZXcgbm9kZXMuSWRlbnQobmFtZSkpO1xuICAgICAgdG9rLnNwYWNlID0gY2FwdHVyZXNbMl07XG4gICAgICByZXR1cm4gdG9rO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAtKltfYS16QS1aJF0gWy1cXHdcXGQkXSpcbiAgICovXG5cbiAgaWRlbnQoKSB7XG4gICAgdmFyIGNhcHR1cmVzO1xuICAgIGlmIChjYXB0dXJlcyA9IC9eLSooW19hLXpBLVokXXxAYXBwbHkpWy1cXHdcXGQkXSovLmV4ZWModGhpcy5zdHIpKSB7XG4gICAgICB0aGlzLnNraXAoY2FwdHVyZXMpO1xuICAgICAgcmV0dXJuIG5ldyBUb2tlbignaWRlbnQnLCBuZXcgbm9kZXMuSWRlbnQoY2FwdHVyZXNbMF0pKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogJ1xcbicgJyAnK1xuICAgKi9cblxuICBuZXdsaW5lKCkge1xuICAgIHZhciBjYXB0dXJlcywgcmU7XG5cbiAgICAvLyB3ZSBoYXZlIGVzdGFibGlzaGVkIHRoZSBpbmRlbnRhdGlvbiByZWdleHBcbiAgICBpZiAodGhpcy5pbmRlbnRSZSkge1xuICAgICAgY2FwdHVyZXMgPSB0aGlzLmluZGVudFJlLmV4ZWModGhpcy5zdHIpO1xuICAgICAgLy8gZmlndXJlIG91dCBpZiB3ZSBhcmUgdXNpbmcgdGFicyBvciBzcGFjZXNcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gdHJ5IHRhYnNcbiAgICAgIHJlID0gL15cXG4oW1xcdF0qKVsgXFx0XSovO1xuICAgICAgY2FwdHVyZXMgPSByZS5leGVjKHRoaXMuc3RyKTtcblxuICAgICAgLy8gbm9wZSwgdHJ5IHNwYWNlc1xuICAgICAgaWYgKGNhcHR1cmVzICYmICFjYXB0dXJlc1sxXS5sZW5ndGgpIHtcbiAgICAgICAgcmUgPSAvXlxcbihbIFxcdF0qKS87XG4gICAgICAgIGNhcHR1cmVzID0gcmUuZXhlYyh0aGlzLnN0cik7XG4gICAgICB9XG5cbiAgICAgIC8vIGVzdGFibGlzaGVkXG4gICAgICBpZiAoY2FwdHVyZXMgJiYgY2FwdHVyZXNbMV0ubGVuZ3RoKSB0aGlzLmluZGVudFJlID0gcmU7XG4gICAgfVxuXG5cbiAgICBpZiAoY2FwdHVyZXMpIHtcbiAgICAgIHZhciB0b2tcbiAgICAgICAgLCBpbmRlbnRzID0gY2FwdHVyZXNbMV0ubGVuZ3RoO1xuXG4gICAgICB0aGlzLnNraXAoY2FwdHVyZXMpO1xuICAgICAgaWYgKHRoaXMuc3RyWzBdID09PSAnICcgfHwgdGhpcy5zdHJbMF0gPT09ICdcXHQnKSB7XG4gICAgICAgIHRocm93IG5ldyBlcnJvcnMuU3ludGF4RXJyb3IoJ0ludmFsaWQgaW5kZW50YXRpb24uIFlvdSBjYW4gdXNlIHRhYnMgb3Igc3BhY2VzIHRvIGluZGVudCwgYnV0IG5vdCBib3RoLicpO1xuICAgICAgfVxuXG4gICAgICAvLyBCbGFuayBsaW5lXG4gICAgICBpZiAoJ1xcbicgPT0gdGhpcy5zdHJbMF0pIHJldHVybiB0aGlzLmFkdmFuY2UoKTtcblxuICAgICAgLy8gT3V0ZGVudFxuICAgICAgaWYgKHRoaXMuaW5kZW50U3RhY2subGVuZ3RoICYmIGluZGVudHMgPCB0aGlzLmluZGVudFN0YWNrWzBdKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmluZGVudFN0YWNrLmxlbmd0aCAmJiB0aGlzLmluZGVudFN0YWNrWzBdID4gaW5kZW50cykge1xuICAgICAgICAgIHRoaXMuc3Rhc2gucHVzaChuZXcgVG9rZW4oJ291dGRlbnQnKSk7XG4gICAgICAgICAgdGhpcy5pbmRlbnRTdGFjay5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIHRvayA9IHRoaXMuc3Rhc2gucG9wKCk7XG4gICAgICAgIC8vIEluZGVudFxuICAgICAgfSBlbHNlIGlmIChpbmRlbnRzICYmIGluZGVudHMgIT0gdGhpcy5pbmRlbnRTdGFja1swXSkge1xuICAgICAgICB0aGlzLmluZGVudFN0YWNrLnVuc2hpZnQoaW5kZW50cyk7XG4gICAgICAgIHRvayA9IG5ldyBUb2tlbignaW5kZW50Jyk7XG4gICAgICAgIC8vIE5ld2xpbmVcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRvayA9IG5ldyBUb2tlbignbmV3bGluZScpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG9rO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAnLSc/IChkaWdpdCsgfCBkaWdpdCogJy4nIGRpZ2l0KykgdW5pdFxuICAgKi9cblxuICB1bml0KCkge1xuICAgIHZhciBjYXB0dXJlcztcbiAgICBpZiAoY2FwdHVyZXMgPSAvXigtKT8oXFxkK1xcLlxcZCt8XFxkK3xcXC5cXGQrKSglfFthLXpBLVpdKyk/WyBcXHRdKi8uZXhlYyh0aGlzLnN0cikpIHtcbiAgICAgIHRoaXMuc2tpcChjYXB0dXJlcyk7XG4gICAgICB2YXIgbiA9IHBhcnNlRmxvYXQoY2FwdHVyZXNbMl0pO1xuICAgICAgaWYgKCctJyA9PSBjYXB0dXJlc1sxXSkgbiA9IC1uO1xuICAgICAgdmFyIG5vZGUgPSBuZXcgbm9kZXMuVW5pdChuLCBjYXB0dXJlc1szXSk7XG4gICAgICBub2RlLnJhdyA9IGNhcHR1cmVzWzBdO1xuICAgICAgcmV0dXJuIG5ldyBUb2tlbigndW5pdCcsIG5vZGUpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAnXCInIFteXCJdKyAnXCInIHwgXCInXCJcIiBbXiddKyBcIidcIlxuICAgKi9cblxuICBzdHJpbmcoKSB7XG4gICAgdmFyIGNhcHR1cmVzO1xuICAgIGlmIChjYXB0dXJlcyA9IC9eKFwiW15cIl0qXCJ8J1teJ10qJylbIFxcdF0qLy5leGVjKHRoaXMuc3RyKSkge1xuICAgICAgdmFyIHN0ciA9IGNhcHR1cmVzWzFdXG4gICAgICAgICwgcXVvdGUgPSBjYXB0dXJlc1swXVswXTtcbiAgICAgIHRoaXMuc2tpcChjYXB0dXJlcyk7XG4gICAgICBzdHIgPSBzdHIuc2xpY2UoMSwgLTEpLnJlcGxhY2UoL1xcXFxuL2csICdcXG4nKTtcbiAgICAgIHJldHVybiBuZXcgVG9rZW4oJ3N0cmluZycsIG5ldyBub2Rlcy5TdHJpbmcoc3RyLCBxdW90ZSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAjcnJnZ2JiYWEgfCAjcnJnZ2JiIHwgI3JnYmEgfCAjcmdiIHwgI25uIHwgI25cbiAgICovXG5cbiAgY29sb3IoKSB7XG4gICAgcmV0dXJuIHRoaXMucnJnZ2JiYWEoKVxuICAgICAgfHwgdGhpcy5ycmdnYmIoKVxuICAgICAgfHwgdGhpcy5yZ2JhKClcbiAgICAgIHx8IHRoaXMucmdiKClcbiAgICAgIHx8IHRoaXMubm4oKVxuICAgICAgfHwgdGhpcy5uKClcbiAgfVxuXG4gIC8qKlxuICAgKiAjblxuICAgKi9cblxuICBuKCkge1xuICAgIHZhciBjYXB0dXJlcztcbiAgICBpZiAoY2FwdHVyZXMgPSAvXiMoW2EtZkEtRjAtOV17MX0pWyBcXHRdKi8uZXhlYyh0aGlzLnN0cikpIHtcbiAgICAgIHRoaXMuc2tpcChjYXB0dXJlcyk7XG4gICAgICB2YXIgbiA9IHBhcnNlSW50KGNhcHR1cmVzWzFdICsgY2FwdHVyZXNbMV0sIDE2KVxuICAgICAgICAsIGNvbG9yID0gbmV3IG5vZGVzLlJHQkEobiwgbiwgbiwgMSk7XG4gICAgICBjb2xvci5yYXcgPSBjYXB0dXJlc1swXTtcbiAgICAgIHJldHVybiBuZXcgVG9rZW4oJ2NvbG9yJywgY29sb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAjbm5cbiAgICovXG5cbiAgbm4oKSB7XG4gICAgdmFyIGNhcHR1cmVzO1xuICAgIGlmIChjYXB0dXJlcyA9IC9eIyhbYS1mQS1GMC05XXsyfSlbIFxcdF0qLy5leGVjKHRoaXMuc3RyKSkge1xuICAgICAgdGhpcy5za2lwKGNhcHR1cmVzKTtcbiAgICAgIHZhciBuID0gcGFyc2VJbnQoY2FwdHVyZXNbMV0sIDE2KVxuICAgICAgICAsIGNvbG9yID0gbmV3IG5vZGVzLlJHQkEobiwgbiwgbiwgMSk7XG4gICAgICBjb2xvci5yYXcgPSBjYXB0dXJlc1swXTtcbiAgICAgIHJldHVybiBuZXcgVG9rZW4oJ2NvbG9yJywgY29sb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAjcmdiXG4gICAqL1xuXG4gIHJnYigpIHtcbiAgICB2YXIgY2FwdHVyZXM7XG4gICAgaWYgKGNhcHR1cmVzID0gL14jKFthLWZBLUYwLTldezN9KVsgXFx0XSovLmV4ZWModGhpcy5zdHIpKSB7XG4gICAgICB0aGlzLnNraXAoY2FwdHVyZXMpO1xuICAgICAgdmFyIHJnYiA9IGNhcHR1cmVzWzFdXG4gICAgICAgICwgciA9IHBhcnNlSW50KHJnYlswXSArIHJnYlswXSwgMTYpXG4gICAgICAgICwgZyA9IHBhcnNlSW50KHJnYlsxXSArIHJnYlsxXSwgMTYpXG4gICAgICAgICwgYiA9IHBhcnNlSW50KHJnYlsyXSArIHJnYlsyXSwgMTYpXG4gICAgICAgICwgY29sb3IgPSBuZXcgbm9kZXMuUkdCQShyLCBnLCBiLCAxKTtcbiAgICAgIGNvbG9yLnJhdyA9IGNhcHR1cmVzWzBdO1xuICAgICAgcmV0dXJuIG5ldyBUb2tlbignY29sb3InLCBjb2xvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqICNyZ2JhXG4gICAqL1xuXG4gIHJnYmEoKSB7XG4gICAgdmFyIGNhcHR1cmVzO1xuICAgIGlmIChjYXB0dXJlcyA9IC9eIyhbYS1mQS1GMC05XXs0fSlbIFxcdF0qLy5leGVjKHRoaXMuc3RyKSkge1xuICAgICAgdGhpcy5za2lwKGNhcHR1cmVzKTtcbiAgICAgIHZhciByZ2IgPSBjYXB0dXJlc1sxXVxuICAgICAgICAsIHIgPSBwYXJzZUludChyZ2JbMF0gKyByZ2JbMF0sIDE2KVxuICAgICAgICAsIGcgPSBwYXJzZUludChyZ2JbMV0gKyByZ2JbMV0sIDE2KVxuICAgICAgICAsIGIgPSBwYXJzZUludChyZ2JbMl0gKyByZ2JbMl0sIDE2KVxuICAgICAgICAsIGEgPSBwYXJzZUludChyZ2JbM10gKyByZ2JbM10sIDE2KVxuICAgICAgICAsIGNvbG9yID0gbmV3IG5vZGVzLlJHQkEociwgZywgYiwgYSAvIDI1NSk7XG4gICAgICBjb2xvci5yYXcgPSBjYXB0dXJlc1swXTtcbiAgICAgIHJldHVybiBuZXcgVG9rZW4oJ2NvbG9yJywgY29sb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAjcnJnZ2JiXG4gICAqL1xuXG4gIHJyZ2diYigpIHtcbiAgICB2YXIgY2FwdHVyZXM7XG4gICAgaWYgKGNhcHR1cmVzID0gL14jKFthLWZBLUYwLTldezZ9KVsgXFx0XSovLmV4ZWModGhpcy5zdHIpKSB7XG4gICAgICB0aGlzLnNraXAoY2FwdHVyZXMpO1xuICAgICAgdmFyIHJnYiA9IGNhcHR1cmVzWzFdXG4gICAgICAgICwgciA9IHBhcnNlSW50KHJnYi5zdWJzdHIoMCwgMiksIDE2KVxuICAgICAgICAsIGcgPSBwYXJzZUludChyZ2Iuc3Vic3RyKDIsIDIpLCAxNilcbiAgICAgICAgLCBiID0gcGFyc2VJbnQocmdiLnN1YnN0cig0LCAyKSwgMTYpXG4gICAgICAgICwgY29sb3IgPSBuZXcgbm9kZXMuUkdCQShyLCBnLCBiLCAxKTtcbiAgICAgIGNvbG9yLnJhdyA9IGNhcHR1cmVzWzBdO1xuICAgICAgcmV0dXJuIG5ldyBUb2tlbignY29sb3InLCBjb2xvcik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqICNycmdnYmJhYVxuICAgKi9cblxuICBycmdnYmJhYSgpIHtcbiAgICB2YXIgY2FwdHVyZXM7XG4gICAgaWYgKGNhcHR1cmVzID0gL14jKFthLWZBLUYwLTldezh9KVsgXFx0XSovLmV4ZWModGhpcy5zdHIpKSB7XG4gICAgICB0aGlzLnNraXAoY2FwdHVyZXMpO1xuICAgICAgdmFyIHJnYiA9IGNhcHR1cmVzWzFdXG4gICAgICAgICwgciA9IHBhcnNlSW50KHJnYi5zdWJzdHIoMCwgMiksIDE2KVxuICAgICAgICAsIGcgPSBwYXJzZUludChyZ2Iuc3Vic3RyKDIsIDIpLCAxNilcbiAgICAgICAgLCBiID0gcGFyc2VJbnQocmdiLnN1YnN0cig0LCAyKSwgMTYpXG4gICAgICAgICwgYSA9IHBhcnNlSW50KHJnYi5zdWJzdHIoNiwgMiksIDE2KVxuICAgICAgICAsIGNvbG9yID0gbmV3IG5vZGVzLlJHQkEociwgZywgYiwgYSAvIDI1NSk7XG4gICAgICBjb2xvci5yYXcgPSBjYXB0dXJlc1swXTtcbiAgICAgIHJldHVybiBuZXcgVG9rZW4oJ2NvbG9yJywgY29sb3IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBefFteXFxuLDtdK1xuICAgKi9cblxuICBzZWxlY3RvcigpIHtcbiAgICB2YXIgY2FwdHVyZXM7XG4gICAgaWYgKGNhcHR1cmVzID0gL15cXF58Lio/KD89XFwvXFwvKD8hW15cXFtdKlxcXSl8WyxcXG57XSkvLmV4ZWModGhpcy5zdHIpKSB7XG4gICAgICB2YXIgc2VsZWN0b3IgPSBjYXB0dXJlc1swXTtcbiAgICAgIHRoaXMuc2tpcChjYXB0dXJlcyk7XG4gICAgICByZXR1cm4gbmV3IFRva2VuKCdzZWxlY3RvcicsIHNlbGVjdG9yKTtcbiAgICB9XG4gIH1cbn07XG4iLAogICIvKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIE1lbW9yeUNhY2hlIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRoaXMubGltaXQgPSBvcHRpb25zWydjYWNoZSBsaW1pdCddIHx8IDI1NjtcbiAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmhlYWQgPSB0aGlzLnRhaWwgPSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCBjYWNoZSBpdGVtIHdpdGggZ2l2ZW4gYGtleWAgdG8gYHZhbHVlYC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgKiBAcGFyYW0ge09iamVjdH0gdmFsdWVcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHNldChrZXksIHZhbHVlKSB7XG4gICAgdmFyIGNsb25lID0gdmFsdWUuY2xvbmUoKVxuICAgICAgLCBpdGVtO1xuXG4gICAgY2xvbmUuZmlsZW5hbWUgPSBub2Rlcy5maWxlbmFtZTtcbiAgICBjbG9uZS5saW5lbm8gPSBub2Rlcy5saW5lbm87XG4gICAgY2xvbmUuY29sdW1uID0gbm9kZXMuY29sdW1uO1xuICAgIGl0ZW0gPSB7IGtleToga2V5LCB2YWx1ZTogY2xvbmUgfTtcbiAgICB0aGlzLl9jYWNoZVtrZXldID0gaXRlbTtcblxuICAgIGlmICh0aGlzLnRhaWwpIHtcbiAgICAgIHRoaXMudGFpbC5uZXh0ID0gaXRlbTtcbiAgICAgIGl0ZW0ucHJldiA9IHRoaXMudGFpbDtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5oZWFkID0gaXRlbTtcbiAgICB9XG5cbiAgICB0aGlzLnRhaWwgPSBpdGVtO1xuICAgIGlmICh0aGlzLmxlbmd0aCsrID09IHRoaXMubGltaXQpIHRoaXMucHVyZ2UoKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IGNhY2hlIGl0ZW0gd2l0aCBnaXZlbiBga2V5YC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBnZXQoa2V5KSB7XG4gICAgdmFyIGl0ZW0gPSB0aGlzLl9jYWNoZVtrZXldXG4gICAgICAsIHZhbCA9IGl0ZW0udmFsdWUuY2xvbmUoKTtcblxuICAgIGlmIChpdGVtID09IHRoaXMudGFpbCkgcmV0dXJuIHZhbDtcbiAgICBpZiAoaXRlbS5uZXh0KSB7XG4gICAgICBpZiAoaXRlbSA9PSB0aGlzLmhlYWQpIHRoaXMuaGVhZCA9IGl0ZW0ubmV4dDtcbiAgICAgIGl0ZW0ubmV4dC5wcmV2ID0gaXRlbS5wcmV2O1xuICAgIH1cbiAgICBpZiAoaXRlbS5wcmV2KSBpdGVtLnByZXYubmV4dCA9IGl0ZW0ubmV4dDtcblxuICAgIGl0ZW0ubmV4dCA9IG51bGw7XG4gICAgaXRlbS5wcmV2ID0gdGhpcy50YWlsO1xuXG4gICAgaWYgKHRoaXMudGFpbCkgdGhpcy50YWlsLm5leHQgPSBpdGVtO1xuICAgIHRoaXMudGFpbCA9IGl0ZW07XG5cbiAgICByZXR1cm4gdmFsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBjYWNoZSBoYXMgZ2l2ZW4gYGtleWAuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBrZXlcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGhhcyhrZXkpIHtcbiAgICByZXR1cm4gISF0aGlzLl9jYWNoZVtrZXldO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBrZXkgZm9yIHRoZSBzb3VyY2UgYHN0cmAgd2l0aCBgb3B0aW9uc2AuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAga2V5KHN0ciwgb3B0aW9ucykge1xuICAgIHZhciBoYXNoID0gY3J5cHRvLmNyZWF0ZUhhc2goJ3NoYTEnKTtcbiAgICBoYXNoLnVwZGF0ZShzdHIgKyBvcHRpb25zLnByZWZpeCk7XG4gICAgcmV0dXJuIGhhc2guZGlnZXN0KCdoZXgnKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBvbGRlc3QgaXRlbSBmcm9tIHRoZSBjYWNoZS5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHB1cmdlKCkge1xuICAgIHZhciBpdGVtID0gdGhpcy5oZWFkO1xuXG4gICAgaWYgKHRoaXMuaGVhZC5uZXh0KSB7XG4gICAgICB0aGlzLmhlYWQgPSB0aGlzLmhlYWQubmV4dDtcbiAgICAgIHRoaXMuaGVhZC5wcmV2ID0gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLl9jYWNoZVtpdGVtLmtleV0gPSBpdGVtLnByZXYgPSBpdGVtLm5leHQgPSBudWxsO1xuICAgIHRoaXMubGVuZ3RoLS07XG4gIH07XG59O1xuIiwKICAiLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgTnVsbENhY2hlIHtcblxuICAvKipcbiAgICogU2V0IGNhY2hlIGl0ZW0gd2l0aCBnaXZlbiBga2V5YCB0byBgdmFsdWVgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7T2JqZWN0fSB2YWx1ZVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgc2V0KGtleSwgdmFsdWUpIHsgfTtcblxuICAvKipcbiAgICogR2V0IGNhY2hlIGl0ZW0gd2l0aCBnaXZlbiBga2V5YC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBnZXQoa2V5KSB7IH07XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGNhY2hlIGhhcyBnaXZlbiBga2V5YC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IGtleVxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgaGFzKGtleSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogR2VuZXJhdGUga2V5IGZvciB0aGUgc291cmNlIGBzdHJgIHdpdGggYG9wdGlvbnNgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGtleShzdHIsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gJyc7XG4gIH07XG59IiwKICAiLyoqXG4gKiBHZXQgY2FjaGUgb2JqZWN0IGJ5IGBuYW1lYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gbmFtZVxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbnZhciBnZXRDYWNoZSA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSwgb3B0aW9ucyl7XG4gIGlmICgnZnVuY3Rpb24nID09IHR5cGVvZiBuYW1lKSByZXR1cm4gbmV3IG5hbWUob3B0aW9ucyk7XG5cbiAgdmFyIGNhY2hlO1xuICBzd2l0Y2ggKG5hbWUpe1xuICAgIC8vIGNhc2UgJ2ZzJzpcbiAgICAvLyAgIGNhY2hlID0gcmVxdWlyZSgnLi9mcycpXG4gICAgLy8gICBicmVhaztcbiAgICBjYXNlICdtZW1vcnknOlxuICAgICAgY2FjaGUgPSByZXF1aXJlKCcuL21lbW9yeScpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNhY2hlID0gcmVxdWlyZSgnLi9udWxsJyk7XG4gIH1cbiAgcmV0dXJuIG5ldyBjYWNoZShvcHRpb25zKTtcbn07XG4iLAogICIvKiFcbiAqIFN0eWx1cyAtIFBhcnNlclxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgTGV4ZXIgPSByZXF1aXJlKCcuL2xleGVyJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4vbm9kZXMnKVxuICAsIFRva2VuID0gcmVxdWlyZSgnLi90b2tlbicpXG4gICwgdW5pdHMgPSByZXF1aXJlKCcuL3VuaXRzJylcbiAgLCBlcnJvcnMgPSByZXF1aXJlKCcuL2Vycm9ycycpXG4gICwgY2FjaGUgPSByZXF1aXJlKCcuL2NhY2hlJyk7XG5cbi8vIGRlYnVnZ2Vyc1xuXG52YXIgZGVidWcgPSB7XG4gIGxleGVyOiByZXF1aXJlKCdkZWJ1ZycpKCdzdHlsdXM6bGV4ZXInKVxuICAsIHNlbGVjdG9yOiByZXF1aXJlKCdkZWJ1ZycpKCdzdHlsdXM6cGFyc2VyOnNlbGVjdG9yJylcbn07XG5cbi8qKlxuICogU2VsZWN0b3IgY29tcG9zaXRlIHRva2Vucy5cbiAqL1xuXG52YXIgc2VsZWN0b3JUb2tlbnMgPSBbXG4gICdpZGVudCdcbiAgLCAnc3RyaW5nJ1xuICAsICdzZWxlY3RvcidcbiAgLCAnZnVuY3Rpb24nXG4gICwgJ2NvbW1lbnQnXG4gICwgJ2Jvb2xlYW4nXG4gICwgJ3NwYWNlJ1xuICAsICdjb2xvcidcbiAgLCAndW5pdCdcbiAgLCAnZm9yJ1xuICAsICdpbidcbiAgLCAnWydcbiAgLCAnXSdcbiAgLCAnKCdcbiAgLCAnKSdcbiAgLCAnKydcbiAgLCAnLSdcbiAgLCAnKidcbiAgLCAnKj0nXG4gICwgJzwnXG4gICwgJz4nXG4gICwgJz0nXG4gICwgJzonXG4gICwgJyYnXG4gICwgJyYmJ1xuICAsICd+J1xuICAsICd7J1xuICAsICd9J1xuICAsICcuJ1xuICAsICcuLidcbiAgLCAnLydcbl07XG5cbi8qKlxuICogQ1NTIHBzZXVkby1jbGFzc2VzIGFuZCBwc2V1ZG8tZWxlbWVudHMuXG4gKiBTZWUgaHR0cDovL2Rldi53My5vcmcvY3Nzd2cvc2VsZWN0b3JzNC9cbiAqL1xuXG52YXIgcHNldWRvU2VsZWN0b3JzID0gW1xuICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLTQvI2xvZ2ljYWwtY29tYmluYXRpb25cbiAgLy8gTG9naWNhbCBDb21iaW5hdGlvbnNcbiAgJ2lzJ1xuICAsICdoYXMnXG4gICwgJ3doZXJlJ1xuICAsICdub3QnXG5cbiAgLy8gTGluZ3Vpc3RpYyBQc2V1ZG8tY2xhc3Nlc1xuICAsICdkaXInXG4gICwgJ2xhbmcnXG5cbiAgLy8gTG9jYXRpb24gUHNldWRvLWNsYXNzZXNcbiAgLCAnYW55LWxpbmsnXG4gICwgJ2xpbmsnXG4gICwgJ3Zpc2l0ZWQnXG4gICwgJ2xvY2FsLWxpbmsnXG4gICwgJ3RhcmdldCdcbiAgLCAnc2NvcGUnXG5cbiAgLy8gVXNlciBBY3Rpb24gUHNldWRvLWNsYXNzZXNcbiAgLCAnaG92ZXInXG4gICwgJ2FjdGl2ZSdcbiAgLCAnZm9jdXMnXG4gICwgJ2Ryb3AnXG5cbiAgLy8gVGltZS1kaW1lbnNpb25hbCBQc2V1ZG8tY2xhc3Nlc1xuICAsICdjdXJyZW50J1xuICAsICdwYXN0J1xuICAsICdmdXR1cmUnXG5cbiAgLy8gVGhlIElucHV0IFBzZXVkby1jbGFzc2VzXG4gICwgJ2VuYWJsZWQnXG4gICwgJ2Rpc2FibGVkJ1xuICAsICdyZWFkLW9ubHknXG4gICwgJ3JlYWQtd3JpdGUnXG4gICwgJ3BsYWNlaG9sZGVyLXNob3duJ1xuICAsICdjaGVja2VkJ1xuICAsICdpbmRldGVybWluYXRlJ1xuICAsICd2YWxpZCdcbiAgLCAnaW52YWxpZCdcbiAgLCAnaW4tcmFuZ2UnXG4gICwgJ291dC1vZi1yYW5nZSdcbiAgLCAncmVxdWlyZWQnXG4gICwgJ29wdGlvbmFsJ1xuICAsICd1c2VyLWVycm9yJ1xuXG4gIC8vIFRyZWUtU3RydWN0dXJhbCBwc2V1ZG8tY2xhc3Nlc1xuICAsICdyb290J1xuICAsICdlbXB0eSdcbiAgLCAnYmxhbmsnXG4gICwgJ250aC1jaGlsZCdcbiAgLCAnbnRoLWxhc3QtY2hpbGQnXG4gICwgJ2ZpcnN0LWNoaWxkJ1xuICAsICdsYXN0LWNoaWxkJ1xuICAsICdvbmx5LWNoaWxkJ1xuICAsICdudGgtb2YtdHlwZSdcbiAgLCAnbnRoLWxhc3Qtb2YtdHlwZSdcbiAgLCAnZmlyc3Qtb2YtdHlwZSdcbiAgLCAnbGFzdC1vZi10eXBlJ1xuICAsICdvbmx5LW9mLXR5cGUnXG4gICwgJ250aC1tYXRjaCdcbiAgLCAnbnRoLWxhc3QtbWF0Y2gnXG5cbiAgLy8gR3JpZC1TdHJ1Y3R1cmFsIFNlbGVjdG9yc1xuICAsICdudGgtY29sdW1uJ1xuICAsICdudGgtbGFzdC1jb2x1bW4nXG5cbiAgLy8gUHNldWRvLWVsZW1lbnRzXG4gICwgJ2ZpcnN0LWxpbmUnXG4gICwgJ2ZpcnN0LWxldHRlcidcbiAgLCAnYmVmb3JlJ1xuICAsICdhZnRlcidcblxuICAvLyBOb24tc3RhbmRhcmRcbiAgLCAnc2VsZWN0aW9uJ1xuXTtcblxubW9kdWxlLmV4cG9ydHMgPSBjbGFzcyBQYXJzZXIge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgUGFyc2VyYCB3aXRoIHRoZSBnaXZlbiBgc3RyYCBhbmQgYG9wdGlvbnNgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBjb25zdHJ1Y3RvcihzdHIsIG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgUGFyc2VyLmNhY2hlID0gUGFyc2VyLmNhY2hlIHx8IFBhcnNlci5nZXRDYWNoZShvcHRpb25zKTtcbiAgICB0aGlzLmhhc2ggPSBQYXJzZXIuY2FjaGUua2V5KHN0ciwgb3B0aW9ucyk7XG4gICAgdGhpcy5sZXhlciA9IHt9O1xuICAgIGlmICghUGFyc2VyLmNhY2hlLmhhcyh0aGlzLmhhc2gpKSB7XG4gICAgICB0aGlzLmxleGVyID0gbmV3IExleGVyKHN0ciwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHRoaXMucHJlZml4ID0gb3B0aW9ucy5wcmVmaXggfHwgJyc7XG4gICAgdGhpcy5yb290ID0gb3B0aW9ucy5yb290IHx8IG5ldyBub2Rlcy5Sb290O1xuICAgIHRoaXMuc3RhdGUgPSBbJ3Jvb3QnXTtcbiAgICB0aGlzLnN0YXNoID0gW107XG4gICAgdGhpcy5wYXJlbnMgPSAwO1xuICAgIHRoaXMuY3NzID0gMDtcbiAgICB0aGlzLnN0YXRlLnBvcCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHNlbGYucHJldlN0YXRlID0gW10ucG9wLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0IGNhY2hlIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9uc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBzdGF0aWMgZ2V0Q2FjaGUob3B0aW9ucykge1xuICAgIHJldHVybiBmYWxzZSA9PT0gb3B0aW9ucy5jYWNoZVxuICAgICAgPyBjYWNoZShmYWxzZSlcbiAgICAgIDogY2FjaGUob3B0aW9ucy5jYWNoZSB8fCAnbWVtb3J5Jywgb3B0aW9ucyk7XG4gIH07XG5cblxuICAvKipcbiAgICogUmV0dXJuIGN1cnJlbnQgc3RhdGUuXG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGN1cnJlbnRTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVt0aGlzLnN0YXRlLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybiBwcmV2aW91cyBzdGF0ZS5cbiAgICpcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgcHJldmlvdXNTdGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zdGF0ZVt0aGlzLnN0YXRlLmxlbmd0aCAtIDJdO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIHRoZSBpbnB1dCwgdGhlbiByZXR1cm4gdGhlIHJvb3Qgbm9kZS5cbiAgICpcbiAgICogQHJldHVybiB7Tm9kZX1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHBhcnNlKCkge1xuICAgIHZhciBibG9jayA9IHRoaXMucGFyZW50ID0gdGhpcy5yb290O1xuICAgIGlmIChQYXJzZXIuY2FjaGUuaGFzKHRoaXMuaGFzaCkpIHtcbiAgICAgIGJsb2NrID0gUGFyc2VyLmNhY2hlLmdldCh0aGlzLmhhc2gpO1xuICAgICAgLy8gbm9ybWFsaXplIGNhY2hlZCBpbXBvcnRzXG4gICAgICBpZiAoJ2Jsb2NrJyA9PSBibG9jay5ub2RlTmFtZSkgYmxvY2suY29uc3RydWN0b3IgPSBub2Rlcy5Sb290O1xuICAgIH0gZWxzZSB7XG4gICAgICB3aGlsZSAoJ2VvcycgIT0gdGhpcy5wZWVrKCkudHlwZSkge1xuICAgICAgICB0aGlzLnNraXBXaGl0ZXNwYWNlKCk7XG4gICAgICAgIGlmICgnZW9zJyA9PSB0aGlzLnBlZWsoKS50eXBlKSBicmVhaztcbiAgICAgICAgdmFyIHN0bXQgPSB0aGlzLnN0YXRlbWVudCgpO1xuICAgICAgICB0aGlzLmFjY2VwdCgnOycpO1xuICAgICAgICBpZiAoIXN0bXQpIHRoaXMuZXJyb3IoJ3VuZXhwZWN0ZWQgdG9rZW4ge3BlZWt9LCBub3QgYWxsb3dlZCBhdCB0aGUgcm9vdCBsZXZlbCcpO1xuICAgICAgICBibG9jay5wdXNoKHN0bXQpO1xuICAgICAgfVxuICAgICAgUGFyc2VyLmNhY2hlLnNldCh0aGlzLmhhc2gsIGJsb2NrKTtcbiAgICB9XG4gICAgcmV0dXJuIGJsb2NrO1xuICB9XG5cbiAgLyoqXG4gICAqIFRocm93IGFuIGBFcnJvcmAgd2l0aCB0aGUgZ2l2ZW4gYG1zZ2AuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBtc2dcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGVycm9yKG1zZykge1xuICAgIHZhciB0eXBlID0gdGhpcy5wZWVrKCkudHlwZVxuICAgICAgLCB2YWwgPSB1bmRlZmluZWQgPT0gdGhpcy5wZWVrKCkudmFsXG4gICAgICAgID8gJydcbiAgICAgICAgOiAnICcgKyB0aGlzLnBlZWsoKS50b1N0cmluZygpO1xuICAgIGlmICh2YWwudHJpbSgpID09IHR5cGUudHJpbSgpKSB2YWwgPSAnJztcbiAgICB0aHJvdyBuZXcgZXJyb3JzLlBhcnNlRXJyb3IobXNnLnJlcGxhY2UoJ3twZWVrfScsICdcIicgKyB0eXBlICsgdmFsICsgJ1wiJykpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFjY2VwdCB0aGUgZ2l2ZW4gdG9rZW4gYHR5cGVgLCBhbmQgcmV0dXJuIGl0LFxuICAgKiBvdGhlcndpc2UgcmV0dXJuIGB1bmRlZmluZWRgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxuICAgKiBAcmV0dXJuIHtUb2tlbn1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGFjY2VwdCh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gdGhpcy5wZWVrKCkudHlwZSkge1xuICAgICAgcmV0dXJuIHRoaXMubmV4dCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBlY3QgdG9rZW4gYHR5cGVgIGFuZCByZXR1cm4gaXQsIHRocm93IG90aGVyd2lzZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICogQHJldHVybiB7VG9rZW59XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBleHBlY3QodHlwZSkge1xuICAgIGlmICh0eXBlICE9IHRoaXMucGVlaygpLnR5cGUpIHtcbiAgICAgIHRoaXMuZXJyb3IoJ2V4cGVjdGVkIFwiJyArIHR5cGUgKyAnXCIsIGdvdCB7cGVla30nKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubmV4dCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgbmV4dCB0b2tlbi5cbiAgICpcbiAgICogQHJldHVybiB7VG9rZW59XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBuZXh0KCkge1xuICAgIHZhciB0b2sgPSB0aGlzLnN0YXNoLmxlbmd0aFxuICAgICAgPyB0aGlzLnN0YXNoLnBvcCgpXG4gICAgICA6IHRoaXMubGV4ZXIubmV4dCgpXG4gICAgICAsIGxpbmUgPSB0b2subGluZW5vXG4gICAgICAsIGNvbHVtbiA9IHRvay5jb2x1bW4gfHwgMTtcblxuICAgIGlmICh0b2sudmFsICYmIHRvay52YWwubm9kZU5hbWUpIHtcbiAgICAgIHRvay52YWwubGluZW5vID0gbGluZTtcbiAgICAgIHRvay52YWwuY29sdW1uID0gY29sdW1uO1xuICAgIH1cbiAgICBub2Rlcy5saW5lbm8gPSBsaW5lO1xuICAgIG5vZGVzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICBkZWJ1Zy5sZXhlcignJXMgJXMnLCB0b2sudHlwZSwgdG9rLnZhbCB8fCAnJyk7XG4gICAgcmV0dXJuIHRvaztcbiAgfVxuXG4gIC8qKlxuICAgKiBQZWVrIHdpdGggbG9va2FoZWFkKDEpLlxuICAgKlxuICAgKiBAcmV0dXJuIHtUb2tlbn1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHBlZWsoKSB7XG4gICAgcmV0dXJuIHRoaXMubGV4ZXIucGVlaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvb2thaGVhZCBgbmAgdG9rZW5zLlxuICAgKlxuICAgKiBAcGFyYW0ge051bWJlcn0gblxuICAgKiBAcmV0dXJuIHtUb2tlbn1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGxvb2thaGVhZChuKSB7XG4gICAgcmV0dXJuIHRoaXMubGV4ZXIubG9va2FoZWFkKG4pO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSB0b2tlbiBhdCBgbmAgaXMgYSB2YWxpZCBzZWxlY3RvciB0b2tlbi5cbiAgICpcbiAgICogQHBhcmFtIHtOdW1iZXJ9IG5cbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGlzU2VsZWN0b3JUb2tlbihuKSB7XG4gICAgdmFyIGxhID0gdGhpcy5sb29rYWhlYWQobikudHlwZTtcbiAgICBzd2l0Y2ggKGxhKSB7XG4gICAgICBjYXNlICdmb3InOlxuICAgICAgICByZXR1cm4gdGhpcy5icmFja2V0ZWQ7XG4gICAgICBjYXNlICdbJzpcbiAgICAgICAgdGhpcy5icmFja2V0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgJ10nOlxuICAgICAgICB0aGlzLmJyYWNrZXRlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB+c2VsZWN0b3JUb2tlbnMuaW5kZXhPZihsYSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSB0b2tlbiBhdCBgbmAgaXMgYSBwc2V1ZG8gc2VsZWN0b3IuXG4gICAqXG4gICAqIEBwYXJhbSB7TnVtYmVyfSBuXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBpc1BzZXVkb1NlbGVjdG9yKG4pIHtcbiAgICB2YXIgdmFsID0gdGhpcy5sb29rYWhlYWQobikudmFsO1xuICAgIHJldHVybiB2YWwgJiYgfnBzZXVkb1NlbGVjdG9ycy5pbmRleE9mKHZhbC5uYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgY3VycmVudCBsaW5lIGNvbnRhaW5zIGB0eXBlYC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGxpbmVDb250YWlucyh0eXBlKSB7XG4gICAgdmFyIGkgPSAxXG4gICAgICAsIGxhO1xuXG4gICAgd2hpbGUgKGxhID0gdGhpcy5sb29rYWhlYWQoaSsrKSkge1xuICAgICAgaWYgKH5bJ2luZGVudCcsICdvdXRkZW50JywgJ25ld2xpbmUnLCAnZW9zJ10uaW5kZXhPZihsYS50eXBlKSkgcmV0dXJuO1xuICAgICAgaWYgKHR5cGUgPT0gbGEudHlwZSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkIHNlbGVjdG9yIHRva2Vucy5cbiAgICovXG5cbiAgc2VsZWN0b3JUb2tlbigpIHtcbiAgICBpZiAodGhpcy5pc1NlbGVjdG9yVG9rZW4oMSkpIHtcbiAgICAgIGlmICgneycgPT0gdGhpcy5wZWVrKCkudHlwZSkge1xuICAgICAgICAvLyB1bmNsb3NlZCwgbXVzdCBiZSBhIGJsb2NrXG4gICAgICAgIGlmICghdGhpcy5saW5lQ29udGFpbnMoJ30nKSkgcmV0dXJuO1xuICAgICAgICAvLyBjaGVjayBpZiAnOicgaXMgd2l0aGluIHRoZSBicmFjZXMuXG4gICAgICAgIC8vIHRob3VnaCBub3QgcmVxdWlyZWQgYnkgU3R5bHVzLCBjaGFuY2VzXG4gICAgICAgIC8vIGFyZSBpZiBzb21lb25lIGlzIHVzaW5nIHt9IHRoZXkgd2lsbFxuICAgICAgICAvLyB1c2UgQ1NTLXN0eWxlIHByb3BzLCBoZWxwaW5nIHVzIHdpdGhcbiAgICAgICAgLy8gdGhlIGFtYmlndWl0eSBpbiB0aGlzIGNhc2VcbiAgICAgICAgdmFyIGkgPSAwXG4gICAgICAgICAgLCBsYTtcbiAgICAgICAgd2hpbGUgKGxhID0gdGhpcy5sb29rYWhlYWQoKytpKSkge1xuICAgICAgICAgIGlmICgnfScgPT0gbGEudHlwZSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgZW1wdHkgYmxvY2suXG4gICAgICAgICAgICBpZiAoaSA9PSAyIHx8IChpID09IDMgJiYgdGhpcy5sb29rYWhlYWQoaSAtIDEpLnR5cGUgPT0gJ3NwYWNlJykpXG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoJzonID09IGxhLnR5cGUpIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMubmV4dCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTa2lwIHRoZSBnaXZlbiBgdG9rZW5zYC5cbiAgICpcbiAgICogQHBhcmFtIHtBcnJheX0gdG9rZW5zXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBza2lwKHRva2Vucykge1xuICAgIHdoaWxlICh+dG9rZW5zLmluZGV4T2YodGhpcy5wZWVrKCkudHlwZSkpXG4gICAgICB0aGlzLm5leHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdW1lIHdoaXRlc3BhY2UuXG4gICAqL1xuXG4gIHNraXBXaGl0ZXNwYWNlKCkge1xuICAgIHRoaXMuc2tpcChbJ3NwYWNlJywgJ2luZGVudCcsICdvdXRkZW50JywgJ25ld2xpbmUnXSk7XG4gIH1cblxuICAvKipcbiAgICogQ29uc3VtZSBuZXdsaW5lcy5cbiAgICovXG5cbiAgc2tpcE5ld2xpbmVzKCkge1xuICAgIHdoaWxlICgnbmV3bGluZScgPT0gdGhpcy5wZWVrKCkudHlwZSlcbiAgICAgIHRoaXMubmV4dCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnN1bWUgc3BhY2VzLlxuICAgKi9cblxuICBza2lwU3BhY2VzKCkge1xuICAgIHdoaWxlICgnc3BhY2UnID09IHRoaXMucGVlaygpLnR5cGUpXG4gICAgICB0aGlzLm5leHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb25zdW1lIHNwYWNlcyBhbmQgY29tbWVudHMuXG4gICAqL1xuXG4gIHNraXBTcGFjZXNBbmRDb21tZW50cygpIHtcbiAgICB3aGlsZSAoJ3NwYWNlJyA9PSB0aGlzLnBlZWsoKS50eXBlXG4gICAgICB8fCAnY29tbWVudCcgPT0gdGhpcy5wZWVrKCkudHlwZSlcbiAgICAgIHRoaXMubmV4dCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoZSBmb2xsb3dpbmcgc2VxdWVuY2Ugb2YgdG9rZW5zXG4gICAqIGZvcm1zIGEgZnVuY3Rpb24gZGVmaW5pdGlvbiwgaWUgdHJhaWxpbmdcbiAgICogYHtgIG9yIGluZGVudGF0aW9uLlxuICAgKi9cblxuICBsb29rc0xpa2VGdW5jdGlvbkRlZmluaXRpb24oaSkge1xuICAgIHJldHVybiAnaW5kZW50JyA9PSB0aGlzLmxvb2thaGVhZChpKS50eXBlXG4gICAgICB8fCAneycgPT0gdGhpcy5sb29rYWhlYWQoaSkudHlwZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZm9sbG93aW5nIHNlcXVlbmNlIG9mIHRva2Vuc1xuICAgKiBmb3JtcyBhIHNlbGVjdG9yLlxuICAgKlxuICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtmcm9tUHJvcGVydHldXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBsb29rc0xpa2VTZWxlY3Rvcihmcm9tUHJvcGVydHkpIHtcbiAgICB2YXIgaSA9IDFcbiAgICAgICwgbm9kZVxuICAgICAgLCBicmFjZTtcblxuICAgIC8vIFJlYWwgcHJvcGVydHlcbiAgICBpZiAoZnJvbVByb3BlcnR5ICYmICc6JyA9PSB0aGlzLmxvb2thaGVhZChpICsgMSkudHlwZVxuICAgICAgJiYgKHRoaXMubG9va2FoZWFkKGkgKyAxKS5zcGFjZSB8fCAnaW5kZW50JyA9PSB0aGlzLmxvb2thaGVhZChpICsgMikudHlwZSkpXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAvLyBBc3N1bWUgc2VsZWN0b3Igd2hlbiBhbiBpZGVudCBpc1xuICAgIC8vIGZvbGxvd2VkIGJ5IGEgc2VsZWN0b3JcbiAgICB3aGlsZSAoJ2lkZW50JyA9PSB0aGlzLmxvb2thaGVhZChpKS50eXBlXG4gICAgICAmJiAoJ25ld2xpbmUnID09IHRoaXMubG9va2FoZWFkKGkgKyAxKS50eXBlXG4gICAgICAgIHx8ICcsJyA9PSB0aGlzLmxvb2thaGVhZChpICsgMSkudHlwZSkpIGkgKz0gMjtcblxuICAgIHdoaWxlICh0aGlzLmlzU2VsZWN0b3JUb2tlbihpKVxuICAgICAgfHwgJywnID09IHRoaXMubG9va2FoZWFkKGkpLnR5cGUpIHtcblxuICAgICAgaWYgKCdzZWxlY3RvcicgPT0gdGhpcy5sb29rYWhlYWQoaSkudHlwZSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgIGlmICgnJicgPT0gdGhpcy5sb29rYWhlYWQoaSArIDEpLnR5cGUpXG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICAvLyBIYXNoIHZhbHVlcyBpbnNpZGUgcHJvcGVydGllc1xuICAgICAgaWYgKFxuICAgICAgICBpID4gMSAmJlxuICAgICAgICAnaWRlbnQnID09PSB0aGlzLmxvb2thaGVhZChpIC0gMSkudHlwZSAmJlxuICAgICAgICAnLicgPT09IHRoaXMubG9va2FoZWFkKGkpLnR5cGUgJiZcbiAgICAgICAgJ2lkZW50JyA9PT0gdGhpcy5sb29rYWhlYWQoaSArIDEpLnR5cGVcbiAgICAgICkge1xuICAgICAgICB3aGlsZSAoKG5vZGUgPSB0aGlzLmxvb2thaGVhZChpICsgMikpKSB7XG4gICAgICAgICAgaWYgKFtcbiAgICAgICAgICAgICdpbmRlbnQnLFxuICAgICAgICAgICAgJ291dGRlbnQnLFxuICAgICAgICAgICAgJ3snLFxuICAgICAgICAgICAgJzsnLFxuICAgICAgICAgICAgJ2VvcycsXG4gICAgICAgICAgICAnc2VsZWN0b3InLFxuICAgICAgICAgICAgJ21lZGlhJyxcbiAgICAgICAgICAgICdpZicsXG4gICAgICAgICAgICAnYXRydWxlJyxcbiAgICAgICAgICAgICcpJyxcbiAgICAgICAgICAgICd9JyxcbiAgICAgICAgICAgICd1bml0JyxcbiAgICAgICAgICAgICdbJyxcbiAgICAgICAgICAgICdmb3InLFxuICAgICAgICAgICAgJ2Z1bmN0aW9uJ1xuICAgICAgICAgIF0uaW5kZXhPZihub2RlLnR5cGUpICE9PSAtMSkge1xuICAgICAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJ1snKSB7XG4gICAgICAgICAgICAgIHdoaWxlICgobm9kZSA9IHRoaXMubG9va2FoZWFkKGkgKyAzKSkgJiYgbm9kZS50eXBlICE9PSAnXScpIHtcbiAgICAgICAgICAgICAgICBpZiAoflsnLicsICd1bml0J10uaW5kZXhPZihub2RlLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGkgKz0gMVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAodGhpcy5pc1BzZXVkb1NlbGVjdG9yKGkgKyAyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKG5vZGUudHlwZSA9PT0gJyknICYmIHRoaXMubG9va2FoZWFkKGkgKyAzKSAmJiB0aGlzLmxvb2thaGVhZChpICsgMykudHlwZSA9PT0gJ30nKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICdvdXRkZW50JyxcbiAgICAgICAgICAgICAgICAnOycsXG4gICAgICAgICAgICAgICAgJ2VvcycsXG4gICAgICAgICAgICAgICAgJ21lZGlhJyxcbiAgICAgICAgICAgICAgICAnaWYnLFxuICAgICAgICAgICAgICAgICdhdHJ1bGUnLFxuICAgICAgICAgICAgICAgICcpJyxcbiAgICAgICAgICAgICAgICAnfScsXG4gICAgICAgICAgICAgICAgJ3VuaXQnLFxuICAgICAgICAgICAgICAgICdmb3InLFxuICAgICAgICAgICAgICAgICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgXS5pbmRleE9mKG5vZGUudHlwZSkgPT09IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGkgKz0gMVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICgnLicgPT0gdGhpcy5sb29rYWhlYWQoaSkudHlwZSAmJiAnaWRlbnQnID09IHRoaXMubG9va2FoZWFkKGkgKyAxKS50eXBlKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoJyonID09IHRoaXMubG9va2FoZWFkKGkpLnR5cGUgJiYgJ25ld2xpbmUnID09IHRoaXMubG9va2FoZWFkKGkgKyAxKS50eXBlKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgLy8gUHNldWRvLWVsZW1lbnRzXG4gICAgICBpZiAoJzonID09IHRoaXMubG9va2FoZWFkKGkpLnR5cGVcbiAgICAgICAgJiYgJzonID09IHRoaXMubG9va2FoZWFkKGkgKyAxKS50eXBlKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgLy8gI2EgYWZ0ZXIgYW4gaWRlbnQgYW5kIG5ld2xpbmVcbiAgICAgIGlmICgnY29sb3InID09IHRoaXMubG9va2FoZWFkKGkpLnR5cGVcbiAgICAgICAgJiYgJ25ld2xpbmUnID09IHRoaXMubG9va2FoZWFkKGkgLSAxKS50eXBlKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgaWYgKHRoaXMubG9va3NMaWtlQXR0cmlidXRlU2VsZWN0b3IoaSkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICBpZiAoKCc9JyA9PSB0aGlzLmxvb2thaGVhZChpKS50eXBlIHx8ICdmdW5jdGlvbicgPT0gdGhpcy5sb29rYWhlYWQoaSkudHlwZSlcbiAgICAgICAgJiYgJ3snID09IHRoaXMubG9va2FoZWFkKGkgKyAxKS50eXBlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgIC8vIEhhc2ggdmFsdWVzIGluc2lkZSBwcm9wZXJ0aWVzXG4gICAgICBpZiAoJzonID09IHRoaXMubG9va2FoZWFkKGkpLnR5cGVcbiAgICAgICAgJiYgIXRoaXMuaXNQc2V1ZG9TZWxlY3RvcihpICsgMSlcbiAgICAgICAgJiYgdGhpcy5saW5lQ29udGFpbnMoJy4nKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAvLyB0aGUgJzonIHRva2VuIHdpdGhpbiBicmFjZXMgc2lnbmlmaWVzXG4gICAgICAvLyBhIHNlbGVjdG9yLiBleDogXCJmb297YmFyOidiYXonfVwiXG4gICAgICBpZiAoJ3snID09IHRoaXMubG9va2FoZWFkKGkpLnR5cGUpIGJyYWNlID0gdHJ1ZTtcbiAgICAgIGVsc2UgaWYgKCd9JyA9PSB0aGlzLmxvb2thaGVhZChpKS50eXBlKSBicmFjZSA9IGZhbHNlO1xuICAgICAgaWYgKGJyYWNlICYmICc6JyA9PSB0aGlzLmxvb2thaGVhZChpKS50eXBlKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgLy8gJ3snIHByZWNlZGVkIGJ5IGEgc3BhY2UgaXMgY29uc2lkZXJlZCBhIHNlbGVjdG9yLlxuICAgICAgLy8gZm9yIGV4YW1wbGUgXCJmb297YmFyfXtiYXp9XCIgbWF5IGJlIGEgcHJvcGVydHksXG4gICAgICAvLyBob3dldmVyIFwiZm9ve2Jhcn0ge2Jhen1cIiBpcyBhIHNlbGVjdG9yXG4gICAgICBpZiAoJ3NwYWNlJyA9PSB0aGlzLmxvb2thaGVhZChpKS50eXBlXG4gICAgICAgICYmICd7JyA9PSB0aGlzLmxvb2thaGVhZChpICsgMSkudHlwZSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgIC8vIEFzc3VtZSBwc2V1ZG8gc2VsZWN0b3JzIGFyZSBOT1QgcHJvcGVydGllc1xuICAgICAgLy8gYXMgJ3RkOnRoLWNoaWxkKDEpJyBtYXkgbG9vayBsaWtlIGEgcHJvcGVydHlcbiAgICAgIC8vIGFuZCBmdW5jdGlvbiBjYWxsIHRvIHRoZSBwYXJzZXIgb3RoZXJ3aXNlXG4gICAgICBpZiAoJzonID09IHRoaXMubG9va2FoZWFkKGkrKykudHlwZVxuICAgICAgICAmJiAhdGhpcy5sb29rYWhlYWQoaSAtIDEpLnNwYWNlXG4gICAgICAgICYmIHRoaXMuaXNQc2V1ZG9TZWxlY3RvcihpKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgIC8vIFRyYWlsaW5nIHNwYWNlXG4gICAgICBpZiAoJ3NwYWNlJyA9PSB0aGlzLmxvb2thaGVhZChpKS50eXBlXG4gICAgICAgICYmICduZXdsaW5lJyA9PSB0aGlzLmxvb2thaGVhZChpICsgMSkudHlwZVxuICAgICAgICAmJiAneycgPT0gdGhpcy5sb29rYWhlYWQoaSArIDIpLnR5cGUpXG4gICAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgICBpZiAoJywnID09IHRoaXMubG9va2FoZWFkKGkpLnR5cGVcbiAgICAgICAgJiYgJ25ld2xpbmUnID09IHRoaXMubG9va2FoZWFkKGkgKyAxKS50eXBlKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBUcmFpbGluZyBjb21tYVxuICAgIGlmICgnLCcgPT0gdGhpcy5sb29rYWhlYWQoaSkudHlwZVxuICAgICAgJiYgJ25ld2xpbmUnID09IHRoaXMubG9va2FoZWFkKGkgKyAxKS50eXBlKVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAvLyBUcmFpbGluZyBicmFjZVxuICAgIGlmICgneycgPT0gdGhpcy5sb29rYWhlYWQoaSkudHlwZVxuICAgICAgJiYgJ25ld2xpbmUnID09IHRoaXMubG9va2FoZWFkKGkgKyAxKS50eXBlKVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAvLyBjc3Mtc3R5bGUgbW9kZSwgZmFsc2Ugb24gOyB9XG4gICAgaWYgKHRoaXMuY3NzKSB7XG4gICAgICBpZiAoJzsnID09IHRoaXMubG9va2FoZWFkKGkpLnR5cGUgfHxcbiAgICAgICAgJ30nID09IHRoaXMubG9va2FoZWFkKGkgLSAxKS50eXBlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVHJhaWxpbmcgc2VwYXJhdG9yc1xuICAgIHdoaWxlICghfltcbiAgICAgICdpbmRlbnQnXG4gICAgICAsICdvdXRkZW50J1xuICAgICAgLCAnbmV3bGluZSdcbiAgICAgICwgJ2ZvcidcbiAgICAgICwgJ2lmJ1xuICAgICAgLCAnOydcbiAgICAgICwgJ30nXG4gICAgICAsICdlb3MnXS5pbmRleE9mKHRoaXMubG9va2FoZWFkKGkpLnR5cGUpKVxuICAgICAgKytpO1xuXG4gICAgaWYgKCdpbmRlbnQnID09IHRoaXMubG9va2FoZWFkKGkpLnR5cGUpXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZm9sbG93aW5nIHNlcXVlbmNlIG9mIHRva2Vuc1xuICAgKiBmb3JtcyBhbiBhdHRyaWJ1dGUgc2VsZWN0b3IuXG4gICAqL1xuXG4gIGxvb2tzTGlrZUF0dHJpYnV0ZVNlbGVjdG9yKG4pIHtcbiAgICB2YXIgdHlwZSA9IHRoaXMubG9va2FoZWFkKG4pLnR5cGU7XG4gICAgaWYgKCc9JyA9PSB0eXBlICYmIHRoaXMuYnJhY2tldGVkKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gKCdpZGVudCcgPT0gdHlwZSB8fCAnc3RyaW5nJyA9PSB0eXBlKVxuICAgICAgJiYgJ10nID09IHRoaXMubG9va2FoZWFkKG4gKyAxKS50eXBlXG4gICAgICAmJiAoJ25ld2xpbmUnID09IHRoaXMubG9va2FoZWFkKG4gKyAyKS50eXBlIHx8IHRoaXMuaXNTZWxlY3RvclRva2VuKG4gKyAyKSlcbiAgICAgICYmICF0aGlzLmxpbmVDb250YWlucygnOicpXG4gICAgICAmJiAhdGhpcy5saW5lQ29udGFpbnMoJz0nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgZm9sbG93aW5nIHNlcXVlbmNlIG9mIHRva2Vuc1xuICAgKiBmb3JtcyBhIGtleWZyYW1lIGJsb2NrLlxuICAgKi9cblxuICBsb29rc0xpa2VLZXlmcmFtZSgpIHtcbiAgICB2YXIgaSA9IDJcbiAgICAgICwgdHlwZTtcbiAgICBzd2l0Y2ggKHRoaXMubG9va2FoZWFkKGkpLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3snOlxuICAgICAgY2FzZSAnaW5kZW50JzpcbiAgICAgIGNhc2UgJywnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgJ25ld2xpbmUnOlxuICAgICAgICB3aGlsZSAoJ3VuaXQnID09IHRoaXMubG9va2FoZWFkKCsraSkudHlwZVxuICAgICAgICAgIHx8ICduZXdsaW5lJyA9PSB0aGlzLmxvb2thaGVhZChpKS50eXBlKTtcbiAgICAgICAgdHlwZSA9IHRoaXMubG9va2FoZWFkKGkpLnR5cGU7XG4gICAgICAgIHJldHVybiAnaW5kZW50JyA9PSB0eXBlIHx8ICd7JyA9PSB0eXBlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB0aGUgY3VycmVudCBzdGF0ZSBzdXBwb3J0cyBzZWxlY3RvcnMuXG4gICAqL1xuXG4gIHN0YXRlQWxsb3dzU2VsZWN0b3IoKSB7XG4gICAgc3dpdGNoICh0aGlzLmN1cnJlbnRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICdyb290JzpcbiAgICAgIGNhc2UgJ2F0YmxvY2snOlxuICAgICAgY2FzZSAnc2VsZWN0b3InOlxuICAgICAgY2FzZSAnY29uZGl0aW9uYWwnOlxuICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgY2FzZSAnYXRydWxlJzpcbiAgICAgIGNhc2UgJ2Zvcic6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBUcnkgdG8gYXNzaWduIEBibG9jayB0byB0aGUgbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIHtFeHByZXNzaW9ufSBleHByXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG4gIGFzc2lnbkF0YmxvY2soZXhwcikge1xuICAgIHRyeSB7XG4gICAgICBleHByLnB1c2godGhpcy5hdGJsb2NrKGV4cHIpKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRoaXMuZXJyb3IoJ2ludmFsaWQgcmlnaHQtaGFuZCBzaWRlIG9wZXJhbmQgaW4gYXNzaWdubWVudCwgZ290IHtwZWVrfScpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAgIHN0YXRlbWVudFxuICAgKiB8IHN0YXRlbWVudCAnaWYnIGV4cHJlc3Npb25cbiAgICogfCBzdGF0ZW1lbnQgJ3VubGVzcycgZXhwcmVzc2lvblxuICAgKi9cblxuICBzdGF0ZW1lbnQoKSB7XG4gICAgdmFyIHN0bXQgPSB0aGlzLnN0bXQoKVxuICAgICAgLCBzdGF0ZSA9IHRoaXMucHJldlN0YXRlXG4gICAgICAsIGJsb2NrXG4gICAgICAsIG9wO1xuXG4gICAgLy8gc3BlY2lhbC1jYXNlIHN0YXRlbWVudHMgc2luY2UgaXRcbiAgICAvLyBpcyBub3QgYW4gZXhwcmVzc2lvbi4gV2UgY291bGRcbiAgICAvLyBpbXBsZW1lbnQgcG9zdGZpeCBjb25kaXRpb25hbHMgYXRcbiAgICAvLyB0aGUgZXhwcmVzc2lvbiBsZXZlbCwgaG93ZXZlciB0aGV5XG4gICAgLy8gd291bGQgdGhlbiBmYWlsIHRvIGVuY2xvc2UgcHJvcGVydGllc1xuICAgIGlmICh0aGlzLmFsbG93UG9zdGZpeCkge1xuICAgICAgdGhpcy5hbGxvd1Bvc3RmaXggPSBmYWxzZTtcbiAgICAgIHN0YXRlID0gJ2V4cHJlc3Npb24nO1xuICAgIH1cblxuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgJ2Fzc2lnbm1lbnQnOlxuICAgICAgY2FzZSAnZXhwcmVzc2lvbic6XG4gICAgICBjYXNlICdmdW5jdGlvbiBhcmd1bWVudHMnOlxuICAgICAgICB3aGlsZSAob3AgPVxuICAgICAgICAgIHRoaXMuYWNjZXB0KCdpZicpXG4gICAgICAgICAgfHwgdGhpcy5hY2NlcHQoJ3VubGVzcycpXG4gICAgICAgICAgfHwgdGhpcy5hY2NlcHQoJ2ZvcicpKSB7XG4gICAgICAgICAgc3dpdGNoIChvcC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdpZic6XG4gICAgICAgICAgICBjYXNlICd1bmxlc3MnOlxuICAgICAgICAgICAgICBzdG10ID0gbmV3IG5vZGVzLklmKHRoaXMuZXhwcmVzc2lvbigpLCBzdG10KTtcbiAgICAgICAgICAgICAgc3RtdC5wb3N0Zml4ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgc3RtdC5uZWdhdGUgPSAndW5sZXNzJyA9PSBvcC50eXBlO1xuICAgICAgICAgICAgICB0aGlzLmFjY2VwdCgnOycpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2Zvcic6XG4gICAgICAgICAgICAgIHZhciBrZXlcbiAgICAgICAgICAgICAgICAsIHZhbCA9IHRoaXMuaWQoKS5uYW1lO1xuICAgICAgICAgICAgICBpZiAodGhpcy5hY2NlcHQoJywnKSkga2V5ID0gdGhpcy5pZCgpLm5hbWU7XG4gICAgICAgICAgICAgIHRoaXMuZXhwZWN0KCdpbicpO1xuICAgICAgICAgICAgICB2YXIgZWFjaCA9IG5ldyBub2Rlcy5FYWNoKHZhbCwga2V5LCB0aGlzLmV4cHJlc3Npb24oKSk7XG4gICAgICAgICAgICAgIGJsb2NrID0gbmV3IG5vZGVzLkJsb2NrKHRoaXMucGFyZW50LCBlYWNoKTtcbiAgICAgICAgICAgICAgYmxvY2sucHVzaChzdG10KTtcbiAgICAgICAgICAgICAgZWFjaC5ibG9jayA9IGJsb2NrO1xuICAgICAgICAgICAgICBzdG10ID0gZWFjaDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc3RtdDtcbiAgfVxuXG4gIC8qKlxuICAgKiAgICBpZGVudFxuICAgKiAgfCBzZWxlY3RvclxuICAgKiAgfCBsaXRlcmFsXG4gICAqICB8IGNoYXJzZXRcbiAgICogIHwgbmFtZXNwYWNlXG4gICAqICB8IGltcG9ydFxuICAgKiAgfCByZXF1aXJlXG4gICAqICB8IG1lZGlhXG4gICAqICB8IGF0cnVsZVxuICAgKiAgfCBzY29wZVxuICAgKiAgfCBrZXlmcmFtZXNcbiAgICogIHwgbW96ZG9jdW1lbnRcbiAgICogIHwgZm9yXG4gICAqICB8IGlmXG4gICAqICB8IHVubGVzc1xuICAgKiAgfCBjb21tZW50XG4gICAqICB8IGV4cHJlc3Npb25cbiAgICogIHwgJ3JldHVybicgZXhwcmVzc2lvblxuICAgKi9cblxuICBzdG10KCkge1xuICAgIHZhciB0b2sgPSB0aGlzLnBlZWsoKSwgc2VsZWN0b3I7XG4gICAgc3dpdGNoICh0b2sudHlwZSkge1xuICAgICAgY2FzZSAna2V5ZnJhbWVzJzpcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5ZnJhbWVzKCk7XG4gICAgICBjYXNlICctbW96LWRvY3VtZW50JzpcbiAgICAgICAgcmV0dXJuIHRoaXMubW96ZG9jdW1lbnQoKTtcbiAgICAgIGNhc2UgJ2NvbW1lbnQnOlxuICAgICAgY2FzZSAnc2VsZWN0b3InOlxuICAgICAgY2FzZSAnbGl0ZXJhbCc6XG4gICAgICBjYXNlICdjaGFyc2V0JzpcbiAgICAgIGNhc2UgJ25hbWVzcGFjZSc6XG4gICAgICBjYXNlICdpbXBvcnQnOlxuICAgICAgY2FzZSAncmVxdWlyZSc6XG4gICAgICBjYXNlICdleHRlbmQnOlxuICAgICAgY2FzZSAnbWVkaWEnOlxuICAgICAgY2FzZSAnYXRydWxlJzpcbiAgICAgIGNhc2UgJ2lkZW50JzpcbiAgICAgIGNhc2UgJ3Njb3BlJzpcbiAgICAgIGNhc2UgJ3N1cHBvcnRzJzpcbiAgICAgIGNhc2UgJ3VubGVzcyc6XG4gICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICBjYXNlICdmb3InOlxuICAgICAgY2FzZSAnaWYnOlxuICAgICAgICByZXR1cm4gdGhpc1t0b2sudHlwZV0oKTtcbiAgICAgIGNhc2UgJ3JldHVybic6XG4gICAgICAgIHJldHVybiB0aGlzLnJldHVybigpO1xuICAgICAgY2FzZSAneyc6XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnR5KCk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICAvLyBDb250ZXh0dWFsIHNlbGVjdG9yc1xuICAgICAgICBpZiAodGhpcy5zdGF0ZUFsbG93c1NlbGVjdG9yKCkpIHtcbiAgICAgICAgICBzd2l0Y2ggKHRvay50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdjb2xvcic6XG4gICAgICAgICAgICBjYXNlICd+JzpcbiAgICAgICAgICAgIGNhc2UgJz4nOlxuICAgICAgICAgICAgY2FzZSAnPCc6XG4gICAgICAgICAgICBjYXNlICc6JzpcbiAgICAgICAgICAgIGNhc2UgJyYnOlxuICAgICAgICAgICAgY2FzZSAnJiYnOlxuICAgICAgICAgICAgY2FzZSAnWyc6XG4gICAgICAgICAgICBjYXNlICcuJzpcbiAgICAgICAgICAgIGNhc2UgJy8nOlxuICAgICAgICAgICAgICBzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3IoKTtcbiAgICAgICAgICAgICAgc2VsZWN0b3IuY29sdW1uID0gdG9rLmNvbHVtbjtcbiAgICAgICAgICAgICAgc2VsZWN0b3IubGluZW5vID0gdG9rLmxpbmVubztcbiAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgICAgICAgICAgLy8gcmVsYXRpdmUgcmVmZXJlbmNlXG4gICAgICAgICAgICBjYXNlICcuLic6XG4gICAgICAgICAgICAgIGlmICgnLycgPT0gdGhpcy5sb29rYWhlYWQoMikudHlwZSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RvcigpO1xuICAgICAgICAgICAgY2FzZSAnKyc6XG4gICAgICAgICAgICAgIHJldHVybiAnZnVuY3Rpb24nID09IHRoaXMubG9va2FoZWFkKDIpLnR5cGVcbiAgICAgICAgICAgICAgICA/IHRoaXMuZnVuY3Rpb25DYWxsKClcbiAgICAgICAgICAgICAgICA6IHRoaXMuc2VsZWN0b3IoKTtcbiAgICAgICAgICAgIGNhc2UgJyonOlxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0eSgpO1xuICAgICAgICAgICAgLy8ga2V5ZnJhbWUgYmxvY2tzICgxMCUsIDIwJSB7IC4uLiB9KVxuICAgICAgICAgICAgY2FzZSAndW5pdCc6XG4gICAgICAgICAgICAgIGlmICh0aGlzLmxvb2tzTGlrZUtleWZyYW1lKCkpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3IoKTtcbiAgICAgICAgICAgICAgICBzZWxlY3Rvci5jb2x1bW4gPSB0b2suY29sdW1uO1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yLmxpbmVubyA9IHRvay5saW5lbm87XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICctJzpcbiAgICAgICAgICAgICAgaWYgKCd7JyA9PSB0aGlzLmxvb2thaGVhZCgyKS50eXBlKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BlcnR5KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXhwcmVzc2lvbiBmYWxsYmFja1xuICAgICAgICB2YXIgZXhwciA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgICAgICBpZiAoZXhwci5pc0VtcHR5KSB0aGlzLmVycm9yKCd1bmV4cGVjdGVkIHtwZWVrfScpO1xuICAgICAgICByZXR1cm4gZXhwcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogaW5kZW50ICghb3V0ZGVudCkrIG91dGRlbnRcbiAgICovXG5cbiAgYmxvY2sobm9kZSwgc2NvcGUpIHtcbiAgICB2YXIgZGVsaW1cbiAgICAgICwgc3RtdFxuICAgICAgLCBuZXh0XG4gICAgICAsIGJsb2NrID0gdGhpcy5wYXJlbnQgPSBuZXcgbm9kZXMuQmxvY2sodGhpcy5wYXJlbnQsIG5vZGUpO1xuXG4gICAgaWYgKGZhbHNlID09PSBzY29wZSkgYmxvY2suc2NvcGUgPSBmYWxzZTtcblxuICAgIHRoaXMuYWNjZXB0KCduZXdsaW5lJyk7XG5cbiAgICAvLyBjc3Mtc3R5bGVcbiAgICBpZiAodGhpcy5hY2NlcHQoJ3snKSkge1xuICAgICAgdGhpcy5jc3MrKztcbiAgICAgIGRlbGltID0gJ30nO1xuICAgICAgdGhpcy5za2lwV2hpdGVzcGFjZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxpbSA9ICdvdXRkZW50JztcbiAgICAgIHRoaXMuZXhwZWN0KCdpbmRlbnQnKTtcbiAgICB9XG5cbiAgICB3aGlsZSAoZGVsaW0gIT0gdGhpcy5wZWVrKCkudHlwZSkge1xuICAgICAgLy8gY3NzLXN0eWxlXG4gICAgICBpZiAodGhpcy5jc3MpIHtcbiAgICAgICAgaWYgKHRoaXMuYWNjZXB0KCduZXdsaW5lJykgfHwgdGhpcy5hY2NlcHQoJ2luZGVudCcpKSBjb250aW51ZTtcbiAgICAgICAgc3RtdCA9IHRoaXMuc3RhdGVtZW50KCk7XG4gICAgICAgIHRoaXMuYWNjZXB0KCc7Jyk7XG4gICAgICAgIHRoaXMuc2tpcFdoaXRlc3BhY2UoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLmFjY2VwdCgnbmV3bGluZScpKSBjb250aW51ZTtcbiAgICAgICAgLy8gc2tpcCB1c2VsZXNzIGluZGVudHMgYW5kIGNvbW1lbnRzXG4gICAgICAgIG5leHQgPSB0aGlzLmxvb2thaGVhZCgyKS50eXBlO1xuICAgICAgICBpZiAoJ2luZGVudCcgPT0gdGhpcy5wZWVrKCkudHlwZVxuICAgICAgICAgICYmIH5bJ291dGRlbnQnLCAnbmV3bGluZScsICdjb21tZW50J10uaW5kZXhPZihuZXh0KSkge1xuICAgICAgICAgIHRoaXMuc2tpcChbJ2luZGVudCcsICdvdXRkZW50J10pO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnZW9zJyA9PSB0aGlzLnBlZWsoKS50eXBlKSByZXR1cm4gYmxvY2s7XG4gICAgICAgIHN0bXQgPSB0aGlzLnN0YXRlbWVudCgpO1xuICAgICAgICB0aGlzLmFjY2VwdCgnOycpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdG10KSB0aGlzLmVycm9yKCd1bmV4cGVjdGVkIHRva2VuIHtwZWVrfSBpbiBibG9jaycpO1xuICAgICAgYmxvY2sucHVzaChzdG10KTtcbiAgICB9XG5cbiAgICAvLyBjc3Mtc3R5bGVcbiAgICBpZiAodGhpcy5jc3MpIHtcbiAgICAgIHRoaXMuc2tpcFdoaXRlc3BhY2UoKTtcbiAgICAgIHRoaXMuZXhwZWN0KCd9Jyk7XG4gICAgICB0aGlzLnNraXBTcGFjZXMoKTtcbiAgICAgIHRoaXMuY3NzLS07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZXhwZWN0KCdvdXRkZW50Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5wYXJlbnQgPSBibG9jay5wYXJlbnQ7XG4gICAgcmV0dXJuIGJsb2NrO1xuICB9XG5cbiAgLyoqXG4gICAqIGNvbW1lbnQgc3BhY2UqXG4gICAqL1xuXG4gIGNvbW1lbnQoKSB7XG4gICAgdmFyIG5vZGUgPSB0aGlzLm5leHQoKS52YWw7XG4gICAgdGhpcy5za2lwU3BhY2VzKCk7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogZm9yIHZhbCAoJywnIGtleSkgaW4gZXhwclxuICAgKi9cblxuICBmb3IoKSB7XG4gICAgdGhpcy5leHBlY3QoJ2ZvcicpO1xuICAgIHZhciBrZXlcbiAgICAgICwgdmFsID0gdGhpcy5pZCgpLm5hbWU7XG4gICAgaWYgKHRoaXMuYWNjZXB0KCcsJykpIGtleSA9IHRoaXMuaWQoKS5uYW1lO1xuICAgIHRoaXMuZXhwZWN0KCdpbicpO1xuICAgIHRoaXMuc3RhdGUucHVzaCgnZm9yJyk7XG4gICAgdGhpcy5jb25kID0gdHJ1ZTtcbiAgICB2YXIgZWFjaCA9IG5ldyBub2Rlcy5FYWNoKHZhbCwga2V5LCB0aGlzLmV4cHJlc3Npb24oKSk7XG4gICAgdGhpcy5jb25kID0gZmFsc2U7XG4gICAgZWFjaC5ibG9jayA9IHRoaXMuYmxvY2soZWFjaCwgZmFsc2UpO1xuICAgIHRoaXMuc3RhdGUucG9wKCk7XG4gICAgcmV0dXJuIGVhY2g7XG4gIH1cblxuICAvKipcbiAgICogcmV0dXJuIGV4cHJlc3Npb25cbiAgICovXG5cbiAgcmV0dXJuKCkge1xuICAgIHRoaXMuZXhwZWN0KCdyZXR1cm4nKTtcbiAgICB2YXIgZXhwciA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgIHJldHVybiBleHByLmlzRW1wdHlcbiAgICAgID8gbmV3IG5vZGVzLlJldHVyblxuICAgICAgOiBuZXcgbm9kZXMuUmV0dXJuKGV4cHIpO1xuICB9XG5cbiAgLyoqXG4gICAqIHVubGVzcyBleHByZXNzaW9uIGJsb2NrXG4gICAqL1xuXG4gIHVubGVzcygpIHtcbiAgICB0aGlzLmV4cGVjdCgndW5sZXNzJyk7XG4gICAgdGhpcy5zdGF0ZS5wdXNoKCdjb25kaXRpb25hbCcpO1xuICAgIHRoaXMuY29uZCA9IHRydWU7XG4gICAgdmFyIG5vZGUgPSBuZXcgbm9kZXMuSWYodGhpcy5leHByZXNzaW9uKCksIHRydWUpO1xuICAgIHRoaXMuY29uZCA9IGZhbHNlO1xuICAgIG5vZGUuYmxvY2sgPSB0aGlzLmJsb2NrKG5vZGUsIGZhbHNlKTtcbiAgICB0aGlzLnN0YXRlLnBvcCgpO1xuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIGlmIGV4cHJlc3Npb24gYmxvY2sgKGVsc2UgYmxvY2spP1xuICAgKi9cblxuICBpZigpIHtcbiAgICB2YXIgdG9rZW4gPSB0aGlzLmV4cGVjdCgnaWYnKTtcblxuICAgIHRoaXMuc3RhdGUucHVzaCgnY29uZGl0aW9uYWwnKTtcbiAgICB0aGlzLmNvbmQgPSB0cnVlO1xuICAgIHZhciBub2RlID0gbmV3IG5vZGVzLklmKHRoaXMuZXhwcmVzc2lvbigpKVxuICAgICAgLCBjb25kXG4gICAgICAsIGJsb2NrXG4gICAgICAsIGl0ZW07XG5cbiAgICBub2RlLmNvbHVtbiA9IHRva2VuLmNvbHVtbjtcblxuICAgIHRoaXMuY29uZCA9IGZhbHNlO1xuICAgIG5vZGUuYmxvY2sgPSB0aGlzLmJsb2NrKG5vZGUsIGZhbHNlKTtcbiAgICB0aGlzLnNraXAoWyduZXdsaW5lJywgJ2NvbW1lbnQnXSk7XG4gICAgd2hpbGUgKHRoaXMuYWNjZXB0KCdlbHNlJykpIHtcbiAgICAgIHRva2VuID0gdGhpcy5hY2NlcHQoJ2lmJyk7XG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgdGhpcy5jb25kID0gdHJ1ZTtcbiAgICAgICAgY29uZCA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgICAgICB0aGlzLmNvbmQgPSBmYWxzZTtcbiAgICAgICAgYmxvY2sgPSB0aGlzLmJsb2NrKG5vZGUsIGZhbHNlKTtcbiAgICAgICAgaXRlbSA9IG5ldyBub2Rlcy5JZihjb25kLCBibG9jayk7XG5cbiAgICAgICAgaXRlbS5jb2x1bW4gPSB0b2tlbi5jb2x1bW47XG5cbiAgICAgICAgbm9kZS5lbHNlcy5wdXNoKGl0ZW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5lbHNlcy5wdXNoKHRoaXMuYmxvY2sobm9kZSwgZmFsc2UpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0aGlzLnNraXAoWyduZXdsaW5lJywgJ2NvbW1lbnQnXSk7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUucG9wKCk7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogQGJsb2NrXG4gICAqXG4gICAqIEBwYXJhbSB7RXhwcmVzc2lvbn0gW25vZGVdXG4gICAqL1xuXG4gIGF0YmxvY2sobm9kZSkge1xuICAgIGlmICghbm9kZSkgdGhpcy5leHBlY3QoJ2F0YmxvY2snKTtcbiAgICBub2RlID0gbmV3IG5vZGVzLkF0YmxvY2s7XG4gICAgdGhpcy5zdGF0ZS5wdXNoKCdhdGJsb2NrJyk7XG4gICAgbm9kZS5ibG9jayA9IHRoaXMuYmxvY2sobm9kZSwgZmFsc2UpO1xuICAgIHRoaXMuc3RhdGUucG9wKCk7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogYXRydWxlIHNlbGVjdG9yPyBibG9jaz9cbiAgICovXG5cbiAgYXRydWxlKCkge1xuICAgIHZhciB0eXBlID0gdGhpcy5leHBlY3QoJ2F0cnVsZScpLnZhbFxuICAgICAgLCBub2RlID0gbmV3IG5vZGVzLkF0cnVsZSh0eXBlKVxuICAgICAgLCB0b2s7XG4gICAgdGhpcy5za2lwU3BhY2VzQW5kQ29tbWVudHMoKTtcbiAgICBub2RlLnNlZ21lbnRzID0gdGhpcy5zZWxlY3RvclBhcnRzKCk7XG4gICAgdGhpcy5za2lwU3BhY2VzQW5kQ29tbWVudHMoKTtcbiAgICB0b2sgPSB0aGlzLnBlZWsoKS50eXBlO1xuICAgIGlmICgnaW5kZW50JyA9PSB0b2sgfHwgJ3snID09IHRvayB8fCAoJ25ld2xpbmUnID09IHRva1xuICAgICAgJiYgJ3snID09IHRoaXMubG9va2FoZWFkKDIpLnR5cGUpKSB7XG4gICAgICB0aGlzLnN0YXRlLnB1c2goJ2F0cnVsZScpO1xuICAgICAgbm9kZS5ibG9jayA9IHRoaXMuYmxvY2sobm9kZSk7XG4gICAgICB0aGlzLnN0YXRlLnBvcCgpO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBzY29wZVxuICAgKi9cblxuICBzY29wZSgpIHtcbiAgICB0aGlzLmV4cGVjdCgnc2NvcGUnKTtcbiAgICB2YXIgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yUGFydHMoKVxuICAgICAgLm1hcChmdW5jdGlvbiAoc2VsZWN0b3IpIHsgcmV0dXJuIHNlbGVjdG9yLnZhbDsgfSlcbiAgICAgIC5qb2luKCcnKTtcbiAgICB0aGlzLnNlbGVjdG9yU2NvcGUgPSBzZWxlY3Rvci50cmltKCk7XG4gICAgcmV0dXJuIG5vZGVzLm51bGw7XG4gIH1cblxuICAvKipcbiAgICogc3VwcG9ydHNcbiAgICovXG5cbiAgc3VwcG9ydHMoKSB7XG4gICAgdGhpcy5leHBlY3QoJ3N1cHBvcnRzJyk7XG4gICAgdmFyIG5vZGUgPSBuZXcgbm9kZXMuU3VwcG9ydHModGhpcy5zdXBwb3J0c0NvbmRpdGlvbigpKTtcbiAgICB0aGlzLnN0YXRlLnB1c2goJ2F0cnVsZScpO1xuICAgIG5vZGUuYmxvY2sgPSB0aGlzLmJsb2NrKG5vZGUpO1xuICAgIHRoaXMuc3RhdGUucG9wKCk7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogICBzdXBwb3J0cyBuZWdhdGlvblxuICAgKiB8IHN1cHBvcnRzIG9wXG4gICAqIHwgZXhwcmVzc2lvblxuICAgKi9cblxuICBzdXBwb3J0c0NvbmRpdGlvbigpIHtcbiAgICB2YXIgbm9kZSA9IHRoaXMuc3VwcG9ydHNOZWdhdGlvbigpXG4gICAgICB8fCB0aGlzLnN1cHBvcnRzT3AoKTtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIHRoaXMuY29uZCA9IHRydWU7XG4gICAgICBub2RlID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICB0aGlzLmNvbmQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogJ25vdCcgc3VwcG9ydHMgZmVhdHVyZVxuICAgKi9cblxuICBzdXBwb3J0c05lZ2F0aW9uKCkge1xuICAgIGlmICh0aGlzLmFjY2VwdCgnbm90JykpIHtcbiAgICAgIHZhciBub2RlID0gbmV3IG5vZGVzLkV4cHJlc3Npb247XG4gICAgICBub2RlLnB1c2gobmV3IG5vZGVzLkxpdGVyYWwoJ25vdCcpKTtcbiAgICAgIG5vZGUucHVzaCh0aGlzLnN1cHBvcnRzRmVhdHVyZSgpKTtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBzdXBwb3J0cyBmZWF0dXJlICgoJ2FuZCcgfCAnb3InKSBzdXBwb3J0cyBmZWF0dXJlKStcbiAgICovXG5cbiAgc3VwcG9ydHNPcCgpIHtcbiAgICB2YXIgZmVhdHVyZSA9IHRoaXMuc3VwcG9ydHNGZWF0dXJlKClcbiAgICAgICwgb3BcbiAgICAgICwgZXhwcjtcbiAgICBpZiAoZmVhdHVyZSkge1xuICAgICAgZXhwciA9IG5ldyBub2Rlcy5FeHByZXNzaW9uO1xuICAgICAgZXhwci5wdXNoKGZlYXR1cmUpO1xuICAgICAgd2hpbGUgKG9wID0gdGhpcy5hY2NlcHQoJyYmJykgfHwgdGhpcy5hY2NlcHQoJ3x8JykpIHtcbiAgICAgICAgZXhwci5wdXNoKG5ldyBub2Rlcy5MaXRlcmFsKCcmJicgPT0gb3AudmFsID8gJ2FuZCcgOiAnb3InKSk7XG4gICAgICAgIGV4cHIucHVzaCh0aGlzLnN1cHBvcnRzRmVhdHVyZSgpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBleHByO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiAgICgnKCcgc3VwcG9ydHMgY29uZGl0aW9uICcpJylcbiAgICogfCBmZWF0dXJlXG4gICAqL1xuXG4gIHN1cHBvcnRzRmVhdHVyZSgpIHtcbiAgICB0aGlzLnNraXBTcGFjZXNBbmRDb21tZW50cygpO1xuICAgIGlmICgnKCcgPT0gdGhpcy5wZWVrKCkudHlwZSkge1xuICAgICAgdmFyIGxhID0gdGhpcy5sb29rYWhlYWQoMikudHlwZTtcblxuICAgICAgaWYgKCdpZGVudCcgPT0gbGEgfHwgJ3snID09IGxhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZlYXR1cmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZXhwZWN0KCcoJyk7XG4gICAgICAgIHZhciBub2RlID0gbmV3IG5vZGVzLkV4cHJlc3Npb247XG4gICAgICAgIG5vZGUucHVzaChuZXcgbm9kZXMuTGl0ZXJhbCgnKCcpKTtcbiAgICAgICAgbm9kZS5wdXNoKHRoaXMuc3VwcG9ydHNDb25kaXRpb24oKSk7XG4gICAgICAgIHRoaXMuZXhwZWN0KCcpJylcbiAgICAgICAgbm9kZS5wdXNoKG5ldyBub2Rlcy5MaXRlcmFsKCcpJykpO1xuICAgICAgICB0aGlzLnNraXBTcGFjZXNBbmRDb21tZW50cygpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogZXh0ZW5kXG4gICAqL1xuXG4gIGV4dGVuZCgpIHtcbiAgICB2YXIgdG9rID0gdGhpcy5leHBlY3QoJ2V4dGVuZCcpXG4gICAgICAsIHNlbGVjdG9ycyA9IFtdXG4gICAgICAsIHNlbFxuICAgICAgLCBub2RlXG4gICAgICAsIGFycjtcblxuICAgIGRvIHtcbiAgICAgIGFyciA9IHRoaXMuc2VsZWN0b3JQYXJ0cygpO1xuXG4gICAgICBpZiAoIWFyci5sZW5ndGgpIGNvbnRpbnVlO1xuXG4gICAgICBzZWwgPSBuZXcgbm9kZXMuU2VsZWN0b3IoYXJyKTtcbiAgICAgIHNlbGVjdG9ycy5wdXNoKHNlbCk7XG5cbiAgICAgIGlmICgnIScgIT09IHRoaXMucGVlaygpLnR5cGUpIGNvbnRpbnVlO1xuXG4gICAgICB0b2sgPSB0aGlzLmxvb2thaGVhZCgyKTtcbiAgICAgIGlmICgnaWRlbnQnICE9PSB0b2sudHlwZSB8fCAnb3B0aW9uYWwnICE9PSB0b2sudmFsLm5hbWUpIGNvbnRpbnVlO1xuXG4gICAgICB0aGlzLnNraXAoWychJywgJ2lkZW50J10pO1xuICAgICAgc2VsLm9wdGlvbmFsID0gdHJ1ZTtcbiAgICB9IHdoaWxlICh0aGlzLmFjY2VwdCgnLCcpKTtcblxuICAgIG5vZGUgPSBuZXcgbm9kZXMuRXh0ZW5kKHNlbGVjdG9ycyk7XG4gICAgbm9kZS5saW5lbm8gPSB0b2subGluZW5vO1xuICAgIG5vZGUuY29sdW1uID0gdG9rLmNvbHVtbjtcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBtZWRpYSBxdWVyaWVzXG4gICAqL1xuXG4gIG1lZGlhKCkge1xuICAgIHRoaXMuZXhwZWN0KCdtZWRpYScpO1xuICAgIHRoaXMuc3RhdGUucHVzaCgnYXRydWxlJyk7XG4gICAgdmFyIG1lZGlhID0gbmV3IG5vZGVzLk1lZGlhKHRoaXMucXVlcmllcygpKTtcbiAgICBtZWRpYS5ibG9jayA9IHRoaXMuYmxvY2sobWVkaWEpO1xuICAgIHRoaXMuc3RhdGUucG9wKCk7XG4gICAgcmV0dXJuIG1lZGlhO1xuICB9XG5cbiAgLyoqXG4gICAqIHF1ZXJ5ICgnLCcgcXVlcnkpKlxuICAgKi9cblxuICBxdWVyaWVzKCkge1xuICAgIHZhciBxdWVyaWVzID0gbmV3IG5vZGVzLlF1ZXJ5TGlzdFxuICAgICAgLCBza2lwID0gWydjb21tZW50JywgJ25ld2xpbmUnLCAnc3BhY2UnXTtcblxuICAgIGRvIHtcbiAgICAgIHRoaXMuc2tpcChza2lwKTtcbiAgICAgIHF1ZXJpZXMucHVzaCh0aGlzLnF1ZXJ5KCkpO1xuICAgICAgdGhpcy5za2lwKHNraXApO1xuICAgIH0gd2hpbGUgKHRoaXMuYWNjZXB0KCcsJykpO1xuICAgIHJldHVybiBxdWVyaWVzO1xuICB9XG5cbiAgLyoqXG4gICAqICAgZXhwcmVzc2lvblxuICAgKiB8IChpZGVudCB8ICdub3QnKT8gaWRlbnQgKCdhbmQnIGZlYXR1cmUpKlxuICAgKiB8IGZlYXR1cmUgKCdhbmQnIGZlYXR1cmUpKlxuICAgKi9cblxuICBxdWVyeSgpIHtcbiAgICB2YXIgcXVlcnkgPSBuZXcgbm9kZXMuUXVlcnlcbiAgICAgICwgZXhwclxuICAgICAgLCBwcmVkXG4gICAgICAsIGlkO1xuXG4gICAgLy8gaGFzaCB2YWx1ZXMgc3VwcG9ydFxuICAgIGlmICgnaWRlbnQnID09IHRoaXMucGVlaygpLnR5cGVcbiAgICAgICYmICgnLicgPT0gdGhpcy5sb29rYWhlYWQoMikudHlwZVxuICAgICAgICB8fCAnWycgPT0gdGhpcy5sb29rYWhlYWQoMikudHlwZSkpIHtcbiAgICAgIHRoaXMuY29uZCA9IHRydWU7XG4gICAgICBleHByID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICB0aGlzLmNvbmQgPSBmYWxzZTtcbiAgICAgIHF1ZXJ5LnB1c2gobmV3IG5vZGVzLkZlYXR1cmUoZXhwci5ub2RlcykpO1xuICAgICAgcmV0dXJuIHF1ZXJ5O1xuICAgIH1cblxuICAgIGlmIChwcmVkID0gdGhpcy5hY2NlcHQoJ2lkZW50JykgfHwgdGhpcy5hY2NlcHQoJ25vdCcpKSB7XG4gICAgICBwcmVkID0gbmV3IG5vZGVzLkxpdGVyYWwocHJlZC52YWwuc3RyaW5nIHx8IHByZWQudmFsKTtcblxuICAgICAgdGhpcy5za2lwU3BhY2VzQW5kQ29tbWVudHMoKTtcbiAgICAgIGlmIChpZCA9IHRoaXMuYWNjZXB0KCdpZGVudCcpKSB7XG4gICAgICAgIHF1ZXJ5LnR5cGUgPSBpZC52YWw7XG4gICAgICAgIHF1ZXJ5LnByZWRpY2F0ZSA9IHByZWQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeS50eXBlID0gcHJlZDtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2tpcFNwYWNlc0FuZENvbW1lbnRzKCk7XG5cbiAgICAgIGlmICghdGhpcy5hY2NlcHQoJyYmJykpIHJldHVybiBxdWVyeTtcbiAgICB9XG5cbiAgICBkbyB7XG4gICAgICBxdWVyeS5wdXNoKHRoaXMuZmVhdHVyZSgpKTtcbiAgICB9IHdoaWxlICh0aGlzLmFjY2VwdCgnJiYnKSk7XG5cbiAgICByZXR1cm4gcXVlcnk7XG4gIH1cblxuICAvKipcbiAgICogJygnIGlkZW50ICggJzonPyBleHByZXNzaW9uICk/ICcpJ1xuICAgKi9cblxuICBmZWF0dXJlKCkge1xuICAgIHRoaXMuc2tpcFNwYWNlc0FuZENvbW1lbnRzKCk7XG4gICAgdGhpcy5leHBlY3QoJygnKTtcbiAgICB0aGlzLnNraXBTcGFjZXNBbmRDb21tZW50cygpO1xuICAgIHZhciBub2RlID0gbmV3IG5vZGVzLkZlYXR1cmUodGhpcy5pbnRlcnBvbGF0ZSgpKTtcbiAgICB0aGlzLnNraXBTcGFjZXNBbmRDb21tZW50cygpO1xuICAgIHRoaXMuYWNjZXB0KCc6JylcbiAgICB0aGlzLnNraXBTcGFjZXNBbmRDb21tZW50cygpO1xuICAgIHRoaXMuaW5Qcm9wZXJ0eSA9IHRydWU7XG4gICAgbm9kZS5leHByID0gdGhpcy5saXN0KCk7XG4gICAgdGhpcy5pblByb3BlcnR5ID0gZmFsc2U7XG4gICAgdGhpcy5za2lwU3BhY2VzQW5kQ29tbWVudHMoKTtcbiAgICB0aGlzLmV4cGVjdCgnKScpO1xuICAgIHRoaXMuc2tpcFNwYWNlc0FuZENvbW1lbnRzKCk7XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogQC1tb3otZG9jdW1lbnQgY2FsbCAoJywnIGNhbGwpKiBibG9ja1xuICAgKi9cblxuICBtb3pkb2N1bWVudCgpIHtcbiAgICB0aGlzLmV4cGVjdCgnLW1vei1kb2N1bWVudCcpO1xuICAgIHZhciBtb3pkb2N1bWVudCA9IG5ldyBub2Rlcy5BdHJ1bGUoJy1tb3otZG9jdW1lbnQnKVxuICAgICAgLCBjYWxscyA9IFtdO1xuICAgIGRvIHtcbiAgICAgIHRoaXMuc2tpcFNwYWNlc0FuZENvbW1lbnRzKCk7XG4gICAgICBjYWxscy5wdXNoKHRoaXMuZnVuY3Rpb25DYWxsKCkpO1xuICAgICAgdGhpcy5za2lwU3BhY2VzQW5kQ29tbWVudHMoKTtcbiAgICB9IHdoaWxlICh0aGlzLmFjY2VwdCgnLCcpKTtcbiAgICBtb3pkb2N1bWVudC5zZWdtZW50cyA9IFtuZXcgbm9kZXMuTGl0ZXJhbChjYWxscy5qb2luKCcsICcpKV07XG4gICAgdGhpcy5zdGF0ZS5wdXNoKCdhdHJ1bGUnKTtcbiAgICBtb3pkb2N1bWVudC5ibG9jayA9IHRoaXMuYmxvY2sobW96ZG9jdW1lbnQsIGZhbHNlKTtcbiAgICB0aGlzLnN0YXRlLnBvcCgpO1xuICAgIHJldHVybiBtb3pkb2N1bWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBpbXBvcnQgZXhwcmVzc2lvblxuICAgKi9cblxuICBpbXBvcnQoKSB7XG4gICAgdGhpcy5leHBlY3QoJ2ltcG9ydCcpO1xuICAgIHRoaXMuYWxsb3dQb3N0Zml4ID0gdHJ1ZTtcbiAgICByZXR1cm4gbmV3IG5vZGVzLkltcG9ydCh0aGlzLmV4cHJlc3Npb24oKSwgZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIHJlcXVpcmUgZXhwcmVzc2lvblxuICAgKi9cblxuICByZXF1aXJlKCkge1xuICAgIHRoaXMuZXhwZWN0KCdyZXF1aXJlJyk7XG4gICAgdGhpcy5hbGxvd1Bvc3RmaXggPSB0cnVlO1xuICAgIHJldHVybiBuZXcgbm9kZXMuSW1wb3J0KHRoaXMuZXhwcmVzc2lvbigpLCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBjaGFyc2V0IHN0cmluZ1xuICAgKi9cblxuICBjaGFyc2V0KCkge1xuICAgIHRoaXMuZXhwZWN0KCdjaGFyc2V0Jyk7XG4gICAgdmFyIHN0ciA9IHRoaXMuZXhwZWN0KCdzdHJpbmcnKS52YWw7XG4gICAgdGhpcy5hbGxvd1Bvc3RmaXggPSB0cnVlO1xuICAgIHJldHVybiBuZXcgbm9kZXMuQ2hhcnNldChzdHIpO1xuICB9XG5cbiAgLyoqXG4gICAqIG5hbWVzcGFjZSBpZGVudD8gKHN0cmluZyB8IHVybClcbiAgICovXG5cbiAgbmFtZXNwYWNlKCkge1xuICAgIHZhciBzdHJcbiAgICAgICwgcHJlZml4O1xuICAgIHRoaXMuZXhwZWN0KCduYW1lc3BhY2UnKTtcblxuICAgIHRoaXMuc2tpcFNwYWNlc0FuZENvbW1lbnRzKCk7XG4gICAgaWYgKHByZWZpeCA9IHRoaXMuYWNjZXB0KCdpZGVudCcpKSB7XG4gICAgICBwcmVmaXggPSBwcmVmaXgudmFsO1xuICAgIH1cbiAgICB0aGlzLnNraXBTcGFjZXNBbmRDb21tZW50cygpO1xuXG4gICAgc3RyID0gdGhpcy5hY2NlcHQoJ3N0cmluZycpIHx8IHRoaXMudXJsKCk7XG4gICAgdGhpcy5hbGxvd1Bvc3RmaXggPSB0cnVlO1xuICAgIHJldHVybiBuZXcgbm9kZXMuTmFtZXNwYWNlKHN0ciwgcHJlZml4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBrZXlmcmFtZXMgbmFtZSBibG9ja1xuICAgKi9cblxuICBrZXlmcmFtZXMoKSB7XG4gICAgdmFyIHRvayA9IHRoaXMuZXhwZWN0KCdrZXlmcmFtZXMnKVxuICAgICAgLCBrZXlmcmFtZXM7XG5cbiAgICB0aGlzLnNraXBTcGFjZXNBbmRDb21tZW50cygpO1xuICAgIGtleWZyYW1lcyA9IG5ldyBub2Rlcy5LZXlmcmFtZXModGhpcy5zZWxlY3RvclBhcnRzKCksIHRvay52YWwpO1xuICAgIGtleWZyYW1lcy5jb2x1bW4gPSB0b2suY29sdW1uO1xuXG4gICAgdGhpcy5za2lwU3BhY2VzQW5kQ29tbWVudHMoKTtcblxuICAgIC8vIGJsb2NrXG4gICAgdGhpcy5zdGF0ZS5wdXNoKCdhdHJ1bGUnKTtcbiAgICBrZXlmcmFtZXMuYmxvY2sgPSB0aGlzLmJsb2NrKGtleWZyYW1lcyk7XG4gICAgdGhpcy5zdGF0ZS5wb3AoKTtcblxuICAgIHJldHVybiBrZXlmcmFtZXM7XG4gIH1cblxuICAvKipcbiAgICogbGl0ZXJhbFxuICAgKi9cblxuICBsaXRlcmFsKCkge1xuICAgIHJldHVybiB0aGlzLmV4cGVjdCgnbGl0ZXJhbCcpLnZhbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBpZGVudCBzcGFjZT9cbiAgICovXG5cbiAgaWQoKSB7XG4gICAgdmFyIHRvayA9IHRoaXMuZXhwZWN0KCdpZGVudCcpO1xuICAgIHRoaXMuYWNjZXB0KCdzcGFjZScpO1xuICAgIHJldHVybiB0b2sudmFsO1xuICB9XG5cbiAgLyoqXG4gICAqICAgaWRlbnRcbiAgICogfCBhc3NpZ25tZW50XG4gICAqIHwgcHJvcGVydHlcbiAgICogfCBzZWxlY3RvclxuICAgKi9cblxuICBpZGVudCgpIHtcbiAgICB2YXIgaSA9IDJcbiAgICAgICwgbGEgPSB0aGlzLmxvb2thaGVhZChpKS50eXBlO1xuXG4gICAgd2hpbGUgKCdzcGFjZScgPT0gbGEpIGxhID0gdGhpcy5sb29rYWhlYWQoKytpKS50eXBlO1xuXG4gICAgc3dpdGNoIChsYSkge1xuICAgICAgLy8gQXNzaWdubWVudFxuICAgICAgY2FzZSAnPSc6XG4gICAgICBjYXNlICc/PSc6XG4gICAgICBjYXNlICctPSc6XG4gICAgICBjYXNlICcrPSc6XG4gICAgICBjYXNlICcqPSc6XG4gICAgICBjYXNlICcvPSc6XG4gICAgICBjYXNlICclPSc6XG4gICAgICAgIHJldHVybiB0aGlzLmFzc2lnbm1lbnQoKTtcbiAgICAgIC8vIE1lbWJlclxuICAgICAgY2FzZSAnLic6XG4gICAgICAgIGlmICgnc3BhY2UnID09IHRoaXMubG9va2FoZWFkKGkgLSAxKS50eXBlKSByZXR1cm4gdGhpcy5zZWxlY3RvcigpO1xuICAgICAgICBpZiAodGhpcy5faWRlbnQgPT0gdGhpcy5wZWVrKCkpIHJldHVybiB0aGlzLmlkKCk7XG4gICAgICAgIHdoaWxlICgnPScgIT0gdGhpcy5sb29rYWhlYWQoKytpKS50eXBlXG4gICAgICAgICAgJiYgIX5bJ1snLCAnLCcsICduZXdsaW5lJywgJ2luZGVudCcsICdlb3MnXS5pbmRleE9mKHRoaXMubG9va2FoZWFkKGkpLnR5cGUpKTtcbiAgICAgICAgaWYgKCc9JyA9PSB0aGlzLmxvb2thaGVhZChpKS50eXBlKSB7XG4gICAgICAgICAgdGhpcy5faWRlbnQgPSB0aGlzLnBlZWsoKTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5sb29rc0xpa2VTZWxlY3RvcigpICYmIHRoaXMuc3RhdGVBbGxvd3NTZWxlY3RvcigpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0b3IoKTtcbiAgICAgICAgfVxuICAgICAgLy8gQXNzaWdubWVudCBbXT1cbiAgICAgIGNhc2UgJ1snOlxuICAgICAgICBpZiAodGhpcy5faWRlbnQgPT0gdGhpcy5wZWVrKCkpIHJldHVybiB0aGlzLmlkKCk7XG4gICAgICAgIHdoaWxlICgnXScgIT0gdGhpcy5sb29rYWhlYWQoaSsrKS50eXBlXG4gICAgICAgICAgJiYgJ3NlbGVjdG9yJyAhPSB0aGlzLmxvb2thaGVhZChpKS50eXBlXG4gICAgICAgICAgJiYgJ2VvcycgIT0gdGhpcy5sb29rYWhlYWQoaSkudHlwZSk7XG4gICAgICAgIGlmICgnPScgPT0gdGhpcy5sb29rYWhlYWQoaSkudHlwZSkge1xuICAgICAgICAgIHRoaXMuX2lkZW50ID0gdGhpcy5wZWVrKCk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZXhwcmVzc2lvbigpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMubG9va3NMaWtlU2VsZWN0b3IoKSAmJiB0aGlzLnN0YXRlQWxsb3dzU2VsZWN0b3IoKSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdG9yKCk7XG4gICAgICAgIH1cbiAgICAgIC8vIE9wZXJhdGlvblxuICAgICAgY2FzZSAnLSc6XG4gICAgICBjYXNlICcrJzpcbiAgICAgIGNhc2UgJy8nOlxuICAgICAgY2FzZSAnKic6XG4gICAgICBjYXNlICclJzpcbiAgICAgIGNhc2UgJyoqJzpcbiAgICAgIGNhc2UgJyYmJzpcbiAgICAgIGNhc2UgJ3x8JzpcbiAgICAgIGNhc2UgJz4nOlxuICAgICAgY2FzZSAnPCc6XG4gICAgICBjYXNlICc+PSc6XG4gICAgICBjYXNlICc8PSc6XG4gICAgICBjYXNlICchPSc6XG4gICAgICBjYXNlICc9PSc6XG4gICAgICBjYXNlICc/JzpcbiAgICAgIGNhc2UgJ2luJzpcbiAgICAgIGNhc2UgJ2lzIGEnOlxuICAgICAgY2FzZSAnaXMgZGVmaW5lZCc6XG4gICAgICAgIC8vIFByZXZlbnQgY3ljbGljIC5pZGVudCwgcmV0dXJuIGxpdGVyYWxcbiAgICAgICAgaWYgKHRoaXMuX2lkZW50ID09IHRoaXMucGVlaygpKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuaWQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9pZGVudCA9IHRoaXMucGVlaygpO1xuICAgICAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50U3RhdGUoKSkge1xuICAgICAgICAgICAgLy8gdW5hcnkgb3Agb3Igc2VsZWN0b3IgaW4gcHJvcGVydHkgLyBmb3JcbiAgICAgICAgICAgIGNhc2UgJ2Zvcic6XG4gICAgICAgICAgICBjYXNlICdzZWxlY3Rvcic6XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3BlcnR5KCk7XG4gICAgICAgICAgICAvLyBQYXJ0IG9mIGEgc2VsZWN0b3JcbiAgICAgICAgICAgIGNhc2UgJ3Jvb3QnOlxuICAgICAgICAgICAgY2FzZSAnYXRibG9jayc6XG4gICAgICAgICAgICBjYXNlICdhdHJ1bGUnOlxuICAgICAgICAgICAgICByZXR1cm4gJ1snID09IGxhXG4gICAgICAgICAgICAgICAgPyB0aGlzLnN1YnNjcmlwdCgpXG4gICAgICAgICAgICAgICAgOiB0aGlzLnNlbGVjdG9yKCk7XG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICBjYXNlICdjb25kaXRpb25hbCc6XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvb2tzTGlrZVNlbGVjdG9yKClcbiAgICAgICAgICAgICAgICA/IHRoaXMuc2VsZWN0b3IoKVxuICAgICAgICAgICAgICAgIDogdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICAgICAgICAvLyBEbyBub3QgZGlzcnVwdCB0aGUgaWRlbnQgd2hlbiBhbiBvcGVyYW5kXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5vcGVyYW5kXG4gICAgICAgICAgICAgICAgPyB0aGlzLmlkKClcbiAgICAgICAgICAgICAgICA6IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgLy8gU2VsZWN0b3Igb3IgcHJvcGVydHlcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50U3RhdGUoKSkge1xuICAgICAgICAgIGNhc2UgJ3Jvb3QnOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0b3IoKTtcbiAgICAgICAgICBjYXNlICdmb3InOlxuICAgICAgICAgIGNhc2UgJ3NlbGVjdG9yJzpcbiAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgY2FzZSAnY29uZGl0aW9uYWwnOlxuICAgICAgICAgIGNhc2UgJ2F0YmxvY2snOlxuICAgICAgICAgIGNhc2UgJ2F0cnVsZSc6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0eSgpO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB2YXIgaWQgPSB0aGlzLmlkKCk7XG4gICAgICAgICAgICBpZiAoJ2ludGVycG9sYXRpb24nID09IHRoaXMucHJldmlvdXNTdGF0ZSgpKSBpZC5taXhpbiA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogJyonPyAoaWRlbnQgfCAneycgZXhwcmVzc2lvbiAnfScpK1xuICAgKi9cblxuICBpbnRlcnBvbGF0ZSgpIHtcbiAgICB2YXIgbm9kZVxuICAgICAgLCBzZWdzID0gW11cbiAgICAgICwgc3RhcjtcblxuICAgIHN0YXIgPSB0aGlzLmFjY2VwdCgnKicpO1xuICAgIGlmIChzdGFyKSBzZWdzLnB1c2gobmV3IG5vZGVzLkxpdGVyYWwoJyonKSk7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKHRoaXMuYWNjZXB0KCd7JykpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5wdXNoKCdpbnRlcnBvbGF0aW9uJyk7XG4gICAgICAgIHNlZ3MucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XG4gICAgICAgIHRoaXMuZXhwZWN0KCd9Jyk7XG4gICAgICAgIHRoaXMuc3RhdGUucG9wKCk7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUgPSB0aGlzLmFjY2VwdCgnLScpKSB7XG4gICAgICAgIHNlZ3MucHVzaChuZXcgbm9kZXMuTGl0ZXJhbCgnLScpKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZSA9IHRoaXMuYWNjZXB0KCdpZGVudCcpKSB7XG4gICAgICAgIHNlZ3MucHVzaChub2RlLnZhbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFzZWdzLmxlbmd0aCkgdGhpcy5leHBlY3QoJ2lkZW50Jyk7XG4gICAgcmV0dXJuIHNlZ3M7XG4gIH1cblxuICAvKipcbiAgICogICBwcm9wZXJ0eSAnOic/IGV4cHJlc3Npb25cbiAgICogfCBpZGVudFxuICAgKi9cblxuICBwcm9wZXJ0eSgpIHtcbiAgICBpZiAodGhpcy5sb29rc0xpa2VTZWxlY3Rvcih0cnVlKSkgcmV0dXJuIHRoaXMuc2VsZWN0b3IoKTtcblxuICAgIC8vIHByb3BlcnR5XG4gICAgdmFyIGlkZW50ID0gdGhpcy5pbnRlcnBvbGF0ZSgpXG4gICAgICAsIHByb3AgPSBuZXcgbm9kZXMuUHJvcGVydHkoaWRlbnQpXG4gICAgICAsIHJldCA9IHByb3A7XG5cbiAgICAvLyBvcHRpb25hbCAnOidcbiAgICB0aGlzLmFjY2VwdCgnc3BhY2UnKTtcbiAgICBpZiAodGhpcy5hY2NlcHQoJzonKSkgdGhpcy5hY2NlcHQoJ3NwYWNlJyk7XG5cbiAgICB0aGlzLnN0YXRlLnB1c2goJ3Byb3BlcnR5Jyk7XG4gICAgdGhpcy5pblByb3BlcnR5ID0gdHJ1ZTtcbiAgICBwcm9wLmV4cHIgPSB0aGlzLmxpc3QoKTtcbiAgICBpZiAocHJvcC5leHByLmlzRW1wdHkpIHJldCA9IGlkZW50WzBdO1xuICAgIHRoaXMuaW5Qcm9wZXJ0eSA9IGZhbHNlO1xuICAgIHRoaXMuYWxsb3dQb3N0Zml4ID0gdHJ1ZTtcbiAgICB0aGlzLnN0YXRlLnBvcCgpO1xuXG4gICAgLy8gb3B0aW9uYWwgJzsnXG4gICAgdGhpcy5hY2NlcHQoJzsnKTtcblxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvKipcbiAgICogICBzZWxlY3RvciAnLCcgc2VsZWN0b3JcbiAgICogfCBzZWxlY3RvciBuZXdsaW5lIHNlbGVjdG9yXG4gICAqIHwgc2VsZWN0b3IgYmxvY2tcbiAgICovXG5cbiAgc2VsZWN0b3IoKSB7XG4gICAgdmFyIGFyclxuICAgICAgLCBncm91cCA9IG5ldyBub2Rlcy5Hcm91cFxuICAgICAgLCBzY29wZSA9IHRoaXMuc2VsZWN0b3JTY29wZVxuICAgICAgLCBpc1Jvb3QgPSAncm9vdCcgPT0gdGhpcy5jdXJyZW50U3RhdGUoKVxuICAgICAgLCBzZWxlY3RvcjtcblxuICAgIGRvIHtcbiAgICAgIC8vIENsb2JiZXIgbmV3bGluZSBhZnRlciAsXG4gICAgICB0aGlzLmFjY2VwdCgnbmV3bGluZScpO1xuXG4gICAgICBhcnIgPSB0aGlzLnNlbGVjdG9yUGFydHMoKTtcblxuICAgICAgLy8gUHVzaCB0aGUgc2VsZWN0b3JcbiAgICAgIGlmIChpc1Jvb3QgJiYgc2NvcGUpIGFyci51bnNoaWZ0KG5ldyBub2Rlcy5MaXRlcmFsKHNjb3BlICsgJyAnKSk7XG4gICAgICBpZiAoYXJyLmxlbmd0aCkge1xuICAgICAgICBzZWxlY3RvciA9IG5ldyBub2Rlcy5TZWxlY3RvcihhcnIpO1xuICAgICAgICBzZWxlY3Rvci5saW5lbm8gPSBhcnJbMF0ubGluZW5vO1xuICAgICAgICBzZWxlY3Rvci5jb2x1bW4gPSBhcnJbMF0uY29sdW1uO1xuICAgICAgICBncm91cC5wdXNoKHNlbGVjdG9yKTtcbiAgICAgIH1cbiAgICB9IHdoaWxlICh0aGlzLmFjY2VwdCgnLCcpIHx8IHRoaXMuYWNjZXB0KCduZXdsaW5lJykpO1xuXG4gICAgaWYgKCdzZWxlY3Rvci1wYXJ0cycgPT0gdGhpcy5jdXJyZW50U3RhdGUoKSkgcmV0dXJuIGdyb3VwLm5vZGVzO1xuXG4gICAgdGhpcy5zdGF0ZS5wdXNoKCdzZWxlY3RvcicpO1xuICAgIGdyb3VwLmJsb2NrID0gdGhpcy5ibG9jayhncm91cCk7XG4gICAgdGhpcy5zdGF0ZS5wb3AoKTtcblxuICAgIHJldHVybiBncm91cDtcbiAgfVxuXG4gIHNlbGVjdG9yUGFydHMoKSB7XG4gICAgdmFyIHRva1xuICAgICAgLCBhcnIgPSBbXTtcblxuICAgIC8vIFNlbGVjdG9yIGNhbmRpZGF0ZXMsXG4gICAgLy8gc3RpdGNoZWQgdG9nZXRoZXIgdG9cbiAgICAvLyBmb3JtIGEgc2VsZWN0b3IuXG4gICAgd2hpbGUgKHRvayA9IHRoaXMuc2VsZWN0b3JUb2tlbigpKSB7XG4gICAgICBkZWJ1Zy5zZWxlY3RvcignJXMnLCB0b2spO1xuICAgICAgLy8gU2VsZWN0b3IgY29tcG9uZW50XG4gICAgICBzd2l0Y2ggKHRvay50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3snOlxuICAgICAgICAgIHRoaXMuc2tpcFNwYWNlcygpO1xuICAgICAgICAgIHZhciBleHByID0gdGhpcy5leHByZXNzaW9uKCk7XG4gICAgICAgICAgdGhpcy5za2lwU3BhY2VzKCk7XG4gICAgICAgICAgdGhpcy5leHBlY3QoJ30nKTtcbiAgICAgICAgICBhcnIucHVzaChleHByKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSB0aGlzLnByZWZpeCAmJiAnLic6XG4gICAgICAgICAgdmFyIGxpdGVyYWwgPSBuZXcgbm9kZXMuTGl0ZXJhbCh0b2sudmFsICsgdGhpcy5wcmVmaXgpO1xuICAgICAgICAgIGxpdGVyYWwucHJlZml4ZWQgPSB0cnVlO1xuICAgICAgICAgIGFyci5wdXNoKGxpdGVyYWwpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdjb21tZW50JzpcbiAgICAgICAgICAvLyBpZ25vcmUgY29tbWVudHNcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY29sb3InOlxuICAgICAgICBjYXNlICd1bml0JzpcbiAgICAgICAgICBhcnIucHVzaChuZXcgbm9kZXMuTGl0ZXJhbCh0b2sudmFsLnJhdykpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzcGFjZSc6XG4gICAgICAgICAgYXJyLnB1c2gobmV3IG5vZGVzLkxpdGVyYWwoJyAnKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgICBhcnIucHVzaChuZXcgbm9kZXMuTGl0ZXJhbCh0b2sudmFsLm5hbWUgKyAnKCcpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaWRlbnQnOlxuICAgICAgICAgIGFyci5wdXNoKG5ldyBub2Rlcy5MaXRlcmFsKHRvay52YWwubmFtZSB8fCB0b2sudmFsLnN0cmluZykpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGFyci5wdXNoKG5ldyBub2Rlcy5MaXRlcmFsKHRvay52YWwpKTtcbiAgICAgICAgICBpZiAodG9rLnNwYWNlKSBhcnIucHVzaChuZXcgbm9kZXMuTGl0ZXJhbCgnICcpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYXJyO1xuICB9XG5cbiAgLyoqXG4gICAqIGlkZW50ICgnPScgfCAnPz0nKSBleHByZXNzaW9uXG4gICAqL1xuXG4gIGFzc2lnbm1lbnQoKSB7XG4gICAgdmFyXG4gICAgICBvcCxcbiAgICAgIG5vZGUsXG4gICAgICBpZGVudCA9IHRoaXMuaWQoKSxcbiAgICAgIG5hbWUgPSBpZGVudC5uYW1lO1xuXG4gICAgaWYgKG9wID1cbiAgICAgIHRoaXMuYWNjZXB0KCc9JylcbiAgICAgIHx8IHRoaXMuYWNjZXB0KCc/PScpXG4gICAgICB8fCB0aGlzLmFjY2VwdCgnKz0nKVxuICAgICAgfHwgdGhpcy5hY2NlcHQoJy09JylcbiAgICAgIHx8IHRoaXMuYWNjZXB0KCcqPScpXG4gICAgICB8fCB0aGlzLmFjY2VwdCgnLz0nKVxuICAgICAgfHwgdGhpcy5hY2NlcHQoJyU9JykpIHtcbiAgICAgIHRoaXMuc3RhdGUucHVzaCgnYXNzaWdubWVudCcpO1xuICAgICAgdmFyIGV4cHIgPSB0aGlzLmxpc3QoKTtcbiAgICAgIC8vIEBibG9jayBzdXBwb3J0XG4gICAgICBpZiAoZXhwci5pc0VtcHR5KSB0aGlzLmFzc2lnbkF0YmxvY2soZXhwcik7XG4gICAgICBub2RlID0gbmV3IG5vZGVzLklkZW50KG5hbWUsIGV4cHIpO1xuXG4gICAgICBub2RlLmxpbmVubyA9IGlkZW50LmxpbmVubztcbiAgICAgIG5vZGUuY29sdW1uID0gaWRlbnQuY29sdW1uO1xuXG4gICAgICB0aGlzLnN0YXRlLnBvcCgpO1xuXG4gICAgICBzd2l0Y2ggKG9wLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnPz0nOlxuICAgICAgICAgIHZhciBkZWZpbmVkID0gbmV3IG5vZGVzLkJpbk9wKCdpcyBkZWZpbmVkJywgbm9kZSlcbiAgICAgICAgICAgICwgbG9va3VwID0gbmV3IG5vZGVzLkV4cHJlc3Npb247XG4gICAgICAgICAgbG9va3VwLnB1c2gobmV3IG5vZGVzLklkZW50KG5hbWUpKTtcbiAgICAgICAgICBub2RlID0gbmV3IG5vZGVzLlRlcm5hcnkoZGVmaW5lZCwgbG9va3VwLCBub2RlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnKz0nOlxuICAgICAgICBjYXNlICctPSc6XG4gICAgICAgIGNhc2UgJyo9JzpcbiAgICAgICAgY2FzZSAnLz0nOlxuICAgICAgICBjYXNlICclPSc6XG4gICAgICAgICAgbm9kZS52YWwgPSBuZXcgbm9kZXMuQmluT3Aob3AudHlwZVswXSwgbmV3IG5vZGVzLklkZW50KG5hbWUpLCBleHByKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgIGRlZmluaXRpb25cbiAgICogfCBjYWxsXG4gICAqL1xuXG4gIGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYXJlbnMgPSAxXG4gICAgICAsIGkgPSAyXG4gICAgICAsIHRvaztcblxuICAgIC8vIExvb2thaGVhZCBhbmQgZGV0ZXJtaW5lIGlmIHdlIGFyZSBkZWFsaW5nXG4gICAgLy8gd2l0aCBhIGZ1bmN0aW9uIGNhbGwgb3IgZGVmaW5pdGlvbi4gSGVyZVxuICAgIC8vIHdlIHBhaXIgcGFyZW5zIHRvIHByZXZlbnQgZmFsc2UgbmVnYXRpdmVzXG4gICAgb3V0OlxuICAgIHdoaWxlICh0b2sgPSB0aGlzLmxvb2thaGVhZChpKyspKSB7XG4gICAgICBzd2l0Y2ggKHRvay50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgICAgY2FzZSAnKCc6XG4gICAgICAgICAgKytwYXJlbnM7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJyknOlxuICAgICAgICAgIGlmICghLS1wYXJlbnMpIGJyZWFrIG91dDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZW9zJzpcbiAgICAgICAgICB0aGlzLmVycm9yKCdmYWlsZWQgdG8gZmluZCBjbG9zaW5nIHBhcmVuIFwiKVwiJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRGVmaW5pdGlvbiBvciBjYWxsXG4gICAgc3dpdGNoICh0aGlzLmN1cnJlbnRTdGF0ZSgpKSB7XG4gICAgICBjYXNlICdleHByZXNzaW9uJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuZnVuY3Rpb25DYWxsKCk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gdGhpcy5sb29rc0xpa2VGdW5jdGlvbkRlZmluaXRpb24oaSlcbiAgICAgICAgICA/IHRoaXMuZnVuY3Rpb25EZWZpbml0aW9uKClcbiAgICAgICAgICA6IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiB1cmwgJygnIChleHByZXNzaW9uIHwgdXJsY2hhcnMpKyAnKSdcbiAgICovXG5cbiAgdXJsKCkge1xuICAgIHRoaXMuZXhwZWN0KCdmdW5jdGlvbicpO1xuICAgIHRoaXMuc3RhdGUucHVzaCgnZnVuY3Rpb24gYXJndW1lbnRzJyk7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3MoKTtcbiAgICB0aGlzLmV4cGVjdCgnKScpO1xuICAgIHRoaXMuc3RhdGUucG9wKCk7XG4gICAgcmV0dXJuIG5ldyBub2Rlcy5DYWxsKCd1cmwnLCBhcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiAnKyc/IGlkZW50ICcoJyBleHByZXNzaW9uICcpJyBibG9jaz9cbiAgICovXG5cbiAgZnVuY3Rpb25DYWxsKCkge1xuICAgIHZhciB3aXRoQmxvY2sgPSB0aGlzLmFjY2VwdCgnKycpO1xuICAgIGlmICgndXJsJyA9PSB0aGlzLnBlZWsoKS52YWwubmFtZSkgcmV0dXJuIHRoaXMudXJsKCk7XG5cbiAgICB2YXIgdG9rID0gdGhpcy5leHBlY3QoJ2Z1bmN0aW9uJykudmFsO1xuICAgIHZhciBuYW1lID0gdG9rLm5hbWU7XG5cbiAgICB0aGlzLnN0YXRlLnB1c2goJ2Z1bmN0aW9uIGFyZ3VtZW50cycpO1xuICAgIHRoaXMucGFyZW5zKys7XG4gICAgdmFyIGFyZ3MgPSB0aGlzLmFyZ3MoKTtcbiAgICB0aGlzLmV4cGVjdCgnKScpO1xuICAgIHRoaXMucGFyZW5zLS07XG4gICAgdGhpcy5zdGF0ZS5wb3AoKTtcbiAgICB2YXIgY2FsbCA9IG5ldyBub2Rlcy5DYWxsKG5hbWUsIGFyZ3MpO1xuXG4gICAgY2FsbC5jb2x1bW4gPSB0b2suY29sdW1uO1xuICAgIGNhbGwubGluZW5vID0gdG9rLmxpbmVubztcblxuICAgIGlmICh3aXRoQmxvY2spIHtcbiAgICAgIHRoaXMuc3RhdGUucHVzaCgnZnVuY3Rpb24nKTtcbiAgICAgIGNhbGwuYmxvY2sgPSB0aGlzLmJsb2NrKGNhbGwpO1xuICAgICAgdGhpcy5zdGF0ZS5wb3AoKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGw7XG4gIH1cblxuICAvKipcbiAgICogaWRlbnQgJygnIHBhcmFtcyAnKScgYmxvY2tcbiAgICovXG5cbiAgZnVuY3Rpb25EZWZpbml0aW9uKCkge1xuICAgIHZhclxuICAgICAgdG9rID0gdGhpcy5leHBlY3QoJ2Z1bmN0aW9uJyksXG4gICAgICBuYW1lID0gdG9rLnZhbC5uYW1lO1xuXG4gICAgLy8gcGFyYW1zXG4gICAgdGhpcy5zdGF0ZS5wdXNoKCdmdW5jdGlvbiBwYXJhbXMnKTtcbiAgICB0aGlzLnNraXBXaGl0ZXNwYWNlKCk7XG4gICAgdmFyIHBhcmFtcyA9IHRoaXMucGFyYW1zKCk7XG4gICAgdGhpcy5za2lwV2hpdGVzcGFjZSgpO1xuICAgIHRoaXMuZXhwZWN0KCcpJyk7XG4gICAgdGhpcy5zdGF0ZS5wb3AoKTtcblxuICAgIC8vIEJvZHlcbiAgICB0aGlzLnN0YXRlLnB1c2goJ2Z1bmN0aW9uJyk7XG4gICAgdmFyIGZuID0gbmV3IG5vZGVzLkZ1bmN0aW9uKG5hbWUsIHBhcmFtcyk7XG5cbiAgICBmbi5jb2x1bW4gPSB0b2suY29sdW1uO1xuICAgIGZuLmxpbmVubyA9IHRvay5saW5lbm87XG5cbiAgICBmbi5ibG9jayA9IHRoaXMuYmxvY2soZm4pO1xuICAgIHRoaXMuc3RhdGUucG9wKCk7XG4gICAgcmV0dXJuIG5ldyBub2Rlcy5JZGVudChuYW1lLCBmbik7XG4gIH1cblxuICAvKipcbiAgICogICBpZGVudFxuICAgKiB8IGlkZW50ICcuLi4nXG4gICAqIHwgaWRlbnQgJz0nIGV4cHJlc3Npb25cbiAgICogfCBpZGVudCAnLCcgaWRlbnRcbiAgICovXG5cbiAgcGFyYW1zKCkge1xuICAgIHZhciB0b2tcbiAgICAgICwgbm9kZVxuICAgICAgLCBwYXJhbXMgPSBuZXcgbm9kZXMuUGFyYW1zO1xuICAgIHdoaWxlICh0b2sgPSB0aGlzLmFjY2VwdCgnaWRlbnQnKSkge1xuICAgICAgdGhpcy5hY2NlcHQoJ3NwYWNlJyk7XG4gICAgICBwYXJhbXMucHVzaChub2RlID0gdG9rLnZhbCk7XG4gICAgICBpZiAodGhpcy5hY2NlcHQoJy4uLicpKSB7XG4gICAgICAgIG5vZGUucmVzdCA9IHRydWU7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuYWNjZXB0KCc9JykpIHtcbiAgICAgICAgbm9kZS52YWwgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2tpcFdoaXRlc3BhY2UoKTtcbiAgICAgIHRoaXMuYWNjZXB0KCcsJyk7XG4gICAgICB0aGlzLnNraXBXaGl0ZXNwYWNlKCk7XG4gICAgfVxuICAgIHJldHVybiBwYXJhbXM7XG4gIH1cblxuICAvKipcbiAgICogKGlkZW50ICc6Jyk/IGV4cHJlc3Npb24gKCcsJyAoaWRlbnQgJzonKT8gZXhwcmVzc2lvbikqXG4gICAqL1xuXG4gIGFyZ3MoKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgbm9kZXMuQXJndW1lbnRzXG4gICAgICAsIGtleXdvcmQ7XG5cbiAgICBkbyB7XG4gICAgICAvLyBrZXl3b3JkXG4gICAgICBpZiAoJ2lkZW50JyA9PSB0aGlzLnBlZWsoKS50eXBlICYmICc6JyA9PSB0aGlzLmxvb2thaGVhZCgyKS50eXBlKSB7XG4gICAgICAgIGtleXdvcmQgPSB0aGlzLm5leHQoKS52YWwuc3RyaW5nO1xuICAgICAgICB0aGlzLmV4cGVjdCgnOicpO1xuICAgICAgICBhcmdzLm1hcFtrZXl3b3JkXSA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgICAgICAvLyBhcmdcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFyZ3MucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XG4gICAgICB9XG4gICAgfSB3aGlsZSAodGhpcy5hY2NlcHQoJywnKSk7XG5cbiAgICByZXR1cm4gYXJncztcbiAgfVxuXG4gIC8qKlxuICAgKiBleHByZXNzaW9uICgnLCcgZXhwcmVzc2lvbikqXG4gICAqL1xuXG4gIGxpc3QoKSB7XG4gICAgdmFyIG5vZGUgPSB0aGlzLmV4cHJlc3Npb24oKTtcblxuICAgIHdoaWxlICh0aGlzLmFjY2VwdCgnLCcpKSB7XG4gICAgICBpZiAobm9kZS5pc0xpc3QpIHtcbiAgICAgICAgbGlzdC5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBsaXN0ID0gbmV3IG5vZGVzLkV4cHJlc3Npb24odHJ1ZSk7XG4gICAgICAgIGxpc3QucHVzaChub2RlKTtcbiAgICAgICAgbGlzdC5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtcbiAgICAgICAgbm9kZSA9IGxpc3Q7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIG5lZ2F0aW9uK1xuICAgKi9cblxuICBleHByZXNzaW9uKCkge1xuICAgIHZhciBub2RlXG4gICAgICAsIGV4cHIgPSBuZXcgbm9kZXMuRXhwcmVzc2lvbjtcbiAgICB0aGlzLnN0YXRlLnB1c2goJ2V4cHJlc3Npb24nKTtcbiAgICB3aGlsZSAobm9kZSA9IHRoaXMubmVnYXRpb24oKSkge1xuICAgICAgaWYgKCFub2RlKSB0aGlzLmVycm9yKCd1bmV4cGVjdGVkIHRva2VuIHtwZWVrfSBpbiBleHByZXNzaW9uJyk7XG4gICAgICBleHByLnB1c2gobm9kZSk7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUucG9wKCk7XG4gICAgaWYgKGV4cHIubm9kZXMubGVuZ3RoKSB7XG4gICAgICBleHByLmxpbmVubyA9IGV4cHIubm9kZXNbMF0ubGluZW5vO1xuICAgICAgZXhwci5jb2x1bW4gPSBleHByLm5vZGVzWzBdLmNvbHVtbjtcbiAgICB9XG4gICAgcmV0dXJuIGV4cHI7XG4gIH1cblxuICAvKipcbiAgICogICAnbm90JyB0ZXJuYXJ5XG4gICAqIHwgdGVybmFyeVxuICAgKi9cblxuICBuZWdhdGlvbigpIHtcbiAgICBpZiAodGhpcy5hY2NlcHQoJ25vdCcpKSB7XG4gICAgICByZXR1cm4gbmV3IG5vZGVzLlVuYXJ5T3AoJyEnLCB0aGlzLm5lZ2F0aW9uKCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy50ZXJuYXJ5KCk7XG4gIH1cblxuICAvKipcbiAgICogbG9naWNhbCAoJz8nIGV4cHJlc3Npb24gJzonIGV4cHJlc3Npb24pP1xuICAgKi9cblxuICB0ZXJuYXJ5KCkge1xuICAgIHZhciBub2RlID0gdGhpcy5sb2dpY2FsKCk7XG4gICAgaWYgKHRoaXMuYWNjZXB0KCc/JykpIHtcbiAgICAgIHZhciB0cnVlRXhwciA9IHRoaXMuZXhwcmVzc2lvbigpO1xuICAgICAgdGhpcy5leHBlY3QoJzonKTtcbiAgICAgIHZhciBmYWxzZUV4cHIgPSB0aGlzLmV4cHJlc3Npb24oKTtcbiAgICAgIG5vZGUgPSBuZXcgbm9kZXMuVGVybmFyeShub2RlLCB0cnVlRXhwciwgZmFsc2VFeHByKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogdHlwZWNoZWNrICgoJyYmJyB8ICd8fCcpIHR5cGVjaGVjaykqXG4gICAqL1xuXG4gIGxvZ2ljYWwoKSB7XG4gICAgdmFyIG9wXG4gICAgICAsIG5vZGUgPSB0aGlzLnR5cGVjaGVjaygpO1xuICAgIHdoaWxlIChvcCA9IHRoaXMuYWNjZXB0KCcmJicpIHx8IHRoaXMuYWNjZXB0KCd8fCcpKSB7XG4gICAgICBub2RlID0gbmV3IG5vZGVzLkJpbk9wKG9wLnR5cGUsIG5vZGUsIHRoaXMudHlwZWNoZWNrKCkpO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBlcXVhbGl0eSAoJ2lzIGEnIGVxdWFsaXR5KSpcbiAgICovXG5cbiAgdHlwZWNoZWNrKCkge1xuICAgIHZhciBvcFxuICAgICAgLCBub2RlID0gdGhpcy5lcXVhbGl0eSgpO1xuICAgIHdoaWxlIChvcCA9IHRoaXMuYWNjZXB0KCdpcyBhJykpIHtcbiAgICAgIHRoaXMub3BlcmFuZCA9IHRydWU7XG4gICAgICBpZiAoIW5vZGUpIHRoaXMuZXJyb3IoJ2lsbGVnYWwgdW5hcnkgXCInICsgb3AgKyAnXCIsIG1pc3NpbmcgbGVmdC1oYW5kIG9wZXJhbmQnKTtcbiAgICAgIG5vZGUgPSBuZXcgbm9kZXMuQmluT3Aob3AudHlwZSwgbm9kZSwgdGhpcy5lcXVhbGl0eSgpKTtcbiAgICAgIHRoaXMub3BlcmFuZCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBpbiAoKCc9PScgfCAnIT0nKSBpbikqXG4gICAqL1xuXG4gIGVxdWFsaXR5KCkge1xuICAgIHZhciBvcFxuICAgICAgLCBub2RlID0gdGhpcy5pbigpO1xuICAgIHdoaWxlIChvcCA9IHRoaXMuYWNjZXB0KCc9PScpIHx8IHRoaXMuYWNjZXB0KCchPScpKSB7XG4gICAgICB0aGlzLm9wZXJhbmQgPSB0cnVlO1xuICAgICAgaWYgKCFub2RlKSB0aGlzLmVycm9yKCdpbGxlZ2FsIHVuYXJ5IFwiJyArIG9wICsgJ1wiLCBtaXNzaW5nIGxlZnQtaGFuZCBvcGVyYW5kJyk7XG4gICAgICBub2RlID0gbmV3IG5vZGVzLkJpbk9wKG9wLnR5cGUsIG5vZGUsIHRoaXMuaW4oKSk7XG4gICAgICB0aGlzLm9wZXJhbmQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogcmVsYXRpb25hbCAoJ2luJyByZWxhdGlvbmFsKSpcbiAgICovXG5cbiAgaW4oKSB7XG4gICAgdmFyIG5vZGUgPSB0aGlzLnJlbGF0aW9uYWwoKTtcbiAgICB3aGlsZSAodGhpcy5hY2NlcHQoJ2luJykpIHtcbiAgICAgIHRoaXMub3BlcmFuZCA9IHRydWU7XG4gICAgICBpZiAoIW5vZGUpIHRoaXMuZXJyb3IoJ2lsbGVnYWwgdW5hcnkgXCJpblwiLCBtaXNzaW5nIGxlZnQtaGFuZCBvcGVyYW5kJyk7XG4gICAgICBub2RlID0gbmV3IG5vZGVzLkJpbk9wKCdpbicsIG5vZGUsIHRoaXMucmVsYXRpb25hbCgpKTtcbiAgICAgIHRoaXMub3BlcmFuZCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiByYW5nZSAoKCc+PScgfCAnPD0nIHwgJz4nIHwgJzwnKSByYW5nZSkqXG4gICAqL1xuXG4gIHJlbGF0aW9uYWwoKSB7XG4gICAgdmFyIG9wXG4gICAgICAsIG5vZGUgPSB0aGlzLnJhbmdlKCk7XG4gICAgd2hpbGUgKG9wID1cbiAgICAgIHRoaXMuYWNjZXB0KCc+PScpXG4gICAgICB8fCB0aGlzLmFjY2VwdCgnPD0nKVxuICAgICAgfHwgdGhpcy5hY2NlcHQoJzwnKVxuICAgICAgfHwgdGhpcy5hY2NlcHQoJz4nKVxuICAgICkge1xuICAgICAgdGhpcy5vcGVyYW5kID0gdHJ1ZTtcbiAgICAgIGlmICghbm9kZSkgdGhpcy5lcnJvcignaWxsZWdhbCB1bmFyeSBcIicgKyBvcCArICdcIiwgbWlzc2luZyBsZWZ0LWhhbmQgb3BlcmFuZCcpO1xuICAgICAgbm9kZSA9IG5ldyBub2Rlcy5CaW5PcChvcC50eXBlLCBub2RlLCB0aGlzLnJhbmdlKCkpO1xuICAgICAgdGhpcy5vcGVyYW5kID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIGFkZGl0aXZlICgoJy4uJyB8ICcuLi4nKSBhZGRpdGl2ZSkqXG4gICAqL1xuXG4gIHJhbmdlKCkge1xuICAgIHZhciBvcFxuICAgICAgLCBub2RlID0gdGhpcy5hZGRpdGl2ZSgpO1xuICAgIGlmIChvcCA9IHRoaXMuYWNjZXB0KCcuLi4nKSB8fCB0aGlzLmFjY2VwdCgnLi4nKSkge1xuICAgICAgdGhpcy5vcGVyYW5kID0gdHJ1ZTtcbiAgICAgIGlmICghbm9kZSkgdGhpcy5lcnJvcignaWxsZWdhbCB1bmFyeSBcIicgKyBvcCArICdcIiwgbWlzc2luZyBsZWZ0LWhhbmQgb3BlcmFuZCcpO1xuICAgICAgbm9kZSA9IG5ldyBub2Rlcy5CaW5PcChvcC52YWwsIG5vZGUsIHRoaXMuYWRkaXRpdmUoKSk7XG4gICAgICB0aGlzLm9wZXJhbmQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogbXVsdGlwbGljYXRpdmUgKCgnKycgfCAnLScpIG11bHRpcGxpY2F0aXZlKSpcbiAgICovXG5cbiAgYWRkaXRpdmUoKSB7XG4gICAgdmFyIG9wXG4gICAgICAsIG5vZGUgPSB0aGlzLm11bHRpcGxpY2F0aXZlKCk7XG4gICAgd2hpbGUgKG9wID0gdGhpcy5hY2NlcHQoJysnKSB8fCB0aGlzLmFjY2VwdCgnLScpKSB7XG4gICAgICB0aGlzLm9wZXJhbmQgPSB0cnVlO1xuICAgICAgbm9kZSA9IG5ldyBub2Rlcy5CaW5PcChvcC50eXBlLCBub2RlLCB0aGlzLm11bHRpcGxpY2F0aXZlKCkpO1xuICAgICAgdGhpcy5vcGVyYW5kID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgLyoqXG4gICAqIGRlZmluZWQgKCgnKionIHwgJyonIHwgJy8nIHwgJyUnKSBkZWZpbmVkKSpcbiAgICovXG5cbiAgbXVsdGlwbGljYXRpdmUoKSB7XG4gICAgdmFyIG9wXG4gICAgICAsIG5vZGUgPSB0aGlzLmRlZmluZWQoKTtcbiAgICB3aGlsZSAob3AgPVxuICAgICAgdGhpcy5hY2NlcHQoJyoqJylcbiAgICAgIHx8IHRoaXMuYWNjZXB0KCcqJylcbiAgICAgIHx8IHRoaXMuYWNjZXB0KCcvJylcbiAgICAgIHx8IHRoaXMuYWNjZXB0KCclJykpIHtcbiAgICAgIHRoaXMub3BlcmFuZCA9IHRydWU7XG4gICAgICBpZiAoJy8nID09IG9wICYmIHRoaXMuaW5Qcm9wZXJ0eSAmJiAhdGhpcy5wYXJlbnMpIHtcbiAgICAgICAgdGhpcy5zdGFzaC5wdXNoKG5ldyBUb2tlbignbGl0ZXJhbCcsIG5ldyBub2Rlcy5MaXRlcmFsKCcvJykpKTtcbiAgICAgICAgdGhpcy5vcGVyYW5kID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBub2RlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFub2RlKSB0aGlzLmVycm9yKCdpbGxlZ2FsIHVuYXJ5IFwiJyArIG9wICsgJ1wiLCBtaXNzaW5nIGxlZnQtaGFuZCBvcGVyYW5kJyk7XG4gICAgICAgIG5vZGUgPSBuZXcgbm9kZXMuQmluT3Aob3AudHlwZSwgbm9kZSwgdGhpcy5kZWZpbmVkKCkpO1xuICAgICAgICB0aGlzLm9wZXJhbmQgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cblxuICAvKipcbiAgICogICAgdW5hcnkgJ2lzIGRlZmluZWQnXG4gICAqICB8IHVuYXJ5XG4gICAqL1xuXG4gIGRlZmluZWQoKSB7XG4gICAgdmFyIG5vZGUgPSB0aGlzLnVuYXJ5KCk7XG4gICAgaWYgKHRoaXMuYWNjZXB0KCdpcyBkZWZpbmVkJykpIHtcbiAgICAgIGlmICghbm9kZSkgdGhpcy5lcnJvcignaWxsZWdhbCB1bmFyeSBcImlzIGRlZmluZWRcIiwgbWlzc2luZyBsZWZ0LWhhbmQgb3BlcmFuZCcpO1xuICAgICAgbm9kZSA9IG5ldyBub2Rlcy5CaW5PcCgnaXMgZGVmaW5lZCcsIG5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgICgnIScgfCAnficgfCAnKycgfCAnLScpIHVuYXJ5XG4gICAqIHwgc3Vic2NyaXB0XG4gICAqL1xuXG4gIHVuYXJ5KCkge1xuICAgIHZhciBvcFxuICAgICAgLCBub2RlO1xuICAgIGlmIChvcCA9XG4gICAgICB0aGlzLmFjY2VwdCgnIScpXG4gICAgICB8fCB0aGlzLmFjY2VwdCgnficpXG4gICAgICB8fCB0aGlzLmFjY2VwdCgnKycpXG4gICAgICB8fCB0aGlzLmFjY2VwdCgnLScpKSB7XG4gICAgICB0aGlzLm9wZXJhbmQgPSB0cnVlO1xuICAgICAgbm9kZSA9IHRoaXMudW5hcnkoKTtcbiAgICAgIGlmICghbm9kZSkgdGhpcy5lcnJvcignaWxsZWdhbCB1bmFyeSBcIicgKyBvcCArICdcIicpO1xuICAgICAgbm9kZSA9IG5ldyBub2Rlcy5VbmFyeU9wKG9wLnR5cGUsIG5vZGUpO1xuICAgICAgdGhpcy5vcGVyYW5kID0gZmFsc2U7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc3Vic2NyaXB0KCk7XG4gIH1cblxuICAvKipcbiAgICogICBtZW1iZXIgKCdbJyBleHByZXNzaW9uICddJykrICc9Jz9cbiAgICogfCBtZW1iZXJcbiAgICovXG5cbiAgc3Vic2NyaXB0KCkge1xuICAgIHZhciBub2RlID0gdGhpcy5tZW1iZXIoKVxuICAgICAgLCBpZDtcbiAgICB3aGlsZSAodGhpcy5hY2NlcHQoJ1snKSkge1xuICAgICAgbm9kZSA9IG5ldyBub2Rlcy5CaW5PcCgnW10nLCBub2RlLCB0aGlzLmV4cHJlc3Npb24oKSk7XG4gICAgICB0aGlzLmV4cGVjdCgnXScpO1xuICAgIH1cbiAgICAvLyBUT0RPOiBUZXJuYXJ5T3AgOilcbiAgICBpZiAodGhpcy5hY2NlcHQoJz0nKSkge1xuICAgICAgbm9kZS5vcCArPSAnPSc7XG4gICAgICBub2RlLnZhbCA9IHRoaXMubGlzdCgpO1xuICAgICAgLy8gQGJsb2NrIHN1cHBvcnRcbiAgICAgIGlmIChub2RlLnZhbC5pc0VtcHR5KSB0aGlzLmFzc2lnbkF0YmxvY2sobm9kZS52YWwpO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIC8qKlxuICAgKiAgIHByaW1hcnkgKCcuJyBpZCkrICc9Jz9cbiAgICogfCBwcmltYXJ5XG4gICAqL1xuXG4gIG1lbWJlcigpIHtcbiAgICB2YXIgbm9kZSA9IHRoaXMucHJpbWFyeSgpO1xuICAgIGlmIChub2RlKSB7XG4gICAgICB3aGlsZSAodGhpcy5hY2NlcHQoJy4nKSkge1xuICAgICAgICB2YXIgaWQgPSBuZXcgbm9kZXMuSWRlbnQodGhpcy5leHBlY3QoJ2lkZW50JykudmFsLnN0cmluZyk7XG4gICAgICAgIG5vZGUgPSBuZXcgbm9kZXMuTWVtYmVyKG5vZGUsIGlkKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2tpcFNwYWNlcygpO1xuICAgICAgaWYgKHRoaXMuYWNjZXB0KCc9JykpIHtcbiAgICAgICAgbm9kZS52YWwgPSB0aGlzLmxpc3QoKTtcbiAgICAgICAgLy8gQGJsb2NrIHN1cHBvcnRcbiAgICAgICAgaWYgKG5vZGUudmFsLmlzRW1wdHkpIHRoaXMuYXNzaWduQXRibG9jayhub2RlLnZhbCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgLyoqXG4gICAqICAgJ3snICd9J1xuICAgKiB8ICd7JyBwYWlyICh3cyBwYWlyKSogJ30nXG4gICAqL1xuXG4gIG9iamVjdCgpIHtcbiAgICB2YXIgb2JqID0gbmV3IG5vZGVzLk9iamVjdFxuICAgICAgLCBpZCwgdmFsLCBjb21tYSwgaGFzaDtcbiAgICB0aGlzLmV4cGVjdCgneycpO1xuICAgIHRoaXMuc2tpcFdoaXRlc3BhY2UoKTtcblxuICAgIHdoaWxlICghdGhpcy5hY2NlcHQoJ30nKSkge1xuICAgICAgaWYgKHRoaXMuYWNjZXB0KCdjb21tZW50JylcbiAgICAgICAgfHwgdGhpcy5hY2NlcHQoJ25ld2xpbmUnKSkgY29udGludWU7XG5cbiAgICAgIGlmICghY29tbWEpIHRoaXMuYWNjZXB0KCcsJyk7XG4gICAgICBpZCA9IHRoaXMuYWNjZXB0KCdpZGVudCcpIHx8IHRoaXMuYWNjZXB0KCdzdHJpbmcnKTtcblxuICAgICAgaWYgKCFpZCkge1xuICAgICAgICB0aGlzLmVycm9yKCdleHBlY3RlZCBcImlkZW50XCIgb3IgXCJzdHJpbmdcIiwgZ290IHtwZWVrfScpO1xuICAgICAgfVxuXG4gICAgICBoYXNoID0gaWQudmFsLmhhc2g7XG5cbiAgICAgIHRoaXMuc2tpcFNwYWNlc0FuZENvbW1lbnRzKCk7XG4gICAgICB0aGlzLmV4cGVjdCgnOicpO1xuXG4gICAgICB2YWwgPSB0aGlzLmV4cHJlc3Npb24oKTtcblxuICAgICAgb2JqLnNldFZhbHVlKGhhc2gsIHZhbCk7XG4gICAgICBvYmouc2V0S2V5KGhhc2gsIGlkLnZhbCk7XG5cbiAgICAgIGNvbW1hID0gdGhpcy5hY2NlcHQoJywnKTtcbiAgICAgIHRoaXMuc2tpcFdoaXRlc3BhY2UoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb2JqO1xuICB9XG5cbiAgLyoqXG4gICAqICAgdW5pdFxuICAgKiB8IG51bGxcbiAgICogfCBjb2xvclxuICAgKiB8IHN0cmluZ1xuICAgKiB8IGlkZW50XG4gICAqIHwgYm9vbGVhblxuICAgKiB8IGxpdGVyYWxcbiAgICogfCBvYmplY3RcbiAgICogfCBhdGJsb2NrXG4gICAqIHwgYXRydWxlXG4gICAqIHwgJygnIGV4cHJlc3Npb24gJyknICclJz9cbiAgICovXG5cbiAgcHJpbWFyeSgpIHtcbiAgICB2YXIgdG9rO1xuICAgIHRoaXMuc2tpcFNwYWNlcygpO1xuXG4gICAgLy8gUGFyZW50aGVzaXNcbiAgICBpZiAodGhpcy5hY2NlcHQoJygnKSkge1xuICAgICAgKyt0aGlzLnBhcmVucztcbiAgICAgIHZhciBleHByID0gdGhpcy5leHByZXNzaW9uKClcbiAgICAgICAgLCBwYXJlbiA9IHRoaXMuZXhwZWN0KCcpJyk7XG4gICAgICAtLXRoaXMucGFyZW5zO1xuICAgICAgaWYgKHRoaXMuYWNjZXB0KCclJykpIGV4cHIucHVzaChuZXcgbm9kZXMuSWRlbnQoJyUnKSk7XG4gICAgICB0b2sgPSB0aGlzLnBlZWsoKTtcbiAgICAgIC8vICgxICsgMilweCwgKDEgKyAyKWVtLCBldGMuXG4gICAgICBpZiAoIXBhcmVuLnNwYWNlXG4gICAgICAgICYmICdpZGVudCcgPT0gdG9rLnR5cGVcbiAgICAgICAgJiYgfnVuaXRzLmluZGV4T2YodG9rLnZhbC5zdHJpbmcpKSB7XG4gICAgICAgIGV4cHIucHVzaChuZXcgbm9kZXMuSWRlbnQodG9rLnZhbC5zdHJpbmcpKTtcbiAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXhwcjtcbiAgICB9XG5cbiAgICB0b2sgPSB0aGlzLnBlZWsoKTtcblxuICAgIC8vIFByaW1pdGl2ZVxuICAgIHN3aXRjaCAodG9rLnR5cGUpIHtcbiAgICAgIGNhc2UgJ251bGwnOlxuICAgICAgY2FzZSAndW5pdCc6XG4gICAgICBjYXNlICdjb2xvcic6XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgY2FzZSAnbGl0ZXJhbCc6XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIGNhc2UgJ2NvbW1lbnQnOlxuICAgICAgICByZXR1cm4gdGhpcy5uZXh0KCkudmFsO1xuICAgICAgY2FzZSAhdGhpcy5jb25kICYmICd7JzpcbiAgICAgICAgcmV0dXJuIHRoaXMub2JqZWN0KCk7XG4gICAgICBjYXNlICdhdGJsb2NrJzpcbiAgICAgICAgcmV0dXJuIHRoaXMuYXRibG9jaygpO1xuICAgICAgLy8gcHJvcGVydHkgbG9va3VwXG4gICAgICBjYXNlICdhdHJ1bGUnOlxuICAgICAgICB2YXIgaWQgPSBuZXcgbm9kZXMuSWRlbnQodGhpcy5uZXh0KCkudmFsKTtcbiAgICAgICAgaWQucHJvcGVydHkgPSB0cnVlO1xuICAgICAgICByZXR1cm4gaWQ7XG4gICAgICBjYXNlICdpZGVudCc6XG4gICAgICAgIHJldHVybiB0aGlzLmlkZW50KCk7XG4gICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgIHJldHVybiB0b2suYW5vbnltb3VzXG4gICAgICAgICAgPyB0aGlzLmZ1bmN0aW9uRGVmaW5pdGlvbigpXG4gICAgICAgICAgOiB0aGlzLmZ1bmN0aW9uQ2FsbCgpO1xuICAgIH1cbiAgfVxufTtcbiIsCiAgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxuY29uc3QgaW50VG9DaGFyTWFwID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIuc3BsaXQoXCJcIik7XG5cbi8qKlxuICogRW5jb2RlIGFuIGludGVnZXIgaW4gdGhlIHJhbmdlIG9mIDAgdG8gNjMgdG8gYSBzaW5nbGUgYmFzZSA2NCBkaWdpdC5cbiAqL1xuZXhwb3J0cy5lbmNvZGUgPSBmdW5jdGlvbihudW1iZXIpIHtcbiAgaWYgKDAgPD0gbnVtYmVyICYmIG51bWJlciA8IGludFRvQ2hhck1hcC5sZW5ndGgpIHtcbiAgICByZXR1cm4gaW50VG9DaGFyTWFwW251bWJlcl07XG4gIH1cbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk11c3QgYmUgYmV0d2VlbiAwIGFuZCA2MzogXCIgKyBudW1iZXIpO1xufTtcbiIsCiAgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKlxuICogQmFzZWQgb24gdGhlIEJhc2UgNjQgVkxRIGltcGxlbWVudGF0aW9uIGluIENsb3N1cmUgQ29tcGlsZXI6XG4gKiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nsb3N1cmUtY29tcGlsZXIvc291cmNlL2Jyb3dzZS90cnVuay9zcmMvY29tL2dvb2dsZS9kZWJ1Z2dpbmcvc291cmNlbWFwL0Jhc2U2NFZMUS5qYXZhXG4gKlxuICogQ29weXJpZ2h0IDIwMTEgVGhlIENsb3N1cmUgQ29tcGlsZXIgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuICogbWV0OlxuICpcbiAqICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4gKiAgICBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4gKiAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4gKiAgICBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZ1xuICogICAgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkXG4gKiAgICB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKiAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIEdvb2dsZSBJbmMuIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4gKiAgICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWRcbiAqICAgIGZyb20gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbiAqXG4gKiBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4gKiBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4gKiBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1JcbiAqIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4gKiBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbiAqIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1RcbiAqIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuICogREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4gKiBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4gKiAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0VcbiAqIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4gKi9cblxuY29uc3QgYmFzZTY0ID0gcmVxdWlyZShcIi4vYmFzZTY0XCIpO1xuXG4vLyBBIHNpbmdsZSBiYXNlIDY0IGRpZ2l0IGNhbiBjb250YWluIDYgYml0cyBvZiBkYXRhLiBGb3IgdGhlIGJhc2UgNjQgdmFyaWFibGVcbi8vIGxlbmd0aCBxdWFudGl0aWVzIHdlIHVzZSBpbiB0aGUgc291cmNlIG1hcCBzcGVjLCB0aGUgZmlyc3QgYml0IGlzIHRoZSBzaWduLFxuLy8gdGhlIG5leHQgZm91ciBiaXRzIGFyZSB0aGUgYWN0dWFsIHZhbHVlLCBhbmQgdGhlIDZ0aCBiaXQgaXMgdGhlXG4vLyBjb250aW51YXRpb24gYml0LiBUaGUgY29udGludWF0aW9uIGJpdCB0ZWxscyB1cyB3aGV0aGVyIHRoZXJlIGFyZSBtb3JlXG4vLyBkaWdpdHMgaW4gdGhpcyB2YWx1ZSBmb2xsb3dpbmcgdGhpcyBkaWdpdC5cbi8vXG4vLyAgIENvbnRpbnVhdGlvblxuLy8gICB8ICAgIFNpZ25cbi8vICAgfCAgICB8XG4vLyAgIFYgICAgVlxuLy8gICAxMDEwMTFcblxuY29uc3QgVkxRX0JBU0VfU0hJRlQgPSA1O1xuXG4vLyBiaW5hcnk6IDEwMDAwMFxuY29uc3QgVkxRX0JBU0UgPSAxIDw8IFZMUV9CQVNFX1NISUZUO1xuXG4vLyBiaW5hcnk6IDAxMTExMVxuY29uc3QgVkxRX0JBU0VfTUFTSyA9IFZMUV9CQVNFIC0gMTtcblxuLy8gYmluYXJ5OiAxMDAwMDBcbmNvbnN0IFZMUV9DT05USU5VQVRJT05fQklUID0gVkxRX0JBU0U7XG5cbi8qKlxuICogQ29udmVydHMgZnJvbSBhIHR3by1jb21wbGVtZW50IHZhbHVlIHRvIGEgdmFsdWUgd2hlcmUgdGhlIHNpZ24gYml0IGlzXG4gKiBwbGFjZWQgaW4gdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdC4gIEZvciBleGFtcGxlLCBhcyBkZWNpbWFsczpcbiAqICAgMSBiZWNvbWVzIDIgKDEwIGJpbmFyeSksIC0xIGJlY29tZXMgMyAoMTEgYmluYXJ5KVxuICogICAyIGJlY29tZXMgNCAoMTAwIGJpbmFyeSksIC0yIGJlY29tZXMgNSAoMTAxIGJpbmFyeSlcbiAqL1xuZnVuY3Rpb24gdG9WTFFTaWduZWQoYVZhbHVlKSB7XG4gIHJldHVybiBhVmFsdWUgPCAwXG4gICAgPyAoKC1hVmFsdWUpIDw8IDEpICsgMVxuICAgIDogKGFWYWx1ZSA8PCAxKSArIDA7XG59XG5cbi8qKlxuICogQ29udmVydHMgdG8gYSB0d28tY29tcGxlbWVudCB2YWx1ZSBmcm9tIGEgdmFsdWUgd2hlcmUgdGhlIHNpZ24gYml0IGlzXG4gKiBwbGFjZWQgaW4gdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdC4gIEZvciBleGFtcGxlLCBhcyBkZWNpbWFsczpcbiAqICAgMiAoMTAgYmluYXJ5KSBiZWNvbWVzIDEsIDMgKDExIGJpbmFyeSkgYmVjb21lcyAtMVxuICogICA0ICgxMDAgYmluYXJ5KSBiZWNvbWVzIDIsIDUgKDEwMSBiaW5hcnkpIGJlY29tZXMgLTJcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXG5mdW5jdGlvbiBmcm9tVkxRU2lnbmVkKGFWYWx1ZSkge1xuICBjb25zdCBpc05lZ2F0aXZlID0gKGFWYWx1ZSAmIDEpID09PSAxO1xuICBjb25zdCBzaGlmdGVkID0gYVZhbHVlID4+IDE7XG4gIHJldHVybiBpc05lZ2F0aXZlXG4gICAgPyAtc2hpZnRlZFxuICAgIDogc2hpZnRlZDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBiYXNlIDY0IFZMUSBlbmNvZGVkIHZhbHVlLlxuICovXG5leHBvcnRzLmVuY29kZSA9IGZ1bmN0aW9uIGJhc2U2NFZMUV9lbmNvZGUoYVZhbHVlKSB7XG4gIGxldCBlbmNvZGVkID0gXCJcIjtcbiAgbGV0IGRpZ2l0O1xuXG4gIGxldCB2bHEgPSB0b1ZMUVNpZ25lZChhVmFsdWUpO1xuXG4gIGRvIHtcbiAgICBkaWdpdCA9IHZscSAmIFZMUV9CQVNFX01BU0s7XG4gICAgdmxxID4+Pj0gVkxRX0JBU0VfU0hJRlQ7XG4gICAgaWYgKHZscSA+IDApIHtcbiAgICAgIC8vIFRoZXJlIGFyZSBzdGlsbCBtb3JlIGRpZ2l0cyBpbiB0aGlzIHZhbHVlLCBzbyB3ZSBtdXN0IG1ha2Ugc3VyZSB0aGVcbiAgICAgIC8vIGNvbnRpbnVhdGlvbiBiaXQgaXMgbWFya2VkLlxuICAgICAgZGlnaXQgfD0gVkxRX0NPTlRJTlVBVElPTl9CSVQ7XG4gICAgfVxuICAgIGVuY29kZWQgKz0gYmFzZTY0LmVuY29kZShkaWdpdCk7XG4gIH0gd2hpbGUgKHZscSA+IDApO1xuXG4gIHJldHVybiBlbmNvZGVkO1xufTtcbiIsCiAgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxuLyoqXG4gKiBUaGlzIGlzIGEgaGVscGVyIGZ1bmN0aW9uIGZvciBnZXR0aW5nIHZhbHVlcyBmcm9tIHBhcmFtZXRlci9vcHRpb25zXG4gKiBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSBhcmdzIFRoZSBvYmplY3Qgd2UgYXJlIGV4dHJhY3RpbmcgdmFsdWVzIGZyb21cbiAqIEBwYXJhbSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB3ZSBhcmUgZ2V0dGluZy5cbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgQW4gb3B0aW9uYWwgdmFsdWUgdG8gcmV0dXJuIGlmIHRoZSBwcm9wZXJ0eSBpcyBtaXNzaW5nXG4gKiBmcm9tIHRoZSBvYmplY3QuIElmIHRoaXMgaXMgbm90IHNwZWNpZmllZCBhbmQgdGhlIHByb3BlcnR5IGlzIG1pc3NpbmcsIGFuXG4gKiBlcnJvciB3aWxsIGJlIHRocm93bi5cbiAqL1xuZnVuY3Rpb24gZ2V0QXJnKGFBcmdzLCBhTmFtZSwgYURlZmF1bHRWYWx1ZSkge1xuICBpZiAoYU5hbWUgaW4gYUFyZ3MpIHtcbiAgICByZXR1cm4gYUFyZ3NbYU5hbWVdO1xuICB9IGVsc2UgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDMpIHtcbiAgICByZXR1cm4gYURlZmF1bHRWYWx1ZTtcbiAgfVxuICAgIHRocm93IG5ldyBFcnJvcignXCInICsgYU5hbWUgKyAnXCIgaXMgYSByZXF1aXJlZCBhcmd1bWVudC4nKTtcblxufVxuZXhwb3J0cy5nZXRBcmcgPSBnZXRBcmc7XG5cbmNvbnN0IHVybFJlZ2V4cCA9IC9eKD86KFtcXHcrXFwtLl0rKTopP1xcL1xcLyg/OihcXHcrOlxcdyspQCk/KFtcXHcuLV0qKSg/OjooXFxkKykpPyguKikkLztcbmNvbnN0IGRhdGFVcmxSZWdleHAgPSAvXmRhdGE6LitcXCwuKyQvO1xuXG5mdW5jdGlvbiB1cmxQYXJzZShhVXJsKSB7XG4gIGNvbnN0IG1hdGNoID0gYVVybC5tYXRjaCh1cmxSZWdleHApO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBzY2hlbWU6IG1hdGNoWzFdLFxuICAgIGF1dGg6IG1hdGNoWzJdLFxuICAgIGhvc3Q6IG1hdGNoWzNdLFxuICAgIHBvcnQ6IG1hdGNoWzRdLFxuICAgIHBhdGg6IG1hdGNoWzVdXG4gIH07XG59XG5leHBvcnRzLnVybFBhcnNlID0gdXJsUGFyc2U7XG5cbmZ1bmN0aW9uIHVybEdlbmVyYXRlKGFQYXJzZWRVcmwpIHtcbiAgbGV0IHVybCA9IFwiXCI7XG4gIGlmIChhUGFyc2VkVXJsLnNjaGVtZSkge1xuICAgIHVybCArPSBhUGFyc2VkVXJsLnNjaGVtZSArIFwiOlwiO1xuICB9XG4gIHVybCArPSBcIi8vXCI7XG4gIGlmIChhUGFyc2VkVXJsLmF1dGgpIHtcbiAgICB1cmwgKz0gYVBhcnNlZFVybC5hdXRoICsgXCJAXCI7XG4gIH1cbiAgaWYgKGFQYXJzZWRVcmwuaG9zdCkge1xuICAgIHVybCArPSBhUGFyc2VkVXJsLmhvc3Q7XG4gIH1cbiAgaWYgKGFQYXJzZWRVcmwucG9ydCkge1xuICAgIHVybCArPSBcIjpcIiArIGFQYXJzZWRVcmwucG9ydDtcbiAgfVxuICBpZiAoYVBhcnNlZFVybC5wYXRoKSB7XG4gICAgdXJsICs9IGFQYXJzZWRVcmwucGF0aDtcbiAgfVxuICByZXR1cm4gdXJsO1xufVxuZXhwb3J0cy51cmxHZW5lcmF0ZSA9IHVybEdlbmVyYXRlO1xuXG5jb25zdCBNQVhfQ0FDSEVEX0lOUFVUUyA9IDMyO1xuXG4vKipcbiAqIFRha2VzIHNvbWUgZnVuY3Rpb24gYGYoaW5wdXQpIC0+IHJlc3VsdGAgYW5kIHJldHVybnMgYSBtZW1vaXplZCB2ZXJzaW9uIG9mXG4gKiBgZmAuXG4gKlxuICogV2Uga2VlcCBhdCBtb3N0IGBNQVhfQ0FDSEVEX0lOUFVUU2AgbWVtb2l6ZWQgcmVzdWx0cyBvZiBgZmAgYWxpdmUuIFRoZVxuICogbWVtb2l6YXRpb24gaXMgYSBkdW1iLXNpbXBsZSwgbGluZWFyIGxlYXN0LXJlY2VudGx5LXVzZWQgY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIGxydU1lbW9pemUoZikge1xuICBjb25zdCBjYWNoZSA9IFtdO1xuXG4gIHJldHVybiBmdW5jdGlvbihpbnB1dCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2FjaGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChjYWNoZVtpXS5pbnB1dCA9PT0gaW5wdXQpIHtcbiAgICAgICAgY29uc3QgdGVtcCA9IGNhY2hlWzBdO1xuICAgICAgICBjYWNoZVswXSA9IGNhY2hlW2ldO1xuICAgICAgICBjYWNoZVtpXSA9IHRlbXA7XG4gICAgICAgIHJldHVybiBjYWNoZVswXS5yZXN1bHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgcmVzdWx0ID0gZihpbnB1dCk7XG5cbiAgICBjYWNoZS51bnNoaWZ0KHtcbiAgICAgIGlucHV0LFxuICAgICAgcmVzdWx0LFxuICAgIH0pO1xuXG4gICAgaWYgKGNhY2hlLmxlbmd0aCA+IE1BWF9DQUNIRURfSU5QVVRTKSB7XG4gICAgICBjYWNoZS5wb3AoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xufVxuXG4vKipcbiAqIE5vcm1hbGl6ZXMgYSBwYXRoLCBvciB0aGUgcGF0aCBwb3J0aW9uIG9mIGEgVVJMOlxuICpcbiAqIC0gUmVwbGFjZXMgY29uc2VjdXRpdmUgc2xhc2hlcyB3aXRoIG9uZSBzbGFzaC5cbiAqIC0gUmVtb3ZlcyB1bm5lY2Vzc2FyeSAnLicgcGFydHMuXG4gKiAtIFJlbW92ZXMgdW5uZWNlc3NhcnkgJzxkaXI+Ly4uJyBwYXJ0cy5cbiAqXG4gKiBCYXNlZCBvbiBjb2RlIGluIHRoZSBOb2RlLmpzICdwYXRoJyBjb3JlIG1vZHVsZS5cbiAqXG4gKiBAcGFyYW0gYVBhdGggVGhlIHBhdGggb3IgdXJsIHRvIG5vcm1hbGl6ZS5cbiAqL1xuY29uc3Qgbm9ybWFsaXplID0gbHJ1TWVtb2l6ZShmdW5jdGlvbiBub3JtYWxpemUoYVBhdGgpIHtcbiAgbGV0IHBhdGggPSBhUGF0aDtcbiAgY29uc3QgdXJsID0gdXJsUGFyc2UoYVBhdGgpO1xuICBpZiAodXJsKSB7XG4gICAgaWYgKCF1cmwucGF0aCkge1xuICAgICAgcmV0dXJuIGFQYXRoO1xuICAgIH1cbiAgICBwYXRoID0gdXJsLnBhdGg7XG4gIH1cbiAgY29uc3QgaXNBYnNvbHV0ZSA9IGV4cG9ydHMuaXNBYnNvbHV0ZShwYXRoKTtcblxuICAvLyBTcGxpdCB0aGUgcGF0aCBpbnRvIHBhcnRzIGJldHdlZW4gYC9gIGNoYXJhY3RlcnMuIFRoaXMgaXMgbXVjaCBmYXN0ZXIgdGhhblxuICAvLyB1c2luZyBgLnNwbGl0KC9cXC8rL2cpYC5cbiAgY29uc3QgcGFydHMgPSBbXTtcbiAgbGV0IHN0YXJ0ID0gMDtcbiAgbGV0IGkgPSAwO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHN0YXJ0ID0gaTtcbiAgICBpID0gcGF0aC5pbmRleE9mKFwiL1wiLCBzdGFydCk7XG4gICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICBwYXJ0cy5wdXNoKHBhdGguc2xpY2Uoc3RhcnQpKTtcbiAgICAgIGJyZWFrO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJ0cy5wdXNoKHBhdGguc2xpY2Uoc3RhcnQsIGkpKTtcbiAgICAgIHdoaWxlIChpIDwgcGF0aC5sZW5ndGggJiYgcGF0aFtpXSA9PT0gXCIvXCIpIHtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGxldCB1cCA9IDA7XG4gIGZvciAoaSA9IHBhcnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgY29uc3QgcGFydCA9IHBhcnRzW2ldO1xuICAgIGlmIChwYXJ0ID09PSBcIi5cIikge1xuICAgICAgcGFydHMuc3BsaWNlKGksIDEpO1xuICAgIH0gZWxzZSBpZiAocGFydCA9PT0gXCIuLlwiKSB7XG4gICAgICB1cCsrO1xuICAgIH0gZWxzZSBpZiAodXAgPiAwKSB7XG4gICAgICBpZiAocGFydCA9PT0gXCJcIikge1xuICAgICAgICAvLyBUaGUgZmlyc3QgcGFydCBpcyBibGFuayBpZiB0aGUgcGF0aCBpcyBhYnNvbHV0ZS4gVHJ5aW5nIHRvIGdvXG4gICAgICAgIC8vIGFib3ZlIHRoZSByb290IGlzIGEgbm8tb3AuIFRoZXJlZm9yZSB3ZSBjYW4gcmVtb3ZlIGFsbCAnLi4nIHBhcnRzXG4gICAgICAgIC8vIGRpcmVjdGx5IGFmdGVyIHRoZSByb290LlxuICAgICAgICBwYXJ0cy5zcGxpY2UoaSArIDEsIHVwKTtcbiAgICAgICAgdXAgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFydHMuc3BsaWNlKGksIDIpO1xuICAgICAgICB1cC0tO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBwYXRoID0gcGFydHMuam9pbihcIi9cIik7XG5cbiAgaWYgKHBhdGggPT09IFwiXCIpIHtcbiAgICBwYXRoID0gaXNBYnNvbHV0ZSA/IFwiL1wiIDogXCIuXCI7XG4gIH1cblxuICBpZiAodXJsKSB7XG4gICAgdXJsLnBhdGggPSBwYXRoO1xuICAgIHJldHVybiB1cmxHZW5lcmF0ZSh1cmwpO1xuICB9XG4gIHJldHVybiBwYXRoO1xufSk7XG5leHBvcnRzLm5vcm1hbGl6ZSA9IG5vcm1hbGl6ZTtcblxuLyoqXG4gKiBKb2lucyB0d28gcGF0aHMvVVJMcy5cbiAqXG4gKiBAcGFyYW0gYVJvb3QgVGhlIHJvb3QgcGF0aCBvciBVUkwuXG4gKiBAcGFyYW0gYVBhdGggVGhlIHBhdGggb3IgVVJMIHRvIGJlIGpvaW5lZCB3aXRoIHRoZSByb290LlxuICpcbiAqIC0gSWYgYVBhdGggaXMgYSBVUkwgb3IgYSBkYXRhIFVSSSwgYVBhdGggaXMgcmV0dXJuZWQsIHVubGVzcyBhUGF0aCBpcyBhXG4gKiAgIHNjaGVtZS1yZWxhdGl2ZSBVUkw6IFRoZW4gdGhlIHNjaGVtZSBvZiBhUm9vdCwgaWYgYW55LCBpcyBwcmVwZW5kZWRcbiAqICAgZmlyc3QuXG4gKiAtIE90aGVyd2lzZSBhUGF0aCBpcyBhIHBhdGguIElmIGFSb290IGlzIGEgVVJMLCB0aGVuIGl0cyBwYXRoIHBvcnRpb25cbiAqICAgaXMgdXBkYXRlZCB3aXRoIHRoZSByZXN1bHQgYW5kIGFSb290IGlzIHJldHVybmVkLiBPdGhlcndpc2UgdGhlIHJlc3VsdFxuICogICBpcyByZXR1cm5lZC5cbiAqICAgLSBJZiBhUGF0aCBpcyBhYnNvbHV0ZSwgdGhlIHJlc3VsdCBpcyBhUGF0aC5cbiAqICAgLSBPdGhlcndpc2UgdGhlIHR3byBwYXRocyBhcmUgam9pbmVkIHdpdGggYSBzbGFzaC5cbiAqIC0gSm9pbmluZyBmb3IgZXhhbXBsZSAnaHR0cDovLycgYW5kICd3d3cuZXhhbXBsZS5jb20nIGlzIGFsc28gc3VwcG9ydGVkLlxuICovXG5mdW5jdGlvbiBqb2luKGFSb290LCBhUGF0aCkge1xuICBpZiAoYVJvb3QgPT09IFwiXCIpIHtcbiAgICBhUm9vdCA9IFwiLlwiO1xuICB9XG4gIGlmIChhUGF0aCA9PT0gXCJcIikge1xuICAgIGFQYXRoID0gXCIuXCI7XG4gIH1cbiAgY29uc3QgYVBhdGhVcmwgPSB1cmxQYXJzZShhUGF0aCk7XG4gIGNvbnN0IGFSb290VXJsID0gdXJsUGFyc2UoYVJvb3QpO1xuICBpZiAoYVJvb3RVcmwpIHtcbiAgICBhUm9vdCA9IGFSb290VXJsLnBhdGggfHwgXCIvXCI7XG4gIH1cblxuICAvLyBgam9pbihmb28sICcvL3d3dy5leGFtcGxlLm9yZycpYFxuICBpZiAoYVBhdGhVcmwgJiYgIWFQYXRoVXJsLnNjaGVtZSkge1xuICAgIGlmIChhUm9vdFVybCkge1xuICAgICAgYVBhdGhVcmwuc2NoZW1lID0gYVJvb3RVcmwuc2NoZW1lO1xuICAgIH1cbiAgICByZXR1cm4gdXJsR2VuZXJhdGUoYVBhdGhVcmwpO1xuICB9XG5cbiAgaWYgKGFQYXRoVXJsIHx8IGFQYXRoLm1hdGNoKGRhdGFVcmxSZWdleHApKSB7XG4gICAgcmV0dXJuIGFQYXRoO1xuICB9XG5cbiAgLy8gYGpvaW4oJ2h0dHA6Ly8nLCAnd3d3LmV4YW1wbGUuY29tJylgXG4gIGlmIChhUm9vdFVybCAmJiAhYVJvb3RVcmwuaG9zdCAmJiAhYVJvb3RVcmwucGF0aCkge1xuICAgIGFSb290VXJsLmhvc3QgPSBhUGF0aDtcbiAgICByZXR1cm4gdXJsR2VuZXJhdGUoYVJvb3RVcmwpO1xuICB9XG5cbiAgY29uc3Qgam9pbmVkID0gYVBhdGguY2hhckF0KDApID09PSBcIi9cIlxuICAgID8gYVBhdGhcbiAgICA6IG5vcm1hbGl6ZShhUm9vdC5yZXBsYWNlKC9cXC8rJC8sIFwiXCIpICsgXCIvXCIgKyBhUGF0aCk7XG5cbiAgaWYgKGFSb290VXJsKSB7XG4gICAgYVJvb3RVcmwucGF0aCA9IGpvaW5lZDtcbiAgICByZXR1cm4gdXJsR2VuZXJhdGUoYVJvb3RVcmwpO1xuICB9XG4gIHJldHVybiBqb2luZWQ7XG59XG5leHBvcnRzLmpvaW4gPSBqb2luO1xuXG5leHBvcnRzLmlzQWJzb2x1dGUgPSBmdW5jdGlvbihhUGF0aCkge1xuICByZXR1cm4gYVBhdGguY2hhckF0KDApID09PSBcIi9cIiB8fCB1cmxSZWdleHAudGVzdChhUGF0aCk7XG59O1xuXG4vKipcbiAqIE1ha2UgYSBwYXRoIHJlbGF0aXZlIHRvIGEgVVJMIG9yIGFub3RoZXIgcGF0aC5cbiAqXG4gKiBAcGFyYW0gYVJvb3QgVGhlIHJvb3QgcGF0aCBvciBVUkwuXG4gKiBAcGFyYW0gYVBhdGggVGhlIHBhdGggb3IgVVJMIHRvIGJlIG1hZGUgcmVsYXRpdmUgdG8gYVJvb3QuXG4gKi9cbmZ1bmN0aW9uIHJlbGF0aXZlKGFSb290LCBhUGF0aCkge1xuICBpZiAoYVJvb3QgPT09IFwiXCIpIHtcbiAgICBhUm9vdCA9IFwiLlwiO1xuICB9XG5cbiAgYVJvb3QgPSBhUm9vdC5yZXBsYWNlKC9cXC8kLywgXCJcIik7XG5cbiAgLy8gSXQgaXMgcG9zc2libGUgZm9yIHRoZSBwYXRoIHRvIGJlIGFib3ZlIHRoZSByb290LiBJbiB0aGlzIGNhc2UsIHNpbXBseVxuICAvLyBjaGVja2luZyB3aGV0aGVyIHRoZSByb290IGlzIGEgcHJlZml4IG9mIHRoZSBwYXRoIHdvbid0IHdvcmsuIEluc3RlYWQsIHdlXG4gIC8vIG5lZWQgdG8gcmVtb3ZlIGNvbXBvbmVudHMgZnJvbSB0aGUgcm9vdCBvbmUgYnkgb25lLCB1bnRpbCBlaXRoZXIgd2UgZmluZFxuICAvLyBhIHByZWZpeCB0aGF0IGZpdHMsIG9yIHdlIHJ1biBvdXQgb2YgY29tcG9uZW50cyB0byByZW1vdmUuXG4gIGxldCBsZXZlbCA9IDA7XG4gIHdoaWxlIChhUGF0aC5pbmRleE9mKGFSb290ICsgXCIvXCIpICE9PSAwKSB7XG4gICAgY29uc3QgaW5kZXggPSBhUm9vdC5sYXN0SW5kZXhPZihcIi9cIik7XG4gICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgcmV0dXJuIGFQYXRoO1xuICAgIH1cblxuICAgIC8vIElmIHRoZSBvbmx5IHBhcnQgb2YgdGhlIHJvb3QgdGhhdCBpcyBsZWZ0IGlzIHRoZSBzY2hlbWUgKGkuZS4gaHR0cDovLyxcbiAgICAvLyBmaWxlOi8vLywgZXRjLiksIG9uZSBvciBtb3JlIHNsYXNoZXMgKC8pLCBvciBzaW1wbHkgbm90aGluZyBhdCBhbGwsIHdlXG4gICAgLy8gaGF2ZSBleGhhdXN0ZWQgYWxsIGNvbXBvbmVudHMsIHNvIHRoZSBwYXRoIGlzIG5vdCByZWxhdGl2ZSB0byB0aGUgcm9vdC5cbiAgICBhUm9vdCA9IGFSb290LnNsaWNlKDAsIGluZGV4KTtcbiAgICBpZiAoYVJvb3QubWF0Y2goL14oW15cXC9dKzpcXC8pP1xcLyokLykpIHtcbiAgICAgIHJldHVybiBhUGF0aDtcbiAgICB9XG5cbiAgICArK2xldmVsO1xuICB9XG5cbiAgLy8gTWFrZSBzdXJlIHdlIGFkZCBhIFwiLi4vXCIgZm9yIGVhY2ggY29tcG9uZW50IHdlIHJlbW92ZWQgZnJvbSB0aGUgcm9vdC5cbiAgcmV0dXJuIEFycmF5KGxldmVsICsgMSkuam9pbihcIi4uL1wiKSArIGFQYXRoLnN1YnN0cihhUm9vdC5sZW5ndGggKyAxKTtcbn1cbmV4cG9ydHMucmVsYXRpdmUgPSByZWxhdGl2ZTtcblxuY29uc3Qgc3VwcG9ydHNOdWxsUHJvdG8gPSAoZnVuY3Rpb24oKSB7XG4gIGNvbnN0IG9iaiA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIHJldHVybiAhKFwiX19wcm90b19fXCIgaW4gb2JqKTtcbn0oKSk7XG5cbmZ1bmN0aW9uIGlkZW50aXR5KHMpIHtcbiAgcmV0dXJuIHM7XG59XG5cbi8qKlxuICogQmVjYXVzZSBiZWhhdmlvciBnb2VzIHdhY2t5IHdoZW4geW91IHNldCBgX19wcm90b19fYCBvbiBvYmplY3RzLCB3ZVxuICogaGF2ZSB0byBwcmVmaXggYWxsIHRoZSBzdHJpbmdzIGluIG91ciBzZXQgd2l0aCBhbiBhcmJpdHJhcnkgY2hhcmFjdGVyLlxuICpcbiAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9zb3VyY2UtbWFwL3B1bGwvMzEgYW5kXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9zb3VyY2UtbWFwL2lzc3Vlcy8zMFxuICpcbiAqIEBwYXJhbSBTdHJpbmcgYVN0clxuICovXG5mdW5jdGlvbiB0b1NldFN0cmluZyhhU3RyKSB7XG4gIGlmIChpc1Byb3RvU3RyaW5nKGFTdHIpKSB7XG4gICAgcmV0dXJuIFwiJFwiICsgYVN0cjtcbiAgfVxuXG4gIHJldHVybiBhU3RyO1xufVxuZXhwb3J0cy50b1NldFN0cmluZyA9IHN1cHBvcnRzTnVsbFByb3RvID8gaWRlbnRpdHkgOiB0b1NldFN0cmluZztcblxuZnVuY3Rpb24gZnJvbVNldFN0cmluZyhhU3RyKSB7XG4gIGlmIChpc1Byb3RvU3RyaW5nKGFTdHIpKSB7XG4gICAgcmV0dXJuIGFTdHIuc2xpY2UoMSk7XG4gIH1cblxuICByZXR1cm4gYVN0cjtcbn1cbmV4cG9ydHMuZnJvbVNldFN0cmluZyA9IHN1cHBvcnRzTnVsbFByb3RvID8gaWRlbnRpdHkgOiBmcm9tU2V0U3RyaW5nO1xuXG5mdW5jdGlvbiBpc1Byb3RvU3RyaW5nKHMpIHtcbiAgaWYgKCFzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgY29uc3QgbGVuZ3RoID0gcy5sZW5ndGg7XG5cbiAgaWYgKGxlbmd0aCA8IDkgLyogXCJfX3Byb3RvX19cIi5sZW5ndGggKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKiBlc2xpbnQtZGlzYWJsZSBuby1tdWx0aS1zcGFjZXMgKi9cbiAgaWYgKHMuY2hhckNvZGVBdChsZW5ndGggLSAxKSAhPT0gOTUgIC8qICdfJyAqLyB8fFxuICAgICAgcy5jaGFyQ29kZUF0KGxlbmd0aCAtIDIpICE9PSA5NSAgLyogJ18nICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gMykgIT09IDExMSAvKiAnbycgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSA0KSAhPT0gMTE2IC8qICd0JyAqLyB8fFxuICAgICAgcy5jaGFyQ29kZUF0KGxlbmd0aCAtIDUpICE9PSAxMTEgLyogJ28nICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gNikgIT09IDExNCAvKiAncicgKi8gfHxcbiAgICAgIHMuY2hhckNvZGVBdChsZW5ndGggLSA3KSAhPT0gMTEyIC8qICdwJyAqLyB8fFxuICAgICAgcy5jaGFyQ29kZUF0KGxlbmd0aCAtIDgpICE9PSA5NSAgLyogJ18nICovIHx8XG4gICAgICBzLmNoYXJDb2RlQXQobGVuZ3RoIC0gOSkgIT09IDk1ICAvKiAnXycgKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLyogZXNsaW50LWVuYWJsZSBuby1tdWx0aS1zcGFjZXMgKi9cblxuICBmb3IgKGxldCBpID0gbGVuZ3RoIC0gMTA7IGkgPj0gMDsgaS0tKSB7XG4gICAgaWYgKHMuY2hhckNvZGVBdChpKSAhPT0gMzYgLyogJyQnICovKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQ29tcGFyYXRvciBiZXR3ZWVuIHR3byBtYXBwaW5ncyB3aGVyZSB0aGUgb3JpZ2luYWwgcG9zaXRpb25zIGFyZSBjb21wYXJlZC5cbiAqXG4gKiBPcHRpb25hbGx5IHBhc3MgaW4gYHRydWVgIGFzIGBvbmx5Q29tcGFyZUdlbmVyYXRlZGAgdG8gY29uc2lkZXIgdHdvXG4gKiBtYXBwaW5ncyB3aXRoIHRoZSBzYW1lIG9yaWdpbmFsIHNvdXJjZS9saW5lL2NvbHVtbiwgYnV0IGRpZmZlcmVudCBnZW5lcmF0ZWRcbiAqIGxpbmUgYW5kIGNvbHVtbiB0aGUgc2FtZS4gVXNlZnVsIHdoZW4gc2VhcmNoaW5nIGZvciBhIG1hcHBpbmcgd2l0aCBhXG4gKiBzdHViYmVkIG91dCBtYXBwaW5nLlxuICovXG5mdW5jdGlvbiBjb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyhtYXBwaW5nQSwgbWFwcGluZ0IsIG9ubHlDb21wYXJlT3JpZ2luYWwpIHtcbiAgbGV0IGNtcCA9IHN0cmNtcChtYXBwaW5nQS5zb3VyY2UsIG1hcHBpbmdCLnNvdXJjZSk7XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gbWFwcGluZ0Eub3JpZ2luYWxMaW5lIC0gbWFwcGluZ0Iub3JpZ2luYWxMaW5lO1xuICBpZiAoY21wICE9PSAwKSB7XG4gICAgcmV0dXJuIGNtcDtcbiAgfVxuXG4gIGNtcCA9IG1hcHBpbmdBLm9yaWdpbmFsQ29sdW1uIC0gbWFwcGluZ0Iub3JpZ2luYWxDb2x1bW47XG4gIGlmIChjbXAgIT09IDAgfHwgb25seUNvbXBhcmVPcmlnaW5hbCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5nZW5lcmF0ZWRDb2x1bW4gLSBtYXBwaW5nQi5nZW5lcmF0ZWRDb2x1bW47XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gbWFwcGluZ0EuZ2VuZXJhdGVkTGluZSAtIG1hcHBpbmdCLmdlbmVyYXRlZExpbmU7XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgcmV0dXJuIHN0cmNtcChtYXBwaW5nQS5uYW1lLCBtYXBwaW5nQi5uYW1lKTtcbn1cbmV4cG9ydHMuY29tcGFyZUJ5T3JpZ2luYWxQb3NpdGlvbnMgPSBjb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucztcblxuLyoqXG4gKiBDb21wYXJhdG9yIGJldHdlZW4gdHdvIG1hcHBpbmdzIHdpdGggZGVmbGF0ZWQgc291cmNlIGFuZCBuYW1lIGluZGljZXMgd2hlcmVcbiAqIHRoZSBnZW5lcmF0ZWQgcG9zaXRpb25zIGFyZSBjb21wYXJlZC5cbiAqXG4gKiBPcHRpb25hbGx5IHBhc3MgaW4gYHRydWVgIGFzIGBvbmx5Q29tcGFyZUdlbmVyYXRlZGAgdG8gY29uc2lkZXIgdHdvXG4gKiBtYXBwaW5ncyB3aXRoIHRoZSBzYW1lIGdlbmVyYXRlZCBsaW5lIGFuZCBjb2x1bW4sIGJ1dCBkaWZmZXJlbnRcbiAqIHNvdXJjZS9uYW1lL29yaWdpbmFsIGxpbmUgYW5kIGNvbHVtbiB0aGUgc2FtZS4gVXNlZnVsIHdoZW4gc2VhcmNoaW5nIGZvciBhXG4gKiBtYXBwaW5nIHdpdGggYSBzdHViYmVkIG91dCBtYXBwaW5nLlxuICovXG5mdW5jdGlvbiBjb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNEZWZsYXRlZChtYXBwaW5nQSwgbWFwcGluZ0IsIG9ubHlDb21wYXJlR2VuZXJhdGVkKSB7XG4gIGxldCBjbXAgPSBtYXBwaW5nQS5nZW5lcmF0ZWRMaW5lIC0gbWFwcGluZ0IuZ2VuZXJhdGVkTGluZTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5nZW5lcmF0ZWRDb2x1bW4gLSBtYXBwaW5nQi5nZW5lcmF0ZWRDb2x1bW47XG4gIGlmIChjbXAgIT09IDAgfHwgb25seUNvbXBhcmVHZW5lcmF0ZWQpIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gc3RyY21wKG1hcHBpbmdBLnNvdXJjZSwgbWFwcGluZ0Iuc291cmNlKTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5vcmlnaW5hbExpbmUgLSBtYXBwaW5nQi5vcmlnaW5hbExpbmU7XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gbWFwcGluZ0Eub3JpZ2luYWxDb2x1bW4gLSBtYXBwaW5nQi5vcmlnaW5hbENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICByZXR1cm4gc3RyY21wKG1hcHBpbmdBLm5hbWUsIG1hcHBpbmdCLm5hbWUpO1xufVxuZXhwb3J0cy5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNEZWZsYXRlZCA9IGNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0RlZmxhdGVkO1xuXG5mdW5jdGlvbiBzdHJjbXAoYVN0cjEsIGFTdHIyKSB7XG4gIGlmIChhU3RyMSA9PT0gYVN0cjIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGlmIChhU3RyMSA9PT0gbnVsbCkge1xuICAgIHJldHVybiAxOyAvLyBhU3RyMiAhPT0gbnVsbFxuICB9XG5cbiAgaWYgKGFTdHIyID09PSBudWxsKSB7XG4gICAgcmV0dXJuIC0xOyAvLyBhU3RyMSAhPT0gbnVsbFxuICB9XG5cbiAgaWYgKGFTdHIxID4gYVN0cjIpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuLyoqXG4gKiBDb21wYXJhdG9yIGJldHdlZW4gdHdvIG1hcHBpbmdzIHdpdGggaW5mbGF0ZWQgc291cmNlIGFuZCBuYW1lIHN0cmluZ3Mgd2hlcmVcbiAqIHRoZSBnZW5lcmF0ZWQgcG9zaXRpb25zIGFyZSBjb21wYXJlZC5cbiAqL1xuZnVuY3Rpb24gY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zSW5mbGF0ZWQobWFwcGluZ0EsIG1hcHBpbmdCKSB7XG4gIGxldCBjbXAgPSBtYXBwaW5nQS5nZW5lcmF0ZWRMaW5lIC0gbWFwcGluZ0IuZ2VuZXJhdGVkTGluZTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5nZW5lcmF0ZWRDb2x1bW4gLSBtYXBwaW5nQi5nZW5lcmF0ZWRDb2x1bW47XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gc3RyY21wKG1hcHBpbmdBLnNvdXJjZSwgbWFwcGluZ0Iuc291cmNlKTtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICBjbXAgPSBtYXBwaW5nQS5vcmlnaW5hbExpbmUgLSBtYXBwaW5nQi5vcmlnaW5hbExpbmU7XG4gIGlmIChjbXAgIT09IDApIHtcbiAgICByZXR1cm4gY21wO1xuICB9XG5cbiAgY21wID0gbWFwcGluZ0Eub3JpZ2luYWxDb2x1bW4gLSBtYXBwaW5nQi5vcmlnaW5hbENvbHVtbjtcbiAgaWYgKGNtcCAhPT0gMCkge1xuICAgIHJldHVybiBjbXA7XG4gIH1cblxuICByZXR1cm4gc3RyY21wKG1hcHBpbmdBLm5hbWUsIG1hcHBpbmdCLm5hbWUpO1xufVxuZXhwb3J0cy5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNJbmZsYXRlZCA9IGNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0luZmxhdGVkO1xuXG4vKipcbiAqIFN0cmlwIGFueSBKU09OIFhTU0kgYXZvaWRhbmNlIHByZWZpeCBmcm9tIHRoZSBzdHJpbmcgKGFzIGRvY3VtZW50ZWRcbiAqIGluIHRoZSBzb3VyY2UgbWFwcyBzcGVjaWZpY2F0aW9uKSwgYW5kIHRoZW4gcGFyc2UgdGhlIHN0cmluZyBhc1xuICogSlNPTi5cbiAqL1xuZnVuY3Rpb24gcGFyc2VTb3VyY2VNYXBJbnB1dChzdHIpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyLnJlcGxhY2UoL15cXCldfSdbXlxcbl0qXFxuLywgXCJcIikpO1xufVxuZXhwb3J0cy5wYXJzZVNvdXJjZU1hcElucHV0ID0gcGFyc2VTb3VyY2VNYXBJbnB1dDtcblxuLyoqXG4gKiBDb21wdXRlIHRoZSBVUkwgb2YgYSBzb3VyY2UgZ2l2ZW4gdGhlIHRoZSBzb3VyY2Ugcm9vdCwgdGhlIHNvdXJjZSdzXG4gKiBVUkwsIGFuZCB0aGUgc291cmNlIG1hcCdzIFVSTC5cbiAqL1xuZnVuY3Rpb24gY29tcHV0ZVNvdXJjZVVSTChzb3VyY2VSb290LCBzb3VyY2VVUkwsIHNvdXJjZU1hcFVSTCkge1xuICBzb3VyY2VVUkwgPSBzb3VyY2VVUkwgfHwgXCJcIjtcblxuICBpZiAoc291cmNlUm9vdCkge1xuICAgIC8vIFRoaXMgZm9sbG93cyB3aGF0IENocm9tZSBkb2VzLlxuICAgIGlmIChzb3VyY2VSb290W3NvdXJjZVJvb3QubGVuZ3RoIC0gMV0gIT09IFwiL1wiICYmIHNvdXJjZVVSTFswXSAhPT0gXCIvXCIpIHtcbiAgICAgIHNvdXJjZVJvb3QgKz0gXCIvXCI7XG4gICAgfVxuICAgIC8vIFRoZSBzcGVjIHNheXM6XG4gICAgLy8gICBMaW5lIDQ6IEFuIG9wdGlvbmFsIHNvdXJjZSByb290LCB1c2VmdWwgZm9yIHJlbG9jYXRpbmcgc291cmNlXG4gICAgLy8gICBmaWxlcyBvbiBhIHNlcnZlciBvciByZW1vdmluZyByZXBlYXRlZCB2YWx1ZXMgaW4gdGhlXG4gICAgLy8gICDigJxzb3VyY2Vz4oCdIGVudHJ5LiAgVGhpcyB2YWx1ZSBpcyBwcmVwZW5kZWQgdG8gdGhlIGluZGl2aWR1YWxcbiAgICAvLyAgIGVudHJpZXMgaW4gdGhlIOKAnHNvdXJjZeKAnSBmaWVsZC5cbiAgICBzb3VyY2VVUkwgPSBzb3VyY2VSb290ICsgc291cmNlVVJMO1xuICB9XG5cbiAgLy8gSGlzdG9yaWNhbGx5LCBTb3VyY2VNYXBDb25zdW1lciBkaWQgbm90IHRha2UgdGhlIHNvdXJjZU1hcFVSTCBhc1xuICAvLyBhIHBhcmFtZXRlci4gIFRoaXMgbW9kZSBpcyBzdGlsbCBzb21ld2hhdCBzdXBwb3J0ZWQsIHdoaWNoIGlzIHdoeVxuICAvLyB0aGlzIGNvZGUgYmxvY2sgaXMgY29uZGl0aW9uYWwuICBIb3dldmVyLCBpdCdzIHByZWZlcmFibGUgdG8gcGFzc1xuICAvLyB0aGUgc291cmNlIG1hcCBVUkwgdG8gU291cmNlTWFwQ29uc3VtZXIsIHNvIHRoYXQgdGhpcyBmdW5jdGlvblxuICAvLyBjYW4gaW1wbGVtZW50IHRoZSBzb3VyY2UgVVJMIHJlc29sdXRpb24gYWxnb3JpdGhtIGFzIG91dGxpbmVkIGluXG4gIC8vIHRoZSBzcGVjLiAgVGhpcyBibG9jayBpcyBiYXNpY2FsbHkgdGhlIGVxdWl2YWxlbnQgb2Y6XG4gIC8vICAgIG5ldyBVUkwoc291cmNlVVJMLCBzb3VyY2VNYXBVUkwpLnRvU3RyaW5nKClcbiAgLy8gLi4uIGV4Y2VwdCBpdCBhdm9pZHMgdXNpbmcgVVJMLCB3aGljaCB3YXNuJ3QgYXZhaWxhYmxlIGluIHRoZVxuICAvLyBvbGRlciByZWxlYXNlcyBvZiBub2RlIHN0aWxsIHN1cHBvcnRlZCBieSB0aGlzIGxpYnJhcnkuXG4gIC8vXG4gIC8vIFRoZSBzcGVjIHNheXM6XG4gIC8vICAgSWYgdGhlIHNvdXJjZXMgYXJlIG5vdCBhYnNvbHV0ZSBVUkxzIGFmdGVyIHByZXBlbmRpbmcgb2YgdGhlXG4gIC8vICAg4oCcc291cmNlUm9vdOKAnSwgdGhlIHNvdXJjZXMgYXJlIHJlc29sdmVkIHJlbGF0aXZlIHRvIHRoZVxuICAvLyAgIFNvdXJjZU1hcCAobGlrZSByZXNvbHZpbmcgc2NyaXB0IHNyYyBpbiBhIGh0bWwgZG9jdW1lbnQpLlxuICBpZiAoc291cmNlTWFwVVJMKSB7XG4gICAgY29uc3QgcGFyc2VkID0gdXJsUGFyc2Uoc291cmNlTWFwVVJMKTtcbiAgICBpZiAoIXBhcnNlZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwic291cmNlTWFwVVJMIGNvdWxkIG5vdCBiZSBwYXJzZWRcIik7XG4gICAgfVxuICAgIGlmIChwYXJzZWQucGF0aCkge1xuICAgICAgLy8gU3RyaXAgdGhlIGxhc3QgcGF0aCBjb21wb25lbnQsIGJ1dCBrZWVwIHRoZSBcIi9cIi5cbiAgICAgIGNvbnN0IGluZGV4ID0gcGFyc2VkLnBhdGgubGFzdEluZGV4T2YoXCIvXCIpO1xuICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgcGFyc2VkLnBhdGggPSBwYXJzZWQucGF0aC5zdWJzdHJpbmcoMCwgaW5kZXggKyAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc291cmNlVVJMID0gam9pbih1cmxHZW5lcmF0ZShwYXJzZWQpLCBzb3VyY2VVUkwpO1xuICB9XG5cbiAgcmV0dXJuIG5vcm1hbGl6ZShzb3VyY2VVUkwpO1xufVxuZXhwb3J0cy5jb21wdXRlU291cmNlVVJMID0gY29tcHV0ZVNvdXJjZVVSTDtcbiIsCiAgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxuLyoqXG4gKiBBIGRhdGEgc3RydWN0dXJlIHdoaWNoIGlzIGEgY29tYmluYXRpb24gb2YgYW4gYXJyYXkgYW5kIGEgc2V0LiBBZGRpbmcgYSBuZXdcbiAqIG1lbWJlciBpcyBPKDEpLCB0ZXN0aW5nIGZvciBtZW1iZXJzaGlwIGlzIE8oMSksIGFuZCBmaW5kaW5nIHRoZSBpbmRleCBvZiBhblxuICogZWxlbWVudCBpcyBPKDEpLiBSZW1vdmluZyBlbGVtZW50cyBmcm9tIHRoZSBzZXQgaXMgbm90IHN1cHBvcnRlZC4gT25seVxuICogc3RyaW5ncyBhcmUgc3VwcG9ydGVkIGZvciBtZW1iZXJzaGlwLlxuICovXG5jbGFzcyBBcnJheVNldCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2FycmF5ID0gW107XG4gICAgdGhpcy5fc2V0ID0gbmV3IE1hcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXRpYyBtZXRob2QgZm9yIGNyZWF0aW5nIEFycmF5U2V0IGluc3RhbmNlcyBmcm9tIGFuIGV4aXN0aW5nIGFycmF5LlxuICAgKi9cbiAgc3RhdGljIGZyb21BcnJheShhQXJyYXksIGFBbGxvd0R1cGxpY2F0ZXMpIHtcbiAgICBjb25zdCBzZXQgPSBuZXcgQXJyYXlTZXQoKTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYUFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBzZXQuYWRkKGFBcnJheVtpXSwgYUFsbG93RHVwbGljYXRlcyk7XG4gICAgfVxuICAgIHJldHVybiBzZXQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGhvdyBtYW55IHVuaXF1ZSBpdGVtcyBhcmUgaW4gdGhpcyBBcnJheVNldC4gSWYgZHVwbGljYXRlcyBoYXZlIGJlZW5cbiAgICogYWRkZWQsIHRoYW4gdGhvc2UgZG8gbm90IGNvdW50IHRvd2FyZHMgdGhlIHNpemUuXG4gICAqXG4gICAqIEByZXR1cm5zIE51bWJlclxuICAgKi9cbiAgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2V0LnNpemU7XG4gIH1cblxuICAvKipcbiAgICogQWRkIHRoZSBnaXZlbiBzdHJpbmcgdG8gdGhpcyBzZXQuXG4gICAqXG4gICAqIEBwYXJhbSBTdHJpbmcgYVN0clxuICAgKi9cbiAgYWRkKGFTdHIsIGFBbGxvd0R1cGxpY2F0ZXMpIHtcbiAgICBjb25zdCBpc0R1cGxpY2F0ZSA9IHRoaXMuaGFzKGFTdHIpO1xuICAgIGNvbnN0IGlkeCA9IHRoaXMuX2FycmF5Lmxlbmd0aDtcbiAgICBpZiAoIWlzRHVwbGljYXRlIHx8IGFBbGxvd0R1cGxpY2F0ZXMpIHtcbiAgICAgIHRoaXMuX2FycmF5LnB1c2goYVN0cik7XG4gICAgfVxuICAgIGlmICghaXNEdXBsaWNhdGUpIHtcbiAgICAgIHRoaXMuX3NldC5zZXQoYVN0ciwgaWR4KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSXMgdGhlIGdpdmVuIHN0cmluZyBhIG1lbWJlciBvZiB0aGlzIHNldD9cbiAgICpcbiAgICogQHBhcmFtIFN0cmluZyBhU3RyXG4gICAqL1xuICBoYXMoYVN0cikge1xuICAgICAgcmV0dXJuIHRoaXMuX3NldC5oYXMoYVN0cik7XG4gIH1cblxuICAvKipcbiAgICogV2hhdCBpcyB0aGUgaW5kZXggb2YgdGhlIGdpdmVuIHN0cmluZyBpbiB0aGUgYXJyYXk/XG4gICAqXG4gICAqIEBwYXJhbSBTdHJpbmcgYVN0clxuICAgKi9cbiAgaW5kZXhPZihhU3RyKSB7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5fc2V0LmdldChhU3RyKTtcbiAgICBpZiAoaWR4ID49IDApIHtcbiAgICAgICAgcmV0dXJuIGlkeDtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdcIicgKyBhU3RyICsgJ1wiIGlzIG5vdCBpbiB0aGUgc2V0LicpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdoYXQgaXMgdGhlIGVsZW1lbnQgYXQgdGhlIGdpdmVuIGluZGV4P1xuICAgKlxuICAgKiBAcGFyYW0gTnVtYmVyIGFJZHhcbiAgICovXG4gIGF0KGFJZHgpIHtcbiAgICBpZiAoYUlkeCA+PSAwICYmIGFJZHggPCB0aGlzLl9hcnJheS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9hcnJheVthSWR4XTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZWxlbWVudCBpbmRleGVkIGJ5IFwiICsgYUlkeCk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYXJyYXkgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBzZXQgKHdoaWNoIGhhcyB0aGUgcHJvcGVyIGluZGljZXNcbiAgICogaW5kaWNhdGVkIGJ5IGluZGV4T2YpLiBOb3RlIHRoYXQgdGhpcyBpcyBhIGNvcHkgb2YgdGhlIGludGVybmFsIGFycmF5IHVzZWRcbiAgICogZm9yIHN0b3JpbmcgdGhlIG1lbWJlcnMgc28gdGhhdCBubyBvbmUgY2FuIG1lc3Mgd2l0aCBpbnRlcm5hbCBzdGF0ZS5cbiAgICovXG4gIHRvQXJyYXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2FycmF5LnNsaWNlKCk7XG4gIH1cbn1cbmV4cG9ydHMuQXJyYXlTZXQgPSBBcnJheVNldDtcbiIsCiAgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxNCBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxuY29uc3QgdXRpbCA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5cbi8qKlxuICogRGV0ZXJtaW5lIHdoZXRoZXIgbWFwcGluZ0IgaXMgYWZ0ZXIgbWFwcGluZ0Egd2l0aCByZXNwZWN0IHRvIGdlbmVyYXRlZFxuICogcG9zaXRpb24uXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlZFBvc2l0aW9uQWZ0ZXIobWFwcGluZ0EsIG1hcHBpbmdCKSB7XG4gIC8vIE9wdGltaXplZCBmb3IgbW9zdCBjb21tb24gY2FzZVxuICBjb25zdCBsaW5lQSA9IG1hcHBpbmdBLmdlbmVyYXRlZExpbmU7XG4gIGNvbnN0IGxpbmVCID0gbWFwcGluZ0IuZ2VuZXJhdGVkTGluZTtcbiAgY29uc3QgY29sdW1uQSA9IG1hcHBpbmdBLmdlbmVyYXRlZENvbHVtbjtcbiAgY29uc3QgY29sdW1uQiA9IG1hcHBpbmdCLmdlbmVyYXRlZENvbHVtbjtcbiAgcmV0dXJuIGxpbmVCID4gbGluZUEgfHwgbGluZUIgPT0gbGluZUEgJiYgY29sdW1uQiA+PSBjb2x1bW5BIHx8XG4gICAgICAgICB1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0luZmxhdGVkKG1hcHBpbmdBLCBtYXBwaW5nQikgPD0gMDtcbn1cblxuLyoqXG4gKiBBIGRhdGEgc3RydWN0dXJlIHRvIHByb3ZpZGUgYSBzb3J0ZWQgdmlldyBvZiBhY2N1bXVsYXRlZCBtYXBwaW5ncyBpbiBhXG4gKiBwZXJmb3JtYW5jZSBjb25zY2lvdXMgbWFubmVyLiBJdCB0cmFkZXMgYSBuZWdsaWdpYmxlIG92ZXJoZWFkIGluIGdlbmVyYWxcbiAqIGNhc2UgZm9yIGEgbGFyZ2Ugc3BlZWR1cCBpbiBjYXNlIG9mIG1hcHBpbmdzIGJlaW5nIGFkZGVkIGluIG9yZGVyLlxuICovXG5jbGFzcyBNYXBwaW5nTGlzdCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX2FycmF5ID0gW107XG4gICAgdGhpcy5fc29ydGVkID0gdHJ1ZTtcbiAgICAvLyBTZXJ2ZXMgYXMgaW5maW11bVxuICAgIHRoaXMuX2xhc3QgPSB7Z2VuZXJhdGVkTGluZTogLTEsIGdlbmVyYXRlZENvbHVtbjogMH07XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZSB0aHJvdWdoIGludGVybmFsIGl0ZW1zLiBUaGlzIG1ldGhvZCB0YWtlcyB0aGUgc2FtZSBhcmd1bWVudHMgdGhhdFxuICAgKiBgQXJyYXkucHJvdG90eXBlLmZvckVhY2hgIHRha2VzLlxuICAgKlxuICAgKiBOT1RFOiBUaGUgb3JkZXIgb2YgdGhlIG1hcHBpbmdzIGlzIE5PVCBndWFyYW50ZWVkLlxuICAgKi9cbiAgdW5zb3J0ZWRGb3JFYWNoKGFDYWxsYmFjaywgYVRoaXNBcmcpIHtcbiAgICB0aGlzLl9hcnJheS5mb3JFYWNoKGFDYWxsYmFjaywgYVRoaXNBcmcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCB0aGUgZ2l2ZW4gc291cmNlIG1hcHBpbmcuXG4gICAqXG4gICAqIEBwYXJhbSBPYmplY3QgYU1hcHBpbmdcbiAgICovXG4gIGFkZChhTWFwcGluZykge1xuICAgIGlmIChnZW5lcmF0ZWRQb3NpdGlvbkFmdGVyKHRoaXMuX2xhc3QsIGFNYXBwaW5nKSkge1xuICAgICAgdGhpcy5fbGFzdCA9IGFNYXBwaW5nO1xuICAgICAgdGhpcy5fYXJyYXkucHVzaChhTWFwcGluZyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3NvcnRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fYXJyYXkucHVzaChhTWFwcGluZyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGZsYXQsIHNvcnRlZCBhcnJheSBvZiBtYXBwaW5ncy4gVGhlIG1hcHBpbmdzIGFyZSBzb3J0ZWQgYnlcbiAgICogZ2VuZXJhdGVkIHBvc2l0aW9uLlxuICAgKlxuICAgKiBXQVJOSU5HOiBUaGlzIG1ldGhvZCByZXR1cm5zIGludGVybmFsIGRhdGEgd2l0aG91dCBjb3B5aW5nLCBmb3JcbiAgICogcGVyZm9ybWFuY2UuIFRoZSByZXR1cm4gdmFsdWUgbXVzdCBOT1QgYmUgbXV0YXRlZCwgYW5kIHNob3VsZCBiZSB0cmVhdGVkIGFzXG4gICAqIGFuIGltbXV0YWJsZSBib3Jyb3cuIElmIHlvdSB3YW50IHRvIHRha2Ugb3duZXJzaGlwLCB5b3UgbXVzdCBtYWtlIHlvdXIgb3duXG4gICAqIGNvcHkuXG4gICAqL1xuICB0b0FycmF5KCkge1xuICAgIGlmICghdGhpcy5fc29ydGVkKSB7XG4gICAgICB0aGlzLl9hcnJheS5zb3J0KHV0aWwuY29tcGFyZUJ5R2VuZXJhdGVkUG9zaXRpb25zSW5mbGF0ZWQpO1xuICAgICAgdGhpcy5fc29ydGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2FycmF5O1xuICB9XG59XG5cbmV4cG9ydHMuTWFwcGluZ0xpc3QgPSBNYXBwaW5nTGlzdDtcbiIsCiAgIi8qIC0qLSBNb2RlOiBqczsganMtaW5kZW50LWxldmVsOiAyOyAtKi0gKi9cbi8qXG4gKiBDb3B5cmlnaHQgMjAxMSBNb3ppbGxhIEZvdW5kYXRpb24gYW5kIGNvbnRyaWJ1dG9yc1xuICogTGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgbGljZW5zZS4gU2VlIExJQ0VOU0Ugb3I6XG4gKiBodHRwOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvQlNELTMtQ2xhdXNlXG4gKi9cblxuY29uc3QgYmFzZTY0VkxRID0gcmVxdWlyZShcIi4vYmFzZTY0LXZscVwiKTtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuY29uc3QgQXJyYXlTZXQgPSByZXF1aXJlKFwiLi9hcnJheS1zZXRcIikuQXJyYXlTZXQ7XG5jb25zdCBNYXBwaW5nTGlzdCA9IHJlcXVpcmUoXCIuL21hcHBpbmctbGlzdFwiKS5NYXBwaW5nTGlzdDtcblxuLyoqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGUgU291cmNlTWFwR2VuZXJhdG9yIHJlcHJlc2VudHMgYSBzb3VyY2UgbWFwIHdoaWNoIGlzXG4gKiBiZWluZyBidWlsdCBpbmNyZW1lbnRhbGx5LiBZb3UgbWF5IHBhc3MgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZ1xuICogcHJvcGVydGllczpcbiAqXG4gKiAgIC0gZmlsZTogVGhlIGZpbGVuYW1lIG9mIHRoZSBnZW5lcmF0ZWQgc291cmNlLlxuICogICAtIHNvdXJjZVJvb3Q6IEEgcm9vdCBmb3IgYWxsIHJlbGF0aXZlIFVSTHMgaW4gdGhpcyBzb3VyY2UgbWFwLlxuICovXG5jbGFzcyBTb3VyY2VNYXBHZW5lcmF0b3Ige1xuICBjb25zdHJ1Y3RvcihhQXJncykge1xuICAgIGlmICghYUFyZ3MpIHtcbiAgICAgIGFBcmdzID0ge307XG4gICAgfVxuICAgIHRoaXMuX2ZpbGUgPSB1dGlsLmdldEFyZyhhQXJncywgXCJmaWxlXCIsIG51bGwpO1xuICAgIHRoaXMuX3NvdXJjZVJvb3QgPSB1dGlsLmdldEFyZyhhQXJncywgXCJzb3VyY2VSb290XCIsIG51bGwpO1xuICAgIHRoaXMuX3NraXBWYWxpZGF0aW9uID0gdXRpbC5nZXRBcmcoYUFyZ3MsIFwic2tpcFZhbGlkYXRpb25cIiwgZmFsc2UpO1xuICAgIHRoaXMuX3NvdXJjZXMgPSBuZXcgQXJyYXlTZXQoKTtcbiAgICB0aGlzLl9uYW1lcyA9IG5ldyBBcnJheVNldCgpO1xuICAgIHRoaXMuX21hcHBpbmdzID0gbmV3IE1hcHBpbmdMaXN0KCk7XG4gICAgdGhpcy5fc291cmNlc0NvbnRlbnRzID0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFNvdXJjZU1hcEdlbmVyYXRvciBiYXNlZCBvbiBhIFNvdXJjZU1hcENvbnN1bWVyXG4gICAqXG4gICAqIEBwYXJhbSBhU291cmNlTWFwQ29uc3VtZXIgVGhlIFNvdXJjZU1hcC5cbiAgICovXG4gIHN0YXRpYyBmcm9tU291cmNlTWFwKGFTb3VyY2VNYXBDb25zdW1lcikge1xuICAgIGNvbnN0IHNvdXJjZVJvb3QgPSBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlUm9vdDtcbiAgICBjb25zdCBnZW5lcmF0b3IgPSBuZXcgU291cmNlTWFwR2VuZXJhdG9yKHtcbiAgICAgIGZpbGU6IGFTb3VyY2VNYXBDb25zdW1lci5maWxlLFxuICAgICAgc291cmNlUm9vdFxuICAgIH0pO1xuICAgIGFTb3VyY2VNYXBDb25zdW1lci5lYWNoTWFwcGluZyhmdW5jdGlvbihtYXBwaW5nKSB7XG4gICAgICBjb25zdCBuZXdNYXBwaW5nID0ge1xuICAgICAgICBnZW5lcmF0ZWQ6IHtcbiAgICAgICAgICBsaW5lOiBtYXBwaW5nLmdlbmVyYXRlZExpbmUsXG4gICAgICAgICAgY29sdW1uOiBtYXBwaW5nLmdlbmVyYXRlZENvbHVtblxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBpZiAobWFwcGluZy5zb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICBuZXdNYXBwaW5nLnNvdXJjZSA9IG1hcHBpbmcuc291cmNlO1xuICAgICAgICBpZiAoc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICAgICAgbmV3TWFwcGluZy5zb3VyY2UgPSB1dGlsLnJlbGF0aXZlKHNvdXJjZVJvb3QsIG5ld01hcHBpbmcuc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld01hcHBpbmcub3JpZ2luYWwgPSB7XG4gICAgICAgICAgbGluZTogbWFwcGluZy5vcmlnaW5hbExpbmUsXG4gICAgICAgICAgY29sdW1uOiBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG1hcHBpbmcubmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgbmV3TWFwcGluZy5uYW1lID0gbWFwcGluZy5uYW1lO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGdlbmVyYXRvci5hZGRNYXBwaW5nKG5ld01hcHBpbmcpO1xuICAgIH0pO1xuICAgIGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VzLmZvckVhY2goZnVuY3Rpb24oc291cmNlRmlsZSkge1xuICAgICAgbGV0IHNvdXJjZVJlbGF0aXZlID0gc291cmNlRmlsZTtcbiAgICAgIGlmIChzb3VyY2VSb290ICE9PSBudWxsKSB7XG4gICAgICAgIHNvdXJjZVJlbGF0aXZlID0gdXRpbC5yZWxhdGl2ZShzb3VyY2VSb290LCBzb3VyY2VGaWxlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFnZW5lcmF0b3IuX3NvdXJjZXMuaGFzKHNvdXJjZVJlbGF0aXZlKSkge1xuICAgICAgICBnZW5lcmF0b3IuX3NvdXJjZXMuYWRkKHNvdXJjZVJlbGF0aXZlKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgY29udGVudCA9IGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VDb250ZW50Rm9yKHNvdXJjZUZpbGUpO1xuICAgICAgaWYgKGNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICBnZW5lcmF0b3Iuc2V0U291cmNlQ29udGVudChzb3VyY2VGaWxlLCBjb250ZW50KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBhIHNpbmdsZSBtYXBwaW5nIGZyb20gb3JpZ2luYWwgc291cmNlIGxpbmUgYW5kIGNvbHVtbiB0byB0aGUgZ2VuZXJhdGVkXG4gICAqIHNvdXJjZSdzIGxpbmUgYW5kIGNvbHVtbiBmb3IgdGhpcyBzb3VyY2UgbWFwIGJlaW5nIGNyZWF0ZWQuIFRoZSBtYXBwaW5nXG4gICAqIG9iamVjdCBzaG91bGQgaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqXG4gICAqICAgLSBnZW5lcmF0ZWQ6IEFuIG9iamVjdCB3aXRoIHRoZSBnZW5lcmF0ZWQgbGluZSBhbmQgY29sdW1uIHBvc2l0aW9ucy5cbiAgICogICAtIG9yaWdpbmFsOiBBbiBvYmplY3Qgd2l0aCB0aGUgb3JpZ2luYWwgbGluZSBhbmQgY29sdW1uIHBvc2l0aW9ucy5cbiAgICogICAtIHNvdXJjZTogVGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlIChyZWxhdGl2ZSB0byB0aGUgc291cmNlUm9vdCkuXG4gICAqICAgLSBuYW1lOiBBbiBvcHRpb25hbCBvcmlnaW5hbCB0b2tlbiBuYW1lIGZvciB0aGlzIG1hcHBpbmcuXG4gICAqL1xuICBhZGRNYXBwaW5nKGFBcmdzKSB7XG4gICAgY29uc3QgZ2VuZXJhdGVkID0gdXRpbC5nZXRBcmcoYUFyZ3MsIFwiZ2VuZXJhdGVkXCIpO1xuICAgIGNvbnN0IG9yaWdpbmFsID0gdXRpbC5nZXRBcmcoYUFyZ3MsIFwib3JpZ2luYWxcIiwgbnVsbCk7XG4gICAgbGV0IHNvdXJjZSA9IHV0aWwuZ2V0QXJnKGFBcmdzLCBcInNvdXJjZVwiLCBudWxsKTtcbiAgICBsZXQgbmFtZSA9IHV0aWwuZ2V0QXJnKGFBcmdzLCBcIm5hbWVcIiwgbnVsbCk7XG5cbiAgICBpZiAoIXRoaXMuX3NraXBWYWxpZGF0aW9uKSB7XG4gICAgICB0aGlzLl92YWxpZGF0ZU1hcHBpbmcoZ2VuZXJhdGVkLCBvcmlnaW5hbCwgc291cmNlLCBuYW1lKTtcbiAgICB9XG5cbiAgICBpZiAoc291cmNlICE9IG51bGwpIHtcbiAgICAgIHNvdXJjZSA9IFN0cmluZyhzb3VyY2UpO1xuICAgICAgaWYgKCF0aGlzLl9zb3VyY2VzLmhhcyhzb3VyY2UpKSB7XG4gICAgICAgIHRoaXMuX3NvdXJjZXMuYWRkKHNvdXJjZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5hbWUgIT0gbnVsbCkge1xuICAgICAgbmFtZSA9IFN0cmluZyhuYW1lKTtcbiAgICAgIGlmICghdGhpcy5fbmFtZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgIHRoaXMuX25hbWVzLmFkZChuYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLl9tYXBwaW5ncy5hZGQoe1xuICAgICAgZ2VuZXJhdGVkTGluZTogZ2VuZXJhdGVkLmxpbmUsXG4gICAgICBnZW5lcmF0ZWRDb2x1bW46IGdlbmVyYXRlZC5jb2x1bW4sXG4gICAgICBvcmlnaW5hbExpbmU6IG9yaWdpbmFsICE9IG51bGwgJiYgb3JpZ2luYWwubGluZSxcbiAgICAgIG9yaWdpbmFsQ29sdW1uOiBvcmlnaW5hbCAhPSBudWxsICYmIG9yaWdpbmFsLmNvbHVtbixcbiAgICAgIHNvdXJjZSxcbiAgICAgIG5hbWVcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHNvdXJjZSBjb250ZW50IGZvciBhIHNvdXJjZSBmaWxlLlxuICAgKi9cbiAgc2V0U291cmNlQ29udGVudChhU291cmNlRmlsZSwgYVNvdXJjZUNvbnRlbnQpIHtcbiAgICBsZXQgc291cmNlID0gYVNvdXJjZUZpbGU7XG4gICAgaWYgKHRoaXMuX3NvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgc291cmNlID0gdXRpbC5yZWxhdGl2ZSh0aGlzLl9zb3VyY2VSb290LCBzb3VyY2UpO1xuICAgIH1cblxuICAgIGlmIChhU291cmNlQ29udGVudCAhPSBudWxsKSB7XG4gICAgICAvLyBBZGQgdGhlIHNvdXJjZSBjb250ZW50IHRvIHRoZSBfc291cmNlc0NvbnRlbnRzIG1hcC5cbiAgICAgIC8vIENyZWF0ZSBhIG5ldyBfc291cmNlc0NvbnRlbnRzIG1hcCBpZiB0aGUgcHJvcGVydHkgaXMgbnVsbC5cbiAgICAgIGlmICghdGhpcy5fc291cmNlc0NvbnRlbnRzKSB7XG4gICAgICAgIHRoaXMuX3NvdXJjZXNDb250ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9zb3VyY2VzQ29udGVudHNbdXRpbC50b1NldFN0cmluZyhzb3VyY2UpXSA9IGFTb3VyY2VDb250ZW50O1xuICAgIH0gZWxzZSBpZiAodGhpcy5fc291cmNlc0NvbnRlbnRzKSB7XG4gICAgICAvLyBSZW1vdmUgdGhlIHNvdXJjZSBmaWxlIGZyb20gdGhlIF9zb3VyY2VzQ29udGVudHMgbWFwLlxuICAgICAgLy8gSWYgdGhlIF9zb3VyY2VzQ29udGVudHMgbWFwIGlzIGVtcHR5LCBzZXQgdGhlIHByb3BlcnR5IHRvIG51bGwuXG4gICAgICBkZWxldGUgdGhpcy5fc291cmNlc0NvbnRlbnRzW3V0aWwudG9TZXRTdHJpbmcoc291cmNlKV07XG4gICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5fc291cmNlc0NvbnRlbnRzKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhpcy5fc291cmNlc0NvbnRlbnRzID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXBwbGllcyB0aGUgbWFwcGluZ3Mgb2YgYSBzdWItc291cmNlLW1hcCBmb3IgYSBzcGVjaWZpYyBzb3VyY2UgZmlsZSB0byB0aGVcbiAgICogc291cmNlIG1hcCBiZWluZyBnZW5lcmF0ZWQuIEVhY2ggbWFwcGluZyB0byB0aGUgc3VwcGxpZWQgc291cmNlIGZpbGUgaXNcbiAgICogcmV3cml0dGVuIHVzaW5nIHRoZSBzdXBwbGllZCBzb3VyY2UgbWFwLiBOb3RlOiBUaGUgcmVzb2x1dGlvbiBmb3IgdGhlXG4gICAqIHJlc3VsdGluZyBtYXBwaW5ncyBpcyB0aGUgbWluaW1pdW0gb2YgdGhpcyBtYXAgYW5kIHRoZSBzdXBwbGllZCBtYXAuXG4gICAqXG4gICAqIEBwYXJhbSBhU291cmNlTWFwQ29uc3VtZXIgVGhlIHNvdXJjZSBtYXAgdG8gYmUgYXBwbGllZC5cbiAgICogQHBhcmFtIGFTb3VyY2VGaWxlIE9wdGlvbmFsLiBUaGUgZmlsZW5hbWUgb2YgdGhlIHNvdXJjZSBmaWxlLlxuICAgKiAgICAgICAgSWYgb21pdHRlZCwgU291cmNlTWFwQ29uc3VtZXIncyBmaWxlIHByb3BlcnR5IHdpbGwgYmUgdXNlZC5cbiAgICogQHBhcmFtIGFTb3VyY2VNYXBQYXRoIE9wdGlvbmFsLiBUaGUgZGlybmFtZSBvZiB0aGUgcGF0aCB0byB0aGUgc291cmNlIG1hcFxuICAgKiAgICAgICAgdG8gYmUgYXBwbGllZC4gSWYgcmVsYXRpdmUsIGl0IGlzIHJlbGF0aXZlIHRvIHRoZSBTb3VyY2VNYXBDb25zdW1lci5cbiAgICogICAgICAgIFRoaXMgcGFyYW1ldGVyIGlzIG5lZWRlZCB3aGVuIHRoZSB0d28gc291cmNlIG1hcHMgYXJlbid0IGluIHRoZSBzYW1lXG4gICAqICAgICAgICBkaXJlY3RvcnksIGFuZCB0aGUgc291cmNlIG1hcCB0byBiZSBhcHBsaWVkIGNvbnRhaW5zIHJlbGF0aXZlIHNvdXJjZVxuICAgKiAgICAgICAgcGF0aHMuIElmIHNvLCB0aG9zZSByZWxhdGl2ZSBzb3VyY2UgcGF0aHMgbmVlZCB0byBiZSByZXdyaXR0ZW5cbiAgICogICAgICAgIHJlbGF0aXZlIHRvIHRoZSBTb3VyY2VNYXBHZW5lcmF0b3IuXG4gICAqL1xuICBhcHBseVNvdXJjZU1hcChhU291cmNlTWFwQ29uc3VtZXIsIGFTb3VyY2VGaWxlLCBhU291cmNlTWFwUGF0aCkge1xuICAgIGxldCBzb3VyY2VGaWxlID0gYVNvdXJjZUZpbGU7XG4gICAgLy8gSWYgYVNvdXJjZUZpbGUgaXMgb21pdHRlZCwgd2Ugd2lsbCB1c2UgdGhlIGZpbGUgcHJvcGVydHkgb2YgdGhlIFNvdXJjZU1hcFxuICAgIGlmIChhU291cmNlRmlsZSA9PSBudWxsKSB7XG4gICAgICBpZiAoYVNvdXJjZU1hcENvbnN1bWVyLmZpbGUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJTb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLmFwcGx5U291cmNlTWFwIHJlcXVpcmVzIGVpdGhlciBhbiBleHBsaWNpdCBzb3VyY2UgZmlsZSwgXCIgK1xuICAgICAgICAgICdvciB0aGUgc291cmNlIG1hcFxcJ3MgXCJmaWxlXCIgcHJvcGVydHkuIEJvdGggd2VyZSBvbWl0dGVkLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHNvdXJjZUZpbGUgPSBhU291cmNlTWFwQ29uc3VtZXIuZmlsZTtcbiAgICB9XG4gICAgY29uc3Qgc291cmNlUm9vdCA9IHRoaXMuX3NvdXJjZVJvb3Q7XG4gICAgLy8gTWFrZSBcInNvdXJjZUZpbGVcIiByZWxhdGl2ZSBpZiBhbiBhYnNvbHV0ZSBVcmwgaXMgcGFzc2VkLlxuICAgIGlmIChzb3VyY2VSb290ICE9IG51bGwpIHtcbiAgICAgIHNvdXJjZUZpbGUgPSB1dGlsLnJlbGF0aXZlKHNvdXJjZVJvb3QsIHNvdXJjZUZpbGUpO1xuICAgIH1cbiAgICAvLyBBcHBseWluZyB0aGUgU291cmNlTWFwIGNhbiBhZGQgYW5kIHJlbW92ZSBpdGVtcyBmcm9tIHRoZSBzb3VyY2VzIGFuZFxuICAgIC8vIHRoZSBuYW1lcyBhcnJheS5cbiAgICBjb25zdCBuZXdTb3VyY2VzID0gdGhpcy5fbWFwcGluZ3MudG9BcnJheSgpLmxlbmd0aCA+IDBcbiAgICAgID8gbmV3IEFycmF5U2V0KClcbiAgICAgIDogdGhpcy5fc291cmNlcztcbiAgICBjb25zdCBuZXdOYW1lcyA9IG5ldyBBcnJheVNldCgpO1xuXG4gICAgLy8gRmluZCBtYXBwaW5ncyBmb3IgdGhlIFwic291cmNlRmlsZVwiXG4gICAgdGhpcy5fbWFwcGluZ3MudW5zb3J0ZWRGb3JFYWNoKGZ1bmN0aW9uKG1hcHBpbmcpIHtcbiAgICAgIGlmIChtYXBwaW5nLnNvdXJjZSA9PT0gc291cmNlRmlsZSAmJiBtYXBwaW5nLm9yaWdpbmFsTGluZSAhPSBudWxsKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGl0IGNhbiBiZSBtYXBwZWQgYnkgdGhlIHNvdXJjZSBtYXAsIHRoZW4gdXBkYXRlIHRoZSBtYXBwaW5nLlxuICAgICAgICBjb25zdCBvcmlnaW5hbCA9IGFTb3VyY2VNYXBDb25zdW1lci5vcmlnaW5hbFBvc2l0aW9uRm9yKHtcbiAgICAgICAgICBsaW5lOiBtYXBwaW5nLm9yaWdpbmFsTGluZSxcbiAgICAgICAgICBjb2x1bW46IG1hcHBpbmcub3JpZ2luYWxDb2x1bW5cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChvcmlnaW5hbC5zb3VyY2UgIT0gbnVsbCkge1xuICAgICAgICAgIC8vIENvcHkgbWFwcGluZ1xuICAgICAgICAgIG1hcHBpbmcuc291cmNlID0gb3JpZ2luYWwuc291cmNlO1xuICAgICAgICAgIGlmIChhU291cmNlTWFwUGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgICBtYXBwaW5nLnNvdXJjZSA9IHV0aWwuam9pbihhU291cmNlTWFwUGF0aCwgbWFwcGluZy5zb3VyY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICAgICAgICBtYXBwaW5nLnNvdXJjZSA9IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgbWFwcGluZy5zb3VyY2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsTGluZSA9IG9yaWdpbmFsLmxpbmU7XG4gICAgICAgICAgbWFwcGluZy5vcmlnaW5hbENvbHVtbiA9IG9yaWdpbmFsLmNvbHVtbjtcbiAgICAgICAgICBpZiAob3JpZ2luYWwubmFtZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBtYXBwaW5nLm5hbWUgPSBvcmlnaW5hbC5uYW1lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzb3VyY2UgPSBtYXBwaW5nLnNvdXJjZTtcbiAgICAgIGlmIChzb3VyY2UgIT0gbnVsbCAmJiAhbmV3U291cmNlcy5oYXMoc291cmNlKSkge1xuICAgICAgICBuZXdTb3VyY2VzLmFkZChzb3VyY2UpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBuYW1lID0gbWFwcGluZy5uYW1lO1xuICAgICAgaWYgKG5hbWUgIT0gbnVsbCAmJiAhbmV3TmFtZXMuaGFzKG5hbWUpKSB7XG4gICAgICAgIG5ld05hbWVzLmFkZChuYW1lKTtcbiAgICAgIH1cblxuICAgIH0sIHRoaXMpO1xuICAgIHRoaXMuX3NvdXJjZXMgPSBuZXdTb3VyY2VzO1xuICAgIHRoaXMuX25hbWVzID0gbmV3TmFtZXM7XG5cbiAgICAvLyBDb3B5IHNvdXJjZXNDb250ZW50cyBvZiBhcHBsaWVkIG1hcC5cbiAgICBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlcy5mb3JFYWNoKGZ1bmN0aW9uKHNyY0ZpbGUpIHtcbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBhU291cmNlTWFwQ29uc3VtZXIuc291cmNlQ29udGVudEZvcihzcmNGaWxlKTtcbiAgICAgIGlmIChjb250ZW50ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGFTb3VyY2VNYXBQYXRoICE9IG51bGwpIHtcbiAgICAgICAgICBzcmNGaWxlID0gdXRpbC5qb2luKGFTb3VyY2VNYXBQYXRoLCBzcmNGaWxlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICAgICAgc3JjRmlsZSA9IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgc3JjRmlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRTb3VyY2VDb250ZW50KHNyY0ZpbGUsIGNvbnRlbnQpO1xuICAgICAgfVxuICAgIH0sIHRoaXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgbWFwcGluZyBjYW4gaGF2ZSBvbmUgb2YgdGhlIHRocmVlIGxldmVscyBvZiBkYXRhOlxuICAgKlxuICAgKiAgIDEuIEp1c3QgdGhlIGdlbmVyYXRlZCBwb3NpdGlvbi5cbiAgICogICAyLiBUaGUgR2VuZXJhdGVkIHBvc2l0aW9uLCBvcmlnaW5hbCBwb3NpdGlvbiwgYW5kIG9yaWdpbmFsIHNvdXJjZS5cbiAgICogICAzLiBHZW5lcmF0ZWQgYW5kIG9yaWdpbmFsIHBvc2l0aW9uLCBvcmlnaW5hbCBzb3VyY2UsIGFzIHdlbGwgYXMgYSBuYW1lXG4gICAqICAgICAgdG9rZW4uXG4gICAqXG4gICAqIFRvIG1haW50YWluIGNvbnNpc3RlbmN5LCB3ZSB2YWxpZGF0ZSB0aGF0IGFueSBuZXcgbWFwcGluZyBiZWluZyBhZGRlZCBmYWxsc1xuICAgKiBpbiB0byBvbmUgb2YgdGhlc2UgY2F0ZWdvcmllcy5cbiAgICovXG4gIF92YWxpZGF0ZU1hcHBpbmcoYUdlbmVyYXRlZCwgYU9yaWdpbmFsLCBhU291cmNlLCBhTmFtZSkge1xuICAgIC8vIFdoZW4gYU9yaWdpbmFsIGlzIHRydXRoeSBidXQgaGFzIGVtcHR5IHZhbHVlcyBmb3IgLmxpbmUgYW5kIC5jb2x1bW4sXG4gICAgLy8gaXQgaXMgbW9zdCBsaWtlbHkgYSBwcm9ncmFtbWVyIGVycm9yLiBJbiB0aGlzIGNhc2Ugd2UgdGhyb3cgYSB2ZXJ5XG4gICAgLy8gc3BlY2lmaWMgZXJyb3IgbWVzc2FnZSB0byB0cnkgdG8gZ3VpZGUgdGhlbSB0aGUgcmlnaHQgd2F5LlxuICAgIC8vIEZvciBleGFtcGxlOiBodHRwczovL2dpdGh1Yi5jb20vUG9seW1lci9wb2x5bWVyLWJ1bmRsZXIvcHVsbC81MTlcbiAgICBpZiAoYU9yaWdpbmFsICYmIHR5cGVvZiBhT3JpZ2luYWwubGluZSAhPT0gXCJudW1iZXJcIiAmJiB0eXBlb2YgYU9yaWdpbmFsLmNvbHVtbiAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIm9yaWdpbmFsLmxpbmUgYW5kIG9yaWdpbmFsLmNvbHVtbiBhcmUgbm90IG51bWJlcnMgLS0geW91IHByb2JhYmx5IG1lYW50IHRvIG9taXQgXCIgK1xuICAgICAgICAgICAgXCJ0aGUgb3JpZ2luYWwgbWFwcGluZyBlbnRpcmVseSBhbmQgb25seSBtYXAgdGhlIGdlbmVyYXRlZCBwb3NpdGlvbi4gSWYgc28sIHBhc3MgXCIgK1xuICAgICAgICAgICAgXCJudWxsIGZvciB0aGUgb3JpZ2luYWwgbWFwcGluZyBpbnN0ZWFkIG9mIGFuIG9iamVjdCB3aXRoIGVtcHR5IG9yIG51bGwgdmFsdWVzLlwiXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaWYgKGFHZW5lcmF0ZWQgJiYgXCJsaW5lXCIgaW4gYUdlbmVyYXRlZCAmJiBcImNvbHVtblwiIGluIGFHZW5lcmF0ZWRcbiAgICAgICAgJiYgYUdlbmVyYXRlZC5saW5lID4gMCAmJiBhR2VuZXJhdGVkLmNvbHVtbiA+PSAwXG4gICAgICAgICYmICFhT3JpZ2luYWwgJiYgIWFTb3VyY2UgJiYgIWFOYW1lKSB7XG4gICAgICAvLyBDYXNlIDEuXG5cbiAgICB9IGVsc2UgaWYgKGFHZW5lcmF0ZWQgJiYgXCJsaW5lXCIgaW4gYUdlbmVyYXRlZCAmJiBcImNvbHVtblwiIGluIGFHZW5lcmF0ZWRcbiAgICAgICAgICAgICAmJiBhT3JpZ2luYWwgJiYgXCJsaW5lXCIgaW4gYU9yaWdpbmFsICYmIFwiY29sdW1uXCIgaW4gYU9yaWdpbmFsXG4gICAgICAgICAgICAgJiYgYUdlbmVyYXRlZC5saW5lID4gMCAmJiBhR2VuZXJhdGVkLmNvbHVtbiA+PSAwXG4gICAgICAgICAgICAgJiYgYU9yaWdpbmFsLmxpbmUgPiAwICYmIGFPcmlnaW5hbC5jb2x1bW4gPj0gMFxuICAgICAgICAgICAgICYmIGFTb3VyY2UpIHtcbiAgICAgIC8vIENhc2VzIDIgYW5kIDMuXG5cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBtYXBwaW5nOiBcIiArIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgZ2VuZXJhdGVkOiBhR2VuZXJhdGVkLFxuICAgICAgICBzb3VyY2U6IGFTb3VyY2UsXG4gICAgICAgIG9yaWdpbmFsOiBhT3JpZ2luYWwsXG4gICAgICAgIG5hbWU6IGFOYW1lXG4gICAgICB9KSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNlcmlhbGl6ZSB0aGUgYWNjdW11bGF0ZWQgbWFwcGluZ3MgaW4gdG8gdGhlIHN0cmVhbSBvZiBiYXNlIDY0IFZMUXNcbiAgICogc3BlY2lmaWVkIGJ5IHRoZSBzb3VyY2UgbWFwIGZvcm1hdC5cbiAgICovXG4gIF9zZXJpYWxpemVNYXBwaW5ncygpIHtcbiAgICBsZXQgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuICAgIGxldCBwcmV2aW91c0dlbmVyYXRlZExpbmUgPSAxO1xuICAgIGxldCBwcmV2aW91c09yaWdpbmFsQ29sdW1uID0gMDtcbiAgICBsZXQgcHJldmlvdXNPcmlnaW5hbExpbmUgPSAwO1xuICAgIGxldCBwcmV2aW91c05hbWUgPSAwO1xuICAgIGxldCBwcmV2aW91c1NvdXJjZSA9IDA7XG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgbGV0IG5leHQ7XG4gICAgbGV0IG1hcHBpbmc7XG4gICAgbGV0IG5hbWVJZHg7XG4gICAgbGV0IHNvdXJjZUlkeDtcblxuICAgIGNvbnN0IG1hcHBpbmdzID0gdGhpcy5fbWFwcGluZ3MudG9BcnJheSgpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBtYXBwaW5ncy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgbWFwcGluZyA9IG1hcHBpbmdzW2ldO1xuICAgICAgbmV4dCA9IFwiXCI7XG5cbiAgICAgIGlmIChtYXBwaW5nLmdlbmVyYXRlZExpbmUgIT09IHByZXZpb3VzR2VuZXJhdGVkTGluZSkge1xuICAgICAgICBwcmV2aW91c0dlbmVyYXRlZENvbHVtbiA9IDA7XG4gICAgICAgIHdoaWxlIChtYXBwaW5nLmdlbmVyYXRlZExpbmUgIT09IHByZXZpb3VzR2VuZXJhdGVkTGluZSkge1xuICAgICAgICAgIG5leHQgKz0gXCI7XCI7XG4gICAgICAgICAgcHJldmlvdXNHZW5lcmF0ZWRMaW5lKys7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaSA+IDApIHtcbiAgICAgICAgaWYgKCF1dGlsLmNvbXBhcmVCeUdlbmVyYXRlZFBvc2l0aW9uc0luZmxhdGVkKG1hcHBpbmcsIG1hcHBpbmdzW2kgLSAxXSkpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBuZXh0ICs9IFwiLFwiO1xuICAgICAgfVxuXG4gICAgICBuZXh0ICs9IGJhc2U2NFZMUS5lbmNvZGUobWFwcGluZy5nZW5lcmF0ZWRDb2x1bW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4pO1xuICAgICAgcHJldmlvdXNHZW5lcmF0ZWRDb2x1bW4gPSBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcblxuICAgICAgaWYgKG1hcHBpbmcuc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgc291cmNlSWR4ID0gdGhpcy5fc291cmNlcy5pbmRleE9mKG1hcHBpbmcuc291cmNlKTtcbiAgICAgICAgbmV4dCArPSBiYXNlNjRWTFEuZW5jb2RlKHNvdXJjZUlkeCAtIHByZXZpb3VzU291cmNlKTtcbiAgICAgICAgcHJldmlvdXNTb3VyY2UgPSBzb3VyY2VJZHg7XG5cbiAgICAgICAgLy8gbGluZXMgYXJlIHN0b3JlZCAwLWJhc2VkIGluIFNvdXJjZU1hcCBzcGVjIHZlcnNpb24gM1xuICAgICAgICBuZXh0ICs9IGJhc2U2NFZMUS5lbmNvZGUobWFwcGluZy5vcmlnaW5hbExpbmUgLSAxXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0gcHJldmlvdXNPcmlnaW5hbExpbmUpO1xuICAgICAgICBwcmV2aW91c09yaWdpbmFsTGluZSA9IG1hcHBpbmcub3JpZ2luYWxMaW5lIC0gMTtcblxuICAgICAgICBuZXh0ICs9IGJhc2U2NFZMUS5lbmNvZGUobWFwcGluZy5vcmlnaW5hbENvbHVtblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtIHByZXZpb3VzT3JpZ2luYWxDb2x1bW4pO1xuICAgICAgICBwcmV2aW91c09yaWdpbmFsQ29sdW1uID0gbWFwcGluZy5vcmlnaW5hbENvbHVtbjtcblxuICAgICAgICBpZiAobWFwcGluZy5uYW1lICE9IG51bGwpIHtcbiAgICAgICAgICBuYW1lSWR4ID0gdGhpcy5fbmFtZXMuaW5kZXhPZihtYXBwaW5nLm5hbWUpO1xuICAgICAgICAgIG5leHQgKz0gYmFzZTY0VkxRLmVuY29kZShuYW1lSWR4IC0gcHJldmlvdXNOYW1lKTtcbiAgICAgICAgICBwcmV2aW91c05hbWUgPSBuYW1lSWR4O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdCArPSBuZXh0O1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBfZ2VuZXJhdGVTb3VyY2VzQ29udGVudChhU291cmNlcywgYVNvdXJjZVJvb3QpIHtcbiAgICByZXR1cm4gYVNvdXJjZXMubWFwKGZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgaWYgKCF0aGlzLl9zb3VyY2VzQ29udGVudHMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoYVNvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgICBzb3VyY2UgPSB1dGlsLnJlbGF0aXZlKGFTb3VyY2VSb290LCBzb3VyY2UpO1xuICAgICAgfVxuICAgICAgY29uc3Qga2V5ID0gdXRpbC50b1NldFN0cmluZyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLl9zb3VyY2VzQ29udGVudHMsIGtleSlcbiAgICAgICAgPyB0aGlzLl9zb3VyY2VzQ29udGVudHNba2V5XVxuICAgICAgICA6IG51bGw7XG4gICAgfSwgdGhpcyk7XG4gIH1cblxuICAvKipcbiAgICogRXh0ZXJuYWxpemUgdGhlIHNvdXJjZSBtYXAuXG4gICAqL1xuICB0b0pTT04oKSB7XG4gICAgY29uc3QgbWFwID0ge1xuICAgICAgdmVyc2lvbjogdGhpcy5fdmVyc2lvbixcbiAgICAgIHNvdXJjZXM6IHRoaXMuX3NvdXJjZXMudG9BcnJheSgpLFxuICAgICAgbmFtZXM6IHRoaXMuX25hbWVzLnRvQXJyYXkoKSxcbiAgICAgIG1hcHBpbmdzOiB0aGlzLl9zZXJpYWxpemVNYXBwaW5ncygpXG4gICAgfTtcbiAgICBpZiAodGhpcy5fZmlsZSAhPSBudWxsKSB7XG4gICAgICBtYXAuZmlsZSA9IHRoaXMuX2ZpbGU7XG4gICAgfVxuICAgIGlmICh0aGlzLl9zb3VyY2VSb290ICE9IG51bGwpIHtcbiAgICAgIG1hcC5zb3VyY2VSb290ID0gdGhpcy5fc291cmNlUm9vdDtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3NvdXJjZXNDb250ZW50cykge1xuICAgICAgbWFwLnNvdXJjZXNDb250ZW50ID0gdGhpcy5fZ2VuZXJhdGVTb3VyY2VzQ29udGVudChtYXAuc291cmNlcywgbWFwLnNvdXJjZVJvb3QpO1xuICAgIH1cblxuICAgIHJldHVybiBtYXA7XG4gIH1cblxuICAvKipcbiAgICogUmVuZGVyIHRoZSBzb3VyY2UgbWFwIGJlaW5nIGdlbmVyYXRlZCB0byBhIHN0cmluZy5cbiAgICovXG4gIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLnRvSlNPTigpKTtcbiAgfVxufVxuXG5Tb3VyY2VNYXBHZW5lcmF0b3IucHJvdG90eXBlLl92ZXJzaW9uID0gMztcbmV4cG9ydHMuU291cmNlTWFwR2VuZXJhdG9yID0gU291cmNlTWFwR2VuZXJhdG9yO1xuIiwKICAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG5leHBvcnRzLkdSRUFURVNUX0xPV0VSX0JPVU5EID0gMTtcbmV4cG9ydHMuTEVBU1RfVVBQRVJfQk9VTkQgPSAyO1xuXG4vKipcbiAqIFJlY3Vyc2l2ZSBpbXBsZW1lbnRhdGlvbiBvZiBiaW5hcnkgc2VhcmNoLlxuICpcbiAqIEBwYXJhbSBhTG93IEluZGljZXMgaGVyZSBhbmQgbG93ZXIgZG8gbm90IGNvbnRhaW4gdGhlIG5lZWRsZS5cbiAqIEBwYXJhbSBhSGlnaCBJbmRpY2VzIGhlcmUgYW5kIGhpZ2hlciBkbyBub3QgY29udGFpbiB0aGUgbmVlZGxlLlxuICogQHBhcmFtIGFOZWVkbGUgVGhlIGVsZW1lbnQgYmVpbmcgc2VhcmNoZWQgZm9yLlxuICogQHBhcmFtIGFIYXlzdGFjayBUaGUgbm9uLWVtcHR5IGFycmF5IGJlaW5nIHNlYXJjaGVkLlxuICogQHBhcmFtIGFDb21wYXJlIEZ1bmN0aW9uIHdoaWNoIHRha2VzIHR3byBlbGVtZW50cyBhbmQgcmV0dXJucyAtMSwgMCwgb3IgMS5cbiAqIEBwYXJhbSBhQmlhcyBFaXRoZXIgJ2JpbmFyeVNlYXJjaC5HUkVBVEVTVF9MT1dFUl9CT1VORCcgb3JcbiAqICAgICAnYmluYXJ5U2VhcmNoLkxFQVNUX1VQUEVSX0JPVU5EJy4gU3BlY2lmaWVzIHdoZXRoZXIgdG8gcmV0dXJuIHRoZVxuICogICAgIGNsb3Nlc3QgZWxlbWVudCB0aGF0IGlzIHNtYWxsZXIgdGhhbiBvciBncmVhdGVyIHRoYW4gdGhlIG9uZSB3ZSBhcmVcbiAqICAgICBzZWFyY2hpbmcgZm9yLCByZXNwZWN0aXZlbHksIGlmIHRoZSBleGFjdCBlbGVtZW50IGNhbm5vdCBiZSBmb3VuZC5cbiAqL1xuZnVuY3Rpb24gcmVjdXJzaXZlU2VhcmNoKGFMb3csIGFIaWdoLCBhTmVlZGxlLCBhSGF5c3RhY2ssIGFDb21wYXJlLCBhQmlhcykge1xuICAvLyBUaGlzIGZ1bmN0aW9uIHRlcm1pbmF0ZXMgd2hlbiBvbmUgb2YgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxuICAvL1xuICAvLyAgIDEuIFdlIGZpbmQgdGhlIGV4YWN0IGVsZW1lbnQgd2UgYXJlIGxvb2tpbmcgZm9yLlxuICAvL1xuICAvLyAgIDIuIFdlIGRpZCBub3QgZmluZCB0aGUgZXhhY3QgZWxlbWVudCwgYnV0IHdlIGNhbiByZXR1cm4gdGhlIGluZGV4IG9mXG4gIC8vICAgICAgdGhlIG5leHQtY2xvc2VzdCBlbGVtZW50LlxuICAvL1xuICAvLyAgIDMuIFdlIGRpZCBub3QgZmluZCB0aGUgZXhhY3QgZWxlbWVudCwgYW5kIHRoZXJlIGlzIG5vIG5leHQtY2xvc2VzdFxuICAvLyAgICAgIGVsZW1lbnQgdGhhbiB0aGUgb25lIHdlIGFyZSBzZWFyY2hpbmcgZm9yLCBzbyB3ZSByZXR1cm4gLTEuXG4gIGNvbnN0IG1pZCA9IE1hdGguZmxvb3IoKGFIaWdoIC0gYUxvdykgLyAyKSArIGFMb3c7XG4gIGNvbnN0IGNtcCA9IGFDb21wYXJlKGFOZWVkbGUsIGFIYXlzdGFja1ttaWRdLCB0cnVlKTtcbiAgaWYgKGNtcCA9PT0gMCkge1xuICAgIC8vIEZvdW5kIHRoZSBlbGVtZW50IHdlIGFyZSBsb29raW5nIGZvci5cbiAgICByZXR1cm4gbWlkO1xuICB9IGVsc2UgaWYgKGNtcCA+IDApIHtcbiAgICAvLyBPdXIgbmVlZGxlIGlzIGdyZWF0ZXIgdGhhbiBhSGF5c3RhY2tbbWlkXS5cbiAgICBpZiAoYUhpZ2ggLSBtaWQgPiAxKSB7XG4gICAgICAvLyBUaGUgZWxlbWVudCBpcyBpbiB0aGUgdXBwZXIgaGFsZi5cbiAgICAgIHJldHVybiByZWN1cnNpdmVTZWFyY2gobWlkLCBhSGlnaCwgYU5lZWRsZSwgYUhheXN0YWNrLCBhQ29tcGFyZSwgYUJpYXMpO1xuICAgIH1cblxuICAgIC8vIFRoZSBleGFjdCBuZWVkbGUgZWxlbWVudCB3YXMgbm90IGZvdW5kIGluIHRoaXMgaGF5c3RhY2suIERldGVybWluZSBpZlxuICAgIC8vIHdlIGFyZSBpbiB0ZXJtaW5hdGlvbiBjYXNlICgzKSBvciAoMikgYW5kIHJldHVybiB0aGUgYXBwcm9wcmlhdGUgdGhpbmcuXG4gICAgaWYgKGFCaWFzID09IGV4cG9ydHMuTEVBU1RfVVBQRVJfQk9VTkQpIHtcbiAgICAgIHJldHVybiBhSGlnaCA8IGFIYXlzdGFjay5sZW5ndGggPyBhSGlnaCA6IC0xO1xuICAgIH1cbiAgICByZXR1cm4gbWlkO1xuICB9XG5cbiAgLy8gT3VyIG5lZWRsZSBpcyBsZXNzIHRoYW4gYUhheXN0YWNrW21pZF0uXG4gIGlmIChtaWQgLSBhTG93ID4gMSkge1xuICAgIC8vIFRoZSBlbGVtZW50IGlzIGluIHRoZSBsb3dlciBoYWxmLlxuICAgIHJldHVybiByZWN1cnNpdmVTZWFyY2goYUxvdywgbWlkLCBhTmVlZGxlLCBhSGF5c3RhY2ssIGFDb21wYXJlLCBhQmlhcyk7XG4gIH1cblxuICAvLyB3ZSBhcmUgaW4gdGVybWluYXRpb24gY2FzZSAoMykgb3IgKDIpIGFuZCByZXR1cm4gdGhlIGFwcHJvcHJpYXRlIHRoaW5nLlxuICBpZiAoYUJpYXMgPT0gZXhwb3J0cy5MRUFTVF9VUFBFUl9CT1VORCkge1xuICAgIHJldHVybiBtaWQ7XG4gIH1cbiAgcmV0dXJuIGFMb3cgPCAwID8gLTEgOiBhTG93O1xufVxuXG4vKipcbiAqIFRoaXMgaXMgYW4gaW1wbGVtZW50YXRpb24gb2YgYmluYXJ5IHNlYXJjaCB3aGljaCB3aWxsIGFsd2F5cyB0cnkgYW5kIHJldHVyblxuICogdGhlIGluZGV4IG9mIHRoZSBjbG9zZXN0IGVsZW1lbnQgaWYgdGhlcmUgaXMgbm8gZXhhY3QgaGl0LiBUaGlzIGlzIGJlY2F1c2VcbiAqIG1hcHBpbmdzIGJldHdlZW4gb3JpZ2luYWwgYW5kIGdlbmVyYXRlZCBsaW5lL2NvbCBwYWlycyBhcmUgc2luZ2xlIHBvaW50cyxcbiAqIGFuZCB0aGVyZSBpcyBhbiBpbXBsaWNpdCByZWdpb24gYmV0d2VlbiBlYWNoIG9mIHRoZW0sIHNvIGEgbWlzcyBqdXN0IG1lYW5zXG4gKiB0aGF0IHlvdSBhcmVuJ3Qgb24gdGhlIHZlcnkgc3RhcnQgb2YgYSByZWdpb24uXG4gKlxuICogQHBhcmFtIGFOZWVkbGUgVGhlIGVsZW1lbnQgeW91IGFyZSBsb29raW5nIGZvci5cbiAqIEBwYXJhbSBhSGF5c3RhY2sgVGhlIGFycmF5IHRoYXQgaXMgYmVpbmcgc2VhcmNoZWQuXG4gKiBAcGFyYW0gYUNvbXBhcmUgQSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0aGUgbmVlZGxlIGFuZCBhbiBlbGVtZW50IGluIHRoZVxuICogICAgIGFycmF5IGFuZCByZXR1cm5zIC0xLCAwLCBvciAxIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBuZWVkbGUgaXMgbGVzc1xuICogICAgIHRoYW4sIGVxdWFsIHRvLCBvciBncmVhdGVyIHRoYW4gdGhlIGVsZW1lbnQsIHJlc3BlY3RpdmVseS5cbiAqIEBwYXJhbSBhQmlhcyBFaXRoZXIgJ2JpbmFyeVNlYXJjaC5HUkVBVEVTVF9MT1dFUl9CT1VORCcgb3JcbiAqICAgICAnYmluYXJ5U2VhcmNoLkxFQVNUX1VQUEVSX0JPVU5EJy4gU3BlY2lmaWVzIHdoZXRoZXIgdG8gcmV0dXJuIHRoZVxuICogICAgIGNsb3Nlc3QgZWxlbWVudCB0aGF0IGlzIHNtYWxsZXIgdGhhbiBvciBncmVhdGVyIHRoYW4gdGhlIG9uZSB3ZSBhcmVcbiAqICAgICBzZWFyY2hpbmcgZm9yLCByZXNwZWN0aXZlbHksIGlmIHRoZSBleGFjdCBlbGVtZW50IGNhbm5vdCBiZSBmb3VuZC5cbiAqICAgICBEZWZhdWx0cyB0byAnYmluYXJ5U2VhcmNoLkdSRUFURVNUX0xPV0VSX0JPVU5EJy5cbiAqL1xuZXhwb3J0cy5zZWFyY2ggPSBmdW5jdGlvbiBzZWFyY2goYU5lZWRsZSwgYUhheXN0YWNrLCBhQ29tcGFyZSwgYUJpYXMpIHtcbiAgaWYgKGFIYXlzdGFjay5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICBsZXQgaW5kZXggPSByZWN1cnNpdmVTZWFyY2goLTEsIGFIYXlzdGFjay5sZW5ndGgsIGFOZWVkbGUsIGFIYXlzdGFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFDb21wYXJlLCBhQmlhcyB8fCBleHBvcnRzLkdSRUFURVNUX0xPV0VSX0JPVU5EKTtcbiAgaWYgKGluZGV4IDwgMCkge1xuICAgIHJldHVybiAtMTtcbiAgfVxuXG4gIC8vIFdlIGhhdmUgZm91bmQgZWl0aGVyIHRoZSBleGFjdCBlbGVtZW50LCBvciB0aGUgbmV4dC1jbG9zZXN0IGVsZW1lbnQgdGhhblxuICAvLyB0aGUgb25lIHdlIGFyZSBzZWFyY2hpbmcgZm9yLiBIb3dldmVyLCB0aGVyZSBtYXkgYmUgbW9yZSB0aGFuIG9uZSBzdWNoXG4gIC8vIGVsZW1lbnQuIE1ha2Ugc3VyZSB3ZSBhbHdheXMgcmV0dXJuIHRoZSBzbWFsbGVzdCBvZiB0aGVzZS5cbiAgd2hpbGUgKGluZGV4IC0gMSA+PSAwKSB7XG4gICAgaWYgKGFDb21wYXJlKGFIYXlzdGFja1tpbmRleF0sIGFIYXlzdGFja1tpbmRleCAtIDFdLCB0cnVlKSAhPT0gMCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC0taW5kZXg7XG4gIH1cblxuICByZXR1cm4gaW5kZXg7XG59O1xuIiwKICAiLyogRGV0ZXJtaW5lIGJyb3dzZXIgdnMgbm9kZSBlbnZpcm9ubWVudCBieSB0ZXN0aW5nIHRoZSBkZWZhdWx0IHRvcCBsZXZlbCBjb250ZXh0LiBTb2x1dGlvbiBjb3VydGVzeSBvZjogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTc1NzU3OTAvZW52aXJvbm1lbnQtZGV0ZWN0aW9uLW5vZGUtanMtb3ItYnJvd3NlciAqL1xuY29uc3QgaXNCcm93c2VyRW52aXJvbm1lbnQgPSAoZnVuY3Rpb24oKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSAmJiAodGhpcyA9PT0gd2luZG93KTtcbn0pLmNhbGwoKTtcblxuaWYgKGlzQnJvd3NlckVudmlyb25tZW50KSB7XG4gIC8vIFdlYiB2ZXJzaW9uIG9mIHJlYWRpbmcgYSB3YXNtIGZpbGUgaW50byBhbiBhcnJheSBidWZmZXIuXG5cbiAgbGV0IG1hcHBpbmdzV2FzbSA9IG51bGw7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZWFkV2FzbSgpIHtcbiAgICBpZiAodHlwZW9mIG1hcHBpbmdzV2FzbSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIGZldGNoKG1hcHBpbmdzV2FzbSlcbiAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYXJyYXlCdWZmZXIoKSk7XG4gICAgfVxuICAgIGlmIChtYXBwaW5nc1dhc20gaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtYXBwaW5nc1dhc20pO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBwcm92aWRlIHRoZSBzdHJpbmcgVVJMIG9yIEFycmF5QnVmZmVyIGNvbnRlbnRzIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJvZiBsaWIvbWFwcGluZ3Mud2FzbSBieSBjYWxsaW5nIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJTb3VyY2VNYXBDb25zdW1lci5pbml0aWFsaXplKHsgJ2xpYi9tYXBwaW5ncy53YXNtJzogLi4uIH0pIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJiZWZvcmUgdXNpbmcgU291cmNlTWFwQ29uc3VtZXJcIik7XG4gIH07XG5cbiAgbW9kdWxlLmV4cG9ydHMuaW5pdGlhbGl6ZSA9IGlucHV0ID0+IG1hcHBpbmdzV2FzbSA9IGlucHV0O1xufSBlbHNlIHtcbiAgLy8gTm9kZSB2ZXJzaW9uIG9mIHJlYWRpbmcgYSB3YXNtIGZpbGUgaW50byBhbiBhcnJheSBidWZmZXIuXG4gIGNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuICBjb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiByZWFkV2FzbSgpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgY29uc3Qgd2FzbVBhdGggPSBwYXRoLmpvaW4oX19kaXJuYW1lLCBcIm1hcHBpbmdzLndhc21cIik7XG4gICAgICBmcy5yZWFkRmlsZSh3YXNtUGF0aCwgbnVsbCwgKGVycm9yLCBkYXRhKSA9PiB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzb2x2ZShkYXRhLmJ1ZmZlcik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICBtb2R1bGUuZXhwb3J0cy5pbml0aWFsaXplID0gXyA9PiB7XG4gICAgY29uc29sZS5kZWJ1ZyhcIlNvdXJjZU1hcENvbnN1bWVyLmluaXRpYWxpemUgaXMgYSBuby1vcCB3aGVuIHJ1bm5pbmcgaW4gbm9kZS5qc1wiKTtcbiAgfTtcbn1cbiIsCiAgImNvbnN0IHJlYWRXYXNtID0gcmVxdWlyZShcIi4uL2xpYi9yZWFkLXdhc21cIik7XG5cbi8qKlxuICogUHJvdmlkZSB0aGUgSklUIHdpdGggYSBuaWNlIHNoYXBlIC8gaGlkZGVuIGNsYXNzLlxuICovXG5mdW5jdGlvbiBNYXBwaW5nKCkge1xuICB0aGlzLmdlbmVyYXRlZExpbmUgPSAwO1xuICB0aGlzLmdlbmVyYXRlZENvbHVtbiA9IDA7XG4gIHRoaXMubGFzdEdlbmVyYXRlZENvbHVtbiA9IG51bGw7XG4gIHRoaXMuc291cmNlID0gbnVsbDtcbiAgdGhpcy5vcmlnaW5hbExpbmUgPSBudWxsO1xuICB0aGlzLm9yaWdpbmFsQ29sdW1uID0gbnVsbDtcbiAgdGhpcy5uYW1lID0gbnVsbDtcbn1cblxubGV0IGNhY2hlZFdhc20gPSBudWxsO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHdhc20oKSB7XG4gIGlmIChjYWNoZWRXYXNtKSB7XG4gICAgcmV0dXJuIGNhY2hlZFdhc207XG4gIH1cblxuICBjb25zdCBjYWxsYmFja1N0YWNrID0gW107XG5cbiAgY2FjaGVkV2FzbSA9IHJlYWRXYXNtKCkudGhlbihidWZmZXIgPT4ge1xuICAgICAgcmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlKGJ1ZmZlciwge1xuICAgICAgICBlbnY6IHtcbiAgICAgICAgICBtYXBwaW5nX2NhbGxiYWNrKFxuICAgICAgICAgICAgZ2VuZXJhdGVkTGluZSxcbiAgICAgICAgICAgIGdlbmVyYXRlZENvbHVtbixcblxuICAgICAgICAgICAgaGFzTGFzdEdlbmVyYXRlZENvbHVtbixcbiAgICAgICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4sXG5cbiAgICAgICAgICAgIGhhc09yaWdpbmFsLFxuICAgICAgICAgICAgc291cmNlLFxuICAgICAgICAgICAgb3JpZ2luYWxMaW5lLFxuICAgICAgICAgICAgb3JpZ2luYWxDb2x1bW4sXG5cbiAgICAgICAgICAgIGhhc05hbWUsXG4gICAgICAgICAgICBuYW1lXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb25zdCBtYXBwaW5nID0gbmV3IE1hcHBpbmcoKTtcbiAgICAgICAgICAgIC8vIEpTIHVzZXMgMS1iYXNlZCBsaW5lIG51bWJlcnMsIHdhc20gdXNlcyAwLWJhc2VkLlxuICAgICAgICAgICAgbWFwcGluZy5nZW5lcmF0ZWRMaW5lID0gZ2VuZXJhdGVkTGluZSArIDE7XG4gICAgICAgICAgICBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbiA9IGdlbmVyYXRlZENvbHVtbjtcblxuICAgICAgICAgICAgaWYgKGhhc0xhc3RHZW5lcmF0ZWRDb2x1bW4pIHtcbiAgICAgICAgICAgICAgLy8gSlMgdXNlcyBpbmNsdXNpdmUgbGFzdCBnZW5lcmF0ZWQgY29sdW1uLCB3YXNtIHVzZXMgZXhjbHVzaXZlLlxuICAgICAgICAgICAgICBtYXBwaW5nLmxhc3RHZW5lcmF0ZWRDb2x1bW4gPSBsYXN0R2VuZXJhdGVkQ29sdW1uIC0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGhhc09yaWdpbmFsKSB7XG4gICAgICAgICAgICAgIG1hcHBpbmcuc291cmNlID0gc291cmNlO1xuICAgICAgICAgICAgICAvLyBKUyB1c2VzIDEtYmFzZWQgbGluZSBudW1iZXJzLCB3YXNtIHVzZXMgMC1iYXNlZC5cbiAgICAgICAgICAgICAgbWFwcGluZy5vcmlnaW5hbExpbmUgPSBvcmlnaW5hbExpbmUgKyAxO1xuICAgICAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uID0gb3JpZ2luYWxDb2x1bW47XG5cbiAgICAgICAgICAgICAgaWYgKGhhc05hbWUpIHtcbiAgICAgICAgICAgICAgICBtYXBwaW5nLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbGxiYWNrU3RhY2tbY2FsbGJhY2tTdGFjay5sZW5ndGggLSAxXShtYXBwaW5nKTtcbiAgICAgICAgICB9LFxuXG4gICAgICAgICAgc3RhcnRfYWxsX2dlbmVyYXRlZF9sb2NhdGlvbnNfZm9yKCkgeyBjb25zb2xlLnRpbWUoXCJhbGxfZ2VuZXJhdGVkX2xvY2F0aW9uc19mb3JcIik7IH0sXG4gICAgICAgICAgZW5kX2FsbF9nZW5lcmF0ZWRfbG9jYXRpb25zX2ZvcigpIHsgY29uc29sZS50aW1lRW5kKFwiYWxsX2dlbmVyYXRlZF9sb2NhdGlvbnNfZm9yXCIpOyB9LFxuXG4gICAgICAgICAgc3RhcnRfY29tcHV0ZV9jb2x1bW5fc3BhbnMoKSB7IGNvbnNvbGUudGltZShcImNvbXB1dGVfY29sdW1uX3NwYW5zXCIpOyB9LFxuICAgICAgICAgIGVuZF9jb21wdXRlX2NvbHVtbl9zcGFucygpIHsgY29uc29sZS50aW1lRW5kKFwiY29tcHV0ZV9jb2x1bW5fc3BhbnNcIik7IH0sXG5cbiAgICAgICAgICBzdGFydF9nZW5lcmF0ZWRfbG9jYXRpb25fZm9yKCkgeyBjb25zb2xlLnRpbWUoXCJnZW5lcmF0ZWRfbG9jYXRpb25fZm9yXCIpOyB9LFxuICAgICAgICAgIGVuZF9nZW5lcmF0ZWRfbG9jYXRpb25fZm9yKCkgeyBjb25zb2xlLnRpbWVFbmQoXCJnZW5lcmF0ZWRfbG9jYXRpb25fZm9yXCIpOyB9LFxuXG4gICAgICAgICAgc3RhcnRfb3JpZ2luYWxfbG9jYXRpb25fZm9yKCkgeyBjb25zb2xlLnRpbWUoXCJvcmlnaW5hbF9sb2NhdGlvbl9mb3JcIik7IH0sXG4gICAgICAgICAgZW5kX29yaWdpbmFsX2xvY2F0aW9uX2ZvcigpIHsgY29uc29sZS50aW1lRW5kKFwib3JpZ2luYWxfbG9jYXRpb25fZm9yXCIpOyB9LFxuXG4gICAgICAgICAgc3RhcnRfcGFyc2VfbWFwcGluZ3MoKSB7IGNvbnNvbGUudGltZShcInBhcnNlX21hcHBpbmdzXCIpOyB9LFxuICAgICAgICAgIGVuZF9wYXJzZV9tYXBwaW5ncygpIHsgY29uc29sZS50aW1lRW5kKFwicGFyc2VfbWFwcGluZ3NcIik7IH0sXG5cbiAgICAgICAgICBzdGFydF9zb3J0X2J5X2dlbmVyYXRlZF9sb2NhdGlvbigpIHsgY29uc29sZS50aW1lKFwic29ydF9ieV9nZW5lcmF0ZWRfbG9jYXRpb25cIik7IH0sXG4gICAgICAgICAgZW5kX3NvcnRfYnlfZ2VuZXJhdGVkX2xvY2F0aW9uKCkgeyBjb25zb2xlLnRpbWVFbmQoXCJzb3J0X2J5X2dlbmVyYXRlZF9sb2NhdGlvblwiKTsgfSxcblxuICAgICAgICAgIHN0YXJ0X3NvcnRfYnlfb3JpZ2luYWxfbG9jYXRpb24oKSB7IGNvbnNvbGUudGltZShcInNvcnRfYnlfb3JpZ2luYWxfbG9jYXRpb25cIik7IH0sXG4gICAgICAgICAgZW5kX3NvcnRfYnlfb3JpZ2luYWxfbG9jYXRpb24oKSB7IGNvbnNvbGUudGltZUVuZChcInNvcnRfYnlfb3JpZ2luYWxfbG9jYXRpb25cIik7IH0sXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9KS50aGVuKFdhc20gPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBleHBvcnRzOiBXYXNtLmluc3RhbmNlLmV4cG9ydHMsXG4gICAgICB3aXRoTWFwcGluZ0NhbGxiYWNrOiAobWFwcGluZ0NhbGxiYWNrLCBmKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrU3RhY2sucHVzaChtYXBwaW5nQ2FsbGJhY2spO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGYoKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBjYWxsYmFja1N0YWNrLnBvcCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfSkudGhlbihudWxsLCBlID0+IHtcbiAgICBjYWNoZWRXYXNtID0gbnVsbDtcbiAgICB0aHJvdyBlO1xuICB9KTtcblxuICByZXR1cm4gY2FjaGVkV2FzbTtcbn07XG4iLAogICIvKiAtKi0gTW9kZToganM7IGpzLWluZGVudC1sZXZlbDogMjsgLSotICovXG4vKlxuICogQ29weXJpZ2h0IDIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFIG9yOlxuICogaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0JTRC0zLUNsYXVzZVxuICovXG5cbmNvbnN0IHV0aWwgPSByZXF1aXJlKFwiLi91dGlsXCIpO1xuY29uc3QgYmluYXJ5U2VhcmNoID0gcmVxdWlyZShcIi4vYmluYXJ5LXNlYXJjaFwiKTtcbmNvbnN0IEFycmF5U2V0ID0gcmVxdWlyZShcIi4vYXJyYXktc2V0XCIpLkFycmF5U2V0O1xuY29uc3QgYmFzZTY0VkxRID0gcmVxdWlyZShcIi4vYmFzZTY0LXZscVwiKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuY29uc3QgcmVhZFdhc20gPSByZXF1aXJlKFwiLi4vbGliL3JlYWQtd2FzbVwiKTtcbmNvbnN0IHdhc20gPSByZXF1aXJlKFwiLi93YXNtXCIpO1xuXG5jb25zdCBJTlRFUk5BTCA9IFN5bWJvbChcInNtY0ludGVybmFsXCIpO1xuXG5jbGFzcyBTb3VyY2VNYXBDb25zdW1lciB7XG4gIGNvbnN0cnVjdG9yKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpIHtcbiAgICAvLyBJZiB0aGUgY29uc3RydWN0b3Igd2FzIGNhbGxlZCBieSBzdXBlcigpLCBqdXN0IHJldHVybiBQcm9taXNlPHRoaXM+LlxuICAgIC8vIFllcywgdGhpcyBpcyBhIGhhY2sgdG8gcmV0YWluIHRoZSBwcmUtZXhpc3RpbmcgQVBJIG9mIHRoZSBiYXNlLWNsYXNzXG4gICAgLy8gY29uc3RydWN0b3IgYWxzbyBiZWluZyBhbiBhc3luYyBmYWN0b3J5IGZ1bmN0aW9uLlxuICAgIGlmIChhU291cmNlTWFwID09IElOVEVSTkFMKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiBfZmFjdG9yeShhU291cmNlTWFwLCBhU291cmNlTWFwVVJMKTtcbiAgfVxuXG4gIHN0YXRpYyBpbml0aWFsaXplKG9wdHMpIHtcbiAgICByZWFkV2FzbS5pbml0aWFsaXplKG9wdHNbXCJsaWIvbWFwcGluZ3Mud2FzbVwiXSk7XG4gIH1cblxuICBzdGF0aWMgZnJvbVNvdXJjZU1hcChhU291cmNlTWFwLCBhU291cmNlTWFwVVJMKSB7XG4gICAgcmV0dXJuIF9mYWN0b3J5QlNNKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdCBhIG5ldyBgU291cmNlTWFwQ29uc3VtZXJgIGZyb20gYHJhd1NvdXJjZU1hcGAgYW5kIGBzb3VyY2VNYXBVcmxgXG4gICAqIChzZWUgdGhlIGBTb3VyY2VNYXBDb25zdW1lcmAgY29uc3RydWN0b3IgZm9yIGRldGFpbHMuIFRoZW4sIGludm9rZSB0aGUgYGFzeW5jXG4gICAqIGZ1bmN0aW9uIGYoU291cmNlTWFwQ29uc3VtZXIpIC0+IFRgIHdpdGggdGhlIG5ld2x5IGNvbnN0cnVjdGVkIGNvbnN1bWVyLCB3YWl0XG4gICAqIGZvciBgZmAgdG8gY29tcGxldGUsIGNhbGwgYGRlc3Ryb3lgIG9uIHRoZSBjb25zdW1lciwgYW5kIHJldHVybiBgZmAncyByZXR1cm5cbiAgICogdmFsdWUuXG4gICAqXG4gICAqIFlvdSBtdXN0IG5vdCB1c2UgdGhlIGNvbnN1bWVyIGFmdGVyIGBmYCBjb21wbGV0ZXMhXG4gICAqXG4gICAqIEJ5IHVzaW5nIGB3aXRoYCwgeW91IGRvIG5vdCBoYXZlIHRvIHJlbWVtYmVyIHRvIG1hbnVhbGx5IGNhbGwgYGRlc3Ryb3lgIG9uXG4gICAqIHRoZSBjb25zdW1lciwgc2luY2UgaXQgd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBvbmNlIGBmYCBjb21wbGV0ZXMuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIGNvbnN0IHhTcXVhcmVkID0gYXdhaXQgU291cmNlTWFwQ29uc3VtZXIud2l0aChcbiAgICogICBteVJhd1NvdXJjZU1hcCxcbiAgICogICBudWxsLFxuICAgKiAgIGFzeW5jIGZ1bmN0aW9uIChjb25zdW1lcikge1xuICAgKiAgICAgLy8gVXNlIGBjb25zdW1lcmAgaW5zaWRlIGhlcmUgYW5kIGRvbid0IHdvcnJ5IGFib3V0IHJlbWVtYmVyaW5nXG4gICAqICAgICAvLyB0byBjYWxsIGBkZXN0cm95YC5cbiAgICpcbiAgICogICAgIGNvbnN0IHggPSBhd2FpdCB3aGF0ZXZlcihjb25zdW1lcik7XG4gICAqICAgICByZXR1cm4geCAqIHg7XG4gICAqICAgfVxuICAgKiApO1xuICAgKlxuICAgKiAvLyBZb3UgbWF5IG5vdCB1c2UgdGhhdCBgY29uc3VtZXJgIGFueW1vcmUgb3V0IGhlcmU7IGl0IGhhc1xuICAgKiAvLyBiZWVuIGRlc3Ryb3llZC4gQnV0IHlvdSBjYW4gdXNlIGB4U3F1YXJlZGAuXG4gICAqIGNvbnNvbGUubG9nKHhTcXVhcmVkKTtcbiAgICogYGBgXG4gICAqL1xuICBzdGF0aWMgYXN5bmMgd2l0aChyYXdTb3VyY2VNYXAsIHNvdXJjZU1hcFVybCwgZikge1xuICAgIGNvbnN0IGNvbnN1bWVyID0gYXdhaXQgbmV3IFNvdXJjZU1hcENvbnN1bWVyKHJhd1NvdXJjZU1hcCwgc291cmNlTWFwVXJsKTtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGYoY29uc3VtZXIpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjb25zdW1lci5kZXN0cm95KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIHRoZSBtYXBwaW5ncyBpbiBhIHN0cmluZyBpbiB0byBhIGRhdGEgc3RydWN0dXJlIHdoaWNoIHdlIGNhbiBlYXNpbHlcbiAgICogcXVlcnkgKHRoZSBvcmRlcmVkIGFycmF5cyBpbiB0aGUgYHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5nc2AgYW5kXG4gICAqIGB0aGlzLl9fb3JpZ2luYWxNYXBwaW5nc2AgcHJvcGVydGllcykuXG4gICAqL1xuICBfcGFyc2VNYXBwaW5ncyhhU3RyLCBhU291cmNlUm9vdCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlN1YmNsYXNzZXMgbXVzdCBpbXBsZW1lbnQgX3BhcnNlTWFwcGluZ3NcIik7XG4gIH1cblxuICAvKipcbiAgICogSXRlcmF0ZSBvdmVyIGVhY2ggbWFwcGluZyBiZXR3ZWVuIGFuIG9yaWdpbmFsIHNvdXJjZS9saW5lL2NvbHVtbiBhbmQgYVxuICAgKiBnZW5lcmF0ZWQgbGluZS9jb2x1bW4gaW4gdGhpcyBzb3VyY2UgbWFwLlxuICAgKlxuICAgKiBAcGFyYW0gRnVuY3Rpb24gYUNhbGxiYWNrXG4gICAqICAgICAgICBUaGUgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgd2l0aCBlYWNoIG1hcHBpbmcuXG4gICAqIEBwYXJhbSBPYmplY3QgYUNvbnRleHRcbiAgICogICAgICAgIE9wdGlvbmFsLiBJZiBzcGVjaWZpZWQsIHRoaXMgb2JqZWN0IHdpbGwgYmUgdGhlIHZhbHVlIG9mIGB0aGlzYCBldmVyeVxuICAgKiAgICAgICAgdGltZSB0aGF0IGBhQ2FsbGJhY2tgIGlzIGNhbGxlZC5cbiAgICogQHBhcmFtIGFPcmRlclxuICAgKiAgICAgICAgRWl0aGVyIGBTb3VyY2VNYXBDb25zdW1lci5HRU5FUkFURURfT1JERVJgIG9yXG4gICAqICAgICAgICBgU291cmNlTWFwQ29uc3VtZXIuT1JJR0lOQUxfT1JERVJgLiBTcGVjaWZpZXMgd2hldGhlciB5b3Ugd2FudCB0b1xuICAgKiAgICAgICAgaXRlcmF0ZSBvdmVyIHRoZSBtYXBwaW5ncyBzb3J0ZWQgYnkgdGhlIGdlbmVyYXRlZCBmaWxlJ3MgbGluZS9jb2x1bW5cbiAgICogICAgICAgIG9yZGVyIG9yIHRoZSBvcmlnaW5hbCdzIHNvdXJjZS9saW5lL2NvbHVtbiBvcmRlciwgcmVzcGVjdGl2ZWx5LiBEZWZhdWx0cyB0b1xuICAgKiAgICAgICAgYFNvdXJjZU1hcENvbnN1bWVyLkdFTkVSQVRFRF9PUkRFUmAuXG4gICAqL1xuICBlYWNoTWFwcGluZyhhQ2FsbGJhY2ssIGFDb250ZXh0LCBhT3JkZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdWJjbGFzc2VzIG11c3QgaW1wbGVtZW50IGVhY2hNYXBwaW5nXCIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIGdlbmVyYXRlZCBsaW5lIGFuZCBjb2x1bW4gaW5mb3JtYXRpb24gZm9yIHRoZSBvcmlnaW5hbCBzb3VyY2UsXG4gICAqIGxpbmUsIGFuZCBjb2x1bW4gcHJvdmlkZWQuIElmIG5vIGNvbHVtbiBpcyBwcm92aWRlZCwgcmV0dXJucyBhbGwgbWFwcGluZ3NcbiAgICogY29ycmVzcG9uZGluZyB0byBhIGVpdGhlciB0aGUgbGluZSB3ZSBhcmUgc2VhcmNoaW5nIGZvciBvciB0aGUgbmV4dFxuICAgKiBjbG9zZXN0IGxpbmUgdGhhdCBoYXMgYW55IG1hcHBpbmdzLiBPdGhlcndpc2UsIHJldHVybnMgYWxsIG1hcHBpbmdzXG4gICAqIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIGxpbmUgYW5kIGVpdGhlciB0aGUgY29sdW1uIHdlIGFyZSBzZWFyY2hpbmcgZm9yXG4gICAqIG9yIHRoZSBuZXh0IGNsb3Nlc3QgY29sdW1uIHRoYXQgaGFzIGFueSBvZmZzZXRzLlxuICAgKlxuICAgKiBUaGUgb25seSBhcmd1bWVudCBpcyBhbiBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqXG4gICAqICAgLSBzb3VyY2U6IFRoZSBmaWxlbmFtZSBvZiB0aGUgb3JpZ2luYWwgc291cmNlLlxuICAgKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UuICBUaGUgbGluZSBudW1iZXIgaXMgMS1iYXNlZC5cbiAgICogICAtIGNvbHVtbjogT3B0aW9uYWwuIHRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UuXG4gICAqICAgIFRoZSBjb2x1bW4gbnVtYmVyIGlzIDAtYmFzZWQuXG4gICAqXG4gICAqIGFuZCBhbiBhcnJheSBvZiBvYmplY3RzIGlzIHJldHVybmVkLCBlYWNoIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKlxuICAgKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLCBvciBudWxsLiAgVGhlXG4gICAqICAgIGxpbmUgbnVtYmVyIGlzIDEtYmFzZWQuXG4gICAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLCBvciBudWxsLlxuICAgKiAgICBUaGUgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkLlxuICAgKi9cbiAgYWxsR2VuZXJhdGVkUG9zaXRpb25zRm9yKGFBcmdzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiU3ViY2xhc3NlcyBtdXN0IGltcGxlbWVudCBhbGxHZW5lcmF0ZWRQb3NpdGlvbnNGb3JcIik7XG4gIH1cblxuICBkZXN0cm95KCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlN1YmNsYXNzZXMgbXVzdCBpbXBsZW1lbnQgZGVzdHJveVwiKTtcbiAgfVxufVxuXG4vKipcbiAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBzb3VyY2UgbWFwcGluZyBzcGVjIHRoYXQgd2UgYXJlIGNvbnN1bWluZy5cbiAqL1xuU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl92ZXJzaW9uID0gMztcblNvdXJjZU1hcENvbnN1bWVyLkdFTkVSQVRFRF9PUkRFUiA9IDE7XG5Tb3VyY2VNYXBDb25zdW1lci5PUklHSU5BTF9PUkRFUiA9IDI7XG5cblNvdXJjZU1hcENvbnN1bWVyLkdSRUFURVNUX0xPV0VSX0JPVU5EID0gMTtcblNvdXJjZU1hcENvbnN1bWVyLkxFQVNUX1VQUEVSX0JPVU5EID0gMjtcblxuZXhwb3J0cy5Tb3VyY2VNYXBDb25zdW1lciA9IFNvdXJjZU1hcENvbnN1bWVyO1xuXG4vKipcbiAqIEEgQmFzaWNTb3VyY2VNYXBDb25zdW1lciBpbnN0YW5jZSByZXByZXNlbnRzIGEgcGFyc2VkIHNvdXJjZSBtYXAgd2hpY2ggd2UgY2FuXG4gKiBxdWVyeSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG9yaWdpbmFsIGZpbGUgcG9zaXRpb25zIGJ5IGdpdmluZyBpdCBhIGZpbGVcbiAqIHBvc2l0aW9uIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLlxuICpcbiAqIFRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgdGhlIHJhdyBzb3VyY2UgbWFwIChlaXRoZXIgYXMgYSBKU09OIHN0cmluZywgb3JcbiAqIGFscmVhZHkgcGFyc2VkIHRvIGFuIG9iamVjdCkuIEFjY29yZGluZyB0byB0aGUgc3BlYywgc291cmNlIG1hcHMgaGF2ZSB0aGVcbiAqIGZvbGxvd2luZyBhdHRyaWJ1dGVzOlxuICpcbiAqICAgLSB2ZXJzaW9uOiBXaGljaCB2ZXJzaW9uIG9mIHRoZSBzb3VyY2UgbWFwIHNwZWMgdGhpcyBtYXAgaXMgZm9sbG93aW5nLlxuICogICAtIHNvdXJjZXM6IEFuIGFycmF5IG9mIFVSTHMgdG8gdGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlcy5cbiAqICAgLSBuYW1lczogQW4gYXJyYXkgb2YgaWRlbnRpZmllcnMgd2hpY2ggY2FuIGJlIHJlZmVyZW5jZWQgYnkgaW5kaXZpZHVhbCBtYXBwaW5ncy5cbiAqICAgLSBzb3VyY2VSb290OiBPcHRpb25hbC4gVGhlIFVSTCByb290IGZyb20gd2hpY2ggYWxsIHNvdXJjZXMgYXJlIHJlbGF0aXZlLlxuICogICAtIHNvdXJjZXNDb250ZW50OiBPcHRpb25hbC4gQW4gYXJyYXkgb2YgY29udGVudHMgb2YgdGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlcy5cbiAqICAgLSBtYXBwaW5nczogQSBzdHJpbmcgb2YgYmFzZTY0IFZMUXMgd2hpY2ggY29udGFpbiB0aGUgYWN0dWFsIG1hcHBpbmdzLlxuICogICAtIGZpbGU6IE9wdGlvbmFsLiBUaGUgZ2VuZXJhdGVkIGZpbGUgdGhpcyBzb3VyY2UgbWFwIGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAqXG4gKiBIZXJlIGlzIGFuIGV4YW1wbGUgc291cmNlIG1hcCwgdGFrZW4gZnJvbSB0aGUgc291cmNlIG1hcCBzcGVjWzBdOlxuICpcbiAqICAgICB7XG4gKiAgICAgICB2ZXJzaW9uIDogMyxcbiAqICAgICAgIGZpbGU6IFwib3V0LmpzXCIsXG4gKiAgICAgICBzb3VyY2VSb290IDogXCJcIixcbiAqICAgICAgIHNvdXJjZXM6IFtcImZvby5qc1wiLCBcImJhci5qc1wiXSxcbiAqICAgICAgIG5hbWVzOiBbXCJzcmNcIiwgXCJtYXBzXCIsIFwiYXJlXCIsIFwiZnVuXCJdLFxuICogICAgICAgbWFwcGluZ3M6IFwiQUEsQUI7O0FCQ0RFO1wiXG4gKiAgICAgfVxuICpcbiAqIFRoZSBzZWNvbmQgcGFyYW1ldGVyLCBpZiBnaXZlbiwgaXMgYSBzdHJpbmcgd2hvc2UgdmFsdWUgaXMgdGhlIFVSTFxuICogYXQgd2hpY2ggdGhlIHNvdXJjZSBtYXAgd2FzIGZvdW5kLiAgVGhpcyBVUkwgaXMgdXNlZCB0byBjb21wdXRlIHRoZVxuICogc291cmNlcyBhcnJheS5cbiAqXG4gKiBbMF06IGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMVUxUkdBZWhRd1J5cFVUb3ZGMUtSbHBpT0Z6ZTBiLV8yZ2M2ZkFIMEtZMGsvZWRpdD9wbGk9MSNcbiAqL1xuY2xhc3MgQmFzaWNTb3VyY2VNYXBDb25zdW1lciBleHRlbmRzIFNvdXJjZU1hcENvbnN1bWVyIHtcbiAgY29uc3RydWN0b3IoYVNvdXJjZU1hcCwgYVNvdXJjZU1hcFVSTCkge1xuICAgIHJldHVybiBzdXBlcihJTlRFUk5BTCkudGhlbih0aGF0ID0+IHtcbiAgICAgIGxldCBzb3VyY2VNYXAgPSBhU291cmNlTWFwO1xuICAgICAgaWYgKHR5cGVvZiBhU291cmNlTWFwID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHNvdXJjZU1hcCA9IHV0aWwucGFyc2VTb3VyY2VNYXBJbnB1dChhU291cmNlTWFwKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdmVyc2lvbiA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgXCJ2ZXJzaW9uXCIpO1xuICAgICAgbGV0IHNvdXJjZXMgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsIFwic291cmNlc1wiKTtcbiAgICAgIC8vIFNhc3MgMy4zIGxlYXZlcyBvdXQgdGhlICduYW1lcycgYXJyYXksIHNvIHdlIGRldmlhdGUgZnJvbSB0aGUgc3BlYyAod2hpY2hcbiAgICAgIC8vIHJlcXVpcmVzIHRoZSBhcnJheSkgdG8gcGxheSBuaWNlIGhlcmUuXG4gICAgICBjb25zdCBuYW1lcyA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgXCJuYW1lc1wiLCBbXSk7XG4gICAgICBsZXQgc291cmNlUm9vdCA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgXCJzb3VyY2VSb290XCIsIG51bGwpO1xuICAgICAgY29uc3Qgc291cmNlc0NvbnRlbnQgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsIFwic291cmNlc0NvbnRlbnRcIiwgbnVsbCk7XG4gICAgICBjb25zdCBtYXBwaW5ncyA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgXCJtYXBwaW5nc1wiKTtcbiAgICAgIGNvbnN0IGZpbGUgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsIFwiZmlsZVwiLCBudWxsKTtcblxuICAgICAgLy8gT25jZSBhZ2FpbiwgU2FzcyBkZXZpYXRlcyBmcm9tIHRoZSBzcGVjIGFuZCBzdXBwbGllcyB0aGUgdmVyc2lvbiBhcyBhXG4gICAgICAvLyBzdHJpbmcgcmF0aGVyIHRoYW4gYSBudW1iZXIsIHNvIHdlIHVzZSBsb29zZSBlcXVhbGl0eSBjaGVja2luZyBoZXJlLlxuICAgICAgaWYgKHZlcnNpb24gIT0gdGhhdC5fdmVyc2lvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZCB2ZXJzaW9uOiBcIiArIHZlcnNpb24pO1xuICAgICAgfVxuXG4gICAgICBpZiAoc291cmNlUm9vdCkge1xuICAgICAgICBzb3VyY2VSb290ID0gdXRpbC5ub3JtYWxpemUoc291cmNlUm9vdCk7XG4gICAgICB9XG5cbiAgICAgIHNvdXJjZXMgPSBzb3VyY2VzXG4gICAgICAgIC5tYXAoU3RyaW5nKVxuICAgICAgICAvLyBTb21lIHNvdXJjZSBtYXBzIHByb2R1Y2UgcmVsYXRpdmUgc291cmNlIHBhdGhzIGxpa2UgXCIuL2Zvby5qc1wiIGluc3RlYWQgb2ZcbiAgICAgICAgLy8gXCJmb28uanNcIi4gIE5vcm1hbGl6ZSB0aGVzZSBmaXJzdCBzbyB0aGF0IGZ1dHVyZSBjb21wYXJpc29ucyB3aWxsIHN1Y2NlZWQuXG4gICAgICAgIC8vIFNlZSBidWd6aWwubGEvMTA5MDc2OC5cbiAgICAgICAgLm1hcCh1dGlsLm5vcm1hbGl6ZSlcbiAgICAgICAgLy8gQWx3YXlzIGVuc3VyZSB0aGF0IGFic29sdXRlIHNvdXJjZXMgYXJlIGludGVybmFsbHkgc3RvcmVkIHJlbGF0aXZlIHRvXG4gICAgICAgIC8vIHRoZSBzb3VyY2Ugcm9vdCwgaWYgdGhlIHNvdXJjZSByb290IGlzIGFic29sdXRlLiBOb3QgZG9pbmcgdGhpcyB3b3VsZFxuICAgICAgICAvLyBiZSBwYXJ0aWN1bGFybHkgcHJvYmxlbWF0aWMgd2hlbiB0aGUgc291cmNlIHJvb3QgaXMgYSBwcmVmaXggb2YgdGhlXG4gICAgICAgIC8vIHNvdXJjZSAodmFsaWQsIGJ1dCB3aHk/PykuIFNlZSBnaXRodWIgaXNzdWUgIzE5OSBhbmQgYnVnemlsLmxhLzExODg5ODIuXG4gICAgICAgIC5tYXAoZnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgICAgcmV0dXJuIHNvdXJjZVJvb3QgJiYgdXRpbC5pc0Fic29sdXRlKHNvdXJjZVJvb3QpICYmIHV0aWwuaXNBYnNvbHV0ZShzb3VyY2UpXG4gICAgICAgICAgICA/IHV0aWwucmVsYXRpdmUoc291cmNlUm9vdCwgc291cmNlKVxuICAgICAgICAgICAgOiBzb3VyY2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAvLyBQYXNzIGB0cnVlYCBiZWxvdyB0byBhbGxvdyBkdXBsaWNhdGUgbmFtZXMgYW5kIHNvdXJjZXMuIFdoaWxlIHNvdXJjZSBtYXBzXG4gICAgICAvLyBhcmUgaW50ZW5kZWQgdG8gYmUgY29tcHJlc3NlZCBhbmQgZGVkdXBsaWNhdGVkLCB0aGUgVHlwZVNjcmlwdCBjb21waWxlclxuICAgICAgLy8gc29tZXRpbWVzIGdlbmVyYXRlcyBzb3VyY2UgbWFwcyB3aXRoIGR1cGxpY2F0ZXMgaW4gdGhlbS4gU2VlIEdpdGh1YiBpc3N1ZVxuICAgICAgLy8gIzcyIGFuZCBidWd6aWwubGEvODg5NDkyLlxuICAgICAgdGhhdC5fbmFtZXMgPSBBcnJheVNldC5mcm9tQXJyYXkobmFtZXMubWFwKFN0cmluZyksIHRydWUpO1xuICAgICAgdGhhdC5fc291cmNlcyA9IEFycmF5U2V0LmZyb21BcnJheShzb3VyY2VzLCB0cnVlKTtcblxuICAgICAgdGhhdC5fYWJzb2x1dGVTb3VyY2VzID0gdGhhdC5fc291cmNlcy50b0FycmF5KCkubWFwKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgcmV0dXJuIHV0aWwuY29tcHV0ZVNvdXJjZVVSTChzb3VyY2VSb290LCBzLCBhU291cmNlTWFwVVJMKTtcbiAgICAgIH0pO1xuXG4gICAgICB0aGF0LnNvdXJjZVJvb3QgPSBzb3VyY2VSb290O1xuICAgICAgdGhhdC5zb3VyY2VzQ29udGVudCA9IHNvdXJjZXNDb250ZW50O1xuICAgICAgdGhhdC5fbWFwcGluZ3MgPSBtYXBwaW5ncztcbiAgICAgIHRoYXQuX3NvdXJjZU1hcFVSTCA9IGFTb3VyY2VNYXBVUkw7XG4gICAgICB0aGF0LmZpbGUgPSBmaWxlO1xuXG4gICAgICB0aGF0Ll9jb21wdXRlZENvbHVtblNwYW5zID0gZmFsc2U7XG4gICAgICB0aGF0Ll9tYXBwaW5nc1B0ciA9IDA7XG4gICAgICB0aGF0Ll93YXNtID0gbnVsbDtcblxuICAgICAgcmV0dXJuIHdhc20oKS50aGVuKHcgPT4ge1xuICAgICAgICB0aGF0Ll93YXNtID0gdztcbiAgICAgICAgcmV0dXJuIHRoYXQ7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGluZGV4IG9mIGEgc291cmNlLiAgUmV0dXJucyAtMSBpZiBub3RcbiAgICogZm91bmQuXG4gICAqL1xuICBfZmluZFNvdXJjZUluZGV4KGFTb3VyY2UpIHtcbiAgICBsZXQgcmVsYXRpdmVTb3VyY2UgPSBhU291cmNlO1xuICAgIGlmICh0aGlzLnNvdXJjZVJvb3QgIT0gbnVsbCkge1xuICAgICAgcmVsYXRpdmVTb3VyY2UgPSB1dGlsLnJlbGF0aXZlKHRoaXMuc291cmNlUm9vdCwgcmVsYXRpdmVTb3VyY2UpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zb3VyY2VzLmhhcyhyZWxhdGl2ZVNvdXJjZSkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zb3VyY2VzLmluZGV4T2YocmVsYXRpdmVTb3VyY2UpO1xuICAgIH1cblxuICAgIC8vIE1heWJlIGFTb3VyY2UgaXMgYW4gYWJzb2x1dGUgVVJMIGFzIHJldHVybmVkIGJ5IHxzb3VyY2VzfC4gIEluXG4gICAgLy8gdGhpcyBjYXNlIHdlIGNhbid0IHNpbXBseSB1bmRvIHRoZSB0cmFuc2Zvcm0uXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9hYnNvbHV0ZVNvdXJjZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGlmICh0aGlzLl9hYnNvbHV0ZVNvdXJjZXNbaV0gPT0gYVNvdXJjZSkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGEgQmFzaWNTb3VyY2VNYXBDb25zdW1lciBmcm9tIGEgU291cmNlTWFwR2VuZXJhdG9yLlxuICAgKlxuICAgKiBAcGFyYW0gU291cmNlTWFwR2VuZXJhdG9yIGFTb3VyY2VNYXBcbiAgICogICAgICAgIFRoZSBzb3VyY2UgbWFwIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbiAgICogQHBhcmFtIFN0cmluZyBhU291cmNlTWFwVVJMXG4gICAqICAgICAgICBUaGUgVVJMIGF0IHdoaWNoIHRoZSBzb3VyY2UgbWFwIGNhbiBiZSBmb3VuZCAob3B0aW9uYWwpXG4gICAqIEByZXR1cm5zIEJhc2ljU291cmNlTWFwQ29uc3VtZXJcbiAgICovXG4gIHN0YXRpYyBmcm9tU291cmNlTWFwKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpIHtcbiAgICByZXR1cm4gbmV3IEJhc2ljU291cmNlTWFwQ29uc3VtZXIoYVNvdXJjZU1hcC50b1N0cmluZygpKTtcbiAgfVxuXG4gIGdldCBzb3VyY2VzKCkge1xuICAgIHJldHVybiB0aGlzLl9hYnNvbHV0ZVNvdXJjZXMuc2xpY2UoKTtcbiAgfVxuXG4gIF9nZXRNYXBwaW5nc1B0cigpIHtcbiAgICBpZiAodGhpcy5fbWFwcGluZ3NQdHIgPT09IDApIHtcbiAgICAgIHRoaXMuX3BhcnNlTWFwcGluZ3ModGhpcy5fbWFwcGluZ3MsIHRoaXMuc291cmNlUm9vdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX21hcHBpbmdzUHRyO1xuICB9XG5cbiAgLyoqXG4gICAqIFBhcnNlIHRoZSBtYXBwaW5ncyBpbiBhIHN0cmluZyBpbiB0byBhIGRhdGEgc3RydWN0dXJlIHdoaWNoIHdlIGNhbiBlYXNpbHlcbiAgICogcXVlcnkgKHRoZSBvcmRlcmVkIGFycmF5cyBpbiB0aGUgYHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5nc2AgYW5kXG4gICAqIGB0aGlzLl9fb3JpZ2luYWxNYXBwaW5nc2AgcHJvcGVydGllcykuXG4gICAqL1xuICBfcGFyc2VNYXBwaW5ncyhhU3RyLCBhU291cmNlUm9vdCkge1xuICAgIGNvbnN0IHNpemUgPSBhU3RyLmxlbmd0aDtcblxuICAgIGNvbnN0IG1hcHBpbmdzQnVmUHRyID0gdGhpcy5fd2FzbS5leHBvcnRzLmFsbG9jYXRlX21hcHBpbmdzKHNpemUpO1xuICAgIGNvbnN0IG1hcHBpbmdzQnVmID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fd2FzbS5leHBvcnRzLm1lbW9yeS5idWZmZXIsIG1hcHBpbmdzQnVmUHRyLCBzaXplKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xuICAgICAgbWFwcGluZ3NCdWZbaV0gPSBhU3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuXG4gICAgY29uc3QgbWFwcGluZ3NQdHIgPSB0aGlzLl93YXNtLmV4cG9ydHMucGFyc2VfbWFwcGluZ3MobWFwcGluZ3NCdWZQdHIpO1xuXG4gICAgaWYgKCFtYXBwaW5nc1B0cikge1xuICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLl93YXNtLmV4cG9ydHMuZ2V0X2xhc3RfZXJyb3IoKTtcbiAgICAgIGxldCBtc2cgPSBgRXJyb3IgcGFyc2luZyBtYXBwaW5ncyAoY29kZSAke2Vycm9yfSk6IGA7XG5cbiAgICAgIC8vIFhYWDoga2VlcCB0aGVzZSBlcnJvciBjb2RlcyBpbiBzeW5jIHdpdGggYGZpdHpnZW4vc291cmNlLW1hcC1tYXBwaW5nc2AuXG4gICAgICBzd2l0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBtc2cgKz0gXCJ0aGUgbWFwcGluZ3MgY29udGFpbmVkIGEgbmVnYXRpdmUgbGluZSwgY29sdW1uLCBzb3VyY2UgaW5kZXgsIG9yIG5hbWUgaW5kZXhcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIG1zZyArPSBcInRoZSBtYXBwaW5ncyBjb250YWluZWQgYSBudW1iZXIgbGFyZ2VyIHRoYW4gMioqMzJcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIG1zZyArPSBcInJlYWNoZWQgRU9GIHdoaWxlIGluIHRoZSBtaWRkbGUgb2YgcGFyc2luZyBhIFZMUVwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgbXNnICs9IFwiaW52YWxpZCBiYXNlIDY0IGNoYXJhY3RlciB3aGlsZSBwYXJzaW5nIGEgVkxRXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbXNnICs9IFwidW5rbm93biBlcnJvciBjb2RlXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgIH1cblxuICAgIHRoaXMuX21hcHBpbmdzUHRyID0gbWFwcGluZ3NQdHI7XG4gIH1cblxuICBlYWNoTWFwcGluZyhhQ2FsbGJhY2ssIGFDb250ZXh0LCBhT3JkZXIpIHtcbiAgICBjb25zdCBjb250ZXh0ID0gYUNvbnRleHQgfHwgbnVsbDtcbiAgICBjb25zdCBvcmRlciA9IGFPcmRlciB8fCBTb3VyY2VNYXBDb25zdW1lci5HRU5FUkFURURfT1JERVI7XG4gICAgY29uc3Qgc291cmNlUm9vdCA9IHRoaXMuc291cmNlUm9vdDtcblxuICAgIHRoaXMuX3dhc20ud2l0aE1hcHBpbmdDYWxsYmFjayhcbiAgICAgIG1hcHBpbmcgPT4ge1xuICAgICAgICBpZiAobWFwcGluZy5zb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgICBtYXBwaW5nLnNvdXJjZSA9IHRoaXMuX3NvdXJjZXMuYXQobWFwcGluZy5zb3VyY2UpO1xuICAgICAgICAgIG1hcHBpbmcuc291cmNlID0gdXRpbC5jb21wdXRlU291cmNlVVJMKHNvdXJjZVJvb3QsIG1hcHBpbmcuc291cmNlLCB0aGlzLl9zb3VyY2VNYXBVUkwpO1xuXG4gICAgICAgICAgaWYgKG1hcHBpbmcubmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgbWFwcGluZy5uYW1lID0gdGhpcy5fbmFtZXMuYXQobWFwcGluZy5uYW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBhQ2FsbGJhY2suY2FsbChjb250ZXh0LCBtYXBwaW5nKTtcbiAgICAgIH0sXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHN3aXRjaCAob3JkZXIpIHtcbiAgICAgICAgY2FzZSBTb3VyY2VNYXBDb25zdW1lci5HRU5FUkFURURfT1JERVI6XG4gICAgICAgICAgdGhpcy5fd2FzbS5leHBvcnRzLmJ5X2dlbmVyYXRlZF9sb2NhdGlvbih0aGlzLl9nZXRNYXBwaW5nc1B0cigpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBTb3VyY2VNYXBDb25zdW1lci5PUklHSU5BTF9PUkRFUjpcbiAgICAgICAgICB0aGlzLl93YXNtLmV4cG9ydHMuYnlfb3JpZ2luYWxfbG9jYXRpb24odGhpcy5fZ2V0TWFwcGluZ3NQdHIoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBvcmRlciBvZiBpdGVyYXRpb24uXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIGFsbEdlbmVyYXRlZFBvc2l0aW9uc0ZvcihhQXJncykge1xuICAgIGxldCBzb3VyY2UgPSB1dGlsLmdldEFyZyhhQXJncywgXCJzb3VyY2VcIik7XG4gICAgY29uc3Qgb3JpZ2luYWxMaW5lID0gdXRpbC5nZXRBcmcoYUFyZ3MsIFwibGluZVwiKTtcbiAgICBjb25zdCBvcmlnaW5hbENvbHVtbiA9IGFBcmdzLmNvbHVtbiB8fCAwO1xuXG4gICAgc291cmNlID0gdGhpcy5fZmluZFNvdXJjZUluZGV4KHNvdXJjZSk7XG4gICAgaWYgKHNvdXJjZSA8IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBpZiAob3JpZ2luYWxMaW5lIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGluZSBudW1iZXJzIG11c3QgYmUgPj0gMVwiKTtcbiAgICB9XG5cbiAgICBpZiAob3JpZ2luYWxDb2x1bW4gPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb2x1bW4gbnVtYmVycyBtdXN0IGJlID49IDBcIik7XG4gICAgfVxuXG4gICAgY29uc3QgbWFwcGluZ3MgPSBbXTtcblxuICAgIHRoaXMuX3dhc20ud2l0aE1hcHBpbmdDYWxsYmFjayhcbiAgICAgIG0gPT4ge1xuICAgICAgICBsZXQgbGFzdENvbHVtbiA9IG0ubGFzdEdlbmVyYXRlZENvbHVtbjtcbiAgICAgICAgaWYgKHRoaXMuX2NvbXB1dGVkQ29sdW1uU3BhbnMgJiYgbGFzdENvbHVtbiA9PT0gbnVsbCkge1xuICAgICAgICAgIGxhc3RDb2x1bW4gPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBtYXBwaW5ncy5wdXNoKHtcbiAgICAgICAgICBsaW5lOiBtLmdlbmVyYXRlZExpbmUsXG4gICAgICAgICAgY29sdW1uOiBtLmdlbmVyYXRlZENvbHVtbixcbiAgICAgICAgICBsYXN0Q29sdW1uLFxuICAgICAgICB9KTtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgdGhpcy5fd2FzbS5leHBvcnRzLmFsbF9nZW5lcmF0ZWRfbG9jYXRpb25zX2ZvcihcbiAgICAgICAgICB0aGlzLl9nZXRNYXBwaW5nc1B0cigpLFxuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBvcmlnaW5hbExpbmUgLSAxLFxuICAgICAgICAgIFwiY29sdW1uXCIgaW4gYUFyZ3MsXG4gICAgICAgICAgb3JpZ2luYWxDb2x1bW5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgcmV0dXJuIG1hcHBpbmdzO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBpZiAodGhpcy5fbWFwcGluZ3NQdHIgIT09IDApIHtcbiAgICAgIHRoaXMuX3dhc20uZXhwb3J0cy5mcmVlX21hcHBpbmdzKHRoaXMuX21hcHBpbmdzUHRyKTtcbiAgICAgIHRoaXMuX21hcHBpbmdzUHRyID0gMDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ29tcHV0ZSB0aGUgbGFzdCBjb2x1bW4gZm9yIGVhY2ggZ2VuZXJhdGVkIG1hcHBpbmcuIFRoZSBsYXN0IGNvbHVtbiBpc1xuICAgKiBpbmNsdXNpdmUuXG4gICAqL1xuICBjb21wdXRlQ29sdW1uU3BhbnMoKSB7XG4gICAgaWYgKHRoaXMuX2NvbXB1dGVkQ29sdW1uU3BhbnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl93YXNtLmV4cG9ydHMuY29tcHV0ZV9jb2x1bW5fc3BhbnModGhpcy5fZ2V0TWFwcGluZ3NQdHIoKSk7XG4gICAgdGhpcy5fY29tcHV0ZWRDb2x1bW5TcGFucyA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgb3JpZ2luYWwgc291cmNlLCBsaW5lLCBhbmQgY29sdW1uIGluZm9ybWF0aW9uIGZvciB0aGUgZ2VuZXJhdGVkXG4gICAqIHNvdXJjZSdzIGxpbmUgYW5kIGNvbHVtbiBwb3NpdGlvbnMgcHJvdmlkZWQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIGFuIG9iamVjdFxuICAgKiB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICpcbiAgICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS4gIFRoZSBsaW5lIG51bWJlclxuICAgKiAgICAgaXMgMS1iYXNlZC5cbiAgICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UuICBUaGUgY29sdW1uXG4gICAqICAgICBudW1iZXIgaXMgMC1iYXNlZC5cbiAgICogICAtIGJpYXM6IEVpdGhlciAnU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQnIG9yXG4gICAqICAgICAnU291cmNlTWFwQ29uc3VtZXIuTEVBU1RfVVBQRVJfQk9VTkQnLiBTcGVjaWZpZXMgd2hldGhlciB0byByZXR1cm4gdGhlXG4gICAqICAgICBjbG9zZXN0IGVsZW1lbnQgdGhhdCBpcyBzbWFsbGVyIHRoYW4gb3IgZ3JlYXRlciB0aGFuIHRoZSBvbmUgd2UgYXJlXG4gICAqICAgICBzZWFyY2hpbmcgZm9yLCByZXNwZWN0aXZlbHksIGlmIHRoZSBleGFjdCBlbGVtZW50IGNhbm5vdCBiZSBmb3VuZC5cbiAgICogICAgIERlZmF1bHRzIHRvICdTb3VyY2VNYXBDb25zdW1lci5HUkVBVEVTVF9MT1dFUl9CT1VORCcuXG4gICAqXG4gICAqIGFuZCBhbiBvYmplY3QgaXMgcmV0dXJuZWQgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAqXG4gICAqICAgLSBzb3VyY2U6IFRoZSBvcmlnaW5hbCBzb3VyY2UgZmlsZSwgb3IgbnVsbC5cbiAgICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLCBvciBudWxsLiAgVGhlXG4gICAqICAgICBsaW5lIG51bWJlciBpcyAxLWJhc2VkLlxuICAgKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlLCBvciBudWxsLiAgVGhlXG4gICAqICAgICBjb2x1bW4gbnVtYmVyIGlzIDAtYmFzZWQuXG4gICAqICAgLSBuYW1lOiBUaGUgb3JpZ2luYWwgaWRlbnRpZmllciwgb3IgbnVsbC5cbiAgICovXG4gIG9yaWdpbmFsUG9zaXRpb25Gb3IoYUFyZ3MpIHtcbiAgICBjb25zdCBuZWVkbGUgPSB7XG4gICAgICBnZW5lcmF0ZWRMaW5lOiB1dGlsLmdldEFyZyhhQXJncywgXCJsaW5lXCIpLFxuICAgICAgZ2VuZXJhdGVkQ29sdW1uOiB1dGlsLmdldEFyZyhhQXJncywgXCJjb2x1bW5cIilcbiAgICB9O1xuXG4gICAgaWYgKG5lZWRsZS5nZW5lcmF0ZWRMaW5lIDwgMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTGluZSBudW1iZXJzIG11c3QgYmUgPj0gMVwiKTtcbiAgICB9XG5cbiAgICBpZiAobmVlZGxlLmdlbmVyYXRlZENvbHVtbiA8IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbHVtbiBudW1iZXJzIG11c3QgYmUgPj0gMFwiKTtcbiAgICB9XG5cbiAgICBsZXQgYmlhcyA9IHV0aWwuZ2V0QXJnKGFBcmdzLCBcImJpYXNcIiwgU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQpO1xuICAgIGlmIChiaWFzID09IG51bGwpIHtcbiAgICAgIGJpYXMgPSBTb3VyY2VNYXBDb25zdW1lci5HUkVBVEVTVF9MT1dFUl9CT1VORDtcbiAgICB9XG5cbiAgICBsZXQgbWFwcGluZztcbiAgICB0aGlzLl93YXNtLndpdGhNYXBwaW5nQ2FsbGJhY2sobSA9PiBtYXBwaW5nID0gbSwgKCkgPT4ge1xuICAgICAgdGhpcy5fd2FzbS5leHBvcnRzLm9yaWdpbmFsX2xvY2F0aW9uX2ZvcihcbiAgICAgICAgdGhpcy5fZ2V0TWFwcGluZ3NQdHIoKSxcbiAgICAgICAgbmVlZGxlLmdlbmVyYXRlZExpbmUgLSAxLFxuICAgICAgICBuZWVkbGUuZ2VuZXJhdGVkQ29sdW1uLFxuICAgICAgICBiaWFzXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaWYgKG1hcHBpbmcpIHtcbiAgICAgIGlmIChtYXBwaW5nLmdlbmVyYXRlZExpbmUgPT09IG5lZWRsZS5nZW5lcmF0ZWRMaW5lKSB7XG4gICAgICAgIGxldCBzb3VyY2UgPSB1dGlsLmdldEFyZyhtYXBwaW5nLCBcInNvdXJjZVwiLCBudWxsKTtcbiAgICAgICAgaWYgKHNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHNvdXJjZSA9IHRoaXMuX3NvdXJjZXMuYXQoc291cmNlKTtcbiAgICAgICAgICBzb3VyY2UgPSB1dGlsLmNvbXB1dGVTb3VyY2VVUkwodGhpcy5zb3VyY2VSb290LCBzb3VyY2UsIHRoaXMuX3NvdXJjZU1hcFVSTCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbmFtZSA9IHV0aWwuZ2V0QXJnKG1hcHBpbmcsIFwibmFtZVwiLCBudWxsKTtcbiAgICAgICAgaWYgKG5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICBuYW1lID0gdGhpcy5fbmFtZXMuYXQobmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHNvdXJjZSxcbiAgICAgICAgICBsaW5lOiB1dGlsLmdldEFyZyhtYXBwaW5nLCBcIm9yaWdpbmFsTGluZVwiLCBudWxsKSxcbiAgICAgICAgICBjb2x1bW46IHV0aWwuZ2V0QXJnKG1hcHBpbmcsIFwib3JpZ2luYWxDb2x1bW5cIiwgbnVsbCksXG4gICAgICAgICAgbmFtZVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzb3VyY2U6IG51bGwsXG4gICAgICBsaW5lOiBudWxsLFxuICAgICAgY29sdW1uOiBudWxsLFxuICAgICAgbmFtZTogbnVsbFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRydWUgaWYgd2UgaGF2ZSB0aGUgc291cmNlIGNvbnRlbnQgZm9yIGV2ZXJ5IHNvdXJjZSBpbiB0aGUgc291cmNlXG4gICAqIG1hcCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgaGFzQ29udGVudHNPZkFsbFNvdXJjZXMoKSB7XG4gICAgaWYgKCF0aGlzLnNvdXJjZXNDb250ZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnNvdXJjZXNDb250ZW50Lmxlbmd0aCA+PSB0aGlzLl9zb3VyY2VzLnNpemUoKSAmJlxuICAgICAgIXRoaXMuc291cmNlc0NvbnRlbnQuc29tZShmdW5jdGlvbihzYykgeyByZXR1cm4gc2MgPT0gbnVsbDsgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgb3JpZ2luYWwgc291cmNlIGNvbnRlbnQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIHRoZSB1cmwgb2YgdGhlXG4gICAqIG9yaWdpbmFsIHNvdXJjZSBmaWxlLiBSZXR1cm5zIG51bGwgaWYgbm8gb3JpZ2luYWwgc291cmNlIGNvbnRlbnQgaXNcbiAgICogYXZhaWxhYmxlLlxuICAgKi9cbiAgc291cmNlQ29udGVudEZvcihhU291cmNlLCBudWxsT25NaXNzaW5nKSB7XG4gICAgaWYgKCF0aGlzLnNvdXJjZXNDb250ZW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBjb25zdCBpbmRleCA9IHRoaXMuX2ZpbmRTb3VyY2VJbmRleChhU291cmNlKTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgcmV0dXJuIHRoaXMuc291cmNlc0NvbnRlbnRbaW5kZXhdO1xuICAgIH1cblxuICAgIGxldCByZWxhdGl2ZVNvdXJjZSA9IGFTb3VyY2U7XG4gICAgaWYgKHRoaXMuc291cmNlUm9vdCAhPSBudWxsKSB7XG4gICAgICByZWxhdGl2ZVNvdXJjZSA9IHV0aWwucmVsYXRpdmUodGhpcy5zb3VyY2VSb290LCByZWxhdGl2ZVNvdXJjZSk7XG4gICAgfVxuXG4gICAgbGV0IHVybDtcbiAgICBpZiAodGhpcy5zb3VyY2VSb290ICE9IG51bGxcbiAgICAgICAgJiYgKHVybCA9IHV0aWwudXJsUGFyc2UodGhpcy5zb3VyY2VSb290KSkpIHtcbiAgICAgIC8vIFhYWDogZmlsZTovLyBVUklzIGFuZCBhYnNvbHV0ZSBwYXRocyBsZWFkIHRvIHVuZXhwZWN0ZWQgYmVoYXZpb3IgZm9yXG4gICAgICAvLyBtYW55IHVzZXJzLiBXZSBjYW4gaGVscCB0aGVtIG91dCB3aGVuIHRoZXkgZXhwZWN0IGZpbGU6Ly8gVVJJcyB0b1xuICAgICAgLy8gYmVoYXZlIGxpa2UgaXQgd291bGQgaWYgdGhleSB3ZXJlIHJ1bm5pbmcgYSBsb2NhbCBIVFRQIHNlcnZlci4gU2VlXG4gICAgICAvLyBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD04ODU1OTcuXG4gICAgICBjb25zdCBmaWxlVXJpQWJzUGF0aCA9IHJlbGF0aXZlU291cmNlLnJlcGxhY2UoL15maWxlOlxcL1xcLy8sIFwiXCIpO1xuICAgICAgaWYgKHVybC5zY2hlbWUgPT0gXCJmaWxlXCJcbiAgICAgICAgICAmJiB0aGlzLl9zb3VyY2VzLmhhcyhmaWxlVXJpQWJzUGF0aCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlc0NvbnRlbnRbdGhpcy5fc291cmNlcy5pbmRleE9mKGZpbGVVcmlBYnNQYXRoKV07XG4gICAgICB9XG5cbiAgICAgIGlmICgoIXVybC5wYXRoIHx8IHVybC5wYXRoID09IFwiL1wiKVxuICAgICAgICAgICYmIHRoaXMuX3NvdXJjZXMuaGFzKFwiL1wiICsgcmVsYXRpdmVTb3VyY2UpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZXNDb250ZW50W3RoaXMuX3NvdXJjZXMuaW5kZXhPZihcIi9cIiArIHJlbGF0aXZlU291cmNlKV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHJlY3Vyc2l2ZWx5IGZyb21cbiAgICAvLyBJbmRleGVkU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLnNvdXJjZUNvbnRlbnRGb3IuIEluIHRoYXQgY2FzZSwgd2VcbiAgICAvLyBkb24ndCB3YW50IHRvIHRocm93IGlmIHdlIGNhbid0IGZpbmQgdGhlIHNvdXJjZSAtIHdlIGp1c3Qgd2FudCB0b1xuICAgIC8vIHJldHVybiBudWxsLCBzbyB3ZSBwcm92aWRlIGEgZmxhZyB0byBleGl0IGdyYWNlZnVsbHkuXG4gICAgaWYgKG51bGxPbk1pc3NpbmcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcignXCInICsgcmVsYXRpdmVTb3VyY2UgKyAnXCIgaXMgbm90IGluIHRoZSBTb3VyY2VNYXAuJyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZ2VuZXJhdGVkIGxpbmUgYW5kIGNvbHVtbiBpbmZvcm1hdGlvbiBmb3IgdGhlIG9yaWdpbmFsIHNvdXJjZSxcbiAgICogbGluZSwgYW5kIGNvbHVtbiBwb3NpdGlvbnMgcHJvdmlkZWQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIGFuIG9iamVjdCB3aXRoXG4gICAqIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICpcbiAgICogICAtIHNvdXJjZTogVGhlIGZpbGVuYW1lIG9mIHRoZSBvcmlnaW5hbCBzb3VyY2UuXG4gICAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS4gIFRoZSBsaW5lIG51bWJlclxuICAgKiAgICAgaXMgMS1iYXNlZC5cbiAgICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS4gIFRoZSBjb2x1bW5cbiAgICogICAgIG51bWJlciBpcyAwLWJhc2VkLlxuICAgKiAgIC0gYmlhczogRWl0aGVyICdTb3VyY2VNYXBDb25zdW1lci5HUkVBVEVTVF9MT1dFUl9CT1VORCcgb3JcbiAgICogICAgICdTb3VyY2VNYXBDb25zdW1lci5MRUFTVF9VUFBFUl9CT1VORCcuIFNwZWNpZmllcyB3aGV0aGVyIHRvIHJldHVybiB0aGVcbiAgICogICAgIGNsb3Nlc3QgZWxlbWVudCB0aGF0IGlzIHNtYWxsZXIgdGhhbiBvciBncmVhdGVyIHRoYW4gdGhlIG9uZSB3ZSBhcmVcbiAgICogICAgIHNlYXJjaGluZyBmb3IsIHJlc3BlY3RpdmVseSwgaWYgdGhlIGV4YWN0IGVsZW1lbnQgY2Fubm90IGJlIGZvdW5kLlxuICAgKiAgICAgRGVmYXVsdHMgdG8gJ1NvdXJjZU1hcENvbnN1bWVyLkdSRUFURVNUX0xPV0VSX0JPVU5EJy5cbiAgICpcbiAgICogYW5kIGFuIG9iamVjdCBpcyByZXR1cm5lZCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICpcbiAgICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZSwgb3IgbnVsbC4gIFRoZVxuICAgKiAgICAgbGluZSBudW1iZXIgaXMgMS1iYXNlZC5cbiAgICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UsIG9yIG51bGwuXG4gICAqICAgICBUaGUgY29sdW1uIG51bWJlciBpcyAwLWJhc2VkLlxuICAgKi9cbiAgZ2VuZXJhdGVkUG9zaXRpb25Gb3IoYUFyZ3MpIHtcbiAgICBsZXQgc291cmNlID0gdXRpbC5nZXRBcmcoYUFyZ3MsIFwic291cmNlXCIpO1xuICAgIHNvdXJjZSA9IHRoaXMuX2ZpbmRTb3VyY2VJbmRleChzb3VyY2UpO1xuICAgIGlmIChzb3VyY2UgPCAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBsaW5lOiBudWxsLFxuICAgICAgICBjb2x1bW46IG51bGwsXG4gICAgICAgIGxhc3RDb2x1bW46IG51bGxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgbmVlZGxlID0ge1xuICAgICAgc291cmNlLFxuICAgICAgb3JpZ2luYWxMaW5lOiB1dGlsLmdldEFyZyhhQXJncywgXCJsaW5lXCIpLFxuICAgICAgb3JpZ2luYWxDb2x1bW46IHV0aWwuZ2V0QXJnKGFBcmdzLCBcImNvbHVtblwiKVxuICAgIH07XG5cbiAgICBpZiAobmVlZGxlLm9yaWdpbmFsTGluZSA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkxpbmUgbnVtYmVycyBtdXN0IGJlID49IDFcIik7XG4gICAgfVxuXG4gICAgaWYgKG5lZWRsZS5vcmlnaW5hbENvbHVtbiA8IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbHVtbiBudW1iZXJzIG11c3QgYmUgPj0gMFwiKTtcbiAgICB9XG5cbiAgICBsZXQgYmlhcyA9IHV0aWwuZ2V0QXJnKGFBcmdzLCBcImJpYXNcIiwgU291cmNlTWFwQ29uc3VtZXIuR1JFQVRFU1RfTE9XRVJfQk9VTkQpO1xuICAgIGlmIChiaWFzID09IG51bGwpIHtcbiAgICAgIGJpYXMgPSBTb3VyY2VNYXBDb25zdW1lci5HUkVBVEVTVF9MT1dFUl9CT1VORDtcbiAgICB9XG5cbiAgICBsZXQgbWFwcGluZztcbiAgICB0aGlzLl93YXNtLndpdGhNYXBwaW5nQ2FsbGJhY2sobSA9PiBtYXBwaW5nID0gbSwgKCkgPT4ge1xuICAgICAgdGhpcy5fd2FzbS5leHBvcnRzLmdlbmVyYXRlZF9sb2NhdGlvbl9mb3IoXG4gICAgICAgIHRoaXMuX2dldE1hcHBpbmdzUHRyKCksXG4gICAgICAgIG5lZWRsZS5zb3VyY2UsXG4gICAgICAgIG5lZWRsZS5vcmlnaW5hbExpbmUgLSAxLFxuICAgICAgICBuZWVkbGUub3JpZ2luYWxDb2x1bW4sXG4gICAgICAgIGJpYXNcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpZiAobWFwcGluZykge1xuICAgICAgaWYgKG1hcHBpbmcuc291cmNlID09PSBuZWVkbGUuc291cmNlKSB7XG4gICAgICAgIGxldCBsYXN0Q29sdW1uID0gbWFwcGluZy5sYXN0R2VuZXJhdGVkQ29sdW1uO1xuICAgICAgICBpZiAodGhpcy5fY29tcHV0ZWRDb2x1bW5TcGFucyAmJiBsYXN0Q29sdW1uID09PSBudWxsKSB7XG4gICAgICAgICAgbGFzdENvbHVtbiA9IEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbGluZTogdXRpbC5nZXRBcmcobWFwcGluZywgXCJnZW5lcmF0ZWRMaW5lXCIsIG51bGwpLFxuICAgICAgICAgIGNvbHVtbjogdXRpbC5nZXRBcmcobWFwcGluZywgXCJnZW5lcmF0ZWRDb2x1bW5cIiwgbnVsbCksXG4gICAgICAgICAgbGFzdENvbHVtbixcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGluZTogbnVsbCxcbiAgICAgIGNvbHVtbjogbnVsbCxcbiAgICAgIGxhc3RDb2x1bW46IG51bGxcbiAgICB9O1xuICB9XG59XG5cbkJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLmNvbnN1bWVyID0gU291cmNlTWFwQ29uc3VtZXI7XG5leHBvcnRzLkJhc2ljU291cmNlTWFwQ29uc3VtZXIgPSBCYXNpY1NvdXJjZU1hcENvbnN1bWVyO1xuXG4vKipcbiAqIEFuIEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lciBpbnN0YW5jZSByZXByZXNlbnRzIGEgcGFyc2VkIHNvdXJjZSBtYXAgd2hpY2hcbiAqIHdlIGNhbiBxdWVyeSBmb3IgaW5mb3JtYXRpb24uIEl0IGRpZmZlcnMgZnJvbSBCYXNpY1NvdXJjZU1hcENvbnN1bWVyIGluXG4gKiB0aGF0IGl0IHRha2VzIFwiaW5kZXhlZFwiIHNvdXJjZSBtYXBzIChpLmUuIG9uZXMgd2l0aCBhIFwic2VjdGlvbnNcIiBmaWVsZCkgYXNcbiAqIGlucHV0LlxuICpcbiAqIFRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSByYXcgc291cmNlIG1hcCAoZWl0aGVyIGFzIGEgSlNPTiBzdHJpbmcsIG9yIGFscmVhZHlcbiAqIHBhcnNlZCB0byBhbiBvYmplY3QpLiBBY2NvcmRpbmcgdG8gdGhlIHNwZWMgZm9yIGluZGV4ZWQgc291cmNlIG1hcHMsIHRoZXlcbiAqIGhhdmUgdGhlIGZvbGxvd2luZyBhdHRyaWJ1dGVzOlxuICpcbiAqICAgLSB2ZXJzaW9uOiBXaGljaCB2ZXJzaW9uIG9mIHRoZSBzb3VyY2UgbWFwIHNwZWMgdGhpcyBtYXAgaXMgZm9sbG93aW5nLlxuICogICAtIGZpbGU6IE9wdGlvbmFsLiBUaGUgZ2VuZXJhdGVkIGZpbGUgdGhpcyBzb3VyY2UgbWFwIGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAqICAgLSBzZWN0aW9uczogQSBsaXN0IG9mIHNlY3Rpb24gZGVmaW5pdGlvbnMuXG4gKlxuICogRWFjaCB2YWx1ZSB1bmRlciB0aGUgXCJzZWN0aW9uc1wiIGZpZWxkIGhhcyB0d28gZmllbGRzOlxuICogICAtIG9mZnNldDogVGhlIG9mZnNldCBpbnRvIHRoZSBvcmlnaW5hbCBzcGVjaWZpZWQgYXQgd2hpY2ggdGhpcyBzZWN0aW9uXG4gKiAgICAgICBiZWdpbnMgdG8gYXBwbHksIGRlZmluZWQgYXMgYW4gb2JqZWN0IHdpdGggYSBcImxpbmVcIiBhbmQgXCJjb2x1bW5cIlxuICogICAgICAgZmllbGQuXG4gKiAgIC0gbWFwOiBBIHNvdXJjZSBtYXAgZGVmaW5pdGlvbi4gVGhpcyBzb3VyY2UgbWFwIGNvdWxkIGFsc28gYmUgaW5kZXhlZCxcbiAqICAgICAgIGJ1dCBkb2Vzbid0IGhhdmUgdG8gYmUuXG4gKlxuICogSW5zdGVhZCBvZiB0aGUgXCJtYXBcIiBmaWVsZCwgaXQncyBhbHNvIHBvc3NpYmxlIHRvIGhhdmUgYSBcInVybFwiIGZpZWxkXG4gKiBzcGVjaWZ5aW5nIGEgVVJMIHRvIHJldHJpZXZlIGEgc291cmNlIG1hcCBmcm9tLCBidXQgdGhhdCdzIGN1cnJlbnRseVxuICogdW5zdXBwb3J0ZWQuXG4gKlxuICogSGVyZSdzIGFuIGV4YW1wbGUgc291cmNlIG1hcCwgdGFrZW4gZnJvbSB0aGUgc291cmNlIG1hcCBzcGVjWzBdLCBidXRcbiAqIG1vZGlmaWVkIHRvIG9taXQgYSBzZWN0aW9uIHdoaWNoIHVzZXMgdGhlIFwidXJsXCIgZmllbGQuXG4gKlxuICogIHtcbiAqICAgIHZlcnNpb24gOiAzLFxuICogICAgZmlsZTogXCJhcHAuanNcIixcbiAqICAgIHNlY3Rpb25zOiBbe1xuICogICAgICBvZmZzZXQ6IHtsaW5lOjEwMCwgY29sdW1uOjEwfSxcbiAqICAgICAgbWFwOiB7XG4gKiAgICAgICAgdmVyc2lvbiA6IDMsXG4gKiAgICAgICAgZmlsZTogXCJzZWN0aW9uLmpzXCIsXG4gKiAgICAgICAgc291cmNlczogW1wiZm9vLmpzXCIsIFwiYmFyLmpzXCJdLFxuICogICAgICAgIG5hbWVzOiBbXCJzcmNcIiwgXCJtYXBzXCIsIFwiYXJlXCIsIFwiZnVuXCJdLFxuICogICAgICAgIG1hcHBpbmdzOiBcIkFBQUEsRTs7QUJDREU7XCJcbiAqICAgICAgfVxuICogICAgfV0sXG4gKiAgfVxuICpcbiAqIFRoZSBzZWNvbmQgcGFyYW1ldGVyLCBpZiBnaXZlbiwgaXMgYSBzdHJpbmcgd2hvc2UgdmFsdWUgaXMgdGhlIFVSTFxuICogYXQgd2hpY2ggdGhlIHNvdXJjZSBtYXAgd2FzIGZvdW5kLiAgVGhpcyBVUkwgaXMgdXNlZCB0byBjb21wdXRlIHRoZVxuICogc291cmNlcyBhcnJheS5cbiAqXG4gKiBbMF06IGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL2RvY3VtZW50L2QvMVUxUkdBZWhRd1J5cFVUb3ZGMUtSbHBpT0Z6ZTBiLV8yZ2M2ZkFIMEtZMGsvZWRpdCNoZWFkaW5nPWguNTM1ZXMzeGVwcmd0XG4gKi9cbmNsYXNzIEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lciBleHRlbmRzIFNvdXJjZU1hcENvbnN1bWVyIHtcbiAgY29uc3RydWN0b3IoYVNvdXJjZU1hcCwgYVNvdXJjZU1hcFVSTCkge1xuICAgIHJldHVybiBzdXBlcihJTlRFUk5BTCkudGhlbih0aGF0ID0+IHtcbiAgICAgIGxldCBzb3VyY2VNYXAgPSBhU291cmNlTWFwO1xuICAgICAgaWYgKHR5cGVvZiBhU291cmNlTWFwID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHNvdXJjZU1hcCA9IHV0aWwucGFyc2VTb3VyY2VNYXBJbnB1dChhU291cmNlTWFwKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgdmVyc2lvbiA9IHV0aWwuZ2V0QXJnKHNvdXJjZU1hcCwgXCJ2ZXJzaW9uXCIpO1xuICAgICAgY29uc3Qgc2VjdGlvbnMgPSB1dGlsLmdldEFyZyhzb3VyY2VNYXAsIFwic2VjdGlvbnNcIik7XG5cbiAgICAgIGlmICh2ZXJzaW9uICE9IHRoYXQuX3ZlcnNpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgdmVyc2lvbjogXCIgKyB2ZXJzaW9uKTtcbiAgICAgIH1cblxuICAgICAgdGhhdC5fc291cmNlcyA9IG5ldyBBcnJheVNldCgpO1xuICAgICAgdGhhdC5fbmFtZXMgPSBuZXcgQXJyYXlTZXQoKTtcbiAgICAgIHRoYXQuX19nZW5lcmF0ZWRNYXBwaW5ncyA9IG51bGw7XG4gICAgICB0aGF0Ll9fb3JpZ2luYWxNYXBwaW5ncyA9IG51bGw7XG4gICAgICB0aGF0Ll9fZ2VuZXJhdGVkTWFwcGluZ3NVbnNvcnRlZCA9IG51bGw7XG4gICAgICB0aGF0Ll9fb3JpZ2luYWxNYXBwaW5nc1Vuc29ydGVkID0gbnVsbDtcblxuICAgICAgbGV0IGxhc3RPZmZzZXQgPSB7XG4gICAgICAgIGxpbmU6IC0xLFxuICAgICAgICBjb2x1bW46IDBcbiAgICAgIH07XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoc2VjdGlvbnMubWFwKHMgPT4ge1xuICAgICAgICBpZiAocy51cmwpIHtcbiAgICAgICAgICAvLyBUaGUgdXJsIGZpZWxkIHdpbGwgcmVxdWlyZSBzdXBwb3J0IGZvciBhc3luY2hyb25pY2l0eS5cbiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvc291cmNlLW1hcC9pc3N1ZXMvMTZcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdXBwb3J0IGZvciB1cmwgZmllbGQgaW4gc2VjdGlvbnMgbm90IGltcGxlbWVudGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvZmZzZXQgPSB1dGlsLmdldEFyZyhzLCBcIm9mZnNldFwiKTtcbiAgICAgICAgY29uc3Qgb2Zmc2V0TGluZSA9IHV0aWwuZ2V0QXJnKG9mZnNldCwgXCJsaW5lXCIpO1xuICAgICAgICBjb25zdCBvZmZzZXRDb2x1bW4gPSB1dGlsLmdldEFyZyhvZmZzZXQsIFwiY29sdW1uXCIpO1xuXG4gICAgICAgIGlmIChvZmZzZXRMaW5lIDwgbGFzdE9mZnNldC5saW5lIHx8XG4gICAgICAgICAgICAob2Zmc2V0TGluZSA9PT0gbGFzdE9mZnNldC5saW5lICYmIG9mZnNldENvbHVtbiA8IGxhc3RPZmZzZXQuY29sdW1uKSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNlY3Rpb24gb2Zmc2V0cyBtdXN0IGJlIG9yZGVyZWQgYW5kIG5vbi1vdmVybGFwcGluZy5cIik7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdE9mZnNldCA9IG9mZnNldDtcblxuICAgICAgICBjb25zdCBjb25zID0gbmV3IFNvdXJjZU1hcENvbnN1bWVyKHV0aWwuZ2V0QXJnKHMsIFwibWFwXCIpLCBhU291cmNlTWFwVVJMKTtcbiAgICAgICAgcmV0dXJuIGNvbnMudGhlbihjb25zdW1lciA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGdlbmVyYXRlZE9mZnNldDoge1xuICAgICAgICAgICAgICAvLyBUaGUgb2Zmc2V0IGZpZWxkcyBhcmUgMC1iYXNlZCwgYnV0IHdlIHVzZSAxLWJhc2VkIGluZGljZXMgd2hlblxuICAgICAgICAgICAgICAvLyBlbmNvZGluZy9kZWNvZGluZyBmcm9tIFZMUS5cbiAgICAgICAgICAgICAgZ2VuZXJhdGVkTGluZTogb2Zmc2V0TGluZSArIDEsXG4gICAgICAgICAgICAgIGdlbmVyYXRlZENvbHVtbjogb2Zmc2V0Q29sdW1uICsgMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbnN1bWVyXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KSkudGhlbihzID0+IHtcbiAgICAgICAgdGhhdC5fc2VjdGlvbnMgPSBzO1xuICAgICAgICByZXR1cm4gdGhhdDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gYF9fZ2VuZXJhdGVkTWFwcGluZ3NgIGFuZCBgX19vcmlnaW5hbE1hcHBpbmdzYCBhcmUgYXJyYXlzIHRoYXQgaG9sZCB0aGVcbiAgLy8gcGFyc2VkIG1hcHBpbmcgY29vcmRpbmF0ZXMgZnJvbSB0aGUgc291cmNlIG1hcCdzIFwibWFwcGluZ3NcIiBhdHRyaWJ1dGUuIFRoZXlcbiAgLy8gYXJlIGxhemlseSBpbnN0YW50aWF0ZWQsIGFjY2Vzc2VkIHZpYSB0aGUgYF9nZW5lcmF0ZWRNYXBwaW5nc2AgYW5kXG4gIC8vIGBfb3JpZ2luYWxNYXBwaW5nc2AgZ2V0dGVycyByZXNwZWN0aXZlbHksIGFuZCB3ZSBvbmx5IHBhcnNlIHRoZSBtYXBwaW5nc1xuICAvLyBhbmQgY3JlYXRlIHRoZXNlIGFycmF5cyBvbmNlIHF1ZXJpZWQgZm9yIGEgc291cmNlIGxvY2F0aW9uLiBXZSBqdW1wIHRocm91Z2hcbiAgLy8gdGhlc2UgaG9vcHMgYmVjYXVzZSB0aGVyZSBjYW4gYmUgbWFueSB0aG91c2FuZHMgb2YgbWFwcGluZ3MsIGFuZCBwYXJzaW5nXG4gIC8vIHRoZW0gaXMgZXhwZW5zaXZlLCBzbyB3ZSBvbmx5IHdhbnQgdG8gZG8gaXQgaWYgd2UgbXVzdC5cbiAgLy9cbiAgLy8gRWFjaCBvYmplY3QgaW4gdGhlIGFycmF5cyBpcyBvZiB0aGUgZm9ybTpcbiAgLy9cbiAgLy8gICAgIHtcbiAgLy8gICAgICAgZ2VuZXJhdGVkTGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgY29kZSxcbiAgLy8gICAgICAgZ2VuZXJhdGVkQ29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIGNvZGUsXG4gIC8vICAgICAgIHNvdXJjZTogVGhlIHBhdGggdG8gdGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlIHRoYXQgZ2VuZXJhdGVkIHRoaXNcbiAgLy8gICAgICAgICAgICAgICBjaHVuayBvZiBjb2RlLFxuICAvLyAgICAgICBvcmlnaW5hbExpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgb3JpZ2luYWwgc291cmNlIHRoYXRcbiAgLy8gICAgICAgICAgICAgICAgICAgICBjb3JyZXNwb25kcyB0byB0aGlzIGNodW5rIG9mIGdlbmVyYXRlZCBjb2RlLFxuICAvLyAgICAgICBvcmlnaW5hbENvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZSB0aGF0XG4gIC8vICAgICAgICAgICAgICAgICAgICAgICBjb3JyZXNwb25kcyB0byB0aGlzIGNodW5rIG9mIGdlbmVyYXRlZCBjb2RlLFxuICAvLyAgICAgICBuYW1lOiBUaGUgbmFtZSBvZiB0aGUgb3JpZ2luYWwgc3ltYm9sIHdoaWNoIGdlbmVyYXRlZCB0aGlzIGNodW5rIG9mXG4gIC8vICAgICAgICAgICAgIGNvZGUuXG4gIC8vICAgICB9XG4gIC8vXG4gIC8vIEFsbCBwcm9wZXJ0aWVzIGV4Y2VwdCBmb3IgYGdlbmVyYXRlZExpbmVgIGFuZCBgZ2VuZXJhdGVkQ29sdW1uYCBjYW4gYmVcbiAgLy8gYG51bGxgLlxuICAvL1xuICAvLyBgX2dlbmVyYXRlZE1hcHBpbmdzYCBpcyBvcmRlcmVkIGJ5IHRoZSBnZW5lcmF0ZWQgcG9zaXRpb25zLlxuICAvL1xuICAvLyBgX29yaWdpbmFsTWFwcGluZ3NgIGlzIG9yZGVyZWQgYnkgdGhlIG9yaWdpbmFsIHBvc2l0aW9ucy5cbiAgZ2V0IF9nZW5lcmF0ZWRNYXBwaW5ncygpIHtcbiAgICBpZiAoIXRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncykge1xuICAgICAgdGhpcy5fc29ydEdlbmVyYXRlZE1hcHBpbmdzKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXMuX19nZW5lcmF0ZWRNYXBwaW5ncztcbiAgfVxuXG4gIGdldCBfb3JpZ2luYWxNYXBwaW5ncygpIHtcbiAgICBpZiAoIXRoaXMuX19vcmlnaW5hbE1hcHBpbmdzKSB7XG4gICAgICB0aGlzLl9zb3J0T3JpZ2luYWxNYXBwaW5ncygpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncztcbiAgfVxuXG4gIGdldCBfZ2VuZXJhdGVkTWFwcGluZ3NVbnNvcnRlZCgpIHtcbiAgICBpZiAoIXRoaXMuX19nZW5lcmF0ZWRNYXBwaW5nc1Vuc29ydGVkKSB7XG4gICAgICB0aGlzLl9wYXJzZU1hcHBpbmdzKHRoaXMuX21hcHBpbmdzLCB0aGlzLnNvdXJjZVJvb3QpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3NVbnNvcnRlZDtcbiAgfVxuXG4gIGdldCBfb3JpZ2luYWxNYXBwaW5nc1Vuc29ydGVkKCkge1xuICAgIGlmICghdGhpcy5fX29yaWdpbmFsTWFwcGluZ3NVbnNvcnRlZCkge1xuICAgICAgdGhpcy5fcGFyc2VNYXBwaW5ncyh0aGlzLl9tYXBwaW5ncywgdGhpcy5zb3VyY2VSb290KTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fX29yaWdpbmFsTWFwcGluZ3NVbnNvcnRlZDtcbiAgfVxuXG4gIF9zb3J0R2VuZXJhdGVkTWFwcGluZ3MoKSB7XG4gICAgY29uc3QgbWFwcGluZ3MgPSB0aGlzLl9nZW5lcmF0ZWRNYXBwaW5nc1Vuc29ydGVkO1xuICAgIG1hcHBpbmdzLnNvcnQodXRpbC5jb21wYXJlQnlHZW5lcmF0ZWRQb3NpdGlvbnNEZWZsYXRlZCk7XG4gICAgdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzID0gbWFwcGluZ3M7XG4gIH1cblxuICBfc29ydE9yaWdpbmFsTWFwcGluZ3MoKSB7XG4gICAgY29uc3QgbWFwcGluZ3MgPSB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzVW5zb3J0ZWQ7XG4gICAgbWFwcGluZ3Muc29ydCh1dGlsLmNvbXBhcmVCeU9yaWdpbmFsUG9zaXRpb25zKTtcbiAgICB0aGlzLl9fb3JpZ2luYWxNYXBwaW5ncyA9IG1hcHBpbmdzO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIG9yaWdpbmFsIHNvdXJjZXMuXG4gICAqL1xuICBnZXQgc291cmNlcygpIHtcbiAgICBjb25zdCBzb3VyY2VzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9zZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl9zZWN0aW9uc1tpXS5jb25zdW1lci5zb3VyY2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHNvdXJjZXMucHVzaCh0aGlzLl9zZWN0aW9uc1tpXS5jb25zdW1lci5zb3VyY2VzW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZXM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgb3JpZ2luYWwgc291cmNlLCBsaW5lLCBhbmQgY29sdW1uIGluZm9ybWF0aW9uIGZvciB0aGUgZ2VuZXJhdGVkXG4gICAqIHNvdXJjZSdzIGxpbmUgYW5kIGNvbHVtbiBwb3NpdGlvbnMgcHJvdmlkZWQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIGFuIG9iamVjdFxuICAgKiB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICpcbiAgICogICAtIGxpbmU6IFRoZSBsaW5lIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZS4gIFRoZSBsaW5lIG51bWJlclxuICAgKiAgICAgaXMgMS1iYXNlZC5cbiAgICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGdlbmVyYXRlZCBzb3VyY2UuICBUaGUgY29sdW1uXG4gICAqICAgICBudW1iZXIgaXMgMC1iYXNlZC5cbiAgICpcbiAgICogYW5kIGFuIG9iamVjdCBpcyByZXR1cm5lZCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICpcbiAgICogICAtIHNvdXJjZTogVGhlIG9yaWdpbmFsIHNvdXJjZSBmaWxlLCBvciBudWxsLlxuICAgKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UsIG9yIG51bGwuICBUaGVcbiAgICogICAgIGxpbmUgbnVtYmVyIGlzIDEtYmFzZWQuXG4gICAqICAgLSBjb2x1bW46IFRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBvcmlnaW5hbCBzb3VyY2UsIG9yIG51bGwuICBUaGVcbiAgICogICAgIGNvbHVtbiBudW1iZXIgaXMgMC1iYXNlZC5cbiAgICogICAtIG5hbWU6IFRoZSBvcmlnaW5hbCBpZGVudGlmaWVyLCBvciBudWxsLlxuICAgKi9cbiAgb3JpZ2luYWxQb3NpdGlvbkZvcihhQXJncykge1xuICAgIGNvbnN0IG5lZWRsZSA9IHtcbiAgICAgIGdlbmVyYXRlZExpbmU6IHV0aWwuZ2V0QXJnKGFBcmdzLCBcImxpbmVcIiksXG4gICAgICBnZW5lcmF0ZWRDb2x1bW46IHV0aWwuZ2V0QXJnKGFBcmdzLCBcImNvbHVtblwiKVxuICAgIH07XG5cbiAgICAvLyBGaW5kIHRoZSBzZWN0aW9uIGNvbnRhaW5pbmcgdGhlIGdlbmVyYXRlZCBwb3NpdGlvbiB3ZSdyZSB0cnlpbmcgdG8gbWFwXG4gICAgLy8gdG8gYW4gb3JpZ2luYWwgcG9zaXRpb24uXG4gICAgY29uc3Qgc2VjdGlvbkluZGV4ID0gYmluYXJ5U2VhcmNoLnNlYXJjaChuZWVkbGUsIHRoaXMuX3NlY3Rpb25zLFxuICAgICAgZnVuY3Rpb24oYU5lZWRsZSwgc2VjdGlvbikge1xuICAgICAgICBjb25zdCBjbXAgPSBhTmVlZGxlLmdlbmVyYXRlZExpbmUgLSBzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lO1xuICAgICAgICBpZiAoY21wKSB7XG4gICAgICAgICAgcmV0dXJuIGNtcDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoYU5lZWRsZS5nZW5lcmF0ZWRDb2x1bW4gLVxuICAgICAgICAgICAgICAgIHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZENvbHVtbik7XG4gICAgICB9KTtcbiAgICBjb25zdCBzZWN0aW9uID0gdGhpcy5fc2VjdGlvbnNbc2VjdGlvbkluZGV4XTtcblxuICAgIGlmICghc2VjdGlvbikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc291cmNlOiBudWxsLFxuICAgICAgICBsaW5lOiBudWxsLFxuICAgICAgICBjb2x1bW46IG51bGwsXG4gICAgICAgIG5hbWU6IG51bGxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlY3Rpb24uY29uc3VtZXIub3JpZ2luYWxQb3NpdGlvbkZvcih7XG4gICAgICBsaW5lOiBuZWVkbGUuZ2VuZXJhdGVkTGluZSAtXG4gICAgICAgIChzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lIC0gMSksXG4gICAgICBjb2x1bW46IG5lZWRsZS5nZW5lcmF0ZWRDb2x1bW4gLVxuICAgICAgICAoc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkTGluZSA9PT0gbmVlZGxlLmdlbmVyYXRlZExpbmVcbiAgICAgICAgID8gc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkQ29sdW1uIC0gMVxuICAgICAgICAgOiAwKSxcbiAgICAgIGJpYXM6IGFBcmdzLmJpYXNcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdHJ1ZSBpZiB3ZSBoYXZlIHRoZSBzb3VyY2UgY29udGVudCBmb3IgZXZlcnkgc291cmNlIGluIHRoZSBzb3VyY2VcbiAgICogbWFwLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqL1xuICBoYXNDb250ZW50c09mQWxsU291cmNlcygpIHtcbiAgICByZXR1cm4gdGhpcy5fc2VjdGlvbnMuZXZlcnkoZnVuY3Rpb24ocykge1xuICAgICAgcmV0dXJuIHMuY29uc3VtZXIuaGFzQ29udGVudHNPZkFsbFNvdXJjZXMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBvcmlnaW5hbCBzb3VyY2UgY29udGVudC4gVGhlIG9ubHkgYXJndW1lbnQgaXMgdGhlIHVybCBvZiB0aGVcbiAgICogb3JpZ2luYWwgc291cmNlIGZpbGUuIFJldHVybnMgbnVsbCBpZiBubyBvcmlnaW5hbCBzb3VyY2UgY29udGVudCBpc1xuICAgKiBhdmFpbGFibGUuXG4gICAqL1xuICBzb3VyY2VDb250ZW50Rm9yKGFTb3VyY2UsIG51bGxPbk1pc3NpbmcpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3NlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBzZWN0aW9uID0gdGhpcy5fc2VjdGlvbnNbaV07XG5cbiAgICAgIGNvbnN0IGNvbnRlbnQgPSBzZWN0aW9uLmNvbnN1bWVyLnNvdXJjZUNvbnRlbnRGb3IoYVNvdXJjZSwgdHJ1ZSk7XG4gICAgICBpZiAoY29udGVudCkge1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKG51bGxPbk1pc3NpbmcpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiJyArIGFTb3VyY2UgKyAnXCIgaXMgbm90IGluIHRoZSBTb3VyY2VNYXAuJyk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZ2VuZXJhdGVkIGxpbmUgYW5kIGNvbHVtbiBpbmZvcm1hdGlvbiBmb3IgdGhlIG9yaWdpbmFsIHNvdXJjZSxcbiAgICogbGluZSwgYW5kIGNvbHVtbiBwb3NpdGlvbnMgcHJvdmlkZWQuIFRoZSBvbmx5IGFyZ3VtZW50IGlzIGFuIG9iamVjdCB3aXRoXG4gICAqIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICpcbiAgICogICAtIHNvdXJjZTogVGhlIGZpbGVuYW1lIG9mIHRoZSBvcmlnaW5hbCBzb3VyY2UuXG4gICAqICAgLSBsaW5lOiBUaGUgbGluZSBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS4gIFRoZSBsaW5lIG51bWJlclxuICAgKiAgICAgaXMgMS1iYXNlZC5cbiAgICogICAtIGNvbHVtbjogVGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIG9yaWdpbmFsIHNvdXJjZS4gIFRoZSBjb2x1bW5cbiAgICogICAgIG51bWJlciBpcyAwLWJhc2VkLlxuICAgKlxuICAgKiBhbmQgYW4gb2JqZWN0IGlzIHJldHVybmVkIHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxuICAgKlxuICAgKiAgIC0gbGluZTogVGhlIGxpbmUgbnVtYmVyIGluIHRoZSBnZW5lcmF0ZWQgc291cmNlLCBvciBudWxsLiAgVGhlXG4gICAqICAgICBsaW5lIG51bWJlciBpcyAxLWJhc2VkLlxuICAgKiAgIC0gY29sdW1uOiBUaGUgY29sdW1uIG51bWJlciBpbiB0aGUgZ2VuZXJhdGVkIHNvdXJjZSwgb3IgbnVsbC5cbiAgICogICAgIFRoZSBjb2x1bW4gbnVtYmVyIGlzIDAtYmFzZWQuXG4gICAqL1xuICBnZW5lcmF0ZWRQb3NpdGlvbkZvcihhQXJncykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHNlY3Rpb24gPSB0aGlzLl9zZWN0aW9uc1tpXTtcblxuICAgICAgLy8gT25seSBjb25zaWRlciB0aGlzIHNlY3Rpb24gaWYgdGhlIHJlcXVlc3RlZCBzb3VyY2UgaXMgaW4gdGhlIGxpc3Qgb2ZcbiAgICAgIC8vIHNvdXJjZXMgb2YgdGhlIGNvbnN1bWVyLlxuICAgICAgaWYgKHNlY3Rpb24uY29uc3VtZXIuX2ZpbmRTb3VyY2VJbmRleCh1dGlsLmdldEFyZyhhQXJncywgXCJzb3VyY2VcIikpID09PSAtMSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGdlbmVyYXRlZFBvc2l0aW9uID0gc2VjdGlvbi5jb25zdW1lci5nZW5lcmF0ZWRQb3NpdGlvbkZvcihhQXJncyk7XG4gICAgICBpZiAoZ2VuZXJhdGVkUG9zaXRpb24pIHtcbiAgICAgICAgY29uc3QgcmV0ID0ge1xuICAgICAgICAgIGxpbmU6IGdlbmVyYXRlZFBvc2l0aW9uLmxpbmUgK1xuICAgICAgICAgICAgKHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZExpbmUgLSAxKSxcbiAgICAgICAgICBjb2x1bW46IGdlbmVyYXRlZFBvc2l0aW9uLmNvbHVtbiArXG4gICAgICAgICAgICAoc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkTGluZSA9PT0gZ2VuZXJhdGVkUG9zaXRpb24ubGluZVxuICAgICAgICAgICAgID8gc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkQ29sdW1uIC0gMVxuICAgICAgICAgICAgIDogMClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgbGluZTogbnVsbCxcbiAgICAgIGNvbHVtbjogbnVsbFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUGFyc2UgdGhlIG1hcHBpbmdzIGluIGEgc3RyaW5nIGluIHRvIGEgZGF0YSBzdHJ1Y3R1cmUgd2hpY2ggd2UgY2FuIGVhc2lseVxuICAgKiBxdWVyeSAodGhlIG9yZGVyZWQgYXJyYXlzIGluIHRoZSBgdGhpcy5fX2dlbmVyYXRlZE1hcHBpbmdzYCBhbmRcbiAgICogYHRoaXMuX19vcmlnaW5hbE1hcHBpbmdzYCBwcm9wZXJ0aWVzKS5cbiAgICovXG4gIF9wYXJzZU1hcHBpbmdzKGFTdHIsIGFTb3VyY2VSb290KSB7XG4gICAgY29uc3QgZ2VuZXJhdGVkTWFwcGluZ3MgPSB0aGlzLl9fZ2VuZXJhdGVkTWFwcGluZ3NVbnNvcnRlZCA9IFtdO1xuICAgIGNvbnN0IG9yaWdpbmFsTWFwcGluZ3MgPSB0aGlzLl9fb3JpZ2luYWxNYXBwaW5nc1Vuc29ydGVkID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9zZWN0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3Qgc2VjdGlvbiA9IHRoaXMuX3NlY3Rpb25zW2ldO1xuXG4gICAgICBjb25zdCBzZWN0aW9uTWFwcGluZ3MgPSBbXTtcbiAgICAgIHNlY3Rpb24uY29uc3VtZXIuZWFjaE1hcHBpbmcobSA9PiBzZWN0aW9uTWFwcGluZ3MucHVzaChtKSk7XG5cbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2VjdGlvbk1hcHBpbmdzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IG1hcHBpbmcgPSBzZWN0aW9uTWFwcGluZ3Nbal07XG5cbiAgICAgICAgLy8gVE9ETzogdGVzdCBpZiBudWxsIGlzIGNvcnJlY3QgaGVyZS4gIFRoZSBvcmlnaW5hbCBjb2RlIHVzZWRcbiAgICAgICAgLy8gYHNvdXJjZWAsIHdoaWNoIHdvdWxkIGFjdHVhbGx5IGhhdmUgZ290dGVuIHVzZWQgYXMgbnVsbCBiZWNhdXNlXG4gICAgICAgIC8vIHZhcidzIGdldCBob2lzdGVkLlxuICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9tb3ppbGxhL3NvdXJjZS1tYXAvaXNzdWVzLzMzM1xuICAgICAgICBsZXQgc291cmNlID0gdXRpbC5jb21wdXRlU291cmNlVVJMKHNlY3Rpb24uY29uc3VtZXIuc291cmNlUm9vdCwgbnVsbCwgdGhpcy5fc291cmNlTWFwVVJMKTtcbiAgICAgICAgdGhpcy5fc291cmNlcy5hZGQoc291cmNlKTtcbiAgICAgICAgc291cmNlID0gdGhpcy5fc291cmNlcy5pbmRleE9mKHNvdXJjZSk7XG5cbiAgICAgICAgbGV0IG5hbWUgPSBudWxsO1xuICAgICAgICBpZiAobWFwcGluZy5uYW1lKSB7XG4gICAgICAgICAgdGhpcy5fbmFtZXMuYWRkKG1hcHBpbmcubmFtZSk7XG4gICAgICAgICAgbmFtZSA9IHRoaXMuX25hbWVzLmluZGV4T2YobWFwcGluZy5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoZSBtYXBwaW5ncyBjb21pbmcgZnJvbSB0aGUgY29uc3VtZXIgZm9yIHRoZSBzZWN0aW9uIGhhdmVcbiAgICAgICAgLy8gZ2VuZXJhdGVkIHBvc2l0aW9ucyByZWxhdGl2ZSB0byB0aGUgc3RhcnQgb2YgdGhlIHNlY3Rpb24sIHNvIHdlXG4gICAgICAgIC8vIG5lZWQgdG8gb2Zmc2V0IHRoZW0gdG8gYmUgcmVsYXRpdmUgdG8gdGhlIHN0YXJ0IG9mIHRoZSBjb25jYXRlbmF0ZWRcbiAgICAgICAgLy8gZ2VuZXJhdGVkIGZpbGUuXG4gICAgICAgIGNvbnN0IGFkanVzdGVkTWFwcGluZyA9IHtcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgZ2VuZXJhdGVkTGluZTogbWFwcGluZy5nZW5lcmF0ZWRMaW5lICtcbiAgICAgICAgICAgIChzZWN0aW9uLmdlbmVyYXRlZE9mZnNldC5nZW5lcmF0ZWRMaW5lIC0gMSksXG4gICAgICAgICAgZ2VuZXJhdGVkQ29sdW1uOiBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbiArXG4gICAgICAgICAgICAoc2VjdGlvbi5nZW5lcmF0ZWRPZmZzZXQuZ2VuZXJhdGVkTGluZSA9PT0gbWFwcGluZy5nZW5lcmF0ZWRMaW5lXG4gICAgICAgICAgICA/IHNlY3Rpb24uZ2VuZXJhdGVkT2Zmc2V0LmdlbmVyYXRlZENvbHVtbiAtIDFcbiAgICAgICAgICAgIDogMCksXG4gICAgICAgICAgb3JpZ2luYWxMaW5lOiBtYXBwaW5nLm9yaWdpbmFsTGluZSxcbiAgICAgICAgICBvcmlnaW5hbENvbHVtbjogbWFwcGluZy5vcmlnaW5hbENvbHVtbixcbiAgICAgICAgICBuYW1lXG4gICAgICAgIH07XG5cbiAgICAgICAgZ2VuZXJhdGVkTWFwcGluZ3MucHVzaChhZGp1c3RlZE1hcHBpbmcpO1xuICAgICAgICBpZiAodHlwZW9mIGFkanVzdGVkTWFwcGluZy5vcmlnaW5hbExpbmUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICBvcmlnaW5hbE1hcHBpbmdzLnB1c2goYWRqdXN0ZWRNYXBwaW5nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGVhY2hNYXBwaW5nKGFDYWxsYmFjaywgYUNvbnRleHQsIGFPcmRlcikge1xuICAgIGNvbnN0IGNvbnRleHQgPSBhQ29udGV4dCB8fCBudWxsO1xuICAgIGNvbnN0IG9yZGVyID0gYU9yZGVyIHx8IFNvdXJjZU1hcENvbnN1bWVyLkdFTkVSQVRFRF9PUkRFUjtcblxuICAgIGxldCBtYXBwaW5ncztcbiAgICBzd2l0Y2ggKG9yZGVyKSB7XG4gICAgY2FzZSBTb3VyY2VNYXBDb25zdW1lci5HRU5FUkFURURfT1JERVI6XG4gICAgICBtYXBwaW5ncyA9IHRoaXMuX2dlbmVyYXRlZE1hcHBpbmdzO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBTb3VyY2VNYXBDb25zdW1lci5PUklHSU5BTF9PUkRFUjpcbiAgICAgIG1hcHBpbmdzID0gdGhpcy5fb3JpZ2luYWxNYXBwaW5ncztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIG9yZGVyIG9mIGl0ZXJhdGlvbi5cIik7XG4gICAgfVxuXG4gICAgY29uc3Qgc291cmNlUm9vdCA9IHRoaXMuc291cmNlUm9vdDtcbiAgICBtYXBwaW5ncy5tYXAoZnVuY3Rpb24obWFwcGluZykge1xuICAgICAgbGV0IHNvdXJjZSA9IG51bGw7XG4gICAgICBpZiAobWFwcGluZy5zb3VyY2UgIT09IG51bGwpIHtcbiAgICAgICAgc291cmNlID0gdGhpcy5fc291cmNlcy5hdChtYXBwaW5nLnNvdXJjZSk7XG4gICAgICAgIHNvdXJjZSA9IHV0aWwuY29tcHV0ZVNvdXJjZVVSTChzb3VyY2VSb290LCBzb3VyY2UsIHRoaXMuX3NvdXJjZU1hcFVSTCk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzb3VyY2UsXG4gICAgICAgIGdlbmVyYXRlZExpbmU6IG1hcHBpbmcuZ2VuZXJhdGVkTGluZSxcbiAgICAgICAgZ2VuZXJhdGVkQ29sdW1uOiBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbixcbiAgICAgICAgb3JpZ2luYWxMaW5lOiBtYXBwaW5nLm9yaWdpbmFsTGluZSxcbiAgICAgICAgb3JpZ2luYWxDb2x1bW46IG1hcHBpbmcub3JpZ2luYWxDb2x1bW4sXG4gICAgICAgIG5hbWU6IG1hcHBpbmcubmFtZSA9PT0gbnVsbCA/IG51bGwgOiB0aGlzLl9uYW1lcy5hdChtYXBwaW5nLm5hbWUpXG4gICAgICB9O1xuICAgIH0sIHRoaXMpLmZvckVhY2goYUNhbGxiYWNrLCBjb250ZXh0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaW5kIHRoZSBtYXBwaW5nIHRoYXQgYmVzdCBtYXRjaGVzIHRoZSBoeXBvdGhldGljYWwgXCJuZWVkbGVcIiBtYXBwaW5nIHRoYXRcbiAgICogd2UgYXJlIHNlYXJjaGluZyBmb3IgaW4gdGhlIGdpdmVuIFwiaGF5c3RhY2tcIiBvZiBtYXBwaW5ncy5cbiAgICovXG4gIF9maW5kTWFwcGluZyhhTmVlZGxlLCBhTWFwcGluZ3MsIGFMaW5lTmFtZSxcbiAgICAgICAgICAgICAgYUNvbHVtbk5hbWUsIGFDb21wYXJhdG9yLCBhQmlhcykge1xuICAgIC8vIFRvIHJldHVybiB0aGUgcG9zaXRpb24gd2UgYXJlIHNlYXJjaGluZyBmb3IsIHdlIG11c3QgZmlyc3QgZmluZCB0aGVcbiAgICAvLyBtYXBwaW5nIGZvciB0aGUgZ2l2ZW4gcG9zaXRpb24gYW5kIHRoZW4gcmV0dXJuIHRoZSBvcHBvc2l0ZSBwb3NpdGlvbiBpdFxuICAgIC8vIHBvaW50cyB0by4gQmVjYXVzZSB0aGUgbWFwcGluZ3MgYXJlIHNvcnRlZCwgd2UgY2FuIHVzZSBiaW5hcnkgc2VhcmNoIHRvXG4gICAgLy8gZmluZCB0aGUgYmVzdCBtYXBwaW5nLlxuXG4gICAgaWYgKGFOZWVkbGVbYUxpbmVOYW1lXSA8PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiTGluZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxLCBnb3QgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgKyBhTmVlZGxlW2FMaW5lTmFtZV0pO1xuICAgIH1cbiAgICBpZiAoYU5lZWRsZVthQ29sdW1uTmFtZV0gPCAwKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ29sdW1uIG11c3QgYmUgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIDAsIGdvdCBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICArIGFOZWVkbGVbYUNvbHVtbk5hbWVdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYmluYXJ5U2VhcmNoLnNlYXJjaChhTmVlZGxlLCBhTWFwcGluZ3MsIGFDb21wYXJhdG9yLCBhQmlhcyk7XG4gIH1cblxuICBhbGxHZW5lcmF0ZWRQb3NpdGlvbnNGb3IoYUFyZ3MpIHtcbiAgICBjb25zdCBsaW5lID0gdXRpbC5nZXRBcmcoYUFyZ3MsIFwibGluZVwiKTtcblxuICAgIC8vIFdoZW4gdGhlcmUgaXMgbm8gZXhhY3QgbWF0Y2gsIEJhc2ljU291cmNlTWFwQ29uc3VtZXIucHJvdG90eXBlLl9maW5kTWFwcGluZ1xuICAgIC8vIHJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBjbG9zZXN0IG1hcHBpbmcgbGVzcyB0aGFuIHRoZSBuZWVkbGUuIEJ5XG4gICAgLy8gc2V0dGluZyBuZWVkbGUub3JpZ2luYWxDb2x1bW4gdG8gMCwgd2UgdGh1cyBmaW5kIHRoZSBsYXN0IG1hcHBpbmcgZm9yXG4gICAgLy8gdGhlIGdpdmVuIGxpbmUsIHByb3ZpZGVkIHN1Y2ggYSBtYXBwaW5nIGV4aXN0cy5cbiAgICBjb25zdCBuZWVkbGUgPSB7XG4gICAgICBzb3VyY2U6IHV0aWwuZ2V0QXJnKGFBcmdzLCBcInNvdXJjZVwiKSxcbiAgICAgIG9yaWdpbmFsTGluZTogbGluZSxcbiAgICAgIG9yaWdpbmFsQ29sdW1uOiB1dGlsLmdldEFyZyhhQXJncywgXCJjb2x1bW5cIiwgMClcbiAgICB9O1xuXG4gICAgbmVlZGxlLnNvdXJjZSA9IHRoaXMuX2ZpbmRTb3VyY2VJbmRleChuZWVkbGUuc291cmNlKTtcbiAgICBpZiAobmVlZGxlLnNvdXJjZSA8IDApIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBpZiAobmVlZGxlLm9yaWdpbmFsTGluZSA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkxpbmUgbnVtYmVycyBtdXN0IGJlID49IDFcIik7XG4gICAgfVxuXG4gICAgaWYgKG5lZWRsZS5vcmlnaW5hbENvbHVtbiA8IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbHVtbiBudW1iZXJzIG11c3QgYmUgPj0gMFwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXBwaW5ncyA9IFtdO1xuXG4gICAgbGV0IGluZGV4ID0gdGhpcy5fZmluZE1hcHBpbmcobmVlZGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29yaWdpbmFsTWFwcGluZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvcmlnaW5hbExpbmVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9yaWdpbmFsQ29sdW1uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbC5jb21wYXJlQnlPcmlnaW5hbFBvc2l0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaW5hcnlTZWFyY2guTEVBU1RfVVBQRVJfQk9VTkQpO1xuICAgIGlmIChpbmRleCA+PSAwKSB7XG4gICAgICBsZXQgbWFwcGluZyA9IHRoaXMuX29yaWdpbmFsTWFwcGluZ3NbaW5kZXhdO1xuXG4gICAgICBpZiAoYUFyZ3MuY29sdW1uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxMaW5lID0gbWFwcGluZy5vcmlnaW5hbExpbmU7XG5cbiAgICAgICAgLy8gSXRlcmF0ZSB1bnRpbCBlaXRoZXIgd2UgcnVuIG91dCBvZiBtYXBwaW5ncywgb3Igd2UgcnVuIGludG9cbiAgICAgICAgLy8gYSBtYXBwaW5nIGZvciBhIGRpZmZlcmVudCBsaW5lIHRoYW4gdGhlIG9uZSB3ZSBmb3VuZC4gU2luY2VcbiAgICAgICAgLy8gbWFwcGluZ3MgYXJlIHNvcnRlZCwgdGhpcyBpcyBndWFyYW50ZWVkIHRvIGZpbmQgYWxsIG1hcHBpbmdzIGZvclxuICAgICAgICAvLyB0aGUgbGluZSB3ZSBmb3VuZC5cbiAgICAgICAgd2hpbGUgKG1hcHBpbmcgJiYgbWFwcGluZy5vcmlnaW5hbExpbmUgPT09IG9yaWdpbmFsTGluZSkge1xuICAgICAgICAgIGxldCBsYXN0Q29sdW1uID0gbWFwcGluZy5sYXN0R2VuZXJhdGVkQ29sdW1uO1xuICAgICAgICAgIGlmICh0aGlzLl9jb21wdXRlZENvbHVtblNwYW5zICYmIGxhc3RDb2x1bW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGxhc3RDb2x1bW4gPSBJbmZpbml0eTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWFwcGluZ3MucHVzaCh7XG4gICAgICAgICAgICBsaW5lOiB1dGlsLmdldEFyZyhtYXBwaW5nLCBcImdlbmVyYXRlZExpbmVcIiwgbnVsbCksXG4gICAgICAgICAgICBjb2x1bW46IHV0aWwuZ2V0QXJnKG1hcHBpbmcsIFwiZ2VuZXJhdGVkQ29sdW1uXCIsIG51bGwpLFxuICAgICAgICAgICAgbGFzdENvbHVtbixcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIG1hcHBpbmcgPSB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzWysraW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBvcmlnaW5hbENvbHVtbiA9IG1hcHBpbmcub3JpZ2luYWxDb2x1bW47XG5cbiAgICAgICAgLy8gSXRlcmF0ZSB1bnRpbCBlaXRoZXIgd2UgcnVuIG91dCBvZiBtYXBwaW5ncywgb3Igd2UgcnVuIGludG9cbiAgICAgICAgLy8gYSBtYXBwaW5nIGZvciBhIGRpZmZlcmVudCBsaW5lIHRoYW4gdGhlIG9uZSB3ZSB3ZXJlIHNlYXJjaGluZyBmb3IuXG4gICAgICAgIC8vIFNpbmNlIG1hcHBpbmdzIGFyZSBzb3J0ZWQsIHRoaXMgaXMgZ3VhcmFudGVlZCB0byBmaW5kIGFsbCBtYXBwaW5ncyBmb3JcbiAgICAgICAgLy8gdGhlIGxpbmUgd2UgYXJlIHNlYXJjaGluZyBmb3IuXG4gICAgICAgIHdoaWxlIChtYXBwaW5nICYmXG4gICAgICAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsTGluZSA9PT0gbGluZSAmJlxuICAgICAgICAgICAgICAgbWFwcGluZy5vcmlnaW5hbENvbHVtbiA9PSBvcmlnaW5hbENvbHVtbikge1xuICAgICAgICAgIGxldCBsYXN0Q29sdW1uID0gbWFwcGluZy5sYXN0R2VuZXJhdGVkQ29sdW1uO1xuICAgICAgICAgIGlmICh0aGlzLl9jb21wdXRlZENvbHVtblNwYW5zICYmIGxhc3RDb2x1bW4gPT09IG51bGwpIHtcbiAgICAgICAgICAgIGxhc3RDb2x1bW4gPSBJbmZpbml0eTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWFwcGluZ3MucHVzaCh7XG4gICAgICAgICAgICBsaW5lOiB1dGlsLmdldEFyZyhtYXBwaW5nLCBcImdlbmVyYXRlZExpbmVcIiwgbnVsbCksXG4gICAgICAgICAgICBjb2x1bW46IHV0aWwuZ2V0QXJnKG1hcHBpbmcsIFwiZ2VuZXJhdGVkQ29sdW1uXCIsIG51bGwpLFxuICAgICAgICAgICAgbGFzdENvbHVtbixcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIG1hcHBpbmcgPSB0aGlzLl9vcmlnaW5hbE1hcHBpbmdzWysraW5kZXhdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hcHBpbmdzO1xuICB9XG5cbiAgZGVzdHJveSgpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3NlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLl9zZWN0aW9uc1tpXS5jb25zdW1lci5kZXN0cm95KCk7XG4gICAgfVxuICB9XG59XG5leHBvcnRzLkluZGV4ZWRTb3VyY2VNYXBDb25zdW1lciA9IEluZGV4ZWRTb3VyY2VNYXBDb25zdW1lcjtcblxuLypcbiAqIENoZWF0IHRvIGdldCBhcm91bmQgaW50ZXItdHdpbmdsZWQgY2xhc3Nlcy4gIGBmYWN0b3J5KClgIGNhbiBiZSBhdCB0aGUgZW5kXG4gKiB3aGVyZSBpdCBoYXMgYWNjZXNzIHRvIG5vbi1ob2lzdGVkIGNsYXNzZXMsIGJ1dCBpdCBnZXRzIGhvaXN0ZWQgaXRzZWxmLlxuICovXG5mdW5jdGlvbiBfZmFjdG9yeShhU291cmNlTWFwLCBhU291cmNlTWFwVVJMKSB7XG4gIGxldCBzb3VyY2VNYXAgPSBhU291cmNlTWFwO1xuICBpZiAodHlwZW9mIGFTb3VyY2VNYXAgPT09IFwic3RyaW5nXCIpIHtcbiAgICBzb3VyY2VNYXAgPSB1dGlsLnBhcnNlU291cmNlTWFwSW5wdXQoYVNvdXJjZU1hcCk7XG4gIH1cblxuICBjb25zdCBjb25zdW1lciA9IHNvdXJjZU1hcC5zZWN0aW9ucyAhPSBudWxsXG4gICAgICA/IG5ldyBJbmRleGVkU291cmNlTWFwQ29uc3VtZXIoc291cmNlTWFwLCBhU291cmNlTWFwVVJMKVxuICAgICAgOiBuZXcgQmFzaWNTb3VyY2VNYXBDb25zdW1lcihzb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpO1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNvbnN1bWVyKTtcbn1cblxuZnVuY3Rpb24gX2ZhY3RvcnlCU00oYVNvdXJjZU1hcCwgYVNvdXJjZU1hcFVSTCkge1xuICByZXR1cm4gQmFzaWNTb3VyY2VNYXBDb25zdW1lci5mcm9tU291cmNlTWFwKGFTb3VyY2VNYXAsIGFTb3VyY2VNYXBVUkwpO1xufVxuIiwKICAiLyogLSotIE1vZGU6IGpzOyBqcy1pbmRlbnQtbGV2ZWw6IDI7IC0qLSAqL1xuLypcbiAqIENvcHlyaWdodCAyMDExIE1vemlsbGEgRm91bmRhdGlvbiBhbmQgY29udHJpYnV0b3JzXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBsaWNlbnNlLiBTZWUgTElDRU5TRSBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuXG5jb25zdCBTb3VyY2VNYXBHZW5lcmF0b3IgPSByZXF1aXJlKFwiLi9zb3VyY2UtbWFwLWdlbmVyYXRvclwiKS5Tb3VyY2VNYXBHZW5lcmF0b3I7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcblxuLy8gTWF0Y2hlcyBhIFdpbmRvd3Mtc3R5bGUgYFxcclxcbmAgbmV3bGluZSBvciBhIGBcXG5gIG5ld2xpbmUgdXNlZCBieSBhbGwgb3RoZXJcbi8vIG9wZXJhdGluZyBzeXN0ZW1zIHRoZXNlIGRheXMgKGNhcHR1cmluZyB0aGUgcmVzdWx0KS5cbmNvbnN0IFJFR0VYX05FV0xJTkUgPSAvKFxccj9cXG4pLztcblxuLy8gTmV3bGluZSBjaGFyYWN0ZXIgY29kZSBmb3IgY2hhckNvZGVBdCgpIGNvbXBhcmlzb25zXG5jb25zdCBORVdMSU5FX0NPREUgPSAxMDtcblxuLy8gUHJpdmF0ZSBzeW1ib2wgZm9yIGlkZW50aWZ5aW5nIGBTb3VyY2VOb2RlYHMgd2hlbiBtdWx0aXBsZSB2ZXJzaW9ucyBvZlxuLy8gdGhlIHNvdXJjZS1tYXAgbGlicmFyeSBhcmUgbG9hZGVkLiBUaGlzIE1VU1QgTk9UIENIQU5HRSBhY3Jvc3Ncbi8vIHZlcnNpb25zIVxuY29uc3QgaXNTb3VyY2VOb2RlID0gXCIkJCRpc1NvdXJjZU5vZGUkJCRcIjtcblxuLyoqXG4gKiBTb3VyY2VOb2RlcyBwcm92aWRlIGEgd2F5IHRvIGFic3RyYWN0IG92ZXIgaW50ZXJwb2xhdGluZy9jb25jYXRlbmF0aW5nXG4gKiBzbmlwcGV0cyBvZiBnZW5lcmF0ZWQgSmF2YVNjcmlwdCBzb3VyY2UgY29kZSB3aGlsZSBtYWludGFpbmluZyB0aGUgbGluZSBhbmRcbiAqIGNvbHVtbiBpbmZvcm1hdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlIG9yaWdpbmFsIHNvdXJjZSBjb2RlLlxuICpcbiAqIEBwYXJhbSBhTGluZSBUaGUgb3JpZ2luYWwgbGluZSBudW1iZXIuXG4gKiBAcGFyYW0gYUNvbHVtbiBUaGUgb3JpZ2luYWwgY29sdW1uIG51bWJlci5cbiAqIEBwYXJhbSBhU291cmNlIFRoZSBvcmlnaW5hbCBzb3VyY2UncyBmaWxlbmFtZS5cbiAqIEBwYXJhbSBhQ2h1bmtzIE9wdGlvbmFsLiBBbiBhcnJheSBvZiBzdHJpbmdzIHdoaWNoIGFyZSBzbmlwcGV0cyBvZlxuICogICAgICAgIGdlbmVyYXRlZCBKUywgb3Igb3RoZXIgU291cmNlTm9kZXMuXG4gKiBAcGFyYW0gYU5hbWUgVGhlIG9yaWdpbmFsIGlkZW50aWZpZXIuXG4gKi9cbmNsYXNzIFNvdXJjZU5vZGUge1xuICBjb25zdHJ1Y3RvcihhTGluZSwgYUNvbHVtbiwgYVNvdXJjZSwgYUNodW5rcywgYU5hbWUpIHtcbiAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgdGhpcy5zb3VyY2VDb250ZW50cyA9IHt9O1xuICAgIHRoaXMubGluZSA9IGFMaW5lID09IG51bGwgPyBudWxsIDogYUxpbmU7XG4gICAgdGhpcy5jb2x1bW4gPSBhQ29sdW1uID09IG51bGwgPyBudWxsIDogYUNvbHVtbjtcbiAgICB0aGlzLnNvdXJjZSA9IGFTb3VyY2UgPT0gbnVsbCA/IG51bGwgOiBhU291cmNlO1xuICAgIHRoaXMubmFtZSA9IGFOYW1lID09IG51bGwgPyBudWxsIDogYU5hbWU7XG4gICAgdGhpc1tpc1NvdXJjZU5vZGVdID0gdHJ1ZTtcbiAgICBpZiAoYUNodW5rcyAhPSBudWxsKSB0aGlzLmFkZChhQ2h1bmtzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgU291cmNlTm9kZSBmcm9tIGdlbmVyYXRlZCBjb2RlIGFuZCBhIFNvdXJjZU1hcENvbnN1bWVyLlxuICAgKlxuICAgKiBAcGFyYW0gYUdlbmVyYXRlZENvZGUgVGhlIGdlbmVyYXRlZCBjb2RlXG4gICAqIEBwYXJhbSBhU291cmNlTWFwQ29uc3VtZXIgVGhlIFNvdXJjZU1hcCBmb3IgdGhlIGdlbmVyYXRlZCBjb2RlXG4gICAqIEBwYXJhbSBhUmVsYXRpdmVQYXRoIE9wdGlvbmFsLiBUaGUgcGF0aCB0aGF0IHJlbGF0aXZlIHNvdXJjZXMgaW4gdGhlXG4gICAqICAgICAgICBTb3VyY2VNYXBDb25zdW1lciBzaG91bGQgYmUgcmVsYXRpdmUgdG8uXG4gICAqL1xuICBzdGF0aWMgZnJvbVN0cmluZ1dpdGhTb3VyY2VNYXAoYUdlbmVyYXRlZENvZGUsIGFTb3VyY2VNYXBDb25zdW1lciwgYVJlbGF0aXZlUGF0aCkge1xuICAgIC8vIFRoZSBTb3VyY2VOb2RlIHdlIHdhbnQgdG8gZmlsbCB3aXRoIHRoZSBnZW5lcmF0ZWQgY29kZVxuICAgIC8vIGFuZCB0aGUgU291cmNlTWFwXG4gICAgY29uc3Qgbm9kZSA9IG5ldyBTb3VyY2VOb2RlKCk7XG5cbiAgICAvLyBBbGwgZXZlbiBpbmRpY2VzIG9mIHRoaXMgYXJyYXkgYXJlIG9uZSBsaW5lIG9mIHRoZSBnZW5lcmF0ZWQgY29kZSxcbiAgICAvLyB3aGlsZSBhbGwgb2RkIGluZGljZXMgYXJlIHRoZSBuZXdsaW5lcyBiZXR3ZWVuIHR3byBhZGphY2VudCBsaW5lc1xuICAgIC8vIChzaW5jZSBgUkVHRVhfTkVXTElORWAgY2FwdHVyZXMgaXRzIG1hdGNoKS5cbiAgICAvLyBQcm9jZXNzZWQgZnJhZ21lbnRzIGFyZSBhY2Nlc3NlZCBieSBjYWxsaW5nIGBzaGlmdE5leHRMaW5lYC5cbiAgICBjb25zdCByZW1haW5pbmdMaW5lcyA9IGFHZW5lcmF0ZWRDb2RlLnNwbGl0KFJFR0VYX05FV0xJTkUpO1xuICAgIGxldCByZW1haW5pbmdMaW5lc0luZGV4ID0gMDtcbiAgICBjb25zdCBzaGlmdE5leHRMaW5lID0gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBsaW5lQ29udGVudHMgPSBnZXROZXh0TGluZSgpO1xuICAgICAgLy8gVGhlIGxhc3QgbGluZSBvZiBhIGZpbGUgbWlnaHQgbm90IGhhdmUgYSBuZXdsaW5lLlxuICAgICAgY29uc3QgbmV3TGluZSA9IGdldE5leHRMaW5lKCkgfHwgXCJcIjtcbiAgICAgIHJldHVybiBsaW5lQ29udGVudHMgKyBuZXdMaW5lO1xuXG4gICAgICBmdW5jdGlvbiBnZXROZXh0TGluZSgpIHtcbiAgICAgICAgcmV0dXJuIHJlbWFpbmluZ0xpbmVzSW5kZXggPCByZW1haW5pbmdMaW5lcy5sZW5ndGggP1xuICAgICAgICAgICAgcmVtYWluaW5nTGluZXNbcmVtYWluaW5nTGluZXNJbmRleCsrXSA6IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gV2UgbmVlZCB0byByZW1lbWJlciB0aGUgcG9zaXRpb24gb2YgXCJyZW1haW5pbmdMaW5lc1wiXG4gICAgbGV0IGxhc3RHZW5lcmF0ZWRMaW5lID0gMSwgbGFzdEdlbmVyYXRlZENvbHVtbiA9IDA7XG5cbiAgICAvLyBUaGUgZ2VuZXJhdGUgU291cmNlTm9kZXMgd2UgbmVlZCBhIGNvZGUgcmFuZ2UuXG4gICAgLy8gVG8gZXh0cmFjdCBpdCBjdXJyZW50IGFuZCBsYXN0IG1hcHBpbmcgaXMgdXNlZC5cbiAgICAvLyBIZXJlIHdlIHN0b3JlIHRoZSBsYXN0IG1hcHBpbmcuXG4gICAgbGV0IGxhc3RNYXBwaW5nID0gbnVsbDtcbiAgICBsZXQgbmV4dExpbmU7XG5cbiAgICBhU291cmNlTWFwQ29uc3VtZXIuZWFjaE1hcHBpbmcoZnVuY3Rpb24obWFwcGluZykge1xuICAgICAgaWYgKGxhc3RNYXBwaW5nICE9PSBudWxsKSB7XG4gICAgICAgIC8vIFdlIGFkZCB0aGUgY29kZSBmcm9tIFwibGFzdE1hcHBpbmdcIiB0byBcIm1hcHBpbmdcIjpcbiAgICAgICAgLy8gRmlyc3QgY2hlY2sgaWYgdGhlcmUgaXMgYSBuZXcgbGluZSBpbiBiZXR3ZWVuLlxuICAgICAgICBpZiAobGFzdEdlbmVyYXRlZExpbmUgPCBtYXBwaW5nLmdlbmVyYXRlZExpbmUpIHtcbiAgICAgICAgICAvLyBBc3NvY2lhdGUgZmlyc3QgbGluZSB3aXRoIFwibGFzdE1hcHBpbmdcIlxuICAgICAgICAgIGFkZE1hcHBpbmdXaXRoQ29kZShsYXN0TWFwcGluZywgc2hpZnROZXh0TGluZSgpKTtcbiAgICAgICAgICBsYXN0R2VuZXJhdGVkTGluZSsrO1xuICAgICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4gPSAwO1xuICAgICAgICAgIC8vIFRoZSByZW1haW5pbmcgY29kZSBpcyBhZGRlZCB3aXRob3V0IG1hcHBpbmdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBUaGVyZSBpcyBubyBuZXcgbGluZSBpbiBiZXR3ZWVuLlxuICAgICAgICAgIC8vIEFzc29jaWF0ZSB0aGUgY29kZSBiZXR3ZWVuIFwibGFzdEdlbmVyYXRlZENvbHVtblwiIGFuZFxuICAgICAgICAgIC8vIFwibWFwcGluZy5nZW5lcmF0ZWRDb2x1bW5cIiB3aXRoIFwibGFzdE1hcHBpbmdcIlxuICAgICAgICAgIG5leHRMaW5lID0gcmVtYWluaW5nTGluZXNbcmVtYWluaW5nTGluZXNJbmRleF0gfHwgXCJcIjtcbiAgICAgICAgICBjb25zdCBjb2RlID0gbmV4dExpbmUuc3Vic3RyKDAsIG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uIC1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0R2VuZXJhdGVkQ29sdW1uKTtcbiAgICAgICAgICByZW1haW5pbmdMaW5lc1tyZW1haW5pbmdMaW5lc0luZGV4XSA9IG5leHRMaW5lLnN1YnN0cihtYXBwaW5nLmdlbmVyYXRlZENvbHVtbiAtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEdlbmVyYXRlZENvbHVtbik7XG4gICAgICAgICAgbGFzdEdlbmVyYXRlZENvbHVtbiA9IG1hcHBpbmcuZ2VuZXJhdGVkQ29sdW1uO1xuICAgICAgICAgIGFkZE1hcHBpbmdXaXRoQ29kZShsYXN0TWFwcGluZywgY29kZSk7XG4gICAgICAgICAgLy8gTm8gbW9yZSByZW1haW5pbmcgY29kZSwgY29udGludWVcbiAgICAgICAgICBsYXN0TWFwcGluZyA9IG1hcHBpbmc7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBXZSBhZGQgdGhlIGdlbmVyYXRlZCBjb2RlIHVudGlsIHRoZSBmaXJzdCBtYXBwaW5nXG4gICAgICAvLyB0byB0aGUgU291cmNlTm9kZSB3aXRob3V0IGFueSBtYXBwaW5nLlxuICAgICAgLy8gRWFjaCBsaW5lIGlzIGFkZGVkIGFzIHNlcGFyYXRlIHN0cmluZy5cbiAgICAgIHdoaWxlIChsYXN0R2VuZXJhdGVkTGluZSA8IG1hcHBpbmcuZ2VuZXJhdGVkTGluZSkge1xuICAgICAgICBub2RlLmFkZChzaGlmdE5leHRMaW5lKCkpO1xuICAgICAgICBsYXN0R2VuZXJhdGVkTGluZSsrO1xuICAgICAgfVxuICAgICAgaWYgKGxhc3RHZW5lcmF0ZWRDb2x1bW4gPCBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbikge1xuICAgICAgICBuZXh0TGluZSA9IHJlbWFpbmluZ0xpbmVzW3JlbWFpbmluZ0xpbmVzSW5kZXhdIHx8IFwiXCI7XG4gICAgICAgIG5vZGUuYWRkKG5leHRMaW5lLnN1YnN0cigwLCBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbikpO1xuICAgICAgICByZW1haW5pbmdMaW5lc1tyZW1haW5pbmdMaW5lc0luZGV4XSA9IG5leHRMaW5lLnN1YnN0cihtYXBwaW5nLmdlbmVyYXRlZENvbHVtbik7XG4gICAgICAgIGxhc3RHZW5lcmF0ZWRDb2x1bW4gPSBtYXBwaW5nLmdlbmVyYXRlZENvbHVtbjtcbiAgICAgIH1cbiAgICAgIGxhc3RNYXBwaW5nID0gbWFwcGluZztcbiAgICB9LCB0aGlzKTtcbiAgICAvLyBXZSBoYXZlIHByb2Nlc3NlZCBhbGwgbWFwcGluZ3MuXG4gICAgaWYgKHJlbWFpbmluZ0xpbmVzSW5kZXggPCByZW1haW5pbmdMaW5lcy5sZW5ndGgpIHtcbiAgICAgIGlmIChsYXN0TWFwcGluZykge1xuICAgICAgICAvLyBBc3NvY2lhdGUgdGhlIHJlbWFpbmluZyBjb2RlIGluIHRoZSBjdXJyZW50IGxpbmUgd2l0aCBcImxhc3RNYXBwaW5nXCJcbiAgICAgICAgYWRkTWFwcGluZ1dpdGhDb2RlKGxhc3RNYXBwaW5nLCBzaGlmdE5leHRMaW5lKCkpO1xuICAgICAgfVxuICAgICAgLy8gYW5kIGFkZCB0aGUgcmVtYWluaW5nIGxpbmVzIHdpdGhvdXQgYW55IG1hcHBpbmdcbiAgICAgIG5vZGUuYWRkKHJlbWFpbmluZ0xpbmVzLnNwbGljZShyZW1haW5pbmdMaW5lc0luZGV4KS5qb2luKFwiXCIpKTtcbiAgICB9XG5cbiAgICAvLyBDb3B5IHNvdXJjZXNDb250ZW50IGludG8gU291cmNlTm9kZVxuICAgIGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VzLmZvckVhY2goZnVuY3Rpb24oc291cmNlRmlsZSkge1xuICAgICAgY29uc3QgY29udGVudCA9IGFTb3VyY2VNYXBDb25zdW1lci5zb3VyY2VDb250ZW50Rm9yKHNvdXJjZUZpbGUpO1xuICAgICAgaWYgKGNvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgICBpZiAoYVJlbGF0aXZlUGF0aCAhPSBudWxsKSB7XG4gICAgICAgICAgc291cmNlRmlsZSA9IHV0aWwuam9pbihhUmVsYXRpdmVQYXRoLCBzb3VyY2VGaWxlKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlLnNldFNvdXJjZUNvbnRlbnQoc291cmNlRmlsZSwgY29udGVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbm9kZTtcblxuICAgIGZ1bmN0aW9uIGFkZE1hcHBpbmdXaXRoQ29kZShtYXBwaW5nLCBjb2RlKSB7XG4gICAgICBpZiAobWFwcGluZyA9PT0gbnVsbCB8fCBtYXBwaW5nLnNvdXJjZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5vZGUuYWRkKGNvZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3Qgc291cmNlID0gYVJlbGF0aXZlUGF0aFxuICAgICAgICAgID8gdXRpbC5qb2luKGFSZWxhdGl2ZVBhdGgsIG1hcHBpbmcuc291cmNlKVxuICAgICAgICAgIDogbWFwcGluZy5zb3VyY2U7XG4gICAgICAgIG5vZGUuYWRkKG5ldyBTb3VyY2VOb2RlKG1hcHBpbmcub3JpZ2luYWxMaW5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXBwaW5nLm9yaWdpbmFsQ29sdW1uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcHBpbmcubmFtZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBjaHVuayBvZiBnZW5lcmF0ZWQgSlMgdG8gdGhpcyBzb3VyY2Ugbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIGFDaHVuayBBIHN0cmluZyBzbmlwcGV0IG9mIGdlbmVyYXRlZCBKUyBjb2RlLCBhbm90aGVyIGluc3RhbmNlIG9mXG4gICAqICAgICAgICBTb3VyY2VOb2RlLCBvciBhbiBhcnJheSB3aGVyZSBlYWNoIG1lbWJlciBpcyBvbmUgb2YgdGhvc2UgdGhpbmdzLlxuICAgKi9cbiAgYWRkKGFDaHVuaykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGFDaHVuaykpIHtcbiAgICAgIGFDaHVuay5mb3JFYWNoKGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICAgIHRoaXMuYWRkKGNodW5rKTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoYUNodW5rW2lzU291cmNlTm9kZV0gfHwgdHlwZW9mIGFDaHVuayA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgaWYgKGFDaHVuaykge1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goYUNodW5rKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgXCJFeHBlY3RlZCBhIFNvdXJjZU5vZGUsIHN0cmluZywgb3IgYW4gYXJyYXkgb2YgU291cmNlTm9kZXMgYW5kIHN0cmluZ3MuIEdvdCBcIiArIGFDaHVua1xuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvKipcbiAgICogQWRkIGEgY2h1bmsgb2YgZ2VuZXJhdGVkIEpTIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhpcyBzb3VyY2Ugbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIGFDaHVuayBBIHN0cmluZyBzbmlwcGV0IG9mIGdlbmVyYXRlZCBKUyBjb2RlLCBhbm90aGVyIGluc3RhbmNlIG9mXG4gICAqICAgICAgICBTb3VyY2VOb2RlLCBvciBhbiBhcnJheSB3aGVyZSBlYWNoIG1lbWJlciBpcyBvbmUgb2YgdGhvc2UgdGhpbmdzLlxuICAgKi9cbiAgcHJlcGVuZChhQ2h1bmspIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhQ2h1bmspKSB7XG4gICAgICBmb3IgKGxldCBpID0gYUNodW5rLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHRoaXMucHJlcGVuZChhQ2h1bmtbaV0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYUNodW5rW2lzU291cmNlTm9kZV0gfHwgdHlwZW9mIGFDaHVuayA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhpcy5jaGlsZHJlbi51bnNoaWZ0KGFDaHVuayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIFwiRXhwZWN0ZWQgYSBTb3VyY2VOb2RlLCBzdHJpbmcsIG9yIGFuIGFycmF5IG9mIFNvdXJjZU5vZGVzIGFuZCBzdHJpbmdzLiBHb3QgXCIgKyBhQ2h1bmtcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIFdhbGsgb3ZlciB0aGUgdHJlZSBvZiBKUyBzbmlwcGV0cyBpbiB0aGlzIG5vZGUgYW5kIGl0cyBjaGlsZHJlbi4gVGhlXG4gICAqIHdhbGtpbmcgZnVuY3Rpb24gaXMgY2FsbGVkIG9uY2UgZm9yIGVhY2ggc25pcHBldCBvZiBKUyBhbmQgaXMgcGFzc2VkIHRoYXRcbiAgICogc25pcHBldCBhbmQgdGhlIGl0cyBvcmlnaW5hbCBhc3NvY2lhdGVkIHNvdXJjZSdzIGxpbmUvY29sdW1uIGxvY2F0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gYUZuIFRoZSB0cmF2ZXJzYWwgZnVuY3Rpb24uXG4gICAqL1xuICB3YWxrKGFGbikge1xuICAgIGxldCBjaHVuaztcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY2h1bmsgPSB0aGlzLmNoaWxkcmVuW2ldO1xuICAgICAgaWYgKGNodW5rW2lzU291cmNlTm9kZV0pIHtcbiAgICAgICAgY2h1bmsud2FsayhhRm4pO1xuICAgICAgfSBlbHNlIGlmIChjaHVuayAhPT0gXCJcIikge1xuICAgICAgICBhRm4oY2h1bmssIHsgc291cmNlOiB0aGlzLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICBsaW5lOiB0aGlzLmxpbmUsXG4gICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExpa2UgYFN0cmluZy5wcm90b3R5cGUuam9pbmAgZXhjZXB0IGZvciBTb3VyY2VOb2Rlcy4gSW5zZXJ0cyBgYVN0cmAgYmV0d2VlblxuICAgKiBlYWNoIG9mIGB0aGlzLmNoaWxkcmVuYC5cbiAgICpcbiAgICogQHBhcmFtIGFTZXAgVGhlIHNlcGFyYXRvci5cbiAgICovXG4gIGpvaW4oYVNlcCkge1xuICAgIGxldCBuZXdDaGlsZHJlbjtcbiAgICBsZXQgaTtcbiAgICBjb25zdCBsZW4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDtcbiAgICBpZiAobGVuID4gMCkge1xuICAgICAgbmV3Q2hpbGRyZW4gPSBbXTtcbiAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW4gLSAxOyBpKyspIHtcbiAgICAgICAgbmV3Q2hpbGRyZW4ucHVzaCh0aGlzLmNoaWxkcmVuW2ldKTtcbiAgICAgICAgbmV3Q2hpbGRyZW4ucHVzaChhU2VwKTtcbiAgICAgIH1cbiAgICAgIG5ld0NoaWxkcmVuLnB1c2godGhpcy5jaGlsZHJlbltpXSk7XG4gICAgICB0aGlzLmNoaWxkcmVuID0gbmV3Q2hpbGRyZW47XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGwgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlIG9uIHRoZSB2ZXJ5IHJpZ2h0LW1vc3Qgc291cmNlIHNuaXBwZXQuIFVzZWZ1bFxuICAgKiBmb3IgdHJpbW1pbmcgd2hpdGVzcGFjZSBmcm9tIHRoZSBlbmQgb2YgYSBzb3VyY2Ugbm9kZSwgZXRjLlxuICAgKlxuICAgKiBAcGFyYW0gYVBhdHRlcm4gVGhlIHBhdHRlcm4gdG8gcmVwbGFjZS5cbiAgICogQHBhcmFtIGFSZXBsYWNlbWVudCBUaGUgdGhpbmcgdG8gcmVwbGFjZSB0aGUgcGF0dGVybiB3aXRoLlxuICAgKi9cbiAgcmVwbGFjZVJpZ2h0KGFQYXR0ZXJuLCBhUmVwbGFjZW1lbnQpIHtcbiAgICBjb25zdCBsYXN0Q2hpbGQgPSB0aGlzLmNoaWxkcmVuW3RoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgaWYgKGxhc3RDaGlsZFtpc1NvdXJjZU5vZGVdKSB7XG4gICAgICBsYXN0Q2hpbGQucmVwbGFjZVJpZ2h0KGFQYXR0ZXJuLCBhUmVwbGFjZW1lbnQpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGxhc3RDaGlsZCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhpcy5jaGlsZHJlblt0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDFdID0gbGFzdENoaWxkLnJlcGxhY2UoYVBhdHRlcm4sIGFSZXBsYWNlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChcIlwiLnJlcGxhY2UoYVBhdHRlcm4sIGFSZXBsYWNlbWVudCkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHNvdXJjZSBjb250ZW50IGZvciBhIHNvdXJjZSBmaWxlLiBUaGlzIHdpbGwgYmUgYWRkZWQgdG8gdGhlIFNvdXJjZU1hcEdlbmVyYXRvclxuICAgKiBpbiB0aGUgc291cmNlc0NvbnRlbnQgZmllbGQuXG4gICAqXG4gICAqIEBwYXJhbSBhU291cmNlRmlsZSBUaGUgZmlsZW5hbWUgb2YgdGhlIHNvdXJjZSBmaWxlXG4gICAqIEBwYXJhbSBhU291cmNlQ29udGVudCBUaGUgY29udGVudCBvZiB0aGUgc291cmNlIGZpbGVcbiAgICovXG4gIHNldFNvdXJjZUNvbnRlbnQoYVNvdXJjZUZpbGUsIGFTb3VyY2VDb250ZW50KSB7XG4gICAgdGhpcy5zb3VyY2VDb250ZW50c1t1dGlsLnRvU2V0U3RyaW5nKGFTb3VyY2VGaWxlKV0gPSBhU291cmNlQ29udGVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBXYWxrIG92ZXIgdGhlIHRyZWUgb2YgU291cmNlTm9kZXMuIFRoZSB3YWxraW5nIGZ1bmN0aW9uIGlzIGNhbGxlZCBmb3IgZWFjaFxuICAgKiBzb3VyY2UgZmlsZSBjb250ZW50IGFuZCBpcyBwYXNzZWQgdGhlIGZpbGVuYW1lIGFuZCBzb3VyY2UgY29udGVudC5cbiAgICpcbiAgICogQHBhcmFtIGFGbiBUaGUgdHJhdmVyc2FsIGZ1bmN0aW9uLlxuICAgKi9cbiAgd2Fsa1NvdXJjZUNvbnRlbnRzKGFGbikge1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAodGhpcy5jaGlsZHJlbltpXVtpc1NvdXJjZU5vZGVdKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW5baV0ud2Fsa1NvdXJjZUNvbnRlbnRzKGFGbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3Qgc291cmNlcyA9IE9iamVjdC5rZXlzKHRoaXMuc291cmNlQ29udGVudHMpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzb3VyY2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBhRm4odXRpbC5mcm9tU2V0U3RyaW5nKHNvdXJjZXNbaV0pLCB0aGlzLnNvdXJjZUNvbnRlbnRzW3NvdXJjZXNbaV1dKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBzb3VyY2Ugbm9kZS4gV2Fsa3Mgb3ZlciB0aGUgdHJlZVxuICAgKiBhbmQgY29uY2F0ZW5hdGVzIGFsbCB0aGUgdmFyaW91cyBzbmlwcGV0cyB0b2dldGhlciB0byBvbmUgc3RyaW5nLlxuICAgKi9cbiAgdG9TdHJpbmcoKSB7XG4gICAgbGV0IHN0ciA9IFwiXCI7XG4gICAgdGhpcy53YWxrKGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICBzdHIgKz0gY2h1bms7XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBzb3VyY2Ugbm9kZSBhbG9uZyB3aXRoIGEgc291cmNlXG4gICAqIG1hcC5cbiAgICovXG4gIHRvU3RyaW5nV2l0aFNvdXJjZU1hcChhQXJncykge1xuICAgIGNvbnN0IGdlbmVyYXRlZCA9IHtcbiAgICAgIGNvZGU6IFwiXCIsXG4gICAgICBsaW5lOiAxLFxuICAgICAgY29sdW1uOiAwXG4gICAgfTtcbiAgICBjb25zdCBtYXAgPSBuZXcgU291cmNlTWFwR2VuZXJhdG9yKGFBcmdzKTtcbiAgICBsZXQgc291cmNlTWFwcGluZ0FjdGl2ZSA9IGZhbHNlO1xuICAgIGxldCBsYXN0T3JpZ2luYWxTb3VyY2UgPSBudWxsO1xuICAgIGxldCBsYXN0T3JpZ2luYWxMaW5lID0gbnVsbDtcbiAgICBsZXQgbGFzdE9yaWdpbmFsQ29sdW1uID0gbnVsbDtcbiAgICBsZXQgbGFzdE9yaWdpbmFsTmFtZSA9IG51bGw7XG4gICAgdGhpcy53YWxrKGZ1bmN0aW9uKGNodW5rLCBvcmlnaW5hbCkge1xuICAgICAgZ2VuZXJhdGVkLmNvZGUgKz0gY2h1bms7XG4gICAgICBpZiAob3JpZ2luYWwuc291cmNlICE9PSBudWxsXG4gICAgICAgICAgJiYgb3JpZ2luYWwubGluZSAhPT0gbnVsbFxuICAgICAgICAgICYmIG9yaWdpbmFsLmNvbHVtbiAhPT0gbnVsbCkge1xuICAgICAgICBpZiAobGFzdE9yaWdpbmFsU291cmNlICE9PSBvcmlnaW5hbC5zb3VyY2VcbiAgICAgICAgICB8fCBsYXN0T3JpZ2luYWxMaW5lICE9PSBvcmlnaW5hbC5saW5lXG4gICAgICAgICAgfHwgbGFzdE9yaWdpbmFsQ29sdW1uICE9PSBvcmlnaW5hbC5jb2x1bW5cbiAgICAgICAgICB8fCBsYXN0T3JpZ2luYWxOYW1lICE9PSBvcmlnaW5hbC5uYW1lKSB7XG4gICAgICAgICAgbWFwLmFkZE1hcHBpbmcoe1xuICAgICAgICAgICAgc291cmNlOiBvcmlnaW5hbC5zb3VyY2UsXG4gICAgICAgICAgICBvcmlnaW5hbDoge1xuICAgICAgICAgICAgICBsaW5lOiBvcmlnaW5hbC5saW5lLFxuICAgICAgICAgICAgICBjb2x1bW46IG9yaWdpbmFsLmNvbHVtblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdlbmVyYXRlZDoge1xuICAgICAgICAgICAgICBsaW5lOiBnZW5lcmF0ZWQubGluZSxcbiAgICAgICAgICAgICAgY29sdW1uOiBnZW5lcmF0ZWQuY29sdW1uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmFtZTogb3JpZ2luYWwubmFtZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RPcmlnaW5hbFNvdXJjZSA9IG9yaWdpbmFsLnNvdXJjZTtcbiAgICAgICAgbGFzdE9yaWdpbmFsTGluZSA9IG9yaWdpbmFsLmxpbmU7XG4gICAgICAgIGxhc3RPcmlnaW5hbENvbHVtbiA9IG9yaWdpbmFsLmNvbHVtbjtcbiAgICAgICAgbGFzdE9yaWdpbmFsTmFtZSA9IG9yaWdpbmFsLm5hbWU7XG4gICAgICAgIHNvdXJjZU1hcHBpbmdBY3RpdmUgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChzb3VyY2VNYXBwaW5nQWN0aXZlKSB7XG4gICAgICAgIG1hcC5hZGRNYXBwaW5nKHtcbiAgICAgICAgICBnZW5lcmF0ZWQ6IHtcbiAgICAgICAgICAgIGxpbmU6IGdlbmVyYXRlZC5saW5lLFxuICAgICAgICAgICAgY29sdW1uOiBnZW5lcmF0ZWQuY29sdW1uXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGFzdE9yaWdpbmFsU291cmNlID0gbnVsbDtcbiAgICAgICAgc291cmNlTWFwcGluZ0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZm9yIChsZXQgaWR4ID0gMCwgbGVuZ3RoID0gY2h1bmsubGVuZ3RoOyBpZHggPCBsZW5ndGg7IGlkeCsrKSB7XG4gICAgICAgIGlmIChjaHVuay5jaGFyQ29kZUF0KGlkeCkgPT09IE5FV0xJTkVfQ09ERSkge1xuICAgICAgICAgIGdlbmVyYXRlZC5saW5lKys7XG4gICAgICAgICAgZ2VuZXJhdGVkLmNvbHVtbiA9IDA7XG4gICAgICAgICAgLy8gTWFwcGluZ3MgZW5kIGF0IGVvbFxuICAgICAgICAgIGlmIChpZHggKyAxID09PSBsZW5ndGgpIHtcbiAgICAgICAgICAgIGxhc3RPcmlnaW5hbFNvdXJjZSA9IG51bGw7XG4gICAgICAgICAgICBzb3VyY2VNYXBwaW5nQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgfSBlbHNlIGlmIChzb3VyY2VNYXBwaW5nQWN0aXZlKSB7XG4gICAgICAgICAgICBtYXAuYWRkTWFwcGluZyh7XG4gICAgICAgICAgICAgIHNvdXJjZTogb3JpZ2luYWwuc291cmNlLFxuICAgICAgICAgICAgICBvcmlnaW5hbDoge1xuICAgICAgICAgICAgICAgIGxpbmU6IG9yaWdpbmFsLmxpbmUsXG4gICAgICAgICAgICAgICAgY29sdW1uOiBvcmlnaW5hbC5jb2x1bW5cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgZ2VuZXJhdGVkOiB7XG4gICAgICAgICAgICAgICAgbGluZTogZ2VuZXJhdGVkLmxpbmUsXG4gICAgICAgICAgICAgICAgY29sdW1uOiBnZW5lcmF0ZWQuY29sdW1uXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIG5hbWU6IG9yaWdpbmFsLm5hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBnZW5lcmF0ZWQuY29sdW1uKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLndhbGtTb3VyY2VDb250ZW50cyhmdW5jdGlvbihzb3VyY2VGaWxlLCBzb3VyY2VDb250ZW50KSB7XG4gICAgICBtYXAuc2V0U291cmNlQ29udGVudChzb3VyY2VGaWxlLCBzb3VyY2VDb250ZW50KTtcbiAgICB9KTtcblxuICAgIHJldHVybiB7IGNvZGU6IGdlbmVyYXRlZC5jb2RlLCBtYXAgfTtcbiAgfVxufVxuXG5leHBvcnRzLlNvdXJjZU5vZGUgPSBTb3VyY2VOb2RlO1xuIiwKICAiLypcbiAqIENvcHlyaWdodCAyMDA5LTIwMTEgTW96aWxsYSBGb3VuZGF0aW9uIGFuZCBjb250cmlidXRvcnNcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBOZXcgQlNEIGxpY2Vuc2UuIFNlZSBMSUNFTlNFLnR4dCBvcjpcbiAqIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqL1xuZXhwb3J0cy5Tb3VyY2VNYXBHZW5lcmF0b3IgPSByZXF1aXJlKFwiLi9saWIvc291cmNlLW1hcC1nZW5lcmF0b3JcIikuU291cmNlTWFwR2VuZXJhdG9yO1xuZXhwb3J0cy5Tb3VyY2VNYXBDb25zdW1lciA9IHJlcXVpcmUoXCIuL2xpYi9zb3VyY2UtbWFwLWNvbnN1bWVyXCIpLlNvdXJjZU1hcENvbnN1bWVyO1xuZXhwb3J0cy5Tb3VyY2VOb2RlID0gcmVxdWlyZShcIi4vbGliL3NvdXJjZS1ub2RlXCIpLlNvdXJjZU5vZGU7XG4iLAogICIvKiFcbiAqIFN0eWx1cyAtIFNvdXJjZU1hcHBlclxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgQ29tcGlsZXIgPSByZXF1aXJlKCcuL2NvbXBpbGVyJylcbiAgLCBCdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXJcbiAgLCBTb3VyY2VNYXBHZW5lcmF0b3IgPSByZXF1aXJlKCdzb3VyY2UtbWFwJykuU291cmNlTWFwR2VuZXJhdG9yXG4gICwgYmFzZW5hbWUgPSByZXF1aXJlKCdwYXRoJykuYmFzZW5hbWVcbiAgLCBleHRuYW1lID0gcmVxdWlyZSgncGF0aCcpLmV4dG5hbWVcbiAgLCBkaXJuYW1lID0gcmVxdWlyZSgncGF0aCcpLmRpcm5hbWVcbiAgLCBqb2luID0gcmVxdWlyZSgncGF0aCcpLmpvaW5cbiAgLCByZWxhdGl2ZSA9IHJlcXVpcmUoJ3BhdGgnKS5yZWxhdGl2ZVxuICAsIHNlcCA9IHJlcXVpcmUoJ3BhdGgnKS5zZXBcbiAgLCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gY2xhc3MgU291cmNlTWFwcGVyIGV4dGVuZHMgQ29tcGlsZXIge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgU291cmNlTWFwcGVyYCBnZW5lcmF0b3Igd2l0aCB0aGUgZ2l2ZW4gYHJvb3RgIE5vZGVcbiAgICogYW5kIHRoZSBmb2xsb3dpbmcgYG9wdGlvbnNgLlxuICAgKlxuICAgKiBAcGFyYW0ge05vZGV9IHJvb3RcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cblxuICBjb25zdHJ1Y3Rvcihyb290LCBvcHRpb25zKSB7XG4gICAgc3VwZXIocm9vdCwgb3B0aW9ucyk7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpcy5jb2x1bW4gPSAxO1xuICAgIHRoaXMubGluZW5vID0gMTtcbiAgICB0aGlzLmNvbnRlbnRzID0ge307XG4gICAgdGhpcy5maWxlbmFtZSA9IG9wdGlvbnMuZmlsZW5hbWU7XG4gICAgdGhpcy5kZXN0ID0gb3B0aW9ucy5kZXN0O1xuXG4gICAgdmFyIHNvdXJjZW1hcCA9IG9wdGlvbnMuc291cmNlbWFwO1xuICAgIHRoaXMuYmFzZVBhdGggPSBzb3VyY2VtYXAuYmFzZVBhdGggfHwgJy4nO1xuICAgIHRoaXMuaW5saW5lID0gc291cmNlbWFwLmlubGluZTtcbiAgICB0aGlzLmNvbW1lbnQgPSBzb3VyY2VtYXAuY29tbWVudDtcbiAgICBpZiAodGhpcy5kZXN0ICYmIGV4dG5hbWUodGhpcy5kZXN0KSA9PT0gJy5jc3MnKSB7XG4gICAgICB0aGlzLmJhc2VuYW1lID0gYmFzZW5hbWUodGhpcy5kZXN0KTtcbiAgICAgIHRoaXMuZGVzdCA9IGRpcm5hbWUodGhpcy5kZXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5iYXNlbmFtZSA9IGJhc2VuYW1lKHRoaXMuZmlsZW5hbWUsIGV4dG5hbWUodGhpcy5maWxlbmFtZSkpICsgJy5jc3MnO1xuICAgIH1cbiAgICB0aGlzLnV0ZjggPSBmYWxzZTtcblxuICAgIHRoaXMubWFwID0gbmV3IFNvdXJjZU1hcEdlbmVyYXRvcih7XG4gICAgICBmaWxlOiB0aGlzLmJhc2VuYW1lLFxuICAgICAgc291cmNlUm9vdDogc291cmNlbWFwLnNvdXJjZVJvb3QgfHwgbnVsbFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGFuZCB3cml0ZSBzb3VyY2UgbWFwLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBjb21waWxlKCkge1xuICAgIHZhciBjc3MgPSBzdXBlci5jb21waWxlKClcbiAgICAgICwgb3V0ID0gdGhpcy5iYXNlbmFtZSArICcubWFwJ1xuICAgICAgLCB1cmwgPSB0aGlzLm5vcm1hbGl6ZVBhdGgodGhpcy5kZXN0XG4gICAgICAgID8gam9pbih0aGlzLmRlc3QsIG91dClcbiAgICAgICAgOiBqb2luKGRpcm5hbWUodGhpcy5maWxlbmFtZSksIG91dCkpXG4gICAgICAsIG1hcDtcblxuICAgIGlmICh0aGlzLmlubGluZSkge1xuICAgICAgbWFwID0gdGhpcy5tYXAudG9TdHJpbmcoKTtcbiAgICAgIHVybCA9ICdkYXRhOmFwcGxpY2F0aW9uL2pzb247J1xuICAgICAgICArICh0aGlzLnV0ZjggPyAnY2hhcnNldD11dGYtODsnIDogJycpICsgJ2Jhc2U2NCwnXG4gICAgICAgICsgQnVmZmVyLmZyb20obWFwKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgfVxuICAgIGlmICh0aGlzLmlubGluZSB8fCBmYWxzZSAhPT0gdGhpcy5jb21tZW50KVxuICAgICAgY3NzICs9ICcvKiMgc291cmNlTWFwcGluZ1VSTD0nICsgdXJsICsgJyAqLyc7XG4gICAgcmV0dXJuIGNzcztcbiAgfTtcblxuICAvKipcbiAgICogQWRkIG1hcHBpbmcgaW5mb3JtYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICogQHBhcmFtIHtOb2RlfSBub2RlXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIG91dChzdHIsIG5vZGUpIHtcbiAgICBpZiAobm9kZSAmJiBub2RlLmxpbmVubykge1xuICAgICAgdmFyIGZpbGVuYW1lID0gdGhpcy5ub3JtYWxpemVQYXRoKG5vZGUuZmlsZW5hbWUpO1xuXG4gICAgICB0aGlzLm1hcC5hZGRNYXBwaW5nKHtcbiAgICAgICAgb3JpZ2luYWw6IHtcbiAgICAgICAgICBsaW5lOiBub2RlLmxpbmVubyxcbiAgICAgICAgICBjb2x1bW46IG5vZGUuY29sdW1uIC0gMVxuICAgICAgICB9LFxuICAgICAgICBnZW5lcmF0ZWQ6IHtcbiAgICAgICAgICBsaW5lOiB0aGlzLmxpbmVubyxcbiAgICAgICAgICBjb2x1bW46IHRoaXMuY29sdW1uIC0gMVxuICAgICAgICB9LFxuICAgICAgICBzb3VyY2U6IGZpbGVuYW1lXG4gICAgICB9KTtcblxuICAgICAgaWYgKHRoaXMuaW5saW5lICYmICF0aGlzLmNvbnRlbnRzW2ZpbGVuYW1lXSkge1xuICAgICAgICB0aGlzLm1hcC5zZXRTb3VyY2VDb250ZW50KGZpbGVuYW1lLCBmcy5yZWFkRmlsZVN5bmMobm9kZS5maWxlbmFtZSwgJ3V0Zi04JykpO1xuICAgICAgICB0aGlzLmNvbnRlbnRzW2ZpbGVuYW1lXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5tb3ZlKHN0cik7XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcblxuICAvKipcbiAgICogTW92ZSBjdXJyZW50IGxpbmUgYW5kIGNvbHVtbiBwb3NpdGlvbi5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgbW92ZShzdHIpIHtcbiAgICB2YXIgbGluZXMgPSBzdHIubWF0Y2goL1xcbi9nKVxuICAgICAgLCBpZHggPSBzdHIubGFzdEluZGV4T2YoJ1xcbicpO1xuXG4gICAgaWYgKGxpbmVzKSB0aGlzLmxpbmVubyArPSBsaW5lcy5sZW5ndGg7XG4gICAgdGhpcy5jb2x1bW4gPSB+aWR4XG4gICAgICA/IHN0ci5sZW5ndGggLSBpZHhcbiAgICAgIDogdGhpcy5jb2x1bW4gKyBzdHIubGVuZ3RoO1xuICB9O1xuXG4gIC8qKlxuICAgKiBOb3JtYWxpemUgdGhlIGdpdmVuIGBwYXRoYC5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGhcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgbm9ybWFsaXplUGF0aChwYXRoKSB7XG4gICAgcGF0aCA9IHJlbGF0aXZlKHRoaXMuZGVzdCB8fCB0aGlzLmJhc2VQYXRoLCBwYXRoKTtcbiAgICBpZiAoJ1xcXFwnID09IHNlcCkge1xuICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXlthLXpdOlxcXFwvaSwgJy8nKVxuICAgICAgICAucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xuICAgIH1cbiAgICByZXR1cm4gcGF0aDtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgTGl0ZXJhbC5cbiAgICovXG5cbiAgdmlzaXRMaXRlcmFsKGxpdCkge1xuICAgIHZhciB2YWwgPSBzdXBlci52aXNpdExpdGVyYWwobGl0KVxuICAgICAgLCBmaWxlbmFtZSA9IHRoaXMubm9ybWFsaXplUGF0aChsaXQuZmlsZW5hbWUpXG4gICAgICAsIGluZGVudHNSZSA9IC9eXFxzKy9cbiAgICAgICwgbGluZXMgPSB2YWwuc3BsaXQoJ1xcbicpO1xuXG4gICAgLy8gYWRkIG1hcHBpbmdzIGZvciBtdWx0aWxpbmUgbGl0ZXJhbHNcbiAgICBpZiAobGluZXMubGVuZ3RoID4gMSkge1xuICAgICAgbGluZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZSwgaSkge1xuICAgICAgICB2YXIgaW5kZW50cyA9IGxpbmUubWF0Y2goaW5kZW50c1JlKVxuICAgICAgICAgICwgY29sdW1uID0gaW5kZW50cyAmJiBpbmRlbnRzWzBdXG4gICAgICAgICAgICA/IGluZGVudHNbMF0ubGVuZ3RoXG4gICAgICAgICAgICA6IDA7XG5cbiAgICAgICAgaWYgKGxpdC5jc3MpIGNvbHVtbiArPSAyO1xuXG4gICAgICAgIHRoaXMubWFwLmFkZE1hcHBpbmcoe1xuICAgICAgICAgIG9yaWdpbmFsOiB7XG4gICAgICAgICAgICBsaW5lOiBsaXQubGluZW5vICsgaSxcbiAgICAgICAgICAgIGNvbHVtbjogY29sdW1uXG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZW5lcmF0ZWQ6IHtcbiAgICAgICAgICAgIGxpbmU6IHRoaXMubGluZW5vICsgaSxcbiAgICAgICAgICAgIGNvbHVtbjogMFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc291cmNlOiBmaWxlbmFtZVxuICAgICAgICB9KTtcbiAgICAgIH0sIHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBDaGFyc2V0LlxuICAgKi9cblxuICB2aXNpdENoYXJzZXQobm9kZSkge1xuICAgIHRoaXMudXRmOCA9ICgndXRmLTgnID09IG5vZGUudmFsLnN0cmluZy50b0xvd2VyQ2FzZSgpKTtcbiAgICByZXR1cm4gc3VwZXIudmlzaXRDaGFyc2V0KG5vZGUpO1xuICB9O1xufTtcbiIsCiAgIlxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBWaXNpdG9yID0gcmVxdWlyZSgnLi8nKVxuICAsIFBhcnNlciA9IHJlcXVpcmUoJy4uL3BhcnNlcicpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuLi9ub2RlcycpXG4gICwgdXRpbHMgPSByZXF1aXJlKCcuLi91dGlscycpXG4gICwgZGlybmFtZSA9IHJlcXVpcmUoJ3BhdGgnKS5kaXJuYW1lXG4gICwgZnMgPSByZXF1aXJlKCdmcycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNsYXNzIERlcHNSZXNvbHZlciBleHRlbmRzIFZpc2l0b3Ige1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgRGVwc1Jlc29sdmVyYCB3aXRoIHRoZSBnaXZlbiBgcm9vdGAgTm9kZVxuICAgKiBhbmQgdGhlIGBvcHRpb25zYC5cbiAgICpcbiAgICogQHBhcmFtIHtOb2RlfSByb290XG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBjb25zdHJ1Y3Rvcihyb290LCBvcHRpb25zKSB7XG4gICAgc3VwZXIocm9vdClcbiAgICB0aGlzLmZpbGVuYW1lID0gb3B0aW9ucy5maWxlbmFtZTtcbiAgICB0aGlzLnBhdGhzID0gb3B0aW9ucy5wYXRocyB8fCBbXTtcbiAgICB0aGlzLnBhdGhzLnB1c2goZGlybmFtZShvcHRpb25zLmZpbGVuYW1lIHx8ICcuJykpO1xuICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgdGhpcy5mdW5jdGlvbnMgPSB7fTtcbiAgICB0aGlzLmRlcHMgPSBbXTtcbiAgfVxuXG5cbiAgdmlzaXQobm9kZSkge1xuICAgIHN3aXRjaCAobm9kZS5ub2RlTmFtZSkge1xuICAgICAgY2FzZSAncm9vdCc6XG4gICAgICBjYXNlICdibG9jayc6XG4gICAgICBjYXNlICdleHByZXNzaW9uJzpcbiAgICAgICAgdGhpcy52aXNpdFJvb3Qobm9kZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZ3JvdXAnOlxuICAgICAgY2FzZSAnbWVkaWEnOlxuICAgICAgY2FzZSAnYXRibG9jayc6XG4gICAgICBjYXNlICdhdHJ1bGUnOlxuICAgICAgY2FzZSAna2V5ZnJhbWVzJzpcbiAgICAgIGNhc2UgJ2VhY2gnOlxuICAgICAgY2FzZSAnc3VwcG9ydHMnOlxuICAgICAgICB0aGlzLnZpc2l0KG5vZGUuYmxvY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHN1cGVyLnZpc2l0KG5vZGUpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgUm9vdC5cbiAgICovXG5cbiAgdmlzaXRSb290KGJsb2NrKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJsb2NrLm5vZGVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICB0aGlzLnZpc2l0KGJsb2NrLm5vZGVzW2ldKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IElkZW50LlxuICAgKi9cblxuICB2aXNpdElkZW50KGlkZW50KSB7XG4gICAgdGhpcy52aXNpdChpZGVudC52YWwpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBJZi5cbiAgICovXG5cbiAgdmlzaXRJZihub2RlKSB7XG4gICAgdGhpcy52aXNpdChub2RlLmJsb2NrKTtcbiAgICB0aGlzLnZpc2l0KG5vZGUuY29uZCk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG5vZGUuZWxzZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIHRoaXMudmlzaXQobm9kZS5lbHNlc1tpXSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBGdW5jdGlvbi5cbiAgICovXG5cbiAgdmlzaXRGdW5jdGlvbihmbikge1xuICAgIHRoaXMuZnVuY3Rpb25zW2ZuLm5hbWVdID0gZm4uYmxvY2s7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IENhbGwuXG4gICAqL1xuXG4gIHZpc2l0Q2FsbChjYWxsKSB7XG4gICAgaWYgKGNhbGwubmFtZSBpbiB0aGlzLmZ1bmN0aW9ucykgdGhpcy52aXNpdCh0aGlzLmZ1bmN0aW9uc1tjYWxsLm5hbWVdKTtcbiAgICBpZiAoY2FsbC5ibG9jaykgdGhpcy52aXNpdChjYWxsLmJsb2NrKTtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgSW1wb3J0LlxuICAgKi9cblxuICB2aXNpdEltcG9ydChub2RlKSB7XG4gICAgLy8gSWYgaXQncyBhIHVybCgpIGNhbGwsIHNraXBcbiAgICBpZiAobm9kZS5wYXRoLmZpcnN0Lm5hbWUgPT09ICd1cmwnKSByZXR1cm47XG5cbiAgICB2YXIgcGF0aCA9ICFub2RlLnBhdGguZmlyc3QudmFsLmlzTnVsbCAmJiBub2RlLnBhdGguZmlyc3QudmFsIHx8IG5vZGUucGF0aC5maXJzdC5uYW1lXG4gICAgICAsIGxpdGVyYWwsIGZvdW5kLCBvbGRQYXRoO1xuXG4gICAgaWYgKCFwYXRoKSByZXR1cm47XG5cbiAgICBsaXRlcmFsID0gL1xcLmNzcyg/OlwifCQpLy50ZXN0KHBhdGgpO1xuXG4gICAgLy8gc3VwcG9ydCBvcHRpb25hbCAuc3R5bFxuICAgIGlmICghbGl0ZXJhbCAmJiAhL1xcLnN0eWwkL2kudGVzdChwYXRoKSkge1xuICAgICAgb2xkUGF0aCA9IHBhdGg7XG4gICAgICBwYXRoICs9ICcuc3R5bCc7XG4gICAgfVxuXG4gICAgLy8gTG9va3VwXG4gICAgZm91bmQgPSB1dGlscy5maW5kKHBhdGgsIHRoaXMucGF0aHMsIHRoaXMuZmlsZW5hbWUpO1xuXG4gICAgLy8gc3VwcG9ydCBvcHRpb25hbCBpbmRleFxuICAgIGlmICghZm91bmQgJiYgb2xkUGF0aCkgZm91bmQgPSB1dGlscy5sb29rdXBJbmRleChvbGRQYXRoLCB0aGlzLnBhdGhzLCB0aGlzLmZpbGVuYW1lKTtcblxuICAgIGlmICghZm91bmQpIHJldHVybjtcblxuICAgIHRoaXMuZGVwcyA9IHRoaXMuZGVwcy5jb25jYXQoZm91bmQpO1xuXG4gICAgaWYgKGxpdGVyYWwpIHJldHVybjtcblxuICAgIC8vIG5lc3RlZCBpbXBvcnRzXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGZvdW5kLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICB2YXIgZmlsZSA9IGZvdW5kW2ldXG4gICAgICAgICwgZGlyID0gZGlybmFtZShmaWxlKVxuICAgICAgICAsIHN0ciA9IGZzLnJlYWRGaWxlU3luYyhmaWxlLCAndXRmLTgnKVxuICAgICAgICAsIGJsb2NrID0gbmV3IG5vZGVzLkJsb2NrXG4gICAgICAgICwgcGFyc2VyID0gbmV3IFBhcnNlcihzdHIsIHV0aWxzLm1lcmdlKHsgcm9vdDogYmxvY2sgfSwgdGhpcy5vcHRpb25zKSk7XG5cbiAgICAgIGlmICghfnRoaXMucGF0aHMuaW5kZXhPZihkaXIpKSB0aGlzLnBhdGhzLnB1c2goZGlyKTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgYmxvY2sgPSBwYXJzZXIucGFyc2UoKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBlcnIuZmlsZW5hbWUgPSBmaWxlO1xuICAgICAgICBlcnIubGluZW5vID0gcGFyc2VyLmxleGVyLmxpbmVubztcbiAgICAgICAgZXJyLmNvbHVtbiA9IHBhcnNlci5sZXhlci5jb2x1bW47XG4gICAgICAgIGVyci5pbnB1dCA9IHN0cjtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnZpc2l0KGJsb2NrKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEdldCBkZXBlbmRlbmNpZXMuXG4gICAqL1xuXG4gIHJlc29sdmUoKSB7XG4gICAgdGhpcy52aXNpdCh0aGlzLnJvb3QpO1xuICAgIHJldHVybiB1dGlscy51bmlxKHRoaXMuZGVwcyk7XG4gIH07XG59O1xuIiwKICAiXG4vKiFcbiAqIFN0eWx1cyAtIFJlbmRlcmVyXG4gKiBDb3B5cmlnaHQgKGMpIEF1dG9tYXR0aWMgPGRldmVsb3Blci53b3JkcHJlc3MuY29tPlxuICogTUlUIExpY2Vuc2VkXG4gKi9cblxuLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBQYXJzZXIgPSByZXF1aXJlKCcuL3BhcnNlcicpXG4gICwgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgnZXZlbnRzJykuRXZlbnRFbWl0dGVyXG4gICwgRXZhbHVhdG9yID0gcmVxdWlyZSgnLi92aXNpdG9yL2V2YWx1YXRvcicpXG4gICwgTm9ybWFsaXplciA9IHJlcXVpcmUoJy4vdmlzaXRvci9ub3JtYWxpemVyJylcbiAgLCBldmVudHMgPSBuZXcgRXZlbnRFbWl0dGVyXG4gICwgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJylcbiAgLCBub2RlcyA9IHJlcXVpcmUoJy4vbm9kZXMnKVxuICAsIGpvaW4gPSByZXF1aXJlKCdwYXRoJykuam9pbjtcblxuY2xhc3MgUmVuZGVyZXIgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5ldyBgUmVuZGVyZXJgIHdpdGggdGhlIGdpdmVuIGBzdHJgIGFuZCBgb3B0aW9uc2AuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgY29uc3RydWN0b3Ioc3RyLCBvcHRpb25zKSB7XG4gICAgc3VwZXIoKTtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLmdsb2JhbHMgPSBvcHRpb25zLmdsb2JhbHMgfHwge307XG4gICAgb3B0aW9ucy5mdW5jdGlvbnMgPSBvcHRpb25zLmZ1bmN0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLnVzZSA9IG9wdGlvbnMudXNlIHx8IFtdO1xuICAgIG9wdGlvbnMudXNlID0gQXJyYXkuaXNBcnJheShvcHRpb25zLnVzZSkgPyBvcHRpb25zLnVzZSA6IFtvcHRpb25zLnVzZV07XG4gICAgb3B0aW9ucy5pbXBvcnRzID0gW2pvaW4oX19kaXJuYW1lLCAnZnVuY3Rpb25zL2luZGV4LnN0eWwnKV0uY29uY2F0KG9wdGlvbnMuaW1wb3J0cyB8fCBbXSk7XG4gICAgb3B0aW9ucy5wYXRocyA9IG9wdGlvbnMucGF0aHMgfHwgW107XG4gICAgb3B0aW9ucy5maWxlbmFtZSA9IG9wdGlvbnMuZmlsZW5hbWUgfHwgJ3N0eWx1cyc7XG4gICAgb3B0aW9ucy5FdmFsdWF0b3IgPSBvcHRpb25zLkV2YWx1YXRvciB8fCBFdmFsdWF0b3I7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnN0ciA9IHN0cjtcbiAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcbiAgfVxuXG4gIC8qKlxuICAgKiBQYXJzZSBhbmQgZXZhbHVhdGUgQVNULCB0aGVuIGNhbGxiYWNrIGBmbihlcnIsIGNzcywganMpYC5cbiAgICpcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgcmVuZGVyKGZuKSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXMucGFyc2VyID0gbmV3IFBhcnNlcih0aGlzLnN0ciwgdGhpcy5vcHRpb25zKTtcblxuICAgIC8vIHVzZSBwbHVnaW4ocylcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdGhpcy5vcHRpb25zLnVzZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdGhpcy51c2UodGhpcy5vcHRpb25zLnVzZVtpXSk7XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIG5vZGVzLmZpbGVuYW1lID0gdGhpcy5vcHRpb25zLmZpbGVuYW1lO1xuICAgICAgLy8gcGFyc2VcbiAgICAgIHZhciBhc3QgPSBwYXJzZXIucGFyc2UoKTtcblxuICAgICAgLy8gZXZhbHVhdGVcbiAgICAgIHRoaXMuZXZhbHVhdG9yID0gbmV3IHRoaXMub3B0aW9ucy5FdmFsdWF0b3IoYXN0LCB0aGlzLm9wdGlvbnMpO1xuICAgICAgdGhpcy5ub2RlcyA9IG5vZGVzO1xuICAgICAgdGhpcy5ldmFsdWF0b3IucmVuZGVyZXIgPSB0aGlzO1xuICAgICAgYXN0ID0gdGhpcy5ldmFsdWF0b3IuZXZhbHVhdGUoKTtcblxuICAgICAgLy8gbm9ybWFsaXplXG4gICAgICB2YXIgbm9ybWFsaXplciA9IG5ldyBOb3JtYWxpemVyKGFzdCwgdGhpcy5vcHRpb25zKTtcbiAgICAgIGFzdCA9IG5vcm1hbGl6ZXIubm9ybWFsaXplKCk7XG5cbiAgICAgIC8vIGNvbXBpbGVcbiAgICAgIHZhciBjb21waWxlciA9IHRoaXMub3B0aW9ucy5zb3VyY2VtYXBcbiAgICAgICAgPyBuZXcgKHJlcXVpcmUoJy4vdmlzaXRvci9zb3VyY2VtYXBwZXInKSkoYXN0LCB0aGlzLm9wdGlvbnMpXG4gICAgICAgIDogbmV3IChyZXF1aXJlKCcuL3Zpc2l0b3IvY29tcGlsZXInKSkoYXN0LCB0aGlzLm9wdGlvbnMpXG4gICAgICAgICwgY3NzID0gY29tcGlsZXIuY29tcGlsZSgpO1xuXG4gICAgICAvLyBleHBvc2Ugc291cmNlbWFwXG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNvdXJjZW1hcCkgdGhpcy5zb3VyY2VtYXAgPSBjb21waWxlci5tYXAudG9KU09OKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHt9O1xuICAgICAgb3B0aW9ucy5pbnB1dCA9IGVyci5pbnB1dCB8fCB0aGlzLnN0cjtcbiAgICAgIG9wdGlvbnMuZmlsZW5hbWUgPSBlcnIuZmlsZW5hbWUgfHwgdGhpcy5vcHRpb25zLmZpbGVuYW1lO1xuICAgICAgb3B0aW9ucy5saW5lbm8gPSBlcnIubGluZW5vIHx8IHBhcnNlci5sZXhlci5saW5lbm87XG4gICAgICBvcHRpb25zLmNvbHVtbiA9IGVyci5jb2x1bW4gfHwgcGFyc2VyLmxleGVyLmNvbHVtbjtcbiAgICAgIGlmICghZm4pIHRocm93IHV0aWxzLmZvcm1hdEV4Y2VwdGlvbihlcnIsIG9wdGlvbnMpO1xuICAgICAgcmV0dXJuIGZuKHV0aWxzLmZvcm1hdEV4Y2VwdGlvbihlcnIsIG9wdGlvbnMpKTtcbiAgICB9XG5cbiAgICAvLyBmaXJlIGBlbmRgIGV2ZW50XG4gICAgdmFyIGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzKCdlbmQnKTtcbiAgICBpZiAoZm4pIGxpc3RlbmVycy5wdXNoKGZuKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgcmV0ID0gbGlzdGVuZXJzW2ldKG51bGwsIGNzcyk7XG4gICAgICBpZiAocmV0KSBjc3MgPSByZXQ7XG4gICAgfVxuICAgIGlmICghZm4pIHJldHVybiBjc3M7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGRlcGVuZGVuY2llcyBvZiB0aGUgY29tcGlsZWQgZmlsZS5cbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IFtmaWxlbmFtZV1cbiAgICogQHJldHVybiB7QXJyYXl9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGRlcHMoZmlsZW5hbWUpIHtcbiAgICB2YXIgb3B0cyA9IHV0aWxzLm1lcmdlKHsgY2FjaGU6IGZhbHNlIH0sIHRoaXMub3B0aW9ucyk7XG4gICAgaWYgKGZpbGVuYW1lKSBvcHRzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG5cbiAgICB2YXIgRGVwc1Jlc29sdmVyID0gcmVxdWlyZSgnLi92aXNpdG9yL2RlcHMtcmVzb2x2ZXInKVxuICAgICAgLCBwYXJzZXIgPSBuZXcgUGFyc2VyKHRoaXMuc3RyLCBvcHRzKTtcblxuICAgIHRyeSB7XG4gICAgICBub2Rlcy5maWxlbmFtZSA9IG9wdHMuZmlsZW5hbWU7XG4gICAgICAvLyBwYXJzZVxuICAgICAgdmFyIGFzdCA9IHBhcnNlci5wYXJzZSgpXG4gICAgICAgICwgcmVzb2x2ZXIgPSBuZXcgRGVwc1Jlc29sdmVyKGFzdCwgb3B0cyk7XG5cbiAgICAgIC8vIHJlc29sdmUgZGVwZW5kZW5jaWVzXG4gICAgICByZXR1cm4gcmVzb2x2ZXIucmVzb2x2ZSgpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdmFyIG9wdGlvbnMgPSB7fTtcbiAgICAgIG9wdGlvbnMuaW5wdXQgPSBlcnIuaW5wdXQgfHwgdGhpcy5zdHI7XG4gICAgICBvcHRpb25zLmZpbGVuYW1lID0gZXJyLmZpbGVuYW1lIHx8IG9wdHMuZmlsZW5hbWU7XG4gICAgICBvcHRpb25zLmxpbmVubyA9IGVyci5saW5lbm8gfHwgcGFyc2VyLmxleGVyLmxpbmVubztcbiAgICAgIG9wdGlvbnMuY29sdW1uID0gZXJyLmNvbHVtbiB8fCBwYXJzZXIubGV4ZXIuY29sdW1uO1xuICAgICAgdGhyb3cgdXRpbHMuZm9ybWF0RXhjZXB0aW9uKGVyciwgb3B0aW9ucyk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTZXQgb3B0aW9uIGBrZXlgIHRvIGB2YWxgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAqIEBwYXJhbSB7TWl4ZWR9IHZhbFxuICAgKiBAcmV0dXJuIHtSZW5kZXJlcn0gZm9yIGNoYWluaW5nXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIHNldChrZXksIHZhbCkge1xuICAgIHRoaXMub3B0aW9uc1trZXldID0gdmFsO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXQgb3B0aW9uIGBrZXlgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30ga2V5XG4gICAqIEByZXR1cm4ge01peGVkfSB2YWxcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZ2V0KGtleSkge1xuICAgIHJldHVybiB0aGlzLm9wdGlvbnNba2V5XTtcbiAgfTtcblxuICAvKipcbiAgICogSW5jbHVkZSB0aGUgZ2l2ZW4gYHBhdGhgIHRvIHRoZSBsb29rdXAgcGF0aHMgYXJyYXkuXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoXG4gICAqIEByZXR1cm4ge1JlbmRlcmVyfSBmb3IgY2hhaW5pbmdcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgaW5jbHVkZShwYXRoKSB7XG4gICAgdGhpcy5vcHRpb25zLnBhdGhzLnB1c2gocGF0aCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVzZSB0aGUgZ2l2ZW4gYGZuYC5cbiAgICpcbiAgICogVGhpcyBhbGxvd3MgZm9yIHBsdWdpbnMgdG8gYWx0ZXIgdGhlIHJlbmRlcmVyIGluXG4gICAqIGFueSB3YXkgdGhleSB3aXNoLCBleHBvc2luZyBwYXRocyBldGMuXG4gICAqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259XG4gICAqIEByZXR1cm4ge1JlbmRlcmVyfSBmb3IgY2hhaW5pbmdcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgdXNlKGZuKSB7XG4gICAgZm4uY2FsbCh0aGlzLCB0aGlzKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogRGVmaW5lIGZ1bmN0aW9uIG9yIGdsb2JhbCB2YXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVgLiBPcHRpb25hbGx5XG4gICAqIHRoZSBmdW5jdGlvbiBtYXkgYWNjZXB0IGZ1bGwgZXhwcmVzc2lvbnMsIGJ5IHNldHRpbmcgYHJhd2BcbiAgICogdG8gYHRydWVgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE5vZGV9IGZuXG4gICAqIEByZXR1cm4ge1JlbmRlcmVyfSBmb3IgY2hhaW5pbmdcbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgZGVmaW5lKG5hbWUsIGZuLCByYXcpIHtcbiAgICBmbiA9IHV0aWxzLmNvZXJjZShmbiwgcmF3KTtcblxuICAgIGlmIChmbi5ub2RlTmFtZSkge1xuICAgICAgdGhpcy5vcHRpb25zLmdsb2JhbHNbbmFtZV0gPSBmbjtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIGZ1bmN0aW9uXG4gICAgdGhpcy5vcHRpb25zLmZ1bmN0aW9uc1tuYW1lXSA9IGZuO1xuICAgIGlmICh1bmRlZmluZWQgIT0gcmF3KSBmbi5yYXcgPSByYXc7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEltcG9ydCB0aGUgZ2l2ZW4gYGZpbGVgLlxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gZmlsZVxuICAgKiBAcmV0dXJuIHtSZW5kZXJlcn0gZm9yIGNoYWluaW5nXG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGltcG9ydChmaWxlKSB7XG4gICAgdGhpcy5vcHRpb25zLmltcG9ydHMucHVzaChmaWxlKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbn07XG5cbi8qKlxuICogRXhwb3NlIGBSZW5kZXJlcmAuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBSZW5kZXJlcjtcblxuLyoqXG4gKiBFeHBvc2UgZXZlbnRzIGV4cGxpY2l0bHkuXG4gKi9cblxubW9kdWxlLmV4cG9ydHMuZXZlbnRzID0gZXZlbnRzO1xuIiwKICAie1xuICBcIm5hbWVcIjogXCJzdHlsdXNcIixcbiAgXCJkZXNjcmlwdGlvblwiOiBcIlJvYnVzdCwgZXhwcmVzc2l2ZSwgYW5kIGZlYXR1cmUtcmljaCBDU1Mgc3VwZXJzZXRcIixcbiAgXCJ2ZXJzaW9uXCI6IFwiMC42Mi4wXCIsXG4gIFwiYXV0aG9yXCI6IFwiVEogSG9sb3dheWNodWsgPHRqQHZpc2lvbi1tZWRpYS5jYT5cIixcbiAgXCJrZXl3b3Jkc1wiOiBbXG4gICAgXCJjc3NcIixcbiAgICBcInBhcnNlclwiLFxuICAgIFwic3R5bGVcIixcbiAgICBcInN0eWxlc2hlZXRzXCIsXG4gICAgXCJqYWRlXCIsXG4gICAgXCJsYW5ndWFnZVwiXG4gIF0sXG4gIFwicmVwb3NpdG9yeVwiOiB7XG4gICAgXCJ0eXBlXCI6IFwiZ2l0XCIsXG4gICAgXCJ1cmxcIjogXCJnaXQ6Ly9naXRodWIuY29tL3N0eWx1cy9zdHlsdXNcIlxuICB9LFxuICBcIm1haW5cIjogXCIuL2luZGV4LmpzXCIsXG4gIFwiYnJvd3NlcmlmeVwiOiBcIi4vbGliL2Jyb3dzZXJpZnkuanNcIixcbiAgXCJlbmdpbmVzXCI6IHtcbiAgICBcIm5vZGVcIjogXCIqXCJcbiAgfSxcbiAgXCJiaW5cIjoge1xuICAgIFwic3R5bHVzXCI6IFwiLi9iaW4vc3R5bHVzXCJcbiAgfSxcbiAgXCJzY3JpcHRzXCI6IHtcbiAgICBcInByZXB1Ymxpc2hcIjogXCJucG0gcHJ1bmVcIixcbiAgICBcInRlc3RcIjogXCJtb2NoYSB0ZXN0LyB0ZXN0L21pZGRsZXdhcmUvIC0tcmVxdWlyZSBjaGFpIC0tYmFpbCAtLWNoZWNrLWxlYWtzIC0tcmVwb3J0ZXIgZG90XCJcbiAgfSxcbiAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgIFwiQGFkb2JlL2Nzcy10b29sc1wiOiBcIn40LjMuMVwiLFxuICAgIFwiZGVidWdcIjogXCJeNC4zLjJcIixcbiAgICBcImdsb2JcIjogXCJeNy4xLjZcIixcbiAgICBcInNheFwiOiBcIn4xLjMuMFwiLFxuICAgIFwic291cmNlLW1hcFwiOiBcIl4wLjcuM1wiXG4gIH0sXG4gIFwiZGV2RGVwZW5kZW5jaWVzXCI6IHtcbiAgICBcImNoYWlcIjogXCJeNC4zLjZcIixcbiAgICBcIm1vY2hhXCI6IFwiXjkuMi4wXCJcbiAgfSxcbiAgXCJidWdzXCI6IHtcbiAgICBcInVybFwiOiBcImh0dHBzOi8vZ2l0aHViLmNvbS9zdHlsdXMvc3R5bHVzL2lzc3Vlc1wiXG4gIH0sXG4gIFwiaG9tZXBhZ2VcIjogXCJodHRwczovL2dpdGh1Yi5jb20vc3R5bHVzL3N0eWx1c1wiLFxuICBcImRpcmVjdG9yaWVzXCI6IHtcbiAgICBcImRvY1wiOiBcImRvY3NcIixcbiAgICBcImV4YW1wbGVcIjogXCJleGFtcGxlc1wiLFxuICAgIFwidGVzdFwiOiBcInRlc3RcIlxuICB9LFxuICBcImxpY2Vuc2VcIjogXCJNSVRcIixcbiAgXCJmdW5kaW5nXCI6IFwiaHR0cHM6Ly9vcGVuY29sbGVjdGl2ZS5jb20vc3R5bHVzXCJcbn1cbiIsCiAgIi8qIVxuICogU3R5bHVzIC0gbWlkZGxld2FyZVxuICogQ29weXJpZ2h0IChjKSBBdXRvbWF0dGljIDxkZXZlbG9wZXIud29yZHByZXNzLmNvbT5cbiAqIE1JVCBMaWNlbnNlZFxuICovXG5cbi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG52YXIgc3R5bHVzID0gcmVxdWlyZSgnLi9zdHlsdXMnKVxuICAsIGZzID0gcmVxdWlyZSgnZnMnKVxuICAsIHVybCA9IHJlcXVpcmUoJ3VybCcpXG4gICwgZGlybmFtZSA9IHJlcXVpcmUoJ3BhdGgnKS5kaXJuYW1lXG4gICwgam9pbiA9IHJlcXVpcmUoJ3BhdGgnKS5qb2luXG4gICwgc2VwID0gcmVxdWlyZSgncGF0aCcpLnNlcFxuICAsIGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnc3R5bHVzOm1pZGRsZXdhcmUnKVxuICAsIG1rZGlyID0gZnMubWtkaXI7XG5cbi8qKlxuICogSW1wb3J0IG1hcC5cbiAqL1xuXG52YXIgaW1wb3J0cyA9IHt9O1xuXG4vKipcbiAqIFJldHVybiBDb25uZWN0IG1pZGRsZXdhcmUgd2l0aCB0aGUgZ2l2ZW4gYG9wdGlvbnNgLlxuICpcbiAqIE9wdGlvbnM6XG4gKlxuICogICAgYGZvcmNlYCAgICAgQWx3YXlzIHJlLWNvbXBpbGVcbiAqICAgIGBzcmNgICAgICAgIFNvdXJjZSBkaXJlY3RvcnkgdXNlZCB0byBmaW5kIC5zdHlsIGZpbGVzLFxuICogICAgICAgICAgICAgICAgYSBzdHJpbmcgb3IgZnVuY3Rpb24gYWNjZXB0aW5nIGAocGF0aClgIG9mIHJlcXVlc3QuXG4gKiAgICBgZGVzdGAgICAgICBEZXN0aW5hdGlvbiBkaXJlY3RvcnkgdXNlZCB0byBvdXRwdXQgLmNzcyBmaWxlcyxcbiAqICAgICAgICAgICAgICAgIGEgc3RyaW5nIG9yIGZ1bmN0aW9uIGFjY2VwdGluZyBgKHBhdGgpYCBvZiByZXF1ZXN0LFxuICogICAgICAgICAgICAgICAgd2hlbiB1bmRlZmluZWQgZGVmYXVsdHMgdG8gYHNyY2AuXG4gKiAgICBgY29tcGlsZWAgICBDdXN0b20gY29tcGlsZSBmdW5jdGlvbiwgYWNjZXB0aW5nIHRoZSBhcmd1bWVudHNcbiAqICAgICAgICAgICAgICAgIGAoc3RyLCBwYXRoKWAuXG4gKiAgICBgY29tcHJlc3NgICBXaGV0aGVyIHRoZSBvdXRwdXQgLmNzcyBmaWxlcyBzaG91bGQgYmUgY29tcHJlc3NlZFxuICogICAgYGZpcmVidWdgICAgRW1pdHMgZGVidWcgaW5mb3MgaW4gdGhlIGdlbmVyYXRlZCBDU1MgdGhhdCBjYW5cbiAqICAgICAgICAgICAgICAgIGJlIHVzZWQgYnkgdGhlIEZpcmVTdHlsdXMgRmlyZWJ1ZyBwbHVnaW5cbiAqICAgIGBsaW5lbm9zYCAgIEVtaXRzIGNvbW1lbnRzIGluIHRoZSBnZW5lcmF0ZWQgQ1NTIGluZGljYXRpbmdcbiAqICAgICAgICAgICAgICAgIHRoZSBjb3JyZXNwb25kaW5nIFN0eWx1cyBsaW5lXG4gKiAgICAnc291cmNlbWFwJyBHZW5lcmF0ZXMgYSBzb3VyY2VtYXAgaW4gc291cmNlbWFwcyB2MyBmb3JtYXRcbiAqXG4gKiBFeGFtcGxlczpcbiAqXG4gKiBIZXJlIHdlIHNldCB1cCB0aGUgY3VzdG9tIGNvbXBpbGUgZnVuY3Rpb24gc28gdGhhdCB3ZSBtYXlcbiAqIHNldCB0aGUgYGNvbXByZXNzYCBvcHRpb24sIG9yIGRlZmluZSBhZGRpdGlvbmFsIGZ1bmN0aW9ucy5cbiAqXG4gKiBCeSBkZWZhdWx0IHRoZSBjb21waWxlIGZ1bmN0aW9uIHNpbXBseSBzZXRzIHRoZSBgZmlsZW5hbWVgXG4gKiBhbmQgcmVuZGVycyB0aGUgQ1NTLlxuICpcbiAqICAgICAgZnVuY3Rpb24gY29tcGlsZShzdHIsIHBhdGgpIHtcbiAqICAgICAgICByZXR1cm4gc3R5bHVzKHN0cilcbiAqICAgICAgICAgIC5zZXQoJ2ZpbGVuYW1lJywgcGF0aClcbiAqICAgICAgICAgIC5zZXQoJ2NvbXByZXNzJywgdHJ1ZSk7XG4gKiAgICAgIH1cbiAqXG4gKiBQYXNzIHRoZSBtaWRkbGV3YXJlIHRvIENvbm5lY3QsIGdyYWJiaW5nIC5zdHlsIGZpbGVzIGZyb20gdGhpcyBkaXJlY3RvcnlcbiAqIGFuZCBzYXZpbmcgLmNzcyBmaWxlcyB0byBfLi9wdWJsaWNfLiBBbHNvIHN1cHBseWluZyBvdXIgY3VzdG9tIGBjb21waWxlYCBmdW5jdGlvbi5cbiAqXG4gKiBGb2xsb3dpbmcgdGhhdCB3ZSBoYXZlIGEgYHN0YXRpYygpYCBsYXllciBzZXR1cCB0byBzZXJ2ZSB0aGUgLmNzc1xuICogZmlsZXMgZ2VuZXJhdGVkIGJ5IFN0eWx1cy5cbiAqXG4gKiAgICAgIHZhciBhcHAgPSBjb25uZWN0KCk7XG4gKlxuICogICAgICBhcHAubWlkZGxld2FyZSh7XG4gKiAgICAgICAgICBzcmM6IF9fZGlybmFtZVxuICogICAgICAgICwgZGVzdDogX19kaXJuYW1lICsgJy9wdWJsaWMnXG4gKiAgICAgICAgLCBjb21waWxlOiBjb21waWxlXG4gKiAgICAgIH0pXG4gKlxuICogICAgICBhcHAudXNlKGNvbm5lY3Quc3RhdGljKF9fZGlybmFtZSArICcvcHVibGljJykpO1xuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihvcHRpb25zKXtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgLy8gQWNjZXB0IHNyYy9kZXN0IGRpclxuICBpZiAoJ3N0cmluZycgPT0gdHlwZW9mIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0geyBzcmM6IG9wdGlvbnMgfTtcbiAgfVxuXG4gIC8vIEZvcmNlIGNvbXBpbGF0aW9uXG4gIHZhciBmb3JjZSA9IG9wdGlvbnMuZm9yY2U7XG5cbiAgLy8gU291cmNlIGRpciByZXF1aXJlZFxuICB2YXIgc3JjID0gb3B0aW9ucy5zcmM7XG4gIGlmICghc3JjKSB0aHJvdyBuZXcgRXJyb3IoJ3N0eWx1cy5taWRkbGV3YXJlKCkgcmVxdWlyZXMgXCJzcmNcIiBkaXJlY3RvcnknKTtcblxuICAvLyBEZWZhdWx0IGRlc3QgZGlyIHRvIHNvdXJjZVxuICB2YXIgZGVzdCA9IG9wdGlvbnMuZGVzdCB8fCBzcmM7XG5cbiAgLy8gRGVmYXVsdCBjb21waWxlIGNhbGxiYWNrXG4gIG9wdGlvbnMuY29tcGlsZSA9IG9wdGlvbnMuY29tcGlsZSB8fCBmdW5jdGlvbihzdHIsIHBhdGgpe1xuICAgIC8vIGlubGluZSBzb3VyY2VtYXBcbiAgICBpZiAob3B0aW9ucy5zb3VyY2VtYXApIHtcbiAgICAgIGlmICgnYm9vbGVhbicgPT0gdHlwZW9mIG9wdGlvbnMuc291cmNlbWFwKVxuICAgICAgICBvcHRpb25zLnNvdXJjZW1hcCA9IHt9O1xuICAgICAgb3B0aW9ucy5zb3VyY2VtYXAuaW5saW5lID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bHVzKHN0cilcbiAgICAgIC5zZXQoJ2ZpbGVuYW1lJywgcGF0aClcbiAgICAgIC5zZXQoJ2NvbXByZXNzJywgb3B0aW9ucy5jb21wcmVzcylcbiAgICAgIC5zZXQoJ2ZpcmVidWcnLCBvcHRpb25zLmZpcmVidWcpXG4gICAgICAuc2V0KCdsaW5lbm9zJywgb3B0aW9ucy5saW5lbm9zKVxuICAgICAgLnNldCgnc291cmNlbWFwJywgb3B0aW9ucy5zb3VyY2VtYXApO1xuICB9O1xuXG4gIC8vIE1pZGRsZXdhcmVcbiAgcmV0dXJuIGZ1bmN0aW9uIHN0eWx1cyhyZXEsIHJlcywgbmV4dCl7XG4gICAgaWYgKCdHRVQnICE9IHJlcS5tZXRob2QgJiYgJ0hFQUQnICE9IHJlcS5tZXRob2QpIHJldHVybiBuZXh0KCk7XG4gICAgdmFyIHBhdGggPSB1cmwucGFyc2UocmVxLnVybCkucGF0aG5hbWU7XG4gICAgaWYgKC9cXC5jc3MkLy50ZXN0KHBhdGgpKSB7XG5cbiAgICAgIGlmICh0eXBlb2YgZGVzdCA9PSAnc3RyaW5nJykge1xuICAgICAgICAvLyBjaGVjayBmb3IgZGVzdC1wYXRoIG92ZXJsYXBcbiAgICAgICAgdmFyIG92ZXJsYXAgPSBjb21wYXJlKGRlc3QsIHBhdGgpLmxlbmd0aDtcbiAgICAgICAgaWYgKCcvJyA9PSBwYXRoLmNoYXJBdCgwKSkgb3ZlcmxhcCsrO1xuICAgICAgICBwYXRoID0gcGF0aC5zbGljZShvdmVybGFwKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGNzc1BhdGgsIHN0eWx1c1BhdGg7XG4gICAgICBjc3NQYXRoID0gKHR5cGVvZiBkZXN0ID09ICdmdW5jdGlvbicpXG4gICAgICAgID8gZGVzdChwYXRoKVxuICAgICAgICA6IGpvaW4oZGVzdCwgcGF0aCk7XG4gICAgICBzdHlsdXNQYXRoID0gKHR5cGVvZiBzcmMgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgPyBzcmMocGF0aClcbiAgICAgICAgOiBqb2luKHNyYywgcGF0aC5yZXBsYWNlKCcuY3NzJywgJy5zdHlsJykpO1xuXG4gICAgICAvLyBJZ25vcmUgRU5PRU5UIHRvIGZhbGwgdGhyb3VnaCBhcyA0MDRcbiAgICAgIGZ1bmN0aW9uIGVycm9yKGVycikge1xuICAgICAgICBuZXh0KCdFTk9FTlQnID09IGVyci5jb2RlXG4gICAgICAgICAgPyBudWxsXG4gICAgICAgICAgOiBlcnIpO1xuICAgICAgfVxuXG4gICAgICAvLyBGb3JjZVxuICAgICAgaWYgKGZvcmNlKSByZXR1cm4gY29tcGlsZSgpO1xuXG4gICAgICAvLyBDb21waWxlIHRvIGNzc1BhdGhcbiAgICAgIGZ1bmN0aW9uIGNvbXBpbGUoKSB7XG4gICAgICAgIGRlYnVnKCdyZWFkICVzJywgY3NzUGF0aCk7XG4gICAgICAgIGZzLnJlYWRGaWxlKHN0eWx1c1BhdGgsICd1dGY4JywgZnVuY3Rpb24oZXJyLCBzdHIpe1xuICAgICAgICAgIGlmIChlcnIpIHJldHVybiBlcnJvcihlcnIpO1xuICAgICAgICAgIHZhciBzdHlsZSA9IG9wdGlvbnMuY29tcGlsZShzdHIsIHN0eWx1c1BhdGgpO1xuICAgICAgICAgIHZhciBwYXRocyA9IHN0eWxlLm9wdGlvbnMuX2ltcG9ydHMgPSBbXTtcbiAgICAgICAgICBpbXBvcnRzW3N0eWx1c1BhdGhdID0gbnVsbDtcbiAgICAgICAgICBzdHlsZS5yZW5kZXIoZnVuY3Rpb24oZXJyLCBjc3Mpe1xuICAgICAgICAgICAgaWYgKGVycikgcmV0dXJuIG5leHQoZXJyKTtcbiAgICAgICAgICAgIGRlYnVnKCdyZW5kZXIgJXMnLCBzdHlsdXNQYXRoKTtcbiAgICAgICAgICAgIGltcG9ydHNbc3R5bHVzUGF0aF0gPSBwYXRocztcbiAgICAgICAgICAgIG1rZGlyKGRpcm5hbWUoY3NzUGF0aCksIHsgbW9kZTogcGFyc2VJbnQoJzA3MDAnLCA4KSwgcmVjdXJzaXZlOiB0cnVlIH0sIGZ1bmN0aW9uKGVycil7XG4gICAgICAgICAgICAgIGlmIChlcnIpIHJldHVybiBlcnJvcihlcnIpO1xuICAgICAgICAgICAgICBmcy53cml0ZUZpbGUoY3NzUGF0aCwgY3NzLCAndXRmOCcsIG5leHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBSZS1jb21waWxlIG9uIHNlcnZlciByZXN0YXJ0LCBkaXNyZWdhcmRpbmdcbiAgICAgIC8vIG10aW1lcyBzaW5jZSB3ZSBuZWVkIHRvIG1hcCBpbXBvcnRzXG4gICAgICBpZiAoIWltcG9ydHNbc3R5bHVzUGF0aF0pIHJldHVybiBjb21waWxlKCk7XG5cbiAgICAgIC8vIENvbXBhcmUgbXRpbWVzXG4gICAgICBmcy5zdGF0KHN0eWx1c1BhdGgsIGZ1bmN0aW9uKGVyciwgc3R5bHVzU3RhdHMpe1xuICAgICAgICBpZiAoZXJyKSByZXR1cm4gZXJyb3IoZXJyKTtcbiAgICAgICAgZnMuc3RhdChjc3NQYXRoLCBmdW5jdGlvbihlcnIsIGNzc1N0YXRzKXtcbiAgICAgICAgICAvLyBDU1MgaGFzIG5vdCBiZWVuIGNvbXBpbGVkLCBjb21waWxlIGl0IVxuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGlmICgnRU5PRU5UJyA9PSBlcnIuY29kZSkge1xuICAgICAgICAgICAgICBkZWJ1Zygnbm90IGZvdW5kICVzJywgY3NzUGF0aCk7XG4gICAgICAgICAgICAgIGNvbXBpbGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5leHQoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gU291cmNlIGhhcyBjaGFuZ2VkLCBjb21waWxlIGl0XG4gICAgICAgICAgICBpZiAoc3R5bHVzU3RhdHMubXRpbWUgPiBjc3NTdGF0cy5tdGltZSkge1xuICAgICAgICAgICAgICBkZWJ1ZygnbW9kaWZpZWQgJXMnLCBjc3NQYXRoKTtcbiAgICAgICAgICAgICAgY29tcGlsZSgpO1xuICAgICAgICAgICAgLy8gQWxyZWFkeSBjb21waWxlZCwgY2hlY2sgaW1wb3J0c1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY2hlY2tJbXBvcnRzKHN0eWx1c1BhdGgsIGZ1bmN0aW9uKGNoYW5nZWQpe1xuICAgICAgICAgICAgICAgIGlmIChkZWJ1ZyAmJiBjaGFuZ2VkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgY2hhbmdlZC5mb3JFYWNoKGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVidWcoJ21vZGlmaWVkIGltcG9ydCAlcycsIHBhdGgpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoYW5nZWQubGVuZ3RoID8gY29tcGlsZSgpIDogbmV4dCgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5leHQoKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQ2hlY2sgYHBhdGhgJ3MgaW1wb3J0cyB0byBzZWUgaWYgdGhleSBoYXZlIGJlZW4gYWx0ZXJlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gcGF0aFxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGNoZWNrSW1wb3J0cyhwYXRoLCBmbikge1xuICB2YXIgbm9kZXMgPSBpbXBvcnRzW3BhdGhdO1xuICBpZiAoIW5vZGVzKSByZXR1cm4gZm4oKTtcbiAgaWYgKCFub2Rlcy5sZW5ndGgpIHJldHVybiBmbigpO1xuXG4gIHZhciBwZW5kaW5nID0gbm9kZXMubGVuZ3RoXG4gICAgLCBjaGFuZ2VkID0gW107XG5cbiAgbm9kZXMuZm9yRWFjaChmdW5jdGlvbihpbXBvcnRlZCl7XG4gICAgZnMuc3RhdChpbXBvcnRlZC5wYXRoLCBmdW5jdGlvbihlcnIsIHN0YXQpe1xuICAgICAgLy8gZXJyb3Igb3IgbmV3ZXIgbXRpbWVcbiAgICAgIGlmIChlcnIgfHwgIWltcG9ydGVkLm10aW1lIHx8IHN0YXQubXRpbWUgPiBpbXBvcnRlZC5tdGltZSkge1xuICAgICAgICBjaGFuZ2VkLnB1c2goaW1wb3J0ZWQucGF0aCk7XG4gICAgICB9XG4gICAgICAtLXBlbmRpbmcgfHwgZm4oY2hhbmdlZCk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIGdldCB0aGUgb3ZlcmxhcGluZyBwYXRoIGZyb20gdGhlIGVuZCBvZiBwYXRoIEEsIGFuZCB0aGUgYmVnaW5pbmcgb2YgcGF0aCBCLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoQVxuICogQHBhcmFtIHtTdHJpbmd9IHBhdGhCXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBjb21wYXJlKHBhdGhBLCBwYXRoQikge1xuICBwYXRoQSA9IHBhdGhBLnNwbGl0KHNlcCk7XG4gIHBhdGhCID0gcGF0aEIuc3BsaXQoJy8nKTtcbiAgaWYgKCFwYXRoQVtwYXRoQS5sZW5ndGggLSAxXSkgcGF0aEEucG9wKCk7XG4gIGlmICghcGF0aEJbMF0pIHBhdGhCLnNoaWZ0KCk7XG4gIHZhciBvdmVybGFwID0gW107XG5cbiAgd2hpbGUgKHBhdGhBW3BhdGhBLmxlbmd0aCAtIDFdID09IHBhdGhCWzBdKSB7XG4gICAgb3ZlcmxhcC5wdXNoKHBhdGhBLnBvcCgpKTtcbiAgICBwYXRoQi5zaGlmdCgpO1xuICB9XG4gIHJldHVybiBvdmVybGFwLmpvaW4oJy8nKTtcbn1cbiIsCiAgIlxuZnVuY3Rpb24gJHBhcmNlbCRkZWZpbmVJbnRlcm9wRmxhZyhhKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCAnX19lc01vZHVsZScsIHt2YWx1ZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSk7XG59XG5cbmZ1bmN0aW9uICRwYXJjZWwkZXhwb3J0V2lsZGNhcmQoZGVzdCwgc291cmNlKSB7XG4gIE9iamVjdC5rZXlzKHNvdXJjZSkuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoa2V5ID09PSAnZGVmYXVsdCcgfHwga2V5ID09PSAnX19lc01vZHVsZScgfHwgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRlc3QsIGtleSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVzdCwga2V5LCB7XG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Vba2V5XTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRlc3Q7XG59XG5cbmZ1bmN0aW9uICRwYXJjZWwkZXhwb3J0KGUsIG4sIHYsIHMpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIG4sIHtnZXQ6IHYsIHNldDogcywgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlfSk7XG59XG5cbiRwYXJjZWwkZGVmaW5lSW50ZXJvcEZsYWcobW9kdWxlLmV4cG9ydHMpO1xuXG4kcGFyY2VsJGV4cG9ydChtb2R1bGUuZXhwb3J0cywgXCJwYXJzZVwiLCAoKSA9PiAkODgyYjZkOTMwNzA5MDViMyRleHBvcnQkOThlNmEzOWMwNDYwM2QzNik7XG4kcGFyY2VsJGV4cG9ydChtb2R1bGUuZXhwb3J0cywgXCJzdHJpbmdpZnlcIiwgKCkgPT4gJDg4MmI2ZDkzMDcwOTA1YjMkZXhwb3J0JGZhYzQ0ZWU1YjAzNWY3MzcpO1xuJHBhcmNlbCRleHBvcnQobW9kdWxlLmV4cG9ydHMsIFwiZGVmYXVsdFwiLCAoKSA9PiAkODgyYjZkOTMwNzA5MDViMyRleHBvcnQkMmUyYmNkODczOWFlMDM5KTtcbnZhciAkY2I1MDhiOTIxOWIwMjgyMCRleHBvcnRzID0ge307XG5cbiRwYXJjZWwkZGVmaW5lSW50ZXJvcEZsYWcoJGNiNTA4YjkyMTliMDI4MjAkZXhwb3J0cyk7XG5cbiRwYXJjZWwkZXhwb3J0KCRjYjUwOGI5MjE5YjAyODIwJGV4cG9ydHMsIFwiZGVmYXVsdFwiLCAoKSA9PiAkY2I1MDhiOTIxOWIwMjgyMCRleHBvcnQkMmUyYmNkODczOWFlMDM5KTtcbmNsYXNzICRjYjUwOGI5MjE5YjAyODIwJGV4cG9ydCQyZTJiY2Q4NzM5YWUwMzkgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoZmlsZW5hbWUsIG1zZywgbGluZW5vLCBjb2x1bW4sIGNzcyl7XG4gICAgICAgIHN1cGVyKGZpbGVuYW1lICsgXCI6XCIgKyBsaW5lbm8gKyBcIjpcIiArIGNvbHVtbiArIFwiOiBcIiArIG1zZyk7XG4gICAgICAgIHRoaXMucmVhc29uID0gbXNnO1xuICAgICAgICB0aGlzLmZpbGVuYW1lID0gZmlsZW5hbWU7XG4gICAgICAgIHRoaXMubGluZSA9IGxpbmVubztcbiAgICAgICAgdGhpcy5jb2x1bW4gPSBjb2x1bW47XG4gICAgICAgIHRoaXMuc291cmNlID0gY3NzO1xuICAgIH1cbn1cblxuXG52YXIgJDRiYWZiMjg4MjgwMDdiNDYkZXhwb3J0cyA9IHt9O1xuXG4kcGFyY2VsJGRlZmluZUludGVyb3BGbGFnKCQ0YmFmYjI4ODI4MDA3YjQ2JGV4cG9ydHMpO1xuXG4kcGFyY2VsJGV4cG9ydCgkNGJhZmIyODgyODAwN2I0NiRleHBvcnRzLCBcImRlZmF1bHRcIiwgKCkgPT4gJDRiYWZiMjg4MjgwMDdiNDYkZXhwb3J0JDJlMmJjZDg3MzlhZTAzOSk7XG4vKipcbiAqIFN0b3JlIHBvc2l0aW9uIGluZm9ybWF0aW9uIGZvciBhIG5vZGVcbiAqLyBjbGFzcyAkNGJhZmIyODgyODAwN2I0NiRleHBvcnQkMmUyYmNkODczOWFlMDM5IHtcbiAgICBjb25zdHJ1Y3RvcihzdGFydCwgZW5kLCBzb3VyY2Upe1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgIHRoaXMuZW5kID0gZW5kO1xuICAgICAgICB0aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICB9XG59XG5cblxudmFyICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydHMgPSB7fTtcblxuJHBhcmNlbCRleHBvcnQoJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0cywgXCJDc3NUeXBlc1wiLCAoKSA9PiAkZDEwMzQwN2U4MWM5NzA0MiRleHBvcnQkOWJlNWRkNmU2MWQ1ZDczYSk7XG52YXIgJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2E7XG4oZnVuY3Rpb24oQ3NzVHlwZXMpIHtcbiAgICBDc3NUeXBlc1tcInN0eWxlc2hlZXRcIl0gPSBcInN0eWxlc2hlZXRcIjtcbiAgICBDc3NUeXBlc1tcInJ1bGVcIl0gPSBcInJ1bGVcIjtcbiAgICBDc3NUeXBlc1tcImRlY2xhcmF0aW9uXCJdID0gXCJkZWNsYXJhdGlvblwiO1xuICAgIENzc1R5cGVzW1wiY29tbWVudFwiXSA9IFwiY29tbWVudFwiO1xuICAgIENzc1R5cGVzW1wiY29udGFpbmVyXCJdID0gXCJjb250YWluZXJcIjtcbiAgICBDc3NUeXBlc1tcImNoYXJzZXRcIl0gPSBcImNoYXJzZXRcIjtcbiAgICBDc3NUeXBlc1tcImRvY3VtZW50XCJdID0gXCJkb2N1bWVudFwiO1xuICAgIENzc1R5cGVzW1wiY3VzdG9tTWVkaWFcIl0gPSBcImN1c3RvbS1tZWRpYVwiO1xuICAgIENzc1R5cGVzW1wiZm9udEZhY2VcIl0gPSBcImZvbnQtZmFjZVwiO1xuICAgIENzc1R5cGVzW1wiaG9zdFwiXSA9IFwiaG9zdFwiO1xuICAgIENzc1R5cGVzW1wiaW1wb3J0XCJdID0gXCJpbXBvcnRcIjtcbiAgICBDc3NUeXBlc1tcImtleWZyYW1lc1wiXSA9IFwia2V5ZnJhbWVzXCI7XG4gICAgQ3NzVHlwZXNbXCJrZXlmcmFtZVwiXSA9IFwia2V5ZnJhbWVcIjtcbiAgICBDc3NUeXBlc1tcImxheWVyXCJdID0gXCJsYXllclwiO1xuICAgIENzc1R5cGVzW1wibWVkaWFcIl0gPSBcIm1lZGlhXCI7XG4gICAgQ3NzVHlwZXNbXCJuYW1lc3BhY2VcIl0gPSBcIm5hbWVzcGFjZVwiO1xuICAgIENzc1R5cGVzW1wicGFnZVwiXSA9IFwicGFnZVwiO1xuICAgIENzc1R5cGVzW1wic3VwcG9ydHNcIl0gPSBcInN1cHBvcnRzXCI7XG59KSgkZDEwMzQwN2U4MWM5NzA0MiRleHBvcnQkOWJlNWRkNmU2MWQ1ZDczYSB8fCAoJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2EgPSB7fSkpO1xuXG5cbi8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL2dyYW1tYXIuaHRtbFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3Zpc2lvbm1lZGlhL2Nzcy1wYXJzZS9wdWxsLzQ5I2lzc3VlY29tbWVudC0zMDA4ODAyN1xuLy8gTmV3IHJ1bGUgPT4gaHR0cHM6Ly93d3cudzMub3JnL1RSL0NTUzIyL3N5bmRhdGEuaHRtbCNjb21tZW50c1xuLy8gW15dIGlzIGVxdWl2YWxlbnQgdG8gWy5cXG5cXHJdXG5jb25zdCAkYjQ5OTQ4NmM3ZjAyYWJlNyR2YXIkY29tbWVudHJlID0gL1xcL1xcKlteXSo/KD86XFwqXFwvfCQpL2c7XG5jb25zdCAkYjQ5OTQ4NmM3ZjAyYWJlNyRleHBvcnQkOThlNmEzOWMwNDYwM2QzNiA9IChjc3MsIG9wdGlvbnMpPT57XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgLyoqXG4gICAqIFBvc2l0aW9uYWwuXG4gICAqLyBsZXQgbGluZW5vID0gMTtcbiAgICBsZXQgY29sdW1uID0gMTtcbiAgICAvKipcbiAgICogVXBkYXRlIGxpbmVubyBhbmQgY29sdW1uIGJhc2VkIG9uIGBzdHJgLlxuICAgKi8gZnVuY3Rpb24gdXBkYXRlUG9zaXRpb24oc3RyKSB7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gc3RyLm1hdGNoKC9cXG4vZyk7XG4gICAgICAgIGlmIChsaW5lcykgbGluZW5vICs9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgaSA9IHN0ci5sYXN0SW5kZXhPZihcIlxcblwiKTtcbiAgICAgICAgY29sdW1uID0gfmkgPyBzdHIubGVuZ3RoIC0gaSA6IGNvbHVtbiArIHN0ci5sZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgKiBNYXJrIHBvc2l0aW9uIGFuZCBwYXRjaCBgbm9kZS5wb3NpdGlvbmAuXG4gICAqLyBmdW5jdGlvbiBwb3NpdGlvbigpIHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB7XG4gICAgICAgICAgICBsaW5lOiBsaW5lbm8sXG4gICAgICAgICAgICBjb2x1bW46IGNvbHVtblxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgICAgbm9kZS5wb3NpdGlvbiA9IG5ldyAoMCwgJDRiYWZiMjg4MjgwMDdiNDYkZXhwb3J0JDJlMmJjZDg3MzlhZTAzOSkoc3RhcnQsIHtcbiAgICAgICAgICAgICAgICBsaW5lOiBsaW5lbm8sXG4gICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW5cbiAgICAgICAgICAgIH0sIG9wdGlvbnM/LnNvdXJjZSB8fCBcIlwiKTtcbiAgICAgICAgICAgIHdoaXRlc3BhY2UoKTtcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICogRXJyb3IgYG1zZ2AuXG4gICAqLyBjb25zdCBlcnJvcnNMaXN0ID0gW107XG4gICAgZnVuY3Rpb24gZXJyb3IobXNnKSB7XG4gICAgICAgIGNvbnN0IGVyciA9IG5ldyAoMCwgJGNiNTA4YjkyMTliMDI4MjAkZXhwb3J0JDJlMmJjZDg3MzlhZTAzOSkob3B0aW9ucz8uc291cmNlIHx8IFwiXCIsIG1zZywgbGluZW5vLCBjb2x1bW4sIGNzcyk7XG4gICAgICAgIGlmIChvcHRpb25zPy5zaWxlbnQpIGVycm9yc0xpc3QucHVzaChlcnIpO1xuICAgICAgICBlbHNlIHRocm93IGVycjtcbiAgICB9XG4gICAgLyoqXG4gICAqIFBhcnNlIHN0eWxlc2hlZXQuXG4gICAqLyBmdW5jdGlvbiBzdHlsZXNoZWV0KCkge1xuICAgICAgICBjb25zdCBydWxlc0xpc3QgPSBydWxlcygpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICB0eXBlOiAoMCwgJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2EpLnN0eWxlc2hlZXQsXG4gICAgICAgICAgICBzdHlsZXNoZWV0OiB7XG4gICAgICAgICAgICAgICAgc291cmNlOiBvcHRpb25zPy5zb3VyY2UsXG4gICAgICAgICAgICAgICAgcnVsZXM6IHJ1bGVzTGlzdCxcbiAgICAgICAgICAgICAgICBwYXJzaW5nRXJyb3JzOiBlcnJvcnNMaXN0XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgKiBPcGVuaW5nIGJyYWNlLlxuICAgKi8gZnVuY3Rpb24gb3BlbigpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoKC9ee1xccyovKTtcbiAgICB9XG4gICAgLyoqXG4gICAqIENsb3NpbmcgYnJhY2UuXG4gICAqLyBmdW5jdGlvbiBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoKC9efS8pO1xuICAgIH1cbiAgICAvKipcbiAgICogUGFyc2UgcnVsZXNldC5cbiAgICovIGZ1bmN0aW9uIHJ1bGVzKCkge1xuICAgICAgICBsZXQgbm9kZTtcbiAgICAgICAgY29uc3QgcnVsZXMgPSBbXTtcbiAgICAgICAgd2hpdGVzcGFjZSgpO1xuICAgICAgICBjb21tZW50cyhydWxlcyk7XG4gICAgICAgIHdoaWxlKGNzcy5sZW5ndGggJiYgY3NzLmNoYXJBdCgwKSAhPT0gXCJ9XCIgJiYgKG5vZGUgPSBhdHJ1bGUoKSB8fCBydWxlKCkpKWlmIChub2RlKSB7XG4gICAgICAgICAgICBydWxlcy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgY29tbWVudHMocnVsZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBydWxlcztcbiAgICB9XG4gICAgLyoqXG4gICAqIE1hdGNoIGByZWAgYW5kIHJldHVybiBjYXB0dXJlcy5cbiAgICovIGZ1bmN0aW9uIG1hdGNoKHJlKSB7XG4gICAgICAgIGNvbnN0IG0gPSByZS5leGVjKGNzcyk7XG4gICAgICAgIGlmICghbSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBzdHIgPSBtWzBdO1xuICAgICAgICB1cGRhdGVQb3NpdGlvbihzdHIpO1xuICAgICAgICBjc3MgPSBjc3Muc2xpY2Uoc3RyLmxlbmd0aCk7XG4gICAgICAgIHJldHVybiBtO1xuICAgIH1cbiAgICAvKipcbiAgICogUGFyc2Ugd2hpdGVzcGFjZS5cbiAgICovIGZ1bmN0aW9uIHdoaXRlc3BhY2UoKSB7XG4gICAgICAgIG1hdGNoKC9eXFxzKi8pO1xuICAgIH1cbiAgICAvKipcbiAgICogUGFyc2UgY29tbWVudHM7XG4gICAqLyBmdW5jdGlvbiBjb21tZW50cyhydWxlcykge1xuICAgICAgICBsZXQgYztcbiAgICAgICAgcnVsZXMgPSBydWxlcyB8fCBbXTtcbiAgICAgICAgd2hpbGUoYyA9IGNvbW1lbnQoKSlpZiAoYykgcnVsZXMucHVzaChjKTtcbiAgICAgICAgcmV0dXJuIHJ1bGVzO1xuICAgIH1cbiAgICAvKipcbiAgICogUGFyc2UgY29tbWVudC5cbiAgICovIGZ1bmN0aW9uIGNvbW1lbnQoKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9uKCk7XG4gICAgICAgIGlmIChcIi9cIiAhPT0gY3NzLmNoYXJBdCgwKSB8fCBcIipcIiAhPT0gY3NzLmNoYXJBdCgxKSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBtID0gbWF0Y2goL15cXC9cXCpbXl0qP1xcKlxcLy8pO1xuICAgICAgICBpZiAoIW0pIHJldHVybiBlcnJvcihcIkVuZCBvZiBjb21tZW50IG1pc3NpbmdcIik7XG4gICAgICAgIHJldHVybiBwb3Moe1xuICAgICAgICAgICAgdHlwZTogKDAsICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydCQ5YmU1ZGQ2ZTYxZDVkNzNhKS5jb21tZW50LFxuICAgICAgICAgICAgY29tbWVudDogbVswXS5zbGljZSgyLCAtMilcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRDbG9zaW5nUGFyZW50aGVzZShzdHIsIHN0YXJ0LCBkZXB0aCkge1xuICAgICAgICBsZXQgcHRyID0gc3RhcnQgKyAxO1xuICAgICAgICBsZXQgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGNsb3NlUGFyZW50aGVzZXMgPSBzdHIuaW5kZXhPZihcIilcIiwgcHRyKTtcbiAgICAgICAgd2hpbGUoIWZvdW5kICYmIGNsb3NlUGFyZW50aGVzZXMgIT09IC0xKXtcbiAgICAgICAgICAgIGNvbnN0IG5leHRQYXJlbnRoZXNlcyA9IHN0ci5pbmRleE9mKFwiKFwiLCBwdHIpO1xuICAgICAgICAgICAgaWYgKG5leHRQYXJlbnRoZXNlcyAhPT0gLTEgJiYgbmV4dFBhcmVudGhlc2VzIDwgY2xvc2VQYXJlbnRoZXNlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRTZWFyY2ggPSBmaW5kQ2xvc2luZ1BhcmVudGhlc2Uoc3RyLCBuZXh0UGFyZW50aGVzZXMgKyAxLCBkZXB0aCArIDEpO1xuICAgICAgICAgICAgICAgIHB0ciA9IG5leHRTZWFyY2ggKyAxO1xuICAgICAgICAgICAgICAgIGNsb3NlUGFyZW50aGVzZXMgPSBzdHIuaW5kZXhPZihcIilcIiwgcHRyKTtcbiAgICAgICAgICAgIH0gZWxzZSBmb3VuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvdW5kICYmIGNsb3NlUGFyZW50aGVzZXMgIT09IC0xKSByZXR1cm4gY2xvc2VQYXJlbnRoZXNlcztcbiAgICAgICAgZWxzZSByZXR1cm4gLTE7XG4gICAgfVxuICAgIC8qKlxuICAgKiBQYXJzZSBzZWxlY3Rvci5cbiAgICovIGZ1bmN0aW9uIHNlbGVjdG9yKCkge1xuICAgICAgICBjb25zdCBtID0gbWF0Y2goL14oW157XSspLyk7XG4gICAgICAgIGlmICghbSkgcmV0dXJuO1xuICAgICAgICAvLyByZW1vdmUgY29tbWVudCBpbiBzZWxlY3RvcjtcbiAgICAgICAgbGV0IHJlcyA9ICRiNDk5NDg2YzdmMDJhYmU3JHZhciR0cmltKG1bMF0pLnJlcGxhY2UoJGI0OTk0ODZjN2YwMmFiZTckdmFyJGNvbW1lbnRyZSwgXCJcIik7XG4gICAgICAgIC8vIE9wdGltaXNhdGlvbjogSWYgdGhlcmUgaXMgbm8gJywnIG5vIG5lZWQgdG8gc3BsaXQgb3IgcG9zdC1wcm9jZXNzICh0aGlzIGlzIGxlc3MgY29zdGx5KVxuICAgICAgICBpZiAocmVzLmluZGV4T2YoXCIsXCIpID09PSAtMSkgcmV0dXJuIFtcbiAgICAgICAgICAgIHJlc1xuICAgICAgICBdO1xuICAgICAgICAvLyBSZXBsYWNlIGFsbCB0aGUgLCBpbiB0aGUgcGFyZW50aGVzZXMgYnkgXFx1MjAwQ1xuICAgICAgICBsZXQgcHRyID0gMDtcbiAgICAgICAgbGV0IHN0YXJ0UGFyZW50aGVzZXMgPSByZXMuaW5kZXhPZihcIihcIiwgcHRyKTtcbiAgICAgICAgd2hpbGUoc3RhcnRQYXJlbnRoZXNlcyAhPT0gLTEpe1xuICAgICAgICAgICAgY29uc3QgY2xvc2VQYXJlbnRoZXNlcyA9IGZpbmRDbG9zaW5nUGFyZW50aGVzZShyZXMsIHN0YXJ0UGFyZW50aGVzZXMsIDApO1xuICAgICAgICAgICAgaWYgKGNsb3NlUGFyZW50aGVzZXMgPT09IC0xKSBicmVhaztcbiAgICAgICAgICAgIHB0ciA9IGNsb3NlUGFyZW50aGVzZXMgKyAxO1xuICAgICAgICAgICAgcmVzID0gcmVzLnN1YnN0cmluZygwLCBzdGFydFBhcmVudGhlc2VzKSArIHJlcy5zdWJzdHJpbmcoc3RhcnRQYXJlbnRoZXNlcywgY2xvc2VQYXJlbnRoZXNlcykucmVwbGFjZSgvLC9nLCBcIlxcdTIwMENcIikgKyByZXMuc3Vic3RyaW5nKGNsb3NlUGFyZW50aGVzZXMpO1xuICAgICAgICAgICAgc3RhcnRQYXJlbnRoZXNlcyA9IHJlcy5pbmRleE9mKFwiKFwiLCBwdHIpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlcGxhY2UgYWxsIHRoZSAsIGluICcgYW5kIFwiIGJ5IFxcdTIwMENcbiAgICAgICAgcmVzID0gcmVzLyoqXG4gICAgICAgKiByZXBsYWNlICcsJyBieSBcXHUyMDBDIGZvciBkYXRhIHNlbGVjdG9yIChkaXZbZGF0YS1sYW5nPVwiZnIsZGUsdXNcIl0pXG4gICAgICAgKlxuICAgICAgICogRXhhbXBsZXM6XG4gICAgICAgKiBkaXZbZGF0YS1sYW5nPVwiZnIsXFxcImRlLHVzXCJdXG4gICAgICAgKiBkaXZbZGF0YS1sYW5nPSdmcixcXCdkZSx1cyddXG4gICAgICAgKlxuICAgICAgICogUmVnZXggbG9naWM6XG4gICAgICAgKiAgKFwifCcpKD86XFxcXFxcMXwuKSo/XFwxID0+IEhhbmRsZSB0aGUgXCIgYW5kICdcbiAgICAgICAqXG4gICAgICAgKiBPcHRpbWl6YXRpb24gMTpcbiAgICAgICAqIE5vIGdyZWVkeSBjYXB0dXJlIChzZWUgZG9jcyBhYm91dCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIC4qIGFuZCAuKj8pXG4gICAgICAgKlxuICAgICAgICogT3B0aW1pemF0aW9uIDI6XG4gICAgICAgKiAoXCJ8JykoPzpcXFxcXFwxfC4pKj9cXDEgdGhpcyB1c2UgcmVmZXJlbmNlIHRvIGNhcHR1cmUgZ3JvdXAsIGl0IHdvcmsgZmFzdGVyLlxuICAgICAgICovIC5yZXBsYWNlKC8oXCJ8JykoPzpcXFxcXFwxfC4pKj9cXDEvZywgKG0pPT5tLnJlcGxhY2UoLywvZywgXCJcXHUyMDBDXCIpKTtcbiAgICAgICAgLy8gU3BsaXQgYWxsIHRoZSBsZWZ0ICwgYW5kIHJlcGxhY2UgYWxsIHRoZSBcXHUyMDBDIGJ5ICxcbiAgICAgICAgcmV0dXJuIHJlcy8vIFNwbGl0IHRoZSBzZWxlY3RvciBieSAnLCdcbiAgICAgICAgLnNwbGl0KFwiLFwiKS8vIFJlcGxhY2UgYmFjayBcXHUyMDBDIGJ5ICcsJ1xuICAgICAgICAubWFwKChzKT0+e1xuICAgICAgICAgICAgcmV0dXJuICRiNDk5NDg2YzdmMDJhYmU3JHZhciR0cmltKHMucmVwbGFjZSgvXFx1MjAwQy9nLCBcIixcIikpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFBhcnNlIGRlY2xhcmF0aW9uLlxuICAgKi8gZnVuY3Rpb24gZGVjbGFyYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9uKCk7XG4gICAgICAgIC8vIHByb3BcbiAgICAgICAgY29uc3QgcHJvcE1hdGNoID0gbWF0Y2goL14oXFwqP1stIy8qXFxcXFxcd10rKFxcW1swLTlhLXpfLV0rXFxdKT8pXFxzKi8pO1xuICAgICAgICBpZiAoIXByb3BNYXRjaCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBwcm9wVmFsdWUgPSAkYjQ5OTQ4NmM3ZjAyYWJlNyR2YXIkdHJpbShwcm9wTWF0Y2hbMF0pO1xuICAgICAgICAvLyA6XG4gICAgICAgIGlmICghbWF0Y2goL146XFxzKi8pKSByZXR1cm4gZXJyb3IoXCJwcm9wZXJ0eSBtaXNzaW5nICc6J1wiKTtcbiAgICAgICAgLy8gdmFsXG4gICAgICAgIGNvbnN0IHZhbCA9IG1hdGNoKC9eKCg/OicoPzpcXFxcJ3wuKSo/J3xcIig/OlxcXFxcInwuKSo/XCJ8XFwoW14pXSo/XFwpfFtefTtdKSspLyk7XG4gICAgICAgIGNvbnN0IHJldCA9IHBvcyh7XG4gICAgICAgICAgICB0eXBlOiAoMCwgJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2EpLmRlY2xhcmF0aW9uLFxuICAgICAgICAgICAgcHJvcGVydHk6IHByb3BWYWx1ZS5yZXBsYWNlKCRiNDk5NDg2YzdmMDJhYmU3JHZhciRjb21tZW50cmUsIFwiXCIpLFxuICAgICAgICAgICAgdmFsdWU6IHZhbCA/ICRiNDk5NDg2YzdmMDJhYmU3JHZhciR0cmltKHZhbFswXSkucmVwbGFjZSgkYjQ5OTQ4NmM3ZjAyYWJlNyR2YXIkY29tbWVudHJlLCBcIlwiKSA6IFwiXCJcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIDtcbiAgICAgICAgbWF0Y2goL15bO1xcc10qLyk7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICAgIC8qKlxuICAgKiBQYXJzZSBkZWNsYXJhdGlvbnMuXG4gICAqLyBmdW5jdGlvbiBkZWNsYXJhdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IGRlY2xzID0gW107XG4gICAgICAgIGlmICghb3BlbigpKSByZXR1cm4gZXJyb3IoXCJtaXNzaW5nICd7J1wiKTtcbiAgICAgICAgY29tbWVudHMoZGVjbHMpO1xuICAgICAgICAvLyBkZWNsYXJhdGlvbnNcbiAgICAgICAgbGV0IGRlY2w7XG4gICAgICAgIHdoaWxlKGRlY2wgPSBkZWNsYXJhdGlvbigpKWlmIChkZWNsKSB7XG4gICAgICAgICAgICBkZWNscy5wdXNoKGRlY2wpO1xuICAgICAgICAgICAgY29tbWVudHMoZGVjbHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2xvc2UoKSkgcmV0dXJuIGVycm9yKFwibWlzc2luZyAnfSdcIik7XG4gICAgICAgIHJldHVybiBkZWNscztcbiAgICB9XG4gICAgLyoqXG4gICAqIFBhcnNlIGtleWZyYW1lLlxuICAgKi8gZnVuY3Rpb24ga2V5ZnJhbWUoKSB7XG4gICAgICAgIGxldCBtO1xuICAgICAgICBjb25zdCB2YWxzID0gW107XG4gICAgICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9uKCk7XG4gICAgICAgIHdoaWxlKG0gPSBtYXRjaCgvXigoXFxkK1xcLlxcZCt8XFwuXFxkK3xcXGQrKSU/fFthLXpdKylcXHMqLykpe1xuICAgICAgICAgICAgdmFscy5wdXNoKG1bMV0pO1xuICAgICAgICAgICAgbWF0Y2goL14sXFxzKi8pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdmFscy5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgcmV0dXJuIHBvcyh7XG4gICAgICAgICAgICB0eXBlOiAoMCwgJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2EpLmtleWZyYW1lLFxuICAgICAgICAgICAgdmFsdWVzOiB2YWxzLFxuICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBkZWNsYXJhdGlvbnMoKSB8fCBbXVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFBhcnNlIGtleWZyYW1lcy5cbiAgICovIGZ1bmN0aW9uIGF0a2V5ZnJhbWVzKCkge1xuICAgICAgICBjb25zdCBwb3MgPSBwb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBtMSA9IG1hdGNoKC9eQChbLVxcd10rKT9rZXlmcmFtZXNcXHMqLyk7XG4gICAgICAgIGlmICghbTEpIHJldHVybjtcbiAgICAgICAgY29uc3QgdmVuZG9yID0gbTFbMV07XG4gICAgICAgIC8vIGlkZW50aWZpZXJcbiAgICAgICAgY29uc3QgbTIgPSBtYXRjaCgvXihbLVxcd10rKVxccyovKTtcbiAgICAgICAgaWYgKCFtMikgcmV0dXJuIGVycm9yKFwiQGtleWZyYW1lcyBtaXNzaW5nIG5hbWVcIik7XG4gICAgICAgIGNvbnN0IG5hbWUgPSBtMlsxXTtcbiAgICAgICAgaWYgKCFvcGVuKCkpIHJldHVybiBlcnJvcihcIkBrZXlmcmFtZXMgbWlzc2luZyAneydcIik7XG4gICAgICAgIGxldCBmcmFtZTtcbiAgICAgICAgbGV0IGZyYW1lcyA9IGNvbW1lbnRzKCk7XG4gICAgICAgIHdoaWxlKGZyYW1lID0ga2V5ZnJhbWUoKSl7XG4gICAgICAgICAgICBmcmFtZXMucHVzaChmcmFtZSk7XG4gICAgICAgICAgICBmcmFtZXMgPSBmcmFtZXMuY29uY2F0KGNvbW1lbnRzKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2xvc2UoKSkgcmV0dXJuIGVycm9yKFwiQGtleWZyYW1lcyBtaXNzaW5nICd9J1wiKTtcbiAgICAgICAgcmV0dXJuIHBvcyh7XG4gICAgICAgICAgICB0eXBlOiAoMCwgJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2EpLmtleWZyYW1lcyxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICB2ZW5kb3I6IHZlbmRvcixcbiAgICAgICAgICAgIGtleWZyYW1lczogZnJhbWVzXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICogUGFyc2Ugc3VwcG9ydHMuXG4gICAqLyBmdW5jdGlvbiBhdHN1cHBvcnRzKCkge1xuICAgICAgICBjb25zdCBwb3MgPSBwb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBtID0gbWF0Y2goL15Ac3VwcG9ydHMgKihbXntdKykvKTtcbiAgICAgICAgaWYgKCFtKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHN1cHBvcnRzID0gJGI0OTk0ODZjN2YwMmFiZTckdmFyJHRyaW0obVsxXSk7XG4gICAgICAgIGlmICghb3BlbigpKSByZXR1cm4gZXJyb3IoXCJAc3VwcG9ydHMgbWlzc2luZyAneydcIik7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gY29tbWVudHMoKS5jb25jYXQocnVsZXMoKSk7XG4gICAgICAgIGlmICghY2xvc2UoKSkgcmV0dXJuIGVycm9yKFwiQHN1cHBvcnRzIG1pc3NpbmcgJ30nXCIpO1xuICAgICAgICByZXR1cm4gcG9zKHtcbiAgICAgICAgICAgIHR5cGU6ICgwLCAkZDEwMzQwN2U4MWM5NzA0MiRleHBvcnQkOWJlNWRkNmU2MWQ1ZDczYSkuc3VwcG9ydHMsXG4gICAgICAgICAgICBzdXBwb3J0czogc3VwcG9ydHMsXG4gICAgICAgICAgICBydWxlczogc3R5bGVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBQYXJzZSBob3N0LlxuICAgKi8gZnVuY3Rpb24gYXRob3N0KCkge1xuICAgICAgICBjb25zdCBwb3MgPSBwb3NpdGlvbigpO1xuICAgICAgICBjb25zdCBtID0gbWF0Y2goL15AaG9zdFxccyovKTtcbiAgICAgICAgaWYgKCFtKSByZXR1cm47XG4gICAgICAgIGlmICghb3BlbigpKSByZXR1cm4gZXJyb3IoXCJAaG9zdCBtaXNzaW5nICd7J1wiKTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBjb21tZW50cygpLmNvbmNhdChydWxlcygpKTtcbiAgICAgICAgaWYgKCFjbG9zZSgpKSByZXR1cm4gZXJyb3IoXCJAaG9zdCBtaXNzaW5nICd9J1wiKTtcbiAgICAgICAgcmV0dXJuIHBvcyh7XG4gICAgICAgICAgICB0eXBlOiAoMCwgJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2EpLmhvc3QsXG4gICAgICAgICAgICBydWxlczogc3R5bGVcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBQYXJzZSBjb250YWluZXIuXG4gICAqLyBmdW5jdGlvbiBhdGNvbnRhaW5lcigpIHtcbiAgICAgICAgY29uc3QgcG9zID0gcG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgbSA9IG1hdGNoKC9eQGNvbnRhaW5lciAqKFtee10rKS8pO1xuICAgICAgICBpZiAoIW0pIHJldHVybjtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gJGI0OTk0ODZjN2YwMmFiZTckdmFyJHRyaW0obVsxXSk7XG4gICAgICAgIGlmICghb3BlbigpKSByZXR1cm4gZXJyb3IoXCJAY29udGFpbmVyIG1pc3NpbmcgJ3snXCIpO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGNvbW1lbnRzKCkuY29uY2F0KHJ1bGVzKCkpO1xuICAgICAgICBpZiAoIWNsb3NlKCkpIHJldHVybiBlcnJvcihcIkBjb250YWluZXIgbWlzc2luZyAnfSdcIik7XG4gICAgICAgIHJldHVybiBwb3Moe1xuICAgICAgICAgICAgdHlwZTogKDAsICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydCQ5YmU1ZGQ2ZTYxZDVkNzNhKS5jb250YWluZXIsXG4gICAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgICAgIHJ1bGVzOiBzdHlsZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFBhcnNlIGNvbnRhaW5lci5cbiAgICovIGZ1bmN0aW9uIGF0bGF5ZXIoKSB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9uKCk7XG4gICAgICAgIGNvbnN0IG0gPSBtYXRjaCgvXkBsYXllciAqKFteeztAXSspLyk7XG4gICAgICAgIGlmICghbSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBsYXllciA9ICRiNDk5NDg2YzdmMDJhYmU3JHZhciR0cmltKG1bMV0pO1xuICAgICAgICBpZiAoIW9wZW4oKSkge1xuICAgICAgICAgICAgbWF0Y2goL15bO1xcc10qLyk7XG4gICAgICAgICAgICByZXR1cm4gcG9zKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAoMCwgJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2EpLmxheWVyLFxuICAgICAgICAgICAgICAgIGxheWVyOiBsYXllclxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3R5bGUgPSBjb21tZW50cygpLmNvbmNhdChydWxlcygpKTtcbiAgICAgICAgaWYgKCFjbG9zZSgpKSByZXR1cm4gZXJyb3IoXCJAbGF5ZXIgbWlzc2luZyAnfSdcIik7XG4gICAgICAgIHJldHVybiBwb3Moe1xuICAgICAgICAgICAgdHlwZTogKDAsICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydCQ5YmU1ZGQ2ZTYxZDVkNzNhKS5sYXllcixcbiAgICAgICAgICAgIGxheWVyOiBsYXllcixcbiAgICAgICAgICAgIHJ1bGVzOiBzdHlsZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFBhcnNlIG1lZGlhLlxuICAgKi8gZnVuY3Rpb24gYXRtZWRpYSgpIHtcbiAgICAgICAgY29uc3QgcG9zID0gcG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgbSA9IG1hdGNoKC9eQG1lZGlhICooW157XSspLyk7XG4gICAgICAgIGlmICghbSkgcmV0dXJuO1xuICAgICAgICBjb25zdCBtZWRpYSA9ICRiNDk5NDg2YzdmMDJhYmU3JHZhciR0cmltKG1bMV0pO1xuICAgICAgICBpZiAoIW9wZW4oKSkgcmV0dXJuIGVycm9yKFwiQG1lZGlhIG1pc3NpbmcgJ3snXCIpO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGNvbW1lbnRzKCkuY29uY2F0KHJ1bGVzKCkpO1xuICAgICAgICBpZiAoIWNsb3NlKCkpIHJldHVybiBlcnJvcihcIkBtZWRpYSBtaXNzaW5nICd9J1wiKTtcbiAgICAgICAgcmV0dXJuIHBvcyh7XG4gICAgICAgICAgICB0eXBlOiAoMCwgJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2EpLm1lZGlhLFxuICAgICAgICAgICAgbWVkaWE6IG1lZGlhLFxuICAgICAgICAgICAgcnVsZXM6IHN0eWxlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICogUGFyc2UgY3VzdG9tLW1lZGlhLlxuICAgKi8gZnVuY3Rpb24gYXRjdXN0b21tZWRpYSgpIHtcbiAgICAgICAgY29uc3QgcG9zID0gcG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgbSA9IG1hdGNoKC9eQGN1c3RvbS1tZWRpYVxccysoLS1cXFMrKVxccyooW157O1xcc11bXns7XSopOy8pO1xuICAgICAgICBpZiAoIW0pIHJldHVybjtcbiAgICAgICAgcmV0dXJuIHBvcyh7XG4gICAgICAgICAgICB0eXBlOiAoMCwgJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2EpLmN1c3RvbU1lZGlhLFxuICAgICAgICAgICAgbmFtZTogJGI0OTk0ODZjN2YwMmFiZTckdmFyJHRyaW0obVsxXSksXG4gICAgICAgICAgICBtZWRpYTogJGI0OTk0ODZjN2YwMmFiZTckdmFyJHRyaW0obVsyXSlcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBQYXJzZSBwYWdlZCBtZWRpYS5cbiAgICovIGZ1bmN0aW9uIGF0cGFnZSgpIHtcbiAgICAgICAgY29uc3QgcG9zID0gcG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgbSA9IG1hdGNoKC9eQHBhZ2UgKi8pO1xuICAgICAgICBpZiAoIW0pIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2VsID0gc2VsZWN0b3IoKSB8fCBbXTtcbiAgICAgICAgaWYgKCFvcGVuKCkpIHJldHVybiBlcnJvcihcIkBwYWdlIG1pc3NpbmcgJ3snXCIpO1xuICAgICAgICBsZXQgZGVjbHMgPSBjb21tZW50cygpO1xuICAgICAgICAvLyBkZWNsYXJhdGlvbnNcbiAgICAgICAgbGV0IGRlY2w7XG4gICAgICAgIHdoaWxlKGRlY2wgPSBkZWNsYXJhdGlvbigpKXtcbiAgICAgICAgICAgIGRlY2xzLnB1c2goZGVjbCk7XG4gICAgICAgICAgICBkZWNscyA9IGRlY2xzLmNvbmNhdChjb21tZW50cygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNsb3NlKCkpIHJldHVybiBlcnJvcihcIkBwYWdlIG1pc3NpbmcgJ30nXCIpO1xuICAgICAgICByZXR1cm4gcG9zKHtcbiAgICAgICAgICAgIHR5cGU6ICgwLCAkZDEwMzQwN2U4MWM5NzA0MiRleHBvcnQkOWJlNWRkNmU2MWQ1ZDczYSkucGFnZSxcbiAgICAgICAgICAgIHNlbGVjdG9yczogc2VsLFxuICAgICAgICAgICAgZGVjbGFyYXRpb25zOiBkZWNsc1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFBhcnNlIGRvY3VtZW50LlxuICAgKi8gZnVuY3Rpb24gYXRkb2N1bWVudCgpIHtcbiAgICAgICAgY29uc3QgcG9zID0gcG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgbSA9IG1hdGNoKC9eQChbLVxcd10rKT9kb2N1bWVudCAqKFtee10rKS8pO1xuICAgICAgICBpZiAoIW0pIHJldHVybjtcbiAgICAgICAgY29uc3QgdmVuZG9yID0gJGI0OTk0ODZjN2YwMmFiZTckdmFyJHRyaW0obVsxXSk7XG4gICAgICAgIGNvbnN0IGRvYyA9ICRiNDk5NDg2YzdmMDJhYmU3JHZhciR0cmltKG1bMl0pO1xuICAgICAgICBpZiAoIW9wZW4oKSkgcmV0dXJuIGVycm9yKFwiQGRvY3VtZW50IG1pc3NpbmcgJ3snXCIpO1xuICAgICAgICBjb25zdCBzdHlsZSA9IGNvbW1lbnRzKCkuY29uY2F0KHJ1bGVzKCkpO1xuICAgICAgICBpZiAoIWNsb3NlKCkpIHJldHVybiBlcnJvcihcIkBkb2N1bWVudCBtaXNzaW5nICd9J1wiKTtcbiAgICAgICAgcmV0dXJuIHBvcyh7XG4gICAgICAgICAgICB0eXBlOiAoMCwgJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2EpLmRvY3VtZW50LFxuICAgICAgICAgICAgZG9jdW1lbnQ6IGRvYyxcbiAgICAgICAgICAgIHZlbmRvcjogdmVuZG9yLFxuICAgICAgICAgICAgcnVsZXM6IHN0eWxlXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICogUGFyc2UgZm9udC1mYWNlLlxuICAgKi8gZnVuY3Rpb24gYXRmb250ZmFjZSgpIHtcbiAgICAgICAgY29uc3QgcG9zID0gcG9zaXRpb24oKTtcbiAgICAgICAgY29uc3QgbSA9IG1hdGNoKC9eQGZvbnQtZmFjZVxccyovKTtcbiAgICAgICAgaWYgKCFtKSByZXR1cm47XG4gICAgICAgIGlmICghb3BlbigpKSByZXR1cm4gZXJyb3IoXCJAZm9udC1mYWNlIG1pc3NpbmcgJ3snXCIpO1xuICAgICAgICBsZXQgZGVjbHMgPSBjb21tZW50cygpO1xuICAgICAgICAvLyBkZWNsYXJhdGlvbnNcbiAgICAgICAgbGV0IGRlY2w7XG4gICAgICAgIHdoaWxlKGRlY2wgPSBkZWNsYXJhdGlvbigpKXtcbiAgICAgICAgICAgIGRlY2xzLnB1c2goZGVjbCk7XG4gICAgICAgICAgICBkZWNscyA9IGRlY2xzLmNvbmNhdChjb21tZW50cygpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNsb3NlKCkpIHJldHVybiBlcnJvcihcIkBmb250LWZhY2UgbWlzc2luZyAnfSdcIik7XG4gICAgICAgIHJldHVybiBwb3Moe1xuICAgICAgICAgICAgdHlwZTogKDAsICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydCQ5YmU1ZGQ2ZTYxZDVkNzNhKS5mb250RmFjZSxcbiAgICAgICAgICAgIGRlY2xhcmF0aW9uczogZGVjbHNcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBQYXJzZSBpbXBvcnRcbiAgICovIGNvbnN0IGF0aW1wb3J0ID0gX2NvbXBpbGVBdHJ1bGUoXCJpbXBvcnRcIik7XG4gICAgLyoqXG4gICAqIFBhcnNlIGNoYXJzZXRcbiAgICovIGNvbnN0IGF0Y2hhcnNldCA9IF9jb21waWxlQXRydWxlKFwiY2hhcnNldFwiKTtcbiAgICAvKipcbiAgICogUGFyc2UgbmFtZXNwYWNlXG4gICAqLyBjb25zdCBhdG5hbWVzcGFjZSA9IF9jb21waWxlQXRydWxlKFwibmFtZXNwYWNlXCIpO1xuICAgIC8qKlxuICAgKiBQYXJzZSBub24tYmxvY2sgYXQtcnVsZXNcbiAgICovIGZ1bmN0aW9uIF9jb21waWxlQXRydWxlKG5hbWUpIHtcbiAgICAgICAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKFwiXkBcIiArIG5hbWUgKyBcIlxcXFxzKigoPzo6P1teOydcXFwiXXxcXFwiKD86XFxcXFxcXFxcXFwifFteXFxcIl0pKj9cXFwifCcoPzpcXFxcXFxcXCd8W14nXSkqPycpKykoPzo7fCQpXCIpO1xuICAgICAgICAvLyBeQGltcG9ydFxccyooW147XCInXXwoXCJ8JykoPzpcXFxcXFwyfC4pKj9cXDIpKyg7fCQpXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnN0IHBvcyA9IHBvc2l0aW9uKCk7XG4gICAgICAgICAgICBjb25zdCBtID0gbWF0Y2gocmUpO1xuICAgICAgICAgICAgaWYgKCFtKSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCByZXQgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogbmFtZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldFtuYW1lXSA9IG1bMV0udHJpbSgpO1xuICAgICAgICAgICAgcmV0dXJuIHBvcyhyZXQpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICogUGFyc2UgYXQgcnVsZS5cbiAgICovIGZ1bmN0aW9uIGF0cnVsZSgpIHtcbiAgICAgICAgaWYgKGNzc1swXSAhPT0gXCJAXCIpIHJldHVybjtcbiAgICAgICAgcmV0dXJuIGF0a2V5ZnJhbWVzKCkgfHwgYXRtZWRpYSgpIHx8IGF0Y3VzdG9tbWVkaWEoKSB8fCBhdHN1cHBvcnRzKCkgfHwgYXRpbXBvcnQoKSB8fCBhdGNoYXJzZXQoKSB8fCBhdG5hbWVzcGFjZSgpIHx8IGF0ZG9jdW1lbnQoKSB8fCBhdHBhZ2UoKSB8fCBhdGhvc3QoKSB8fCBhdGZvbnRmYWNlKCkgfHwgYXRjb250YWluZXIoKSB8fCBhdGxheWVyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBQYXJzZSBydWxlLlxuICAgKi8gZnVuY3Rpb24gcnVsZSgpIHtcbiAgICAgICAgY29uc3QgcG9zID0gcG9zaXRpb24oKTtcbiAgICAgICAgY29uc3Qgc2VsID0gc2VsZWN0b3IoKTtcbiAgICAgICAgaWYgKCFzZWwpIHJldHVybiBlcnJvcihcInNlbGVjdG9yIG1pc3NpbmdcIik7XG4gICAgICAgIGNvbW1lbnRzKCk7XG4gICAgICAgIHJldHVybiBwb3Moe1xuICAgICAgICAgICAgdHlwZTogKDAsICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydCQ5YmU1ZGQ2ZTYxZDVkNzNhKS5ydWxlLFxuICAgICAgICAgICAgc2VsZWN0b3JzOiBzZWwsXG4gICAgICAgICAgICBkZWNsYXJhdGlvbnM6IGRlY2xhcmF0aW9ucygpIHx8IFtdXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gJGI0OTk0ODZjN2YwMmFiZTckdmFyJGFkZFBhcmVudChzdHlsZXNoZWV0KCkpO1xufTtcbi8qKlxuICogVHJpbSBgc3RyYC5cbiAqLyBmdW5jdGlvbiAkYjQ5OTQ4NmM3ZjAyYWJlNyR2YXIkdHJpbShzdHIpIHtcbiAgICByZXR1cm4gc3RyID8gc3RyLnRyaW0oKSA6IFwiXCI7XG59XG4vKipcbiAqIEFkZHMgbm9uLWVudW1lcmFibGUgcGFyZW50IG5vZGUgcmVmZXJlbmNlIHRvIGVhY2ggbm9kZS5cbiAqLyBmdW5jdGlvbiAkYjQ5OTQ4NmM3ZjAyYWJlNyR2YXIkYWRkUGFyZW50KG9iaiwgcGFyZW50KSB7XG4gICAgY29uc3QgaXNOb2RlID0gb2JqICYmIHR5cGVvZiBvYmoudHlwZSA9PT0gXCJzdHJpbmdcIjtcbiAgICBjb25zdCBjaGlsZFBhcmVudCA9IGlzTm9kZSA/IG9iaiA6IHBhcmVudDtcbiAgICBmb3IoY29uc3QgayBpbiBvYmope1xuICAgICAgICBjb25zdCB2YWx1ZSA9IG9ialtrXTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB2YWx1ZS5mb3JFYWNoKCh2KT0+e1xuICAgICAgICAgICAgJGI0OTk0ODZjN2YwMmFiZTckdmFyJGFkZFBhcmVudCh2LCBjaGlsZFBhcmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbHNlIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpICRiNDk5NDg2YzdmMDJhYmU3JHZhciRhZGRQYXJlbnQodmFsdWUsIGNoaWxkUGFyZW50KTtcbiAgICB9XG4gICAgaWYgKGlzTm9kZSkgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwgXCJwYXJlbnRcIiwge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IHBhcmVudCB8fCBudWxsXG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cbnZhciAkYjQ5OTQ4NmM3ZjAyYWJlNyRleHBvcnQkMmUyYmNkODczOWFlMDM5ID0gJGI0OTk0ODZjN2YwMmFiZTckZXhwb3J0JDk4ZTZhMzljMDQ2MDNkMzY7XG5cblxuXG5jbGFzcyAkMjRkYzdlNDljYjc2OTEwZSR2YXIkQ29tcGlsZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpe1xuICAgICAgICB0aGlzLmxldmVsID0gMDtcbiAgICAgICAgdGhpcy5pbmRlbnRhdGlvbiA9IFwiICBcIjtcbiAgICAgICAgdGhpcy5jb21wcmVzcyA9IGZhbHNlO1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnM/LmluZGVudCA9PT0gXCJzdHJpbmdcIikgdGhpcy5pbmRlbnRhdGlvbiA9IG9wdGlvbnM/LmluZGVudDtcbiAgICAgICAgaWYgKG9wdGlvbnM/LmNvbXByZXNzKSB0aGlzLmNvbXByZXNzID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gV2UgZGlzYWJsZSBuby11bnVzZWQtdmFycyBmb3IgX3Bvc2l0aW9uLiBXZSBrZWVwIHBvc2l0aW9uIGZvciBwb3RlbnRpYWwgcmVpbnRyb2R1Y3Rpb24gb2Ygc291cmNlLW1hcFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICBlbWl0KHN0ciwgX3Bvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIC8qKlxuICAgKiBJbmNyZWFzZSwgZGVjcmVhc2Ugb3IgcmV0dXJuIGN1cnJlbnQgaW5kZW50YXRpb24uXG4gICAqLyBpbmRlbnQobGV2ZWwpIHtcbiAgICAgICAgdGhpcy5sZXZlbCA9IHRoaXMubGV2ZWwgfHwgMTtcbiAgICAgICAgaWYgKGxldmVsKSB7XG4gICAgICAgICAgICB0aGlzLmxldmVsICs9IGxldmVsO1xuICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFycmF5KHRoaXMubGV2ZWwpLmpvaW4odGhpcy5pbmRlbnRhdGlvbik7XG4gICAgfVxuICAgIHZpc2l0KG5vZGUpIHtcbiAgICAgICAgc3dpdGNoKG5vZGUudHlwZSl7XG4gICAgICAgICAgICBjYXNlICgwLCAkZDEwMzQwN2U4MWM5NzA0MiRleHBvcnQkOWJlNWRkNmU2MWQ1ZDczYSkuc3R5bGVzaGVldDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdHlsZXNoZWV0KG5vZGUpO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2EpLnJ1bGU6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucnVsZShub2RlKTtcbiAgICAgICAgICAgIGNhc2UgKDAsICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydCQ5YmU1ZGQ2ZTYxZDVkNzNhKS5kZWNsYXJhdGlvbjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kZWNsYXJhdGlvbihub2RlKTtcbiAgICAgICAgICAgIGNhc2UgKDAsICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydCQ5YmU1ZGQ2ZTYxZDVkNzNhKS5jb21tZW50OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQobm9kZSk7XG4gICAgICAgICAgICBjYXNlICgwLCAkZDEwMzQwN2U4MWM5NzA0MiRleHBvcnQkOWJlNWRkNmU2MWQ1ZDczYSkuY29udGFpbmVyOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lcihub2RlKTtcbiAgICAgICAgICAgIGNhc2UgKDAsICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydCQ5YmU1ZGQ2ZTYxZDVkNzNhKS5jaGFyc2V0OlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXJzZXQobm9kZSk7XG4gICAgICAgICAgICBjYXNlICgwLCAkZDEwMzQwN2U4MWM5NzA0MiRleHBvcnQkOWJlNWRkNmU2MWQ1ZDczYSkuZG9jdW1lbnQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQobm9kZSk7XG4gICAgICAgICAgICBjYXNlICgwLCAkZDEwMzQwN2U4MWM5NzA0MiRleHBvcnQkOWJlNWRkNmU2MWQ1ZDczYSkuY3VzdG9tTWVkaWE6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tTWVkaWEobm9kZSk7XG4gICAgICAgICAgICBjYXNlICgwLCAkZDEwMzQwN2U4MWM5NzA0MiRleHBvcnQkOWJlNWRkNmU2MWQ1ZDczYSkuZm9udEZhY2U6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9udEZhY2Uobm9kZSk7XG4gICAgICAgICAgICBjYXNlICgwLCAkZDEwMzQwN2U4MWM5NzA0MiRleHBvcnQkOWJlNWRkNmU2MWQ1ZDczYSkuaG9zdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ob3N0KG5vZGUpO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2EpLmltcG9ydDpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbXBvcnQobm9kZSk7XG4gICAgICAgICAgICBjYXNlICgwLCAkZDEwMzQwN2U4MWM5NzA0MiRleHBvcnQkOWJlNWRkNmU2MWQ1ZDczYSkua2V5ZnJhbWVzOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmtleWZyYW1lcyhub2RlKTtcbiAgICAgICAgICAgIGNhc2UgKDAsICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydCQ5YmU1ZGQ2ZTYxZDVkNzNhKS5rZXlmcmFtZTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5rZXlmcmFtZShub2RlKTtcbiAgICAgICAgICAgIGNhc2UgKDAsICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydCQ5YmU1ZGQ2ZTYxZDVkNzNhKS5sYXllcjpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sYXllcihub2RlKTtcbiAgICAgICAgICAgIGNhc2UgKDAsICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydCQ5YmU1ZGQ2ZTYxZDVkNzNhKS5tZWRpYTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tZWRpYShub2RlKTtcbiAgICAgICAgICAgIGNhc2UgKDAsICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydCQ5YmU1ZGQ2ZTYxZDVkNzNhKS5uYW1lc3BhY2U6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubmFtZXNwYWNlKG5vZGUpO1xuICAgICAgICAgICAgY2FzZSAoMCwgJGQxMDM0MDdlODFjOTcwNDIkZXhwb3J0JDliZTVkZDZlNjFkNWQ3M2EpLnBhZ2U6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFnZShub2RlKTtcbiAgICAgICAgICAgIGNhc2UgKDAsICRkMTAzNDA3ZTgxYzk3MDQyJGV4cG9ydCQ5YmU1ZGQ2ZTYxZDVkNzNhKS5zdXBwb3J0czpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdXBwb3J0cyhub2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXBWaXNpdChub2RlcywgZGVsaW0pIHtcbiAgICAgICAgbGV0IGJ1ZiA9IFwiXCI7XG4gICAgICAgIGRlbGltID0gZGVsaW0gfHwgXCJcIjtcbiAgICAgICAgZm9yKGxldCBpID0gMCwgbGVuZ3RoID0gbm9kZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgYnVmICs9IHRoaXMudmlzaXQobm9kZXNbaV0pO1xuICAgICAgICAgICAgaWYgKGRlbGltICYmIGkgPCBsZW5ndGggLSAxKSBidWYgKz0gdGhpcy5lbWl0KGRlbGltKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmO1xuICAgIH1cbiAgICBjb21waWxlKG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcHJlc3MpIHJldHVybiBub2RlLnN0eWxlc2hlZXQucnVsZXMubWFwKHRoaXMudmlzaXQsIHRoaXMpLmpvaW4oXCJcIik7XG4gICAgICAgIHJldHVybiB0aGlzLnN0eWxlc2hlZXQobm9kZSk7XG4gICAgfVxuICAgIC8qKlxuICAgKiBWaXNpdCBzdHlsZXNoZWV0IG5vZGUuXG4gICAqLyBzdHlsZXNoZWV0KG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwVmlzaXQobm9kZS5zdHlsZXNoZWV0LnJ1bGVzLCBcIlxcblxcblwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFZpc2l0IGNvbW1lbnQgbm9kZS5cbiAgICovIGNvbW1lbnQobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5jb21wcmVzcykgcmV0dXJuIHRoaXMuZW1pdChcIlwiLCBub2RlLnBvc2l0aW9uKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdCh0aGlzLmluZGVudCgpICsgXCIvKlwiICsgbm9kZS5jb21tZW50ICsgXCIqL1wiLCBub2RlLnBvc2l0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFZpc2l0IGNvbnRhaW5lciBub2RlLlxuICAgKi8gY29udGFpbmVyKG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcHJlc3MpIHJldHVybiB0aGlzLmVtaXQoXCJAY29udGFpbmVyIFwiICsgbm9kZS5jb250YWluZXIsIG5vZGUucG9zaXRpb24pICsgdGhpcy5lbWl0KFwie1wiKSArIHRoaXMubWFwVmlzaXQobm9kZS5ydWxlcykgKyB0aGlzLmVtaXQoXCJ9XCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbWl0KHRoaXMuaW5kZW50KCkgKyBcIkBjb250YWluZXIgXCIgKyBub2RlLmNvbnRhaW5lciwgbm9kZS5wb3NpdGlvbikgKyB0aGlzLmVtaXQoXCIge1xcblwiICsgdGhpcy5pbmRlbnQoMSkpICsgdGhpcy5tYXBWaXNpdChub2RlLnJ1bGVzLCBcIlxcblxcblwiKSArIHRoaXMuZW1pdChcIlxcblwiICsgdGhpcy5pbmRlbnQoLTEpICsgdGhpcy5pbmRlbnQoKSArIFwifVwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFZpc2l0IGNvbnRhaW5lciBub2RlLlxuICAgKi8gbGF5ZXIobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5jb21wcmVzcykgcmV0dXJuIHRoaXMuZW1pdChcIkBsYXllciBcIiArIG5vZGUubGF5ZXIsIG5vZGUucG9zaXRpb24pICsgKG5vZGUucnVsZXMgPyB0aGlzLmVtaXQoXCJ7XCIpICsgdGhpcy5tYXBWaXNpdChub2RlLnJ1bGVzKSArIHRoaXMuZW1pdChcIn1cIikgOiBcIjtcIik7XG4gICAgICAgIHJldHVybiB0aGlzLmVtaXQodGhpcy5pbmRlbnQoKSArIFwiQGxheWVyIFwiICsgbm9kZS5sYXllciwgbm9kZS5wb3NpdGlvbikgKyAobm9kZS5ydWxlcyA/IHRoaXMuZW1pdChcIiB7XFxuXCIgKyB0aGlzLmluZGVudCgxKSkgKyB0aGlzLm1hcFZpc2l0KG5vZGUucnVsZXMsIFwiXFxuXFxuXCIpICsgdGhpcy5lbWl0KFwiXFxuXCIgKyB0aGlzLmluZGVudCgtMSkgKyB0aGlzLmluZGVudCgpICsgXCJ9XCIpIDogXCI7XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICogVmlzaXQgaW1wb3J0IG5vZGUuXG4gICAqLyBpbXBvcnQobm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbWl0KFwiQGltcG9ydCBcIiArIG5vZGUuaW1wb3J0ICsgXCI7XCIsIG5vZGUucG9zaXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICogVmlzaXQgbWVkaWEgbm9kZS5cbiAgICovIG1lZGlhKG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcHJlc3MpIHJldHVybiB0aGlzLmVtaXQoXCJAbWVkaWEgXCIgKyBub2RlLm1lZGlhLCBub2RlLnBvc2l0aW9uKSArIHRoaXMuZW1pdChcIntcIikgKyB0aGlzLm1hcFZpc2l0KG5vZGUucnVsZXMpICsgdGhpcy5lbWl0KFwifVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdCh0aGlzLmluZGVudCgpICsgXCJAbWVkaWEgXCIgKyBub2RlLm1lZGlhLCBub2RlLnBvc2l0aW9uKSArIHRoaXMuZW1pdChcIiB7XFxuXCIgKyB0aGlzLmluZGVudCgxKSkgKyB0aGlzLm1hcFZpc2l0KG5vZGUucnVsZXMsIFwiXFxuXFxuXCIpICsgdGhpcy5lbWl0KFwiXFxuXCIgKyB0aGlzLmluZGVudCgtMSkgKyB0aGlzLmluZGVudCgpICsgXCJ9XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICogVmlzaXQgZG9jdW1lbnQgbm9kZS5cbiAgICovIGRvY3VtZW50KG5vZGUpIHtcbiAgICAgICAgY29uc3QgZG9jID0gXCJAXCIgKyAobm9kZS52ZW5kb3IgfHwgXCJcIikgKyBcImRvY3VtZW50IFwiICsgbm9kZS5kb2N1bWVudDtcbiAgICAgICAgaWYgKHRoaXMuY29tcHJlc3MpIHJldHVybiB0aGlzLmVtaXQoZG9jLCBub2RlLnBvc2l0aW9uKSArIHRoaXMuZW1pdChcIntcIikgKyB0aGlzLm1hcFZpc2l0KG5vZGUucnVsZXMpICsgdGhpcy5lbWl0KFwifVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChkb2MsIG5vZGUucG9zaXRpb24pICsgdGhpcy5lbWl0KFwiICB7XFxuXCIgKyB0aGlzLmluZGVudCgxKSkgKyB0aGlzLm1hcFZpc2l0KG5vZGUucnVsZXMsIFwiXFxuXFxuXCIpICsgdGhpcy5lbWl0KHRoaXMuaW5kZW50KC0xKSArIFwiXFxufVwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFZpc2l0IGNoYXJzZXQgbm9kZS5cbiAgICovIGNoYXJzZXQobm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbWl0KFwiQGNoYXJzZXQgXCIgKyBub2RlLmNoYXJzZXQgKyBcIjtcIiwgbm9kZS5wb3NpdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgKiBWaXNpdCBuYW1lc3BhY2Ugbm9kZS5cbiAgICovIG5hbWVzcGFjZShub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVtaXQoXCJAbmFtZXNwYWNlIFwiICsgbm9kZS5uYW1lc3BhY2UgKyBcIjtcIiwgbm9kZS5wb3NpdGlvbik7XG4gICAgfVxuICAgIC8qKlxuICAgKiBWaXNpdCBzdXBwb3J0cyBub2RlLlxuICAgKi8gc3VwcG9ydHMobm9kZSkge1xuICAgICAgICBpZiAodGhpcy5jb21wcmVzcykgcmV0dXJuIHRoaXMuZW1pdChcIkBzdXBwb3J0cyBcIiArIG5vZGUuc3VwcG9ydHMsIG5vZGUucG9zaXRpb24pICsgdGhpcy5lbWl0KFwie1wiKSArIHRoaXMubWFwVmlzaXQobm9kZS5ydWxlcykgKyB0aGlzLmVtaXQoXCJ9XCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbWl0KHRoaXMuaW5kZW50KCkgKyBcIkBzdXBwb3J0cyBcIiArIG5vZGUuc3VwcG9ydHMsIG5vZGUucG9zaXRpb24pICsgdGhpcy5lbWl0KFwiIHtcXG5cIiArIHRoaXMuaW5kZW50KDEpKSArIHRoaXMubWFwVmlzaXQobm9kZS5ydWxlcywgXCJcXG5cXG5cIikgKyB0aGlzLmVtaXQoXCJcXG5cIiArIHRoaXMuaW5kZW50KC0xKSArIHRoaXMuaW5kZW50KCkgKyBcIn1cIik7XG4gICAgfVxuICAgIC8qKlxuICAgKiBWaXNpdCBrZXlmcmFtZXMgbm9kZS5cbiAgICovIGtleWZyYW1lcyhub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXByZXNzKSByZXR1cm4gdGhpcy5lbWl0KFwiQFwiICsgKG5vZGUudmVuZG9yIHx8IFwiXCIpICsgXCJrZXlmcmFtZXMgXCIgKyBub2RlLm5hbWUsIG5vZGUucG9zaXRpb24pICsgdGhpcy5lbWl0KFwie1wiKSArIHRoaXMubWFwVmlzaXQobm9kZS5rZXlmcmFtZXMpICsgdGhpcy5lbWl0KFwifVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChcIkBcIiArIChub2RlLnZlbmRvciB8fCBcIlwiKSArIFwia2V5ZnJhbWVzIFwiICsgbm9kZS5uYW1lLCBub2RlLnBvc2l0aW9uKSArIHRoaXMuZW1pdChcIiB7XFxuXCIgKyB0aGlzLmluZGVudCgxKSkgKyB0aGlzLm1hcFZpc2l0KG5vZGUua2V5ZnJhbWVzLCBcIlxcblwiKSArIHRoaXMuZW1pdCh0aGlzLmluZGVudCgtMSkgKyBcIn1cIik7XG4gICAgfVxuICAgIC8qKlxuICAgKiBWaXNpdCBrZXlmcmFtZSBub2RlLlxuICAgKi8ga2V5ZnJhbWUobm9kZSkge1xuICAgICAgICBjb25zdCBkZWNscyA9IG5vZGUuZGVjbGFyYXRpb25zO1xuICAgICAgICBpZiAodGhpcy5jb21wcmVzcykgcmV0dXJuIHRoaXMuZW1pdChub2RlLnZhbHVlcy5qb2luKFwiLFwiKSwgbm9kZS5wb3NpdGlvbikgKyB0aGlzLmVtaXQoXCJ7XCIpICsgdGhpcy5tYXBWaXNpdChkZWNscykgKyB0aGlzLmVtaXQoXCJ9XCIpO1xuICAgICAgICByZXR1cm4gdGhpcy5lbWl0KHRoaXMuaW5kZW50KCkpICsgdGhpcy5lbWl0KG5vZGUudmFsdWVzLmpvaW4oXCIsIFwiKSwgbm9kZS5wb3NpdGlvbikgKyB0aGlzLmVtaXQoXCIge1xcblwiICsgdGhpcy5pbmRlbnQoMSkpICsgdGhpcy5tYXBWaXNpdChkZWNscywgXCJcXG5cIikgKyB0aGlzLmVtaXQodGhpcy5pbmRlbnQoLTEpICsgXCJcXG5cIiArIHRoaXMuaW5kZW50KCkgKyBcIn1cXG5cIik7XG4gICAgfVxuICAgIC8qKlxuICAgKiBWaXNpdCBwYWdlIG5vZGUuXG4gICAqLyBwYWdlKG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcHJlc3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbCA9IG5vZGUuc2VsZWN0b3JzLmxlbmd0aCA/IG5vZGUuc2VsZWN0b3JzLmpvaW4oXCIsIFwiKSA6IFwiXCI7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KFwiQHBhZ2UgXCIgKyBzZWwsIG5vZGUucG9zaXRpb24pICsgdGhpcy5lbWl0KFwie1wiKSArIHRoaXMubWFwVmlzaXQobm9kZS5kZWNsYXJhdGlvbnMpICsgdGhpcy5lbWl0KFwifVwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWwgPSBub2RlLnNlbGVjdG9ycy5sZW5ndGggPyBub2RlLnNlbGVjdG9ycy5qb2luKFwiLCBcIikgKyBcIiBcIiA6IFwiXCI7XG4gICAgICAgIHJldHVybiB0aGlzLmVtaXQoXCJAcGFnZSBcIiArIHNlbCwgbm9kZS5wb3NpdGlvbikgKyB0aGlzLmVtaXQoXCJ7XFxuXCIpICsgdGhpcy5lbWl0KHRoaXMuaW5kZW50KDEpKSArIHRoaXMubWFwVmlzaXQobm9kZS5kZWNsYXJhdGlvbnMsIFwiXFxuXCIpICsgdGhpcy5lbWl0KHRoaXMuaW5kZW50KC0xKSkgKyB0aGlzLmVtaXQoXCJcXG59XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICogVmlzaXQgZm9udC1mYWNlIG5vZGUuXG4gICAqLyBmb250RmFjZShub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXByZXNzKSByZXR1cm4gdGhpcy5lbWl0KFwiQGZvbnQtZmFjZVwiLCBub2RlLnBvc2l0aW9uKSArIHRoaXMuZW1pdChcIntcIikgKyB0aGlzLm1hcFZpc2l0KG5vZGUuZGVjbGFyYXRpb25zKSArIHRoaXMuZW1pdChcIn1cIik7XG4gICAgICAgIHJldHVybiB0aGlzLmVtaXQoXCJAZm9udC1mYWNlIFwiLCBub2RlLnBvc2l0aW9uKSArIHRoaXMuZW1pdChcIntcXG5cIikgKyB0aGlzLmVtaXQodGhpcy5pbmRlbnQoMSkpICsgdGhpcy5tYXBWaXNpdChub2RlLmRlY2xhcmF0aW9ucywgXCJcXG5cIikgKyB0aGlzLmVtaXQodGhpcy5pbmRlbnQoLTEpKSArIHRoaXMuZW1pdChcIlxcbn1cIik7XG4gICAgfVxuICAgIC8qKlxuICAgKiBWaXNpdCBob3N0IG5vZGUuXG4gICAqLyBob3N0KG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuY29tcHJlc3MpIHJldHVybiB0aGlzLmVtaXQoXCJAaG9zdFwiLCBub2RlLnBvc2l0aW9uKSArIHRoaXMuZW1pdChcIntcIikgKyB0aGlzLm1hcFZpc2l0KG5vZGUucnVsZXMpICsgdGhpcy5lbWl0KFwifVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChcIkBob3N0XCIsIG5vZGUucG9zaXRpb24pICsgdGhpcy5lbWl0KFwiIHtcXG5cIiArIHRoaXMuaW5kZW50KDEpKSArIHRoaXMubWFwVmlzaXQobm9kZS5ydWxlcywgXCJcXG5cXG5cIikgKyB0aGlzLmVtaXQodGhpcy5pbmRlbnQoLTEpICsgXCJcXG59XCIpO1xuICAgIH1cbiAgICAvKipcbiAgICogVmlzaXQgY3VzdG9tLW1lZGlhIG5vZGUuXG4gICAqLyBjdXN0b21NZWRpYShub2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVtaXQoXCJAY3VzdG9tLW1lZGlhIFwiICsgbm9kZS5uYW1lICsgXCIgXCIgKyBub2RlLm1lZGlhICsgXCI7XCIsIG5vZGUucG9zaXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICogVmlzaXQgcnVsZSBub2RlLlxuICAgKi8gcnVsZShub2RlKSB7XG4gICAgICAgIGNvbnN0IGRlY2xzID0gbm9kZS5kZWNsYXJhdGlvbnM7XG4gICAgICAgIGlmICghZGVjbHMubGVuZ3RoKSByZXR1cm4gXCJcIjtcbiAgICAgICAgaWYgKHRoaXMuY29tcHJlc3MpIHJldHVybiB0aGlzLmVtaXQobm9kZS5zZWxlY3RvcnMuam9pbihcIixcIiksIG5vZGUucG9zaXRpb24pICsgdGhpcy5lbWl0KFwie1wiKSArIHRoaXMubWFwVmlzaXQoZGVjbHMpICsgdGhpcy5lbWl0KFwifVwiKTtcbiAgICAgICAgY29uc3QgaW5kZW50ID0gdGhpcy5pbmRlbnQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdChub2RlLnNlbGVjdG9ycy5tYXAoKHMpPT57XG4gICAgICAgICAgICByZXR1cm4gaW5kZW50ICsgcztcbiAgICAgICAgfSkuam9pbihcIixcXG5cIiksIG5vZGUucG9zaXRpb24pICsgdGhpcy5lbWl0KFwiIHtcXG5cIikgKyB0aGlzLmVtaXQodGhpcy5pbmRlbnQoMSkpICsgdGhpcy5tYXBWaXNpdChkZWNscywgXCJcXG5cIikgKyB0aGlzLmVtaXQodGhpcy5pbmRlbnQoLTEpKSArIHRoaXMuZW1pdChcIlxcblwiICsgdGhpcy5pbmRlbnQoKSArIFwifVwiKTtcbiAgICB9XG4gICAgLyoqXG4gICAqIFZpc2l0IGRlY2xhcmF0aW9uIG5vZGUuXG4gICAqLyBkZWNsYXJhdGlvbihub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXByZXNzKSByZXR1cm4gdGhpcy5lbWl0KG5vZGUucHJvcGVydHkgKyBcIjpcIiArIG5vZGUudmFsdWUsIG5vZGUucG9zaXRpb24pICsgdGhpcy5lbWl0KFwiO1wiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW1pdCh0aGlzLmluZGVudCgpKSArIHRoaXMuZW1pdChub2RlLnByb3BlcnR5ICsgXCI6IFwiICsgbm9kZS52YWx1ZSwgbm9kZS5wb3NpdGlvbikgKyB0aGlzLmVtaXQoXCI7XCIpO1xuICAgIH1cbn1cbnZhciAkMjRkYzdlNDljYjc2OTEwZSRleHBvcnQkMmUyYmNkODczOWFlMDM5ID0gJDI0ZGM3ZTQ5Y2I3NjkxMGUkdmFyJENvbXBpbGVyO1xuXG5cbnZhciAkZmQ2ODBjZTBjMzU3MzFmNSRleHBvcnQkMmUyYmNkODczOWFlMDM5ID0gKG5vZGUsIG9wdGlvbnMpPT57XG4gICAgY29uc3QgY29tcGlsZXIgPSBuZXcgKDAsICQyNGRjN2U0OWNiNzY5MTBlJGV4cG9ydCQyZTJiY2Q4NzM5YWUwMzkpKG9wdGlvbnMgfHwge30pO1xuICAgIHJldHVybiBjb21waWxlci5jb21waWxlKG5vZGUpO1xufTtcblxuXG5cblxuXG5jb25zdCAkODgyYjZkOTMwNzA5MDViMyRleHBvcnQkOThlNmEzOWMwNDYwM2QzNiA9ICgwLCAkYjQ5OTQ4NmM3ZjAyYWJlNyRleHBvcnQkMmUyYmNkODczOWFlMDM5KTtcbmNvbnN0ICQ4ODJiNmQ5MzA3MDkwNWIzJGV4cG9ydCRmYWM0NGVlNWIwMzVmNzM3ID0gKDAsICRmZDY4MGNlMGMzNTczMWY1JGV4cG9ydCQyZTJiY2Q4NzM5YWUwMzkpO1xudmFyICQ4ODJiNmQ5MzA3MDkwNWIzJGV4cG9ydCQyZTJiY2Q4NzM5YWUwMzkgPSB7XG4gICAgcGFyc2U6ICQ4ODJiNmQ5MzA3MDkwNWIzJGV4cG9ydCQ5OGU2YTM5YzA0NjAzZDM2LFxuICAgIHN0cmluZ2lmeTogJDg4MmI2ZDkzMDcwOTA1YjMkZXhwb3J0JGZhYzQ0ZWU1YjAzNWY3Mzdcbn07XG4kcGFyY2VsJGV4cG9ydFdpbGRjYXJkKG1vZHVsZS5leHBvcnRzLCAkZDEwMzQwN2U4MWM5NzA0MiRleHBvcnRzKTtcbiRwYXJjZWwkZXhwb3J0V2lsZGNhcmQobW9kdWxlLmV4cG9ydHMsICRjYjUwOGI5MjE5YjAyODIwJGV4cG9ydHMpO1xuJHBhcmNlbCRleHBvcnRXaWxkY2FyZChtb2R1bGUuZXhwb3J0cywgJDRiYWZiMjg4MjgwMDdiNDYkZXhwb3J0cyk7XG5cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLm1hcFxuIiwKICAiLyohXG4gKiBTdHlsdXMgLSBDU1MgdG8gU3R5bHVzIGNvbnZlcnNpb25cbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIENvbnZlcnQgdGhlIGdpdmVuIGBjc3NgIHRvIFN0eWx1cyBzb3VyY2UuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGNzc1xuICogQHJldHVybiB7U3RyaW5nfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgcmV0dXJuIG5ldyBDb252ZXJ0ZXIoY3NzKS5zdHlsdXMoKTtcbn07XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBhIG5ldyBgQ29udmVydGVyYCB3aXRoIHRoZSBnaXZlbiBgY3NzYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gY3NzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5jbGFzcyBDb252ZXJ0ZXIge1xuICBjb25zdHJ1Y3Rvcihjc3MpIHtcbiAgICB2YXIgeyBwYXJzZSB9ID0gcmVxdWlyZSgnQGFkb2JlL2Nzcy10b29scycpO1xuICAgIHRoaXMuY3NzID0gY3NzO1xuICAgIHRoaXMucm9vdCA9IHBhcnNlKGNzcywgeyBwb3NpdGlvbjogZmFsc2UgfSk7XG4gICAgdGhpcy5pbmRlbnRzID0gMDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENvbnZlcnQgdG8gU3R5bHVzLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBzdHlsdXMoKSB7XG4gICAgcmV0dXJuIHRoaXMudmlzaXRSdWxlcyh0aGlzLnJvb3Quc3R5bGVzaGVldC5ydWxlcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybiBpbmRlbnQgc3RyaW5nLlxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBnZXQgaW5kZW50KCkge1xuICAgIHJldHVybiBBcnJheSh0aGlzLmluZGVudHMgKyAxKS5qb2luKCcgICcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBgbm9kZWAuXG4gICAqXG4gICAqIEBwYXJhbSB7Kn0gbm9kZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB2aXNpdChub2RlKSB7XG4gICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ3J1bGUnOlxuICAgICAgY2FzZSAnY29tbWVudCc6XG4gICAgICBjYXNlICdjaGFyc2V0JzpcbiAgICAgIGNhc2UgJ25hbWVzcGFjZSc6XG4gICAgICBjYXNlICdtZWRpYSc6XG4gICAgICBjYXNlICdpbXBvcnQnOlxuICAgICAgY2FzZSAnZG9jdW1lbnQnOlxuICAgICAgY2FzZSAna2V5ZnJhbWVzJzpcbiAgICAgIGNhc2UgJ3BhZ2UnOlxuICAgICAgY2FzZSAnaG9zdCc6XG4gICAgICBjYXNlICdzdXBwb3J0cyc6XG4gICAgICAgIHZhciBuYW1lID0gbm9kZS50eXBlWzBdLnRvVXBwZXJDYXNlKCkgKyBub2RlLnR5cGUuc2xpY2UoMSk7XG4gICAgICAgIHJldHVybiB0aGlzWyd2aXNpdCcgKyBuYW1lXShub2RlKTtcbiAgICAgIGNhc2UgJ2ZvbnQtZmFjZSc6XG4gICAgICAgIHJldHVybiB0aGlzLnZpc2l0Rm9udEZhY2Uobm9kZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCB0aGUgcnVsZXMgb24gYG5vZGVgLlxuICAgKlxuICAgKiBAcGFyYW0ge0FycmF5fSBub2RlXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHZpc2l0UnVsZXMobm9kZSkge1xuICAgIHZhciBidWYgPSAnJztcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbm9kZS5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgYnVmICs9IHRoaXMudmlzaXQobm9kZVtpXSk7XG4gICAgfVxuICAgIHJldHVybiBidWY7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEZvbnRGYWNlIGBub2RlYC5cbiAgICpcbiAgICogQHBhcmFtIHtGb250RmFjZX0gbm9kZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB2aXNpdEZvbnRGYWNlKG5vZGUpIHtcbiAgICB2YXIgYnVmID0gdGhpcy5pbmRlbnQgKyAnQGZvbnQtZmFjZSc7XG4gICAgYnVmICs9ICdcXG4nO1xuICAgICsrdGhpcy5pbmRlbnRzO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBub2RlLmRlY2xhcmF0aW9ucy5sZW5ndGg7IGkgPCBsZW47ICsraSkge1xuICAgICAgYnVmICs9IHRoaXMudmlzaXREZWNsYXJhdGlvbihub2RlLmRlY2xhcmF0aW9uc1tpXSk7XG4gICAgfVxuICAgIC0tdGhpcy5pbmRlbnRzO1xuICAgIHJldHVybiBidWY7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IE1lZGlhIGBub2RlYC5cbiAgICpcbiAgICogQHBhcmFtIHtNZWRpYX0gbm9kZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB2aXNpdE1lZGlhKG5vZGUpIHtcbiAgICB2YXIgYnVmID0gdGhpcy5pbmRlbnQgKyAnQG1lZGlhICcgKyBub2RlLm1lZGlhO1xuICAgIGJ1ZiArPSAnXFxuJztcbiAgICArK3RoaXMuaW5kZW50cztcbiAgICBidWYgKz0gdGhpcy52aXNpdFJ1bGVzKG5vZGUucnVsZXMpO1xuICAgIC0tdGhpcy5pbmRlbnRzO1xuICAgIHJldHVybiBidWY7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IERlY2xhcmF0aW9uIGBub2RlYC5cbiAgICpcbiAgICogQHBhcmFtIHtEZWNsYXJhdGlvbn0gbm9kZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB2aXNpdERlY2xhcmF0aW9uKG5vZGUpIHtcbiAgICBpZiAoJ2NvbW1lbnQnID09IG5vZGUudHlwZSkge1xuICAgICAgcmV0dXJuIHRoaXMudmlzaXRDb21tZW50KG5vZGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgYnVmID0gdGhpcy5pbmRlbnQgKyBub2RlLnByb3BlcnR5ICsgJzogJyArIG5vZGUudmFsdWUgKyAnXFxuJztcbiAgICAgIHJldHVybiBidWY7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBSdWxlIGBub2RlYC5gXG4gICAqXG4gICAqIEBwYXJhbSB7UnVsZX0gbm9kZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB2aXNpdFJ1bGUobm9kZSkge1xuICAgIHZhciBidWYgPSB0aGlzLmluZGVudCArIG5vZGUuc2VsZWN0b3JzLmpvaW4oJyxcXG4nICsgdGhpcy5pbmRlbnQpICsgJ1xcbic7XG4gICAgKyt0aGlzLmluZGVudHM7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG5vZGUuZGVjbGFyYXRpb25zLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBidWYgKz0gdGhpcy52aXNpdERlY2xhcmF0aW9uKG5vZGUuZGVjbGFyYXRpb25zW2ldKTtcbiAgICB9XG4gICAgLS10aGlzLmluZGVudHM7XG4gICAgcmV0dXJuIGJ1ZiArICdcXG4nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBDb21tZW50IGBub2RlYC5gXG4gICAqXG4gICAqIEBwYXJhbSB7Q29tbWVudH0gbm9kZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB2aXNpdENvbW1lbnQobm9kZSkge1xuICAgIHZhciBidWYgPSB0aGlzLmluZGVudCArICcvKicgKyBub2RlLmNvbW1lbnQgKyAnKi8nO1xuICAgIHJldHVybiBidWYgKyAnXFxuJztcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgQ2hhcnNldCBgbm9kZWAuYFxuICAgKlxuICAgKiBAcGFyYW0ge0NoYXJzZXR9IG5vZGVcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG5cbiAgdmlzaXRDaGFyc2V0KG5vZGUpIHtcbiAgICB2YXIgYnVmID0gdGhpcy5pbmRlbnQgKyAnQGNoYXJzZXQgJyArIG5vZGUuY2hhcnNldDtcbiAgICByZXR1cm4gYnVmICsgJ1xcbic7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IE5hbWVzcGFjZSBgbm9kZWAuYFxuICAgKlxuICAgKiBAcGFyYW0ge05hbWVzcGFjZX0gbm9kZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB2aXNpdE5hbWVzcGFjZShub2RlKSB7XG4gICAgdmFyIGJ1ZiA9IHRoaXMuaW5kZW50ICsgJ0BuYW1lc3BhY2UgJyArIG5vZGUubmFtZXNwYWNlO1xuICAgIHJldHVybiBidWYgKyAnXFxuJztcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgSW1wb3J0IGBub2RlYC5gXG4gICAqXG4gICAqIEBwYXJhbSB7SW1wb3J0fSBub2RlXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHZpc2l0SW1wb3J0KG5vZGUpIHtcbiAgICB2YXIgYnVmID0gdGhpcy5pbmRlbnQgKyAnQGltcG9ydCAnICsgbm9kZS5pbXBvcnQ7XG4gICAgcmV0dXJuIGJ1ZiArICdcXG4nO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBEb2N1bWVudCBgbm9kZWAuYFxuICAgKlxuICAgKiBAcGFyYW0ge0RvY3VtZW50fSBub2RlXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHZpc2l0RG9jdW1lbnQobm9kZSkge1xuICAgIHZhciBidWYgPSB0aGlzLmluZGVudCArICdAJyArIG5vZGUudmVuZG9yICsgJ2RvY3VtZW50ICcgKyBub2RlLmRvY3VtZW50O1xuICAgIGJ1ZiArPSAnXFxuJztcbiAgICArK3RoaXMuaW5kZW50cztcbiAgICBidWYgKz0gdGhpcy52aXNpdFJ1bGVzKG5vZGUucnVsZXMpO1xuICAgIC0tdGhpcy5pbmRlbnRzO1xuICAgIHJldHVybiBidWY7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEtleWZyYW1lcyBgbm9kZWAuYFxuICAgKlxuICAgKiBAcGFyYW0ge0tleWZyYW1lc30gbm9kZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB2aXNpdEtleWZyYW1lcyhub2RlKSB7XG4gICAgdmFyIGJ1ZiA9IHRoaXMuaW5kZW50ICsgJ0BrZXlmcmFtZXMgJyArIG5vZGUubmFtZTtcbiAgICBidWYgKz0gJ1xcbic7XG4gICAgKyt0aGlzLmluZGVudHM7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG5vZGUua2V5ZnJhbWVzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBidWYgKz0gdGhpcy52aXNpdEtleWZyYW1lKG5vZGUua2V5ZnJhbWVzW2ldKTtcbiAgICB9XG4gICAgLS10aGlzLmluZGVudHM7XG4gICAgcmV0dXJuIGJ1ZjtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgS2V5ZnJhbWUgYG5vZGVgLmBcbiAgICpcbiAgICogQHBhcmFtIHtLZXlmcmFtZX0gbm9kZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB2aXNpdEtleWZyYW1lKG5vZGUpIHtcbiAgICB2YXIgYnVmID0gdGhpcy5pbmRlbnQgKyBub2RlLnZhbHVlcy5qb2luKCcsICcpO1xuICAgIGJ1ZiArPSAnXFxuJztcbiAgICArK3RoaXMuaW5kZW50cztcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbm9kZS5kZWNsYXJhdGlvbnMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgIGJ1ZiArPSB0aGlzLnZpc2l0RGVjbGFyYXRpb24obm9kZS5kZWNsYXJhdGlvbnNbaV0pO1xuICAgIH1cbiAgICAtLXRoaXMuaW5kZW50cztcbiAgICByZXR1cm4gYnVmO1xuICB9O1xuXG4gIC8qKlxuICAgKiBWaXNpdCBQYWdlIGBub2RlYC5gXG4gICAqXG4gICAqIEBwYXJhbSB7UGFnZX0gbm9kZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB2aXNpdFBhZ2Uobm9kZSkge1xuICAgIHZhciBidWYgPSB0aGlzLmluZGVudCArICdAcGFnZScgKyAobm9kZS5zZWxlY3RvcnMubGVuZ3RoID8gJyAnICsgbm9kZS5zZWxlY3RvcnMuam9pbignLCAnKSA6ICcnKTtcbiAgICBidWYgKz0gJ1xcbic7XG4gICAgKyt0aGlzLmluZGVudHM7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG5vZGUuZGVjbGFyYXRpb25zLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBidWYgKz0gdGhpcy52aXNpdERlY2xhcmF0aW9uKG5vZGUuZGVjbGFyYXRpb25zW2ldKTtcbiAgICB9XG4gICAgLS10aGlzLmluZGVudHM7XG4gICAgcmV0dXJuIGJ1ZjtcbiAgfTtcblxuICAvKipcbiAgICogVmlzaXQgU3VwcG9ydHMgYG5vZGVgLmBcbiAgICpcbiAgICogQHBhcmFtIHtTdXBwb3J0c30gbm9kZVxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICB2aXNpdFN1cHBvcnRzKG5vZGUpIHtcbiAgICB2YXIgYnVmID0gdGhpcy5pbmRlbnQgKyAnQHN1cHBvcnRzICcgKyBub2RlLnN1cHBvcnRzO1xuICAgIGJ1ZiArPSAnXFxuJztcbiAgICArK3RoaXMuaW5kZW50cztcbiAgICBidWYgKz0gdGhpcy52aXNpdFJ1bGVzKG5vZGUucnVsZXMpO1xuICAgIC0tdGhpcy5pbmRlbnRzO1xuICAgIHJldHVybiBidWY7XG4gIH07XG5cbiAgLyoqXG4gICAqIFZpc2l0IEhvc3QgYG5vZGVgLmBcbiAgICpcbiAgICogQHBhcmFtIHtIb3N0fSBub2RlXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIHZpc2l0SG9zdChub2RlKSB7XG4gICAgdmFyIGJ1ZiA9IHRoaXMuaW5kZW50ICsgJ0Bob3N0JztcbiAgICBidWYgKz0gJ1xcbic7XG4gICAgKyt0aGlzLmluZGVudHM7XG4gICAgYnVmICs9IHRoaXMudmlzaXRSdWxlcyhub2RlLnJ1bGVzKTtcbiAgICAtLXRoaXMuaW5kZW50cztcbiAgICByZXR1cm4gYnVmO1xuICB9O1xufVxuIiwKICAiLyoqXG4gKiBNb2R1bGUgZGVwZW5kZW5jaWVzLlxuICovXG5cbnZhciBDb21waWxlciA9IHJlcXVpcmUoJy4uL3Zpc2l0b3IvY29tcGlsZXInKVxuICAsIG5vZGVzID0gcmVxdWlyZSgnLi4vbm9kZXMnKVxuICAsIHBhcnNlID0gcmVxdWlyZSgndXJsJykucGFyc2VcbiAgLCByZWxhdGl2ZSA9IHJlcXVpcmUoJ3BhdGgnKS5yZWxhdGl2ZVxuICAsIGpvaW4gPSByZXF1aXJlKCdwYXRoJykuam9pblxuICAsIGRpcm5hbWUgPSByZXF1aXJlKCdwYXRoJykuZGlybmFtZVxuICAsIGV4dG5hbWUgPSByZXF1aXJlKCdwYXRoJykuZXh0bmFtZVxuICAsIHNlcCA9IHJlcXVpcmUoJ3BhdGgnKS5zZXA7XG5cbi8qKlxuICogUmV0dXJuIGEgdXJsKCkgZnVuY3Rpb24gd2hpY2ggcmVzb2x2ZXMgdXJscy5cbiAqXG4gKiBPcHRpb25zOlxuICpcbiAqICAgIC0gYHBhdGhzYCByZXNvbHV0aW9uIHBhdGgocyksIG1lcmdlZCB3aXRoIGdlbmVyYWwgbG9va3VwIHBhdGhzXG4gKiAgICAtIGBub2NoZWNrYCBkb24ndCBjaGVjayBmaWxlIGV4aXN0ZW5jZVxuICpcbiAqIEV4YW1wbGVzOlxuICpcbiAqICAgIHN0eWx1cyhzdHIpXG4gKiAgICAgIC5zZXQoJ2ZpbGVuYW1lJywgX19kaXJuYW1lICsgJy9jc3MvdGVzdC5zdHlsJylcbiAqICAgICAgLmRlZmluZSgndXJsJywgc3R5bHVzLnJlc29sdmVyKHsgbm9jaGVjazogdHJ1ZSB9KSlcbiAqICAgICAgLnJlbmRlcihmdW5jdGlvbihlcnIsIGNzcyl7IC4uLiB9KVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9uc11cbiAqIEByZXR1cm4ge0Z1bmN0aW9ufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgZnVuY3Rpb24gcmVzb2x2ZXIodXJsKSB7XG4gICAgLy8gQ29tcGlsZSB0aGUgdXJsXG4gICAgdmFyIGNvbXBpbGVyID0gbmV3IENvbXBpbGVyKHVybClcbiAgICAgICwgZmlsZW5hbWUgPSB1cmwuZmlsZW5hbWU7XG4gICAgY29tcGlsZXIuaXNVUkwgPSB0cnVlO1xuICAgIHVybCA9IHBhcnNlKHVybC5ub2Rlcy5tYXAoZnVuY3Rpb24obm9kZSl7XG4gICAgICByZXR1cm4gY29tcGlsZXIudmlzaXQobm9kZSk7XG4gICAgfSkuam9pbignJykpO1xuXG4gICAgLy8gUGFyc2UgbGl0ZXJhbCBcbiAgICB2YXIgbGl0ZXJhbCA9IG5ldyBub2Rlcy5MaXRlcmFsKCd1cmwoXCInICsgdXJsLmhyZWYgKyAnXCIpJylcbiAgICAgICwgcGF0aCA9IHVybC5wYXRobmFtZVxuICAgICAgLCBkZXN0ID0gdGhpcy5vcHRpb25zLmRlc3RcbiAgICAgICwgdGFpbCA9ICcnXG4gICAgICAsIHJlcztcblxuICAgIC8vIEFic29sdXRlIG9yIGhhc2hcbiAgICBpZiAodXJsLnByb3RvY29sIHx8ICFwYXRoIHx8ICcvJyA9PSBwYXRoWzBdKSByZXR1cm4gbGl0ZXJhbDtcblxuICAgIC8vIENoZWNrIHRoYXQgZmlsZSBleGlzdHNcbiAgICBpZiAoIW9wdGlvbnMubm9jaGVjaykge1xuICAgICAgdmFyIF9wYXRocyA9IG9wdGlvbnMucGF0aHMgfHwgW107XG4gICAgICBwYXRoID0gcmVxdWlyZSgnLi4vdXRpbHMnKS5sb29rdXAocGF0aCwgX3BhdGhzLmNvbmNhdCh0aGlzLnBhdGhzKSk7XG4gICAgICBpZiAoIXBhdGgpIHJldHVybiBsaXRlcmFsO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmluY2x1ZGVDU1MgJiYgZXh0bmFtZShwYXRoKSA9PSAnLmNzcycpXG4gICAgICByZXR1cm4gbmV3IG5vZGVzLkxpdGVyYWwodXJsLmhyZWYpO1xuXG4gICAgaWYgKHVybC5zZWFyY2gpIHRhaWwgKz0gdXJsLnNlYXJjaDtcbiAgICBpZiAodXJsLmhhc2gpIHRhaWwgKz0gdXJsLmhhc2g7XG5cbiAgICBpZiAoZGVzdCAmJiBleHRuYW1lKGRlc3QpID09ICcuY3NzJylcbiAgICAgIGRlc3QgPSBkaXJuYW1lKGRlc3QpO1xuXG4gICAgcmVzID0gcmVsYXRpdmUoZGVzdCB8fCBkaXJuYW1lKHRoaXMuZmlsZW5hbWUpLCBvcHRpb25zLm5vY2hlY2tcbiAgICAgID8gam9pbihkaXJuYW1lKGZpbGVuYW1lKSwgcGF0aClcbiAgICAgIDogcGF0aCkgKyB0YWlsO1xuXG4gICAgaWYgKCdcXFxcJyA9PSBzZXApIHJlcyA9IHJlcy5yZXBsYWNlKC9cXFxcL2csICcvJyk7XG5cbiAgICByZXR1cm4gbmV3IG5vZGVzLkxpdGVyYWwoJ3VybChcIicgKyByZXMgKyAnXCIpJyk7XG4gIH07XG5cbiAgLy8gRXhwb3NlIG9wdGlvbnMgdG8gRXZhbHVhdG9yXG4gIHJlc29sdmVyLm9wdGlvbnMgPSBvcHRpb25zO1xuICByZXNvbHZlci5yYXcgPSB0cnVlO1xuICByZXR1cm4gcmVzb2x2ZXI7XG59O1xuIiwKICAiLyohXG4gKiBTdHlsdXNcbiAqIENvcHlyaWdodCAoYykgQXV0b21hdHRpYyA8ZGV2ZWxvcGVyLndvcmRwcmVzcy5jb20+XG4gKiBNSVQgTGljZW5zZWRcbiAqL1xuXG4vKipcbiAqIE1vZHVsZSBkZXBlbmRlbmNpZXMuXG4gKi9cblxudmFyIFJlbmRlcmVyID0gcmVxdWlyZSgnLi9yZW5kZXJlcicpXG4gICwgbm9kZXMgPSByZXF1aXJlKCcuL25vZGVzJylcbiAgLCB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuLyoqXG4gKiBFeHBvcnQgcmVuZGVyIGFzIHRoZSBtb2R1bGUuXG4gKi9cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVuZGVyO1xuXG4vKipcbiAqIExpYnJhcnkgdmVyc2lvbi5cbiAqL1xuXG5leHBvcnRzLnZlcnNpb24gPSByZXF1aXJlKCcuLi9wYWNrYWdlJykudmVyc2lvbjtcblxuLyoqXG4gKiBFeHBvc2Ugbm9kZXMuXG4gKi9cblxuZXhwb3J0cy5ub2RlcyA9IG5vZGVzO1xuXG4vKipcbiAqIEV4cG9zZSBCSUZzLlxuICovXG5cbmV4cG9ydHMuZnVuY3Rpb25zID0gcmVxdWlyZSgnLi9mdW5jdGlvbnMnKTtcblxuLyoqXG4gKiBFeHBvc2UgdXRpbHMuXG4gKi9cblxuZXhwb3J0cy51dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxuLyoqXG4gKiBFeHBvc2UgbWlkZGxld2FyZS5cbiAqL1xuXG5leHBvcnRzLm1pZGRsZXdhcmUgPSByZXF1aXJlKCcuL21pZGRsZXdhcmUnKTtcblxuLyoqXG4gKiBFeHBvc2UgY29uc3RydWN0b3JzLlxuICovXG5cbmV4cG9ydHMuVmlzaXRvciA9IHJlcXVpcmUoJy4vdmlzaXRvcicpO1xuZXhwb3J0cy5QYXJzZXIgPSByZXF1aXJlKCcuL3BhcnNlcicpO1xuZXhwb3J0cy5FdmFsdWF0b3IgPSByZXF1aXJlKCcuL3Zpc2l0b3IvZXZhbHVhdG9yJyk7XG5leHBvcnRzLk5vcm1hbGl6ZXIgPSByZXF1aXJlKCcuL3Zpc2l0b3Ivbm9ybWFsaXplcicpO1xuZXhwb3J0cy5Db21waWxlciA9IHJlcXVpcmUoJy4vdmlzaXRvci9jb21waWxlcicpO1xuXG4vKipcbiAqIENvbnZlcnQgdGhlIGdpdmVuIGBjc3NgIHRvIGBzdHlsdXNgIHNvdXJjZS5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gY3NzXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbmV4cG9ydHMuY29udmVydENTUyA9IHJlcXVpcmUoJy4vY29udmVydC9jc3MnKTtcblxuLyoqXG4gKiBSZW5kZXIgdGhlIGdpdmVuIGBzdHJgIHdpdGggYG9wdGlvbnNgIGFuZCBjYWxsYmFjayBgZm4oZXJyLCBjc3MpYC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gc3RyXG4gKiBAcGFyYW0ge09iamVjdHxGdW5jdGlvbn0gb3B0aW9uc1xuICogQHBhcmFtIHtGdW5jdGlvbn0gZm5cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZXhwb3J0cy5yZW5kZXIgPSBmdW5jdGlvbihzdHIsIG9wdGlvbnMsIGZuKXtcbiAgaWYgKCdmdW5jdGlvbicgPT0gdHlwZW9mIG9wdGlvbnMpIGZuID0gb3B0aW9ucywgb3B0aW9ucyA9IHt9O1xuICByZXR1cm4gbmV3IFJlbmRlcmVyKHN0ciwgb3B0aW9ucykucmVuZGVyKGZuKTtcbn07XG5cbi8qKlxuICogUmV0dXJuIGEgbmV3IGBSZW5kZXJlcmAgZm9yIHRoZSBnaXZlbiBgc3RyYCBhbmQgYG9wdGlvbnNgLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtSZW5kZXJlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gcmVuZGVyKHN0ciwgb3B0aW9ucykge1xuICByZXR1cm4gbmV3IFJlbmRlcmVyKHN0ciwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogRXhwb3NlIG9wdGlvbmFsIGZ1bmN0aW9ucy5cbiAqL1xuXG5leHBvcnRzLnVybCA9IHJlcXVpcmUoJy4vZnVuY3Rpb25zL3VybCcpO1xuZXhwb3J0cy5yZXNvbHZlciA9IHJlcXVpcmUoJy4vZnVuY3Rpb25zL3Jlc29sdmVyJyk7XG4iLAogICJcbmltcG9ydCBzdHlsdXMgZnJvbSAnLi9pbmRleC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IHN0eWx1cztcblxuIgogIF0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQUFJLDRCQUEwQjtBQUU5QixZQUFVLE9BQU8sVUFBVSxNQUFNLE1BQU07QUFBQSxJQVNyQyxXQUFXLENBQUMsTUFBTSxLQUFLO0FBQ3JCLFdBQUssT0FBTztBQUNaLFdBQUssTUFBTTtBQUFBO0FBQUEsSUFVYixPQUFPLEdBQUc7QUFDUixVQUFJLE1BQU0sTUFBTSxRQUFRLEtBQUssR0FBRztBQUNoQyxhQUFPLFlBQVksS0FBSyxTQUFTLE1BQU0sS0FBSyxTQUFTLE1BQ2pELGFBQWEsS0FBSyxPQUFPLFlBQ3pCLGNBQWMsS0FBSyxNQUFNLE1BQU0sTUFBTSxZQUNyQztBQUFBO0FBQUEsSUFVTixRQUFRLEdBQUc7QUFDVCxjQUFzQixLQUFLLFFBQW5CLFlBQ0osS0FBSyxPQUNMLEtBQUssS0FBSyxTQUFTO0FBQUE7QUFBQSxFQUUzQjtBQUFBOzs7O0FDL0NBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxTQUFPLFVBQVUsTUFBTSxRQUFRO0FBQUEsSUFRN0IsV0FBVyxDQUFDLE1BQU07QUFDaEIsV0FBSyxPQUFPO0FBQUE7QUFBQSxJQVVkLEtBQUssQ0FBQyxNQUFNLElBQUk7QUFDZCxVQUFJLFNBQVMsVUFBVSxLQUFLLFlBQVk7QUFDeEMsVUFBSSxLQUFLO0FBQVMsZUFBTyxLQUFLLFFBQVEsSUFBSTtBQUMxQyxhQUFPO0FBQUE7QUFBQSxFQUVYO0FBQUE7Ozs7QUNyQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLFNBQU8sVUFBVTtBQUFBLElBQ2I7QUFBQSxJQUFNO0FBQUEsSUFBTTtBQUFBLElBQU07QUFBQSxJQUVsQjtBQUFBLElBQU07QUFBQSxJQUFPO0FBQUEsSUFBTztBQUFBLElBQ3BCO0FBQUEsSUFBTTtBQUFBLElBQU87QUFBQSxJQUFPO0FB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UUFBVTtBQUFBLE1BQ1YsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1IsUUFBVTtBQUFBLE1BQ1YsUUFBVTtBQUFBLE1BQ1YsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1IsUUFBVTtBQUFBLE1BQ1YsUUFBVTtBQUFBLE1BQ1YsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsS0FBTztBQUFBLE1BQ1AsTUFBUTtBQUFBLE1BQ1IsUUFBVTtBQUFBLE1BQ1YsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1IsUUFBVTtBQUFBLE1BQ1YsUUFBVTtBQUFBLE1BQ1YsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsUUFBVTtBQUFBLE1BQ1YsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1IsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsS0FBTztBQUFBLE1BQ1AsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsS0FBTztBQUFBLE1BQ1AsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1IsS0FBTztBQUFBLE1BQ1AsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsS0FBTztBQUFBLE1BQ1AsS0FBTztBQUFBLE1BQ1AsTUFBUTtBQUFBLE1BQ1IsS0FBTztBQUFBLE1BQ1AsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsTUFBUTtBQUFBLE1BQ1IsUUFBVTtBQUFBLE1BQ1YsT0FBUztBQUFBLE1BQ1QsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsUUFBVTtBQUFBLE1BQ1YsUUFBVTtBQUFBLE1BQ1YsUUFBVTtBQUFBLE1BQ1YsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsU0FBVztBQUFBLE1BQ1gsTUFBUTtBQUFBLE1BQ1IsS0FBTztBQUFBLE1BQ1AsT0FBUztBQUFBLE1BQ1QsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsSUFBTTtBQUFBLE1BQ04sSUFBTTtBQUFBLE1BQ04sSUFBTTtBQUFBLE1BQ04sU0FBVztBQUFBLE1BQ1gsSUFBTTtBQUFBLE1BQ04sS0FBTztBQUFBLE1BQ1AsT0FBUztBQUFBLE1BQ1QsS0FBTztBQUFBLE1BQ1AsU0FBVztBQUFBLE1BQ1gsS0FBTztBQUFBLE1BQ1AsS0FBTztBQUFBLE1BQ1AsS0FBTztBQUFBLE1BQ1AsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsU0FBVztBQUFBLE1BQ1gsTUFBUTtBQUFBLE1BQ1IsS0FBTztBQUFBLE1BQ1AsT0FBUztBQUFBLE1BQ1QsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsSUFBTTtBQUFBLE1BQ04sSUFBTTtBQUFBLE1BQ04sSUFBTTtBQUFBLE1BQ04sU0FBVztBQUFBLE1BQ1gsSUFBTTtBQUFBLE1BQ04sS0FBTztBQUFBLE1BQ1AsUUFBVTtBQUFBLE1BQ1YsT0FBUztBQUFBLE1BQ1QsS0FBTztBQUFBLE1BQ1AsU0FBVztBQUFBLE1BQ1gsS0FBTztBQUFBLE1BQ1AsS0FBTztBQUFBLE1BQ1AsS0FBTztBQUFBLE1BQ1AsT0FBUztBQUFBLE1BQ1QsVUFBWTtBQUFBLE1BQ1osT0FBUztBQUFBLE1BQ1QsS0FBTztBQUFBLE1BQ1AsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1IsS0FBTztBQUFBLE1BQ1AsS0FBTztBQUFBLE1BQ1AsS0FBTztBQUFBLE1BQ1AsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1IsUUFBVTtBQUFBLE1BQ1YsUUFBVTtBQUFBLE1BQ1YsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsUUFBVTtBQUFBLE1BQ1YsT0FBUztBQUFBLE1BQ1QsT0FBUztBQUFBLE1BQ1QsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsU0FBVztBQUFBLE1BQ1gsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsT0FBUztBQUFBLE1BQ1QsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsTUFBUTtBQUFBLE1BQ1IsUUFBVTtBQUFBLE1BQ1YsTUFBUTtBQUFBLE1BQ1Is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RCxXQUFLLFFBQVEsU0FBUztBQUNwQixZQUFJLFNBQVMsUUFBUSxTQUFTLENBQUM7QUFDL0IsK0JBQTJCLE9BQU8sTUFBTSxPQUFPLE9BQU8sS0FBSyxLQUFLLENBQUM7QUFDakUsYUFBSztBQUFNLGlCQUFPO0FBQUEsTUFDcEI7QUFFQSxVQUFJLEtBQUssY0FBYyxRQUFRLElBQUksS0FBSztBQUN0QyxlQUFPLElBQUksTUFBTSxRQUFRLElBQUksSUFBSTtBQUVuQyxVQUFJLElBQUk7QUFBUSxnQkFBUSxJQUFJO0FBQzVCLFVBQUksSUFBSTtBQUFNLGdCQUFRLElBQUk7QUFFMUIsVUFBSSxRQUFRLFFBQVEsSUFBSSxLQUFLO0FBQzNCLGVBQU8sUUFBUSxJQUFJO0FBRXJCLFlBQU0sU0FBUyxRQUFRLFFBQVEsS0FBSyxRQUFRLEdBQUcsUUFBUSxVQUNuRCxLQUFLLFFBQVEsUUFBUSxHQUFHLElBQUksSUFDNUIsSUFBSSxJQUFJO0FBRVosVUFBWSxPQUFSO0FBQWEsY0FBTSxJQUFJLFFBQVEsT0FBTyxHQUFHO0FBRTdDLGFBQU8sSUFBSSxNQUFNLFFBQVEsVUFBVSxNQUFNLElBQUk7QUFBQTtBQUkvQyxhQUFTLFVBQVU7QUFDbkIsYUFBUyxNQUFNO0FBQ2YsV0FBTztBQUFBO0FBQUE7Ozs7QUNVVCxNQUFTLGlCQUFNLENBQUMsS0FBSyxTQUFTO0FBQzVCLFdBQU8sSUFBSSxTQUFTLEtBQUssT0FBTztBQUFBO0FBcEZsQztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFBSTtBQUFKLE1BQ0k7QUFESixNQUVJO0FBTUosWUFBVSxPQUFPLFVBQVU7QUFNM0IsVUFBUSw0QkFBZ0M7QUFNeEMsVUFBUSxRQUFRO0FBTWhCLFVBQVE7QUFNUixVQUFRO0FBTVIsVUFBUTtBQU1SLFVBQVE7QUFDUixVQUFRO0FBQ1IsVUFBUTtBQUNSLFVBQVE7QUFDUixVQUFRO0FBVVIsVUFBUTtBQVdSLFVBQVEsaUJBQWlCLENBQUMsS0FBSyxTQUFTLElBQUc7QUFDekMsZUFBeUIsV0FBckI7QUFBOEIsV0FBSyxTQUFTLFVBQVUsQ0FBQztBQUMzRCxXQUFPLElBQUksU0FBUyxLQUFLLE9BQU8sRUFBRSxPQUFPLEVBQUU7QUFBQTtBQW9CN0MsVUFBUTtBQUNSLFVBQVE7QUFBQTs7O0FDckdSO0FBRUEsSUFBZTsiLAogICJkZWJ1Z0lkIjogIkRBNzAxOTNFMjdGMDREOUY2NDc1NmUyMTY0NzU2ZTIxIiwKICAibmFtZXMiOiBbXQp9
