
use ../rndr
    
template t(a:string, b:string) = testCmp(a, render(a, true), b, instantiationInfo())

▸ class

    ▸ simple
    
        t "class A"  "type A = ref object"
        
    ▸ members
    
        t "class ABC\n a:int\n b:int\n c:int"            , "type ABC = ref object\n a: int\n b: int\n c: int"
        
        t   """
            class Tknzr
                tokens      : seq[Token]
                openStack   : seq[tok]
                token       : Token
                inStripol   : bool
                delimiter   : string
                segi        : int
                segs        : seq[string]
                line        : int
            """ """
            type Tknzr = ref object
                tokens: seq[Token]
                openStack: seq[tok]
                token: Token
                inStripol: bool
                delimiter: string
                segi: int
                segs: seq[string]
                line: int"""
                
    ▸ methods
    
        t   """
            class A
                m : int
                fun: -> 
                    m = 1
                inc: ◇int a1 ➜int ->
                    a1 + 1
            """ """
            type A = ref object
                m: int
            proc fun(this : A) = 
                    var m = 1
            proc inc(this : A, a1 : int) : int = 
                    (a1 + 1)"""

    ▸ this vars
    
        t   """
            class A
                m : int
                fun: -> 
                    @m = 1
            """ """
            type A = ref object
                m: int
            proc fun(this : A) = 
                    this.m = 1"""
        
        #     t   """
        #         class A
        #             m : int
        #             fun: -> 
        #                 @m = 1
        #             inc: ◇int a1 ➜int ->
        #                 @m += 1
        #         """ """
        #         type A = ref object
        #             m: int
        #         proc fun(this : A) = 
        #                 this.m = 1
        #         proc inc(this : A, a1 : int) : int = 
        #                 (this.m += 1)"""
        