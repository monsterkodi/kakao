###
0000000     0000000   00000 
000   000  000   000     000
000   000  000   000    000 
000   000  000   000   000  
0000000     0000000   000000
###

use ../editor ◆ Do2

▸ Do2

    # 000      000  000   000  00000000   0000000  
    # 000      000  0000  000  000       000       
    # 000      000  000 0 000  0000000   0000000   
    # 000      000  000  0000  000            000  
    # 0000000  000  000   000  00000000  0000000   
    
    ▸ setLines
    
        text  = "hello\nworld"
        lines = text.split '\n'
    
        doo = new Do2
        doo.setLines lines
        doo.lines() ▸ lines
        doo.text()  ▸ text

    # 000  000   000   0000000  00000000  00000000   000000000  
    # 000  0000  000  000       000       000   000     000     
    # 000  000 0 000  0000000   0000000   0000000       000     
    # 000  000  0000       000  000       000   000     000     
    # 000  000   000  0000000   00000000  000   000     000     
    
    ▸ insert
    
        doo.insert 1 'beautiful'
        doo.lines() ▸ ['hello''beautiful''world']

        doo.insert 3 '!'
        doo.lines() ▸ ['hello''beautiful''world''!']

        doo.insert 666 '?'
        doo.lines() ▸ ['hello''beautiful''world''!']

        doo.insert -666 '▴'
        doo.lines() ▸ ['hello''beautiful''world''!']
        
    # 0000000    00000000  000      00000000  000000000  00000000  
    # 000   000  000       000      000          000     000       
    # 000   000  0000000   000      0000000      000     0000000   
    # 000   000  000       000      000          000     000       
    # 0000000    00000000  0000000  00000000     000     00000000  
    
    ▸ delete
    
        doo = new Do2 lines
    
        doo.delete 0
        doo.lines() ▸ ['world']
        
        doo.delete 1
        doo.lines() ▸ ['world']

        doo.delete -2
        doo.lines() ▸ ['world']
        
        doo.delete -1
        doo.lines() ▸ []
        
    #  0000000  000   000   0000000   000   000   0000000   00000000  
    # 000       000   000  000   000  0000  000  000        000       
    # 000       000000000  000000000  000 0 000  000  0000  0000000   
    # 000       000   000  000   000  000  0000  000   000  000       
    #  0000000  000   000  000   000  000   000   0000000   00000000  
    
    ▸ change

        doo = new Do2 ['hello''world''○']
    
        doo.change 2 '~'
        doo.lines() ▸ ['hello''world''~']
        
        doo.change -1 '!!'
        doo.lines() ▸ ['hello''world''!!']

        doo.change -3 'hi'
        doo.lines() ▸ ['hi''world''!!']

        doo.change -5 'blork'
        doo.lines() ▸ ['hi''world''!!']

        doo.change 666 'blark'
        doo.lines() ▸ ['hi''world''!!']
        
    # 000   000  000   000  0000000     0000000   
    # 000   000  0000  000  000   000  000   000  
    # 000   000  000 0 000  000   000  000   000  
    # 000   000  000  0000  000   000  000   000  
    #  0000000   000   000  0000000     0000000   
    
    ▸ undo
    
        doo = new Do2 ['a''b''c']
        
        doo.start()
        doo.insert 1 'd'
        doo.change 2 'C'
        doo.end()
        
        doo.lines() ▸ ['a''d''C''c']
        doo.undo()
        doo.lines() ▸ ['a''b''c']

        doo.undo()
        doo.lines() ▸ ['a''b''c']
        
    # 00000000   00000000  0000000     0000000   
    # 000   000  000       000   000  000   000  
    # 0000000    0000000   000   000  000   000  
    # 000   000  000       000   000  000   000  
    # 000   000  00000000  0000000     0000000   
    
    ▸ redo
    
        doo.lines() ▸ ['a''b''c']
        doo.redo()  
        doo.lines()▸ ['a''d''C''c']
        doo.redo()  
        doo.lines()▸ ['a''d''C''c']
        doo.redo()  
        doo.lines()▸ ['a''d''C''c']
        
        