###
000000000  00000000   0000000  000000000          000   000   0000000  00000000   0000000   
   000     000       000          000             000  000   000       000       000        
   000     0000000   0000000      000             0000000    0000000   0000000   000  0000  
   000     000            000     000             000  000        000  000       000   000  
   000     00000000  0000000      000     000000  000   000  0000000   00000000   0000000   
###

use .. ◆ kstr kseg

▸ kseg

    hello = """
        hello
        world
        """
        
    ▸ kseg
    
        kseg hello ▸ ['h' 'e' 'l' 'l' 'o' '\n' 'w' 'o' 'r' 'l' 'd']
        
    ▸ segls
    
        kseg.segls hello ▸ [['h' 'e' 'l' 'l' 'o'] ['w' 'o' 'r' 'l' 'd']]
        kseg.segls kseg.segls(hello) ▸ [['h' 'e' 'l' 'l' 'o'] ['w' 'o' 'r' 'l' 'd']]
        kseg.segls """
            aaa
            
            bbb
            """ ▸ [['a' 'a' 'a'] [] ['b' 'b' 'b']]
            
    ▸ str
    
        kseg.str kseg('hello') ▸ 'hello'
        kseg.str kseg('hello\world') ▸ 'hello\world'
        kseg.str kseg.segls(hello) ▸ hello
        
    ▸ join
        
        kseg.join 'hello' '!' '?'   ▸ kseg 'hello!?'
        kseg.join kseg('hello') '!' ▸ kseg 'hello!'
        kseg.join 'hello' kseg('!') ▸ kseg 'hello!'
        kseg.join kseg.segls('hello') kseg.segls('world') ▸ kseg.segls("hello\nworld")
        kseg.join kseg.segls('hello') kseg('world') ▸ kseg.segls('hello').concat kseg('world') # attention! result is mixed for mixed input!
    
    ▸ lines
        
        kseg.lines ''    ▸ lines:['']   segls:[[]]
        kseg.lines ' '   ▸ lines:[' ']  segls:[[' ']]
        kseg.lines 'a'   ▸ lines:['a']  segls:[['a']]
        kseg.lines hello ▸ lines:kstr.lines(hello) segls:[kseg('hello') kseg('world')]

    ▸ detab
    
        kseg.detab(kseg("ta\tb\tb\ty")) ▸ kseg("ta  b   b   y")
    
    ▸ chunks
    
        kseg.chunks 'a' ▸ [index:0 segl:['a']]
        kseg.chunks 'ab\ncd' ▸ [{index:0 segl:['a' 'b']}, {index:3 segl:['c' 'd']}]
        
    ▸ startsWith
    
        kseg.startsWith kseg('something') 'some' ▸ true
        kseg.startsWith kseg('something') 'Some' ▸ false
        kseg.startsWith kseg('something') 'son'  ▸ false
        
    ▸ splitAtIndent
    
        kseg.splitAtIndent kseg('something') ▸ [kseg('') kseg('something')]
        kseg.splitAtIndent kseg('  some')    ▸ [kseg('  ') kseg('some')]
        kseg.splitAtIndent kseg('    more')  ▸ [kseg('    ') kseg('more')]
        
    ▸ repeat
    
        kseg.repeat 4      ▸ kseg "    "
        kseg.repeat 4 '*'  ▸ kseg "****"
        kseg.repeat 2 '◂▸' ▸ kseg "◂▸◂▸"
        
    ▸ width 
    
        kseg.width null          ▸ 0
        kseg.width undefined     ▸ 0
        kseg.width ''            ▸ 0
        kseg.width []            ▸ 0
        kseg.width {}            ▸ 0
    
        kseg.width ' '           ▸ 1
        kseg.width 'a'           ▸ 1
        kseg.width '💀'          ▸ 2
        kseg.width '🔥'          ▸ 2
        kseg.width '💩'          ▸ 2
        kseg.width '🔨'          ▸ 2
        kseg.width '🔧'          ▸ 2
        kseg.width '🔨🔧'        ▸ 4
        kseg.width '字'          ▸ 2
        kseg.width '的'          ▸ 2
        kseg.width '块'          ▸ 2
        kseg.width '模'          ▸ 2
        kseg.width '字的模块'    ▸ 8
        kseg.width '🌾'          ▸ 2
        kseg.width '👁'           ▸ 1
        kseg.width '🖌'           ▸ 1
        kseg.width '🖍'           ▸ 1
        kseg.width '🛠'           ▸ 1
        kseg.width '🧑‍🌾'          ▸ 2
        kseg.width '🧑'          ▸ 2
        
        kseg.width kseg("hello world") ▸ 11
        
    ▸ headCount
    
        kseg.headCount '***xx***' '*' ▸ 3
        kseg.headCount kseg('***xx***') '*' ▸ 3
        
    ▸ tailCount
    
        kseg.tailCount '***xx***' '*' ▸ 3
        kseg.tailCount kseg('***xx***') '*' ▸ 3
        
    ▸ numIndent
    
        kseg.numIndent 'a' ▸ 0
        kseg.numIndent kseg('a') ▸ 0
        kseg.numIndent '   b' ▸ 3
        kseg.numIndent kseg('   ') ▸ 3
        
    ▸ trim
    
        kseg.trim ' ' ▸ kseg ''
    
        
        